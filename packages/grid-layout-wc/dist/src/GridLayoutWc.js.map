{"version":3,"file":"GridLayoutWc.js","sourceRoot":"","sources":["../../src/GridLayoutWc.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css, LitElement } from 'lit';\r\nimport { property, state } from 'lit/decorators.js';\r\ninterface ItemData {\r\n  x: number;\r\n  y: number;\r\n  w: number;\r\n  h: number;\r\n}\r\ninterface GridItemStyleTyoe { left: number; top: number; width: number; height: number }\r\ntype CSSType = {\r\n  borderWidth?:string;\r\n  borderColor?:string;\r\n  borderStyle?:string;\r\n  backgroundColor?:string;\r\n  borderRadius?:string;\r\n}\r\ninterface GridItemData extends ItemData {\r\n  id: number;\r\n  z: number;\r\n  selected?: boolean;\r\n  dataSource?: any;\r\n  time?: number;\r\n  title?: string;\r\n  float?: boolean;\r\n  slot?: string;\r\n  style?: GridItemStyleTyoe\r\n  userStyle?:CSSType\r\n}\r\ntype HtmlPosition = {\r\n  left: number;\r\n  top: number;\r\n}\r\ntype GridPosition = {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nconst DRAG_ID = 100000;\r\n\r\nexport class GridLayoutWc extends LitElement {\r\n  @state() RenderIndex: number = 0; //这个属性改动，页面才会render\r\n  static stylemap:CSSType = { borderWidth:'1', borderColor:'', borderStyle:'', backgroundColor:'' };\r\n  @property({ type: Number }) griddingWidth = 10;\r\n  @property({ type: Number }) gridMargin = 1;\r\n  @property({ type: Boolean }) edit = false;\r\n  @property({ type: Array }) layoutData: GridItemData[] = [];\r\n  @property({ type: Boolean }) hideToolbar = false;\r\n  oldLayoutData:string = \"\";\r\n  styleMapEditing:boolean = false;\r\n  dragData = { x: 0, y: 0, w: 60, h: 60, z: 0, id: DRAG_ID };\r\n  draggIng: boolean = false;\r\n  // stageHeight: number = 0;\r\n  stageWidth: number = 1000;\r\n\r\n  /** resize相关 */\r\n  resizeFixPosition: any = { top: 0, left: 0 };\r\n  resizeingPosition: any = { top: 0, left: 0 };\r\n  resizeFixGridItemData:GridItemData|null = null;\r\n  curResizingGridItemData: any | null = null;\r\n  \r\n  dataStore: any[] = [];\r\n  dataStoreIndex: number = 0;\r\n  curMovingGridItemData: any | null = null;\r\n  movePosition: HtmlPosition = { left: 0, top: 0 };\r\n  fixPosition: HtmlPosition = { left: 0, top: 0 };\r\n  oldPosition: HtmlPosition = { left: 0, top: 0 };\r\n  transition: boolean = false;\r\n  reRender(){\r\n    this.RenderIndex ++;\r\n  }\r\n  drawDragDataHtml() {\r\n    return html`<div class=\"grid-item drag\" drag=\"${true}\" style=\"${this.getGridItemStyle(this.dragData)}\"></div>`\r\n  }\r\n  constructor() {\r\n    super();\r\n  }\r\n  //查找GridItem\r\n  findGridItemData = (id: any): GridItemData | undefined => {\r\n    return this.layoutData.find((item: GridItemData) => item.id === id);\r\n  }\r\n  //add\r\n  addGridItem() {\r\n    const w = 30;\r\n    const h = 12;\r\n    let { x, y } = this.getEmptyBound(w, h);\r\n    let time = new Date().getTime();\r\n    const item: GridItemData = { x, y, w, h, z: 0, id: time, slot:\"slot_\"+ time.toString(), title: time.toString() };\r\n    this.layoutData.push(item);\r\n    this.reRender();\r\n    this.saveCurLayout();\r\n  }\r\n  /**\r\n   * 获取空间的位置\r\n   * @param w \r\n   * @param h \r\n   * @returns { x, y }\r\n   */\r\n  getEmptyBound(w: number, h: number) {\r\n\r\n    this.stageWidth = this.getBoundingClientRect().width;\r\n    let x = this.gridMargin, y = this.gridMargin;\r\n    let item = this.findBigestOverlapItem(this.layoutData, x, y, w, h);\r\n    while (item) {\r\n      x = item.x + item.w + this.gridMargin;\r\n      if ((x + this.gridMargin) * this.griddingWidth + w * this.griddingWidth > this.stageWidth) {\r\n        y += this.gridMargin;\r\n        x = this.gridMargin;\r\n      }\r\n      item = this.findBigestOverlapItem(this.layoutData, x, y, w, h);\r\n    }\r\n    return { x, y };\r\n  }\r\n  /**\r\n   * 查找存在的最大的重叠交叉项\r\n   * */\r\n  findBigestOverlapItem = (dataList:GridItemData[],x: number, y: number, w: number, h: number, exceptIds?: any[]): GridItemData | undefined => {\r\n    const list = this.findOverlapItem(dataList,x, y, w, h, exceptIds);\r\n    let BigestOverlapArea = -99999999999; //最大的重叠交叉面积\r\n    let BigestOverlapItem: any = undefined;\r\n    list.forEach((item: any) => {\r\n      let curItemX = item.x;\r\n      let curItemY = item.y;\r\n      let curItemW = item.w;\r\n      let curItemH = item.h;\r\n      // if (this.curActiveGridItem && this.curActiveGridItem.id === item.id && this.dragData) {\r\n      //   curItemX = this.dragData.x;\r\n      //   curItemY = this.dragData.y;\r\n      //   curItemW = this.dragData.w;\r\n      //   curItemH = this.dragData.h;\r\n      // }\r\n      const overX1 = Math.max(x, curItemX);\r\n      const overX2 = Math.min(x + w, curItemX + curItemW);\r\n      const overW = overX2 - overX1;\r\n      const overY1 = Math.max(y, curItemY);\r\n      const overY2 = Math.min(y + h, curItemY + curItemH);\r\n      const overH = overY2 - overY1;\r\n      const overArea = overH * overW;\r\n      if (overArea > BigestOverlapArea) {\r\n        BigestOverlapArea = overArea;\r\n        BigestOverlapItem = item;\r\n      }\r\n    });\r\n\r\n    return BigestOverlapItem;\r\n  }\r\n  /**\r\n   * 获取交叉的GridItem 列表\r\n   * @param x x\r\n   * @param y y\r\n   * @param w w\r\n   * @param h h\r\n   * @param exceptIds 排序的id\r\n   * @returns 交叉的GridItem 列表\r\n   */\r\n  findOverlapItem = (dataList:GridItemData[],x: number, y: number, w: number, h: number, exceptIds?: any[], overCount:number = 0): GridItemData[] => {\r\n   \r\n    const list: GridItemData[] = [];\r\n    let data = dataList.filter((item: any) => !item.float);\r\n    if(this.curActiveGridItem && this.dragData ) {\r\n      if(!data.find(item => item.id ===this.dragData.id)){\r\n        data = [...data,this.dragData]\r\n      }\r\n      \r\n    }\r\n    for (let i = 0; i < data.length; i++) {\r\n      let item = data[i];\r\n      if (exceptIds && exceptIds.indexOf(item.id) >= 0) {\r\n        continue;\r\n      }\r\n      let curItemX = item.x;\r\n      let curItemY = item.y;\r\n      let curItemW = item.w;\r\n      let curItemH = item.h;\r\n      let x1 = Math.min(curItemX, x);\r\n      let x2 = Math.max(curItemX + curItemW, x + w);\r\n\r\n\r\n      let y1 = Math.min(curItemY, y);\r\n      let y2 = Math.max(curItemY + curItemH, y + h);\r\n\r\n      //是否存在交叉的算法\r\n      if (((x2 - x1) - (curItemW + w) + overCount) < this.gridMargin &&\r\n        ((y2 - y1) - (curItemH + h) + overCount) < this.gridMargin ) {\r\n        list.push(item);\r\n      }\r\n    }\r\n    return list;\r\n  }\r\n  /**\r\n   * Resize start\r\n   * @param event MouseEvent\r\n   */\r\n  gridItemResizeStart(event: MouseEvent) {\r\n    if (!this.edit) return;\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    const index = this.getGridItemIndex(event.currentTarget);\r\n    this.curResizingGridItemData = this.layoutData[index];\r\n    this.resizeFixGridItemData = {...this.layoutData[index]};\r\n    this.resizeFixPosition.left = event.clientX;\r\n    this.resizeFixPosition.top = event.clientY;\r\n    this.resizeingPosition.left = event.clientX;\r\n    this.resizeingPosition.top = event.clientY;\r\n    this.transition = true;\r\n    this.reRender();\r\n    document.body.setAttribute(\"onselectstart\", \"return false\");\r\n    document.body.style.cursor = \"se-resize\";\r\n\r\n    const mouseMove = (event: MouseEvent) => {\r\n      this.gridItemResizeing(event)\r\n    }\r\n    let { x, y, w, h, id } = this.curResizingGridItemData;\r\n    this.dragData.x = x;\r\n    this.dragData.y = y;\r\n    this.dragData.w = w;\r\n    this.dragData.h = h;\r\n\r\n    const mouseup = () => {\r\n      document.body.removeAttribute(\"onselectstart\");\r\n      document.body.style.cursor = \"\";\r\n      this.gridItemResizeEnd();\r\n      window.removeEventListener(\"mousemove\", mouseMove);\r\n      window.removeEventListener(\"mouseup\", mouseup);\r\n    }\r\n    window.addEventListener(\"mousemove\", mouseMove);\r\n    window.addEventListener(\"mouseup\", mouseup);\r\n  }\r\n  /**\r\n   * resizeing\r\n   * @param event \r\n   */\r\n  gridItemResizeing(event: any) {\r\n    if (!this.edit) return;\r\n    this.resizeingPosition.left = event.clientX;\r\n    this.resizeingPosition.top = event.clientY;\r\n    if(!this.resizeFixGridItemData) return;\r\n    let w = this.resizeFixGridItemData?.w + Math.round((this.resizeingPosition.left - this.resizeFixPosition.left) / this.griddingWidth);\r\n    let h = this.resizeFixGridItemData?.h + Math.round((this.resizeingPosition.top - this.resizeFixPosition.top) / this.griddingWidth);\r\n    let x = this.resizeFixGridItemData?.x;\r\n    let y = this.resizeFixGridItemData?.y;\r\n    let z = this.resizeFixGridItemData?.z;\r\n\r\n    if (this.curResizingGridItemData.float) {\r\n      this.draggIng = true;\r\n      this.dragData.x = x;\r\n      this.dragData.y = y;\r\n      this.dragData.w = w;\r\n      this.dragData.h = h;\r\n      this.dragData.z = z;\r\n      this.curResizingGridItemData.style = { width:w * this.griddingWidth, height:h* this.griddingWidth, left: x * this.griddingWidth, top: y * this.griddingWidth };\r\n      this.reRender();\r\n      return;\r\n    }\r\n    let height = this.resizeFixGridItemData.h * this.griddingWidth + (this.resizeingPosition.top - this.resizeFixPosition.top)\r\n    let width = this.resizeFixGridItemData.w * this.griddingWidth + (this.resizeingPosition.left - this.resizeFixPosition.left);\r\n    if (width > this.stageWidth - x * this.griddingWidth) {\r\n      width = this.stageWidth - x * this.griddingWidth;\r\n    }\r\n    this.curResizingGridItemData.style = { width, height, left: x * this.griddingWidth, top: y * this.griddingWidth };\r\n    \r\n    /** 不允许超出griddingWidth */\r\n    w = w * this.griddingWidth <= this.stageWidth - (x + this.gridMargin) * this.griddingWidth ?\r\n      w : Math.floor(this.stageWidth / this.griddingWidth) - x - this.gridMargin;\r\n    \r\n    w = w < 8 ? 8 : w;\r\n    h = h < 3 ? 3 : h;\r\n    this.draggIng = true;\r\n    this.dragData.x = x;\r\n    this.dragData.y = y;\r\n    this.dragData.w = w;\r\n    this.dragData.h = h;\r\n    this.rearrangement();\r\n    this.reRender();\r\n  }\r\n  /**\r\n   * Resize end\r\n   */\r\n  gridItemResizeEnd() {\r\n    if (!this.edit) return;\r\n    this.draggIng = false;\r\n    let { x, y, w, h } = this.dragData;\r\n    this.curResizingGridItemData.x = x;\r\n    this.curResizingGridItemData.y = y;\r\n    this.curResizingGridItemData.w = w;\r\n    this.curResizingGridItemData.h = h;\r\n    delete this.curResizingGridItemData.style;\r\n    this.curResizingGridItemData = null;\r\n    this.rearrangement();\r\n    this.transition = false;\r\n    this.reRender();\r\n    this.saveCurLayout();\r\n  }\r\n  /**\r\n   * ItemStyle事件\r\n   * @param data GridItemData\r\n   * @returns \r\n   */\r\n  getGridItemStyle(data: GridItemData) {\r\n    const ActiveZindex = 10000;\r\n    const DragZInxex = 9999;\r\n    const FloatZindex = 100000;\r\n    const css:string[] =[];\r\n    if(data.userStyle){\r\n      const attr:string[] = [];\r\n      if(data.userStyle.borderWidth) attr.push(`border-width:${data.userStyle.borderWidth}px;`);\r\n      if(data.userStyle.borderStyle) attr.push(`border-style:${data.userStyle.borderStyle};`);\r\n      if(data.userStyle.borderColor) attr.push(`border-color:${data.userStyle.borderColor};`);\r\n      if(data.userStyle.borderRadius) attr.push(`border-radius:${data.userStyle.borderRadius}px;`);\r\n      if(data.userStyle.backgroundColor) attr.push(`background-color:${data.userStyle.backgroundColor};`);\r\n      css.push(`\r\n        ${attr.join('')}\r\n      `)\r\n    }\r\n    if (data.style) {\r\n      css.push(`\r\n      transition:none;\r\n      left:${data.style.left}px;\r\n      top:${data.style.top}px;\r\n      z-index:${data.float ? FloatZindex + (data.z || 0) : ActiveZindex};\r\n      width:${data.style.width}px; \r\n      height:${data.style.height}px`)\r\n      return css.join('');\r\n    }\r\n    const style = { left: data.x * this.griddingWidth, top: data.y * this.griddingWidth, width: data.w * this.griddingWidth, height: data.h * this.griddingWidth };\r\n    let zIndex = data.z || 0;\r\n    if (data.id === DRAG_ID) zIndex = DragZInxex;\r\n    if (data.float) zIndex = FloatZindex + (data.z || 0);\r\n\r\n    css.push(`\r\n      left:${style.left}px;\r\n      top:${style.top}px;\r\n      z-index:${zIndex};\r\n      width:${style.width}px; \r\n      height:${style.height}px;`\r\n    );\r\n    \r\n    return css.join('');\r\n  }\r\n  /** 保存Layout */\r\n  saveCurLayout() {\r\n    let jsonstr = JSON.stringify(this.layoutData);\r\n    let json = JSON.stringify(JSON.parse(jsonstr).map((item:any) => {\r\n      delete item.time;\r\n      delete item.selected;\r\n      return item;\r\n    }));\r\n    if (json != this.dataStore[this.dataStoreIndex]) {\r\n        this.dataStoreIndex++;\r\n        this.dataStore[this.dataStoreIndex] = json;\r\n    }\r\n  }\r\n  animateGridItem(item:GridItemData,w:number=3,h:number=2) {\r\n    return new Promise(resolve => {\r\n      const minusW = (item.w - w) / 5;\r\n      const minusH = (item.h - h) / 5;\r\n      const animate = ()=> {\r\n        item.w -= minusW;\r\n        item.h -= minusH;\r\n        if(item.w < w){\r\n          item.w = w;\r\n        }\r\n        if(item.h < h){\r\n          item.h = h;\r\n        }\r\n        this.rearrangement();\r\n        this.reRender();\r\n        if(item.w > w || item.h > h){\r\n          window.requestAnimationFrame(()=>{animate()})\r\n        } else {\r\n          resolve(null);\r\n        }\r\n        \r\n      }\r\n      animate();\r\n    })\r\n   \r\n  }\r\n  /** 移除GridItem */\r\n  async gridItemClose(event: PointerEvent) {\r\n    const index = this.getGridItemIndex(event.currentTarget);\r\n    const item:GridItemData = this.layoutData[index]\r\n\r\n    await this.animateGridItem(item,3,3);\r\n    this.layoutData.splice(index,1);\r\n    // this.layoutData = [...this.layoutData]\r\n    this.transition = false;\r\n    this.rearrangement();\r\n    this.reRender();\r\n  }\r\n  getGridItemIndex(target: any) {\r\n    const grid: HTMLElement | null = target?.closest('.grid-item') || null;\r\n    return Number(grid?.dataset.index || '0');\r\n  }\r\n  getGridItem(target: any) {\r\n    const index = this.getGridItemIndex(target);\r\n    return this.layoutData[index];\r\n  }\r\n  /**\r\n   * 拖拽开始\r\n   * @param event PointerEvent\r\n   * @returns void\r\n   */\r\n  gridItemDragstart(event: PointerEvent) {\r\n    if (!this.edit) return;\r\n    const target: any = event?.target;\r\n    if (target?.closest('.grid-item-close')) {\r\n      this.styleMapEditing = false;\r\n      this.gridItemClose(event);\r\n      return;\r\n    }\r\n    if (target?.closest('.set-float')) {\r\n      this.gridItemFloat(event);\r\n      return;\r\n    }\r\n\r\n    event.preventDefault();\r\n    const grid = this.getGridItem(event.currentTarget);\r\n    if(this.curSelectGridItem && this.curSelectGridItem.id !== grid.id){\r\n      this.styleMapEditing = false;\r\n    }\r\n    this.curMovingGridItemData = grid;\r\n    if (!this.curMovingGridItemData) return;\r\n    const { w, h, x, y, id } = this.curMovingGridItemData;\r\n    this.movePosition = {\r\n      left: this.curMovingGridItemData.x * this.griddingWidth,\r\n      top: this.curMovingGridItemData.y * this.griddingWidth\r\n    };\r\n    this.fixPosition.left = event.clientX;\r\n    this.fixPosition.top = event.clientY;\r\n    this.oldPosition.left = this.movePosition.left;\r\n    this.oldPosition.top = this.movePosition.top;\r\n    this.layoutData.forEach((item) => { if (item.id !== this.curMovingGridItemData.id) delete item.selected });\r\n    this.curMovingGridItemData.selected = true;\r\n    this.dragData.w = w;\r\n    this.dragData.h = h;\r\n    this.dragData.x = x;\r\n    this.dragData.y = y;\r\n    this.transition = true;\r\n    this.oldLayoutData = JSON.stringify(this.layoutData);\r\n    this.reRender();\r\n    const onDragging: any = (event: PointerEvent) => {\r\n      if(!this.curMovingGridItemData) return;\r\n      this.curMovingGridItemData.selected = true;\r\n      this.movePosition.left = this.oldPosition.left + (event.clientX - this.fixPosition.left);\r\n      this.movePosition.top = this.oldPosition.top + (event.clientY - this.fixPosition.top);\r\n\r\n      if (!this.edit) return;\r\n      this.draggIng = true;\r\n\r\n      const { w, h, id } = this.curMovingGridItemData;\r\n      this.dragData.w = w;\r\n      this.dragData.h = h;\r\n\r\n      let height = this.curMovingGridItemData.h * this.griddingWidth;\r\n      let width = this.curMovingGridItemData.w * this.griddingWidth;\r\n\r\n      this.curMovingGridItemData.style = { width, height, left: this.movePosition.left, top: this.movePosition.top }\r\n      const { x, y } = this.calcNearPosition(this.movePosition.left, this.movePosition.top);\r\n      if (this.curMovingGridItemData.float) {\r\n        this.dragData.x = x;\r\n        this.dragData.y = y;\r\n        this.reRender();\r\n        return;\r\n      }\r\n      const newPos = this.getNearEmptyPosition({ x, y, w, h, id: 0, z: 0 });\r\n      if (newPos) {\r\n        this.dragData.x = newPos.x;\r\n        this.dragData.y = newPos.y;\r\n      }\r\n      this.rearrangement();\r\n      this.reRender();\r\n    };\r\n    const onDragEnd: any = () => {\r\n      if (!this.edit) return;\r\n      this.draggIng = false;\r\n      if(!this.curMovingGridItemData) return;\r\n      delete this.curMovingGridItemData.style\r\n      this.curMovingGridItemData.x = this.dragData.x;\r\n      this.curMovingGridItemData.y = this.dragData.y;\r\n      this.curMovingGridItemData.time = new Date().getTime();\r\n      this.curMovingGridItemData = null;\r\n      this.transition = false;\r\n      this.oldLayoutData = \"\";\r\n      this.reRender();\r\n      this.saveCurLayout();\r\n      document.body.removeAttribute(\"onselectstart\");\r\n      window.removeEventListener(\"mousemove\", onDragging);\r\n      window.removeEventListener(\"mouseup\", onDragEnd);\r\n    }\r\n    document.body.setAttribute(\"onselectstart\", \"return false\");\r\n    window.addEventListener(\"mousemove\", onDragging);\r\n    window.addEventListener(\"mouseup\", onDragEnd);\r\n  }\r\n  /**\r\n   * 转换成的GidPosition\r\n   * @param left style.left\r\n   * @param top style.top\r\n   * @returns {x,y}\r\n   */\r\n  calcNearPosition = (left: number, top: number): GridPosition => {\r\n    let x = Math.round(left / this.griddingWidth);\r\n    let y = Math.round(top / this.griddingWidth);\r\n    return { x, y };\r\n  }\r\n\r\n  /**\r\n   * 获取最近的空间\r\n   * @param grid :GridItemData\r\n   * @returns {x,y}\r\n   */\r\n  getNearEmptyPosition(grid: GridItemData) {\r\n    const overMax = 10;\r\n    let { x,y,w,h} = grid;\r\n    if(y < this.gridMargin) y = this.gridMargin;\r\n    if(x < this.gridMargin) x = this.gridMargin;\r\n    x = x < this.gridMargin ? this.gridMargin : x;\r\n    x = (x + w + this.gridMargin) > Math.floor(this.stageWidth / this.griddingWidth) ?\r\n      Math.floor(this.stageWidth / this.griddingWidth) - this.gridMargin - w : x;\r\n    const overList = this.findOverlapItem(this.layoutData,x,y,w,h,[this.dragData.id,this.curActiveGridItem.id]);\r\n    overList.forEach( overItem => {\r\n      let overW = w + overItem.w - (Math.max(x + w , overItem.x + overItem.w) - Math.min(x , overItem.x));\r\n      let overH = h + overItem.h - (Math.max(y + h , overItem.y + overItem.h) - Math.min(y , overItem.y));\r\n      if( overH < overW){\r\n        if( overH < overMax && overH < overItem.h && overH < h) {\r\n          if(y < overItem.y)  y = overItem.y - h - this.gridMargin;\r\n          else y = overItem.y + overItem.h + this.gridMargin ;\r\n        }\r\n      }else {\r\n        if( overW < overMax && overW < overItem.w && overW < w) {\r\n          if(x < overItem.x)  x = overItem.x - w - this.gridMargin;\r\n          else return x =overItem.x + overItem.w + this.gridMargin;\r\n        }\r\n      }\r\n    });\r\n    return { x, y };\r\n  }\r\n\r\n  /**\r\n   * 返回 上次的layout\r\n   * @returns JSON\r\n   */\r\n  getBackLayout = () => {\r\n    this.dataStoreIndex--;\r\n    return this.dataStore[this.dataStoreIndex]\r\n  }\r\n  /**\r\n   * 打开上次的保存layout\r\n   */\r\n  backLayout = () => {\r\n    const data = this.getBackLayout();\r\n    if (data) {\r\n      this.layoutData = JSON.parse(data);\r\n    }\r\n  }\r\n  /** 下一个layout */\r\n  getForwardLayout = () => {\r\n    this.dataStoreIndex = this.dataStore.length - 1 > this.dataStoreIndex ? this.dataStoreIndex + 1 : this.dataStore.length - 1;\r\n    return this.dataStore[this.dataStoreIndex]\r\n  }\r\n  /** 打开下一步的layout */\r\n  forwardLayout = () => {\r\n    const data = this.getForwardLayout();\r\n    if (data) {\r\n      this.layoutData = JSON.parse(data);\r\n    }\r\n  }\r\n  //关闭事件\r\n  close = () => {\r\n    const emit: any = new Event('close');\r\n    emit.detail = this.layoutData;\r\n    this.dispatchEvent(emit);\r\n  }\r\n  save = () => {\r\n    const emit: any = new Event('save');\r\n    emit.detail = this.layoutData;\r\n    this.dispatchEvent(emit);\r\n  }\r\n  //浮动事件\r\n  gridItemFloat = (event: PointerEvent) => {\r\n    const gridItem: GridItemData = this.getGridItem(event?.currentTarget);\r\n    if (gridItem) {\r\n      gridItem.float = !gridItem.float;\r\n      let z = 0;\r\n      this.layoutData.filter(item => item.float).forEach(item => { z = z < item.z ? item.z : z});\r\n      if(gridItem.float){\r\n        \r\n        gridItem.z = z + 1;\r\n      }else {\r\n        gridItem.z = 0;\r\n      }\r\n    }\r\n    this.reRender();\r\n  }\r\n  //GridLayout的点击事件\r\n  onGridLayoutClick(event: any) {\r\n    if (event?.target?.closest(\".toolbar\")) return;\r\n    if (event?.target?.closest(\".grid-item\")) return;\r\n    if (event?.target?.closest(\"[slot]\")) return;\r\n    this.layoutData.forEach((item) => { delete item.selected });\r\n    this.styleMapEditing = false;\r\n    this.reRender();\r\n  }\r\n\r\n  //获取GridItem的TOP y座标\r\n  getGridItemTopY(dataList:GridItemData[], grid: ItemData,exceptIds:any[]) {\r\n    let { x, h, w, y } = grid;\r\n    let item: any = this.findBigestOverlapItem(dataList,x, y - this.gridMargin, w, h, exceptIds);\r\n    while (!item) {\r\n      y = y - this.gridMargin;\r\n      if (y <= this.gridMargin) {\r\n        y = this.gridMargin;\r\n        return { x, y }\r\n      }\r\n      item = this.findBigestOverlapItem(dataList,x, y - this.gridMargin, w, h, exceptIds);\r\n    }\r\n    return { x, y };\r\n  }\r\n  //计算交叉点\r\n  calcOverArea(data1: ItemData, data2: ItemData) {\r\n    const overX1 = Math.max(data1.x, data2.x);\r\n    const overX2 = Math.min(data1.x + data1.w, data2.x + data2.w);\r\n    const overW = overX2 - overX1;\r\n    const overY1 = Math.max(data1.y, data2.y);\r\n    const overY2 = Math.min(data1.y + data1.h, data2.y + data1.h);\r\n    const overH = overY2 - overY1;\r\n    const overArea = overH * overW;\r\n    return overArea;\r\n  }\r\n  changeInput(attr: \"borderStyle\" | \"borderColor\" | \"borderWidth\" | \"backgroundColor\" | \"borderRadius\", e:any){\r\n    if(this.curSelectGridItemUserStyle){\r\n      this.curSelectGridItemUserStyle[attr] = e.currentTarget.value;\r\n      this.reRender();\r\n    }\r\n  }\r\n  //排序上面有空白的地方\r\n  sortTopSpace(list:GridItemData[]) {\r\n    let maxWidth = Math.round(this.stageWidth / this.griddingWidth);\r\n    let maxHeight = Math.round(this.stageHeight / this.griddingWidth);\r\n\r\n    for(let sx = this.gridMargin; sx < maxWidth; sx += this.griddingWidth){\r\n      for(let sy = this.gridMargin; sy < maxHeight; sy += this.griddingWidth){\r\n        let w = this.griddingWidth;\r\n        let h = this.griddingWidth;\r\n        let item = this.findBigestOverlapItem(list, sx, sy, w, h, [this.curActiveGridItem?.id]);\r\n        if(item) {\r\n          let {x,y} = this.getGridItemTopY(list,item,[this.curActiveGridItem?.id,item.id]);\r\n          item.x = x;\r\n          item.y = y;\r\n          sy = item.y + item.h;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  //排序底部重叠的地方\r\n  sortBottomOver(list:GridItemData[]) {\r\n   \r\n    for (let item of list) {\r\n      if(item.float) {\r\n        continue\r\n      }\r\n      if(this.curMovingGridItemData?.id === item.id) {\r\n        continue\r\n      }\r\n      this.pressDownOver(list,item);\r\n    }\r\n  }\r\n  //往下压\r\n  pressDownOver(list:GridItemData[], item:GridItemData){\r\n    let {id,x,y,w,h} = item;\r\n    let newList = this.findOverlapItem(list,x, y, w, h, [id, this.dragData?.id, this.curActiveGridItem?.id]);\r\n     \r\n      if (newList.length) {\r\n        for (let i = 0; i < newList.length; i++) {\r\n          newList[i].y = y + h + this.gridMargin;\r\n          this.pressDownOver(list,newList[i]);\r\n        }\r\n        \r\n      }\r\n  }\r\n  \r\n  //重新排序\r\n  rearrangement(){\r\n\r\n    let list = [...this.layoutData];\r\n    if(this.curActiveGridItem){\r\n      list = [...list,this.dragData]\r\n    }\r\n    this.sortBottomOver(list);\r\n    this.sortTopSpace(list);\r\n\r\n    this.layoutData = list.filter(item => {\r\n      if(item.id === DRAG_ID){\r\n        this.dragData = item;\r\n        return false;\r\n      }\r\n      return true\r\n    }).map(item => {\r\n      if(item.id === this.curActiveGridItem?.id){\r\n        return this.curActiveGridItem;\r\n      }\r\n      return item;\r\n    })\r\n    this.reRender();\r\n  }\r\n  //向上\r\n  setZindexUp() {\r\n    if (!this.curSelectGridItem?.float) { \r\n      return\r\n    }\r\n    let floatGridItems = this.layoutData.filter(item => item.float);\r\n    floatGridItems = floatGridItems.sort((a:any,b:any)=> a.z - b.z);\r\n    floatGridItems.forEach((item,i) => {\r\n      item.z = i\r\n    });\r\n    let index = floatGridItems.findIndex((item) => item.id === this.curSelectGridItem?.id);\r\n    if(index >=  floatGridItems.length -1) return;\r\n    const item = floatGridItems.splice(index,1);\r\n    floatGridItems.splice(index + 1,0,item[0]);\r\n    floatGridItems.forEach((item,i) => {\r\n      item.z = i\r\n    });\r\n    this.reRender();\r\n  }\r\n  //向下\r\n  setZindexDown() {\r\n    if (!this.curSelectGridItem?.float) { \r\n      return\r\n    }\r\n    let floatGridItems = this.layoutData.filter(item => item.float);\r\n    floatGridItems = floatGridItems.sort((a:any,b:any)=> a.z - b.z);\r\n    floatGridItems.forEach((item,i) => {\r\n      item.z = i\r\n    });\r\n    let index = floatGridItems.findIndex((item) => item.id === this.curSelectGridItem?.id);\r\n    if(index === 0) return;\r\n    const item = floatGridItems.splice(index,1);\r\n    floatGridItems.splice(index - 1,0,item[0]);\r\n    floatGridItems.forEach((item,i) => {\r\n      item.z = i\r\n    });\r\n    this.reRender();;\r\n  }\r\n  openSetStyle(){\r\n    if(!this.curSelectGridItem) return;\r\n    if(!this.curSelectGridItem.userStyle){\r\n      this.curSelectGridItem.userStyle = {\r\n        borderWidth:'1',\r\n        borderColor:\"\",\r\n        borderStyle:\"\",\r\n        backgroundColor:\"\"\r\n      }\r\n    }\r\n    \r\n    this.styleMapEditing = !this.styleMapEditing;\r\n    this.reRender();\r\n  }\r\n  openConfigSet() {\r\n    if(!this.curSelectGridItem) return;\r\n    const emit: any = new Event('openConfigSet');\r\n    emit.detail = this.curSelectGridItem;\r\n    this.dispatchEvent(emit);\r\n  }\r\n  //当前活动的GridItem\r\n  get curActiveGridItem() {\r\n    return this.curMovingGridItemData || this.curResizingGridItemData || null;\r\n  }\r\n  //当前活动的GridItem style\r\n  get curActiveGridItemStyle() {\r\n    return this.curActiveGridItem?.style;\r\n  }\r\n  get curSelectGridItem(): GridItemData | undefined {\r\n    return this.layoutData.find(item => item.selected)\r\n  }\r\n  //选中的UserStyle;\r\n  get curSelectGridItemUserStyle(): CSSType | undefined {\r\n    if(!this.curSelectGridItem) return;\r\n    if(!this.curSelectGridItem.userStyle) {\r\n      this.curSelectGridItem.userStyle = {\r\n        borderStyle: \"\",\r\n        borderWidth: \"\",\r\n        borderColor: \"\",\r\n        borderRadius: \"\",\r\n        backgroundColor: \"\"\r\n      }\r\n    }\r\n    return this.curSelectGridItem.userStyle;\r\n  }\r\n  get stageHeight(): number{\r\n    let list = [...this.layoutData]\r\n    if(this.dragData){\r\n      list = [this.dragData,...list];\r\n    }\r\n    let h = 0;\r\n    list.forEach(item => {\r\n      h = h < item.y + item.h?item.y + item.h:h;\r\n    })\r\n    h = h + this.gridMargin;\r\n    return h * this.griddingWidth;\r\n  }\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n  }\r\n  render() {\r\n    \r\n    this.stageWidth = this.getBoundingClientRect().width;\r\n    return html`<div class=\"grid-layout\" @click=\"${this.onGridLayoutClick}\">\r\n    <div class=\"grid-sitting\" style=\"height:${this.stageHeight}px\"></div>\r\n    ${this.edit ? html`\r\n      <div class=\"toolbar\" hide=\"${this.hideToolbar}\">\r\n        <i class=\"el-icon add\" @click=\"${this.addGridItem}\" >\r\n          <!--[-->\r\n          <svg viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path fill=\"currentColor\" d=\"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z\"></path>\r\n          </svg>\r\n          <!--]-->\r\n        </i>\r\n        <i class=\"el-icon back\" @click=\"${this.backLayout}\">\r\n          <!--[-->\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-reply\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M6.598 5.013a.144.144 0 0 1 .202.134V6.3a.5.5 0 0 0 .5.5c.667 0 2.013.005 3.3.822.984.624 1.99 1.76 2.595 3.876-1.02-.983-2.185-1.516-3.205-1.799a8.74 8.74 0 0 0-1.921-.306 7.404 7.404 0 0 0-.798.008h-.013l-.005.001h-.001L7.3 9.9l-.05-.498a.5.5 0 0 0-.45.498v1.153c0 .108-.11.176-.202.134L2.614 8.254a.503.503 0 0 0-.042-.028.147.147 0 0 1 0-.252.499.499 0 0 0 .042-.028l3.984-2.933zM7.8 10.386c.068 0 .143.003.223.006.434.02 1.034.086 1.7.271 1.326.368 2.896 1.202 3.94 3.08a.5.5 0 0 0 .933-.305c-.464-3.71-1.886-5.662-3.46-6.66-1.245-.79-2.527-.942-3.336-.971v-.66a1.144 1.144 0 0 0-1.767-.96l-3.994 2.94a1.147 1.147 0 0 0 0 1.946l3.994 2.94a1.144 1.144 0 0 0 1.767-.96v-.667z\" />\r\n          </svg>\r\n          <!--]-->\r\n        </i>\r\n        <i class=\"el-icon forward\" @click=\"${this.forwardLayout}\">\r\n          <!--[-->\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-reply\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M6.598 5.013a.144.144 0 0 1 .202.134V6.3a.5.5 0 0 0 .5.5c.667 0 2.013.005 3.3.822.984.624 1.99 1.76 2.595 3.876-1.02-.983-2.185-1.516-3.205-1.799a8.74 8.74 0 0 0-1.921-.306 7.404 7.404 0 0 0-.798.008h-.013l-.005.001h-.001L7.3 9.9l-.05-.498a.5.5 0 0 0-.45.498v1.153c0 .108-.11.176-.202.134L2.614 8.254a.503.503 0 0 0-.042-.028.147.147 0 0 1 0-.252.499.499 0 0 0 .042-.028l3.984-2.933zM7.8 10.386c.068 0 .143.003.223.006.434.02 1.034.086 1.7.271 1.326.368 2.896 1.202 3.94 3.08a.5.5 0 0 0 .933-.305c-.464-3.71-1.886-5.662-3.46-6.66-1.245-.79-2.527-.942-3.336-.971v-.66a1.144 1.144 0 0 0-1.767-.96l-3.994 2.94a1.147 1.147 0 0 0 0 1.946l3.994 2.94a1.144 1.144 0 0 0 1.767-.96v-.667z\" />\r\n          </svg>\r\n          <!--]-->\r\n        </i>\r\n        <i class=\"el-icon save\" @click=\"${this.save}\">\r\n          <!--[-->\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-download\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z\"/>\r\n            <path d=\"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z\"/>\r\n          </svg>\r\n          <!--]-->\r\n        </i>\r\n        <i class=\"el-icon close\" @click=\"${this.close}\">\r\n          <!--[-->\r\n          <svg viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"currentColor\" d=\"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z\"></path></svg>\r\n          <!--]-->\r\n        </i>\r\n        \r\n      </div>\r\n      \r\n      <div style=\"top:calc(40% + ${this.shadowRoot?.host.scrollTop}px);display:${this.curSelectGridItem ? 'flex' : 'none'}\"  class=\"toolbar vertical\">\r\n      <i class=\"el-icon z-index-up\" @click=\"${this.setZindexUp}\" style=\"display:${this.curSelectGridItem?.float ? 'flex' : 'none'}\">\r\n        <!--[-->\r\n          <svg viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"currentColor\" d=\"M572.235 205.282v600.365a30.118 30.118 0 1 1-60.235 0V205.282L292.382 438.633a28.913 28.913 0 0 1-42.646 0 33.43 33.43 0 0 1 0-45.236l271.058-288.045a28.913 28.913 0 0 1 42.647 0L834.5 393.397a33.43 33.43 0 0 1 0 45.176 28.913 28.913 0 0 1-42.647 0l-219.618-233.23z\"></path></svg>\r\n        <!--]-->\r\n      </i>\r\n      <i class=\"el-icon z-index-down\" @click=\"${this.setZindexDown}\" style=\"display:${this.curSelectGridItem?.float ? 'flex' : 'none'}\">\r\n        <!--[-->\r\n          <svg viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"currentColor\" d=\"M544 805.888V168a32 32 0 1 0-64 0v637.888L246.656 557.952a30.72 30.72 0 0 0-45.312 0 35.52 35.52 0 0 0 0 48.064l288 306.048a30.72 30.72 0 0 0 45.312 0l288-306.048a35.52 35.52 0 0 0 0-48 30.72 30.72 0 0 0-45.312 0L544 805.824z\"></path></svg>\r\n        <!--]-->\r\n      </i>\r\n      <div class=\"style-box\">\r\n        ${this.renderStyleSet()}\r\n        \r\n\r\n        <i class=\"el-icon style-update-btn\"  @click=\"${this.openSetStyle}\" active=\"${this.styleMapEditing}\">\r\n          <!--[-->\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-border-style\" viewBox=\"0 0 16 16\">\r\n              <path d=\"M1 3.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-1zm0 4a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-1zm0 4a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm8 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-4 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm8 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-4-4a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-1z\" />\r\n            </svg>\r\n          <!--]-->\r\n        </i>\r\n        <i class=\"el-icon\" @click=\"${this.openConfigSet}\">\r\n            <!--[-->\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1024 1024\" data-v-ea893728=\"\"><path fill=\"currentColor\" d=\"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256\"></path></svg>\r\n            <!--]-->\r\n        </i>\r\n      </div>\r\n    </div>\r\n    `: ''\r\n    }\r\n    \r\n    ${this.layoutData.map((item, i) => {\r\n      return html`\r\n      <div class=\"grid-item\"  data-index=\"${i}\" .griddingWidth=\"${this.griddingWidth}\"\r\n        selected=\"${item.selected||false}\"\r\n        float=\"${item.float||false}\"\r\n        edit=\"${this.edit}\"\r\n        @mousedown=\"${this.gridItemDragstart}\"\r\n        style=\"${this.getGridItemStyle(item)}\"\r\n        transition=\"${this.transition}\"\r\n        >\r\n        <slot name=\"${item.slot || ''}\"></slot>\r\n        ${this.renderToobar()}\r\n      </div>\r\n      `\r\n    })}\r\n    ${this.draggIng ? this.drawDragDataHtml() : ''}\r\n  </div>\r\n    `;\r\n  }\r\n  renderStyleSet() {\r\n    return this.styleMapEditing ? html`\r\n    <div class=\"style-set\">\r\n      <div class=\"head\">Style</div>\r\n      <div class=\"item\">\r\n        <span class=\"lab\">border-width:</span>\r\n        <div class=\"ctr\">\r\n          <input class=\"ctr-input\" type=\"number\" min=\"0\" max=\"10\"\r\n            value=\"${this.curSelectGridItemUserStyle?.borderWidth||0}\"\r\n            @change=\"${(e:any)=>{this.changeInput('borderWidth',e)}}\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"item\">\r\n        <span class=\"lab\">border-style:</span>\r\n        <div class=\"ctr\">\r\n          <select class=\"ctr-input\" \r\n            value=\"${this.curSelectGridItemUserStyle?.borderStyle||''}\"\r\n            @change=\"${(e:any)=>{this.changeInput('borderStyle',e)}}\">\r\n            <option value=\"\"></option>\r\n            <option value=\"solid\">solid</option>\r\n            <option value=\"dotted\">dotted</option>\r\n            <option value=\"double\">double</option>\r\n            <option value=\"dashed\">dashed</option>\r\n            <option value=\"hidden\">hidden</option>\r\n            <option value=\"inset\">inset</option>\r\n            <option value=\"outset\">outset</option>\r\n            <option value=\"ridge\">ridge</option>    \r\n            <option value=\"none\">none</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div class=\"item\">\r\n        <span class=\"lab\">border-color:</span>\r\n        <div class=\"ctr\">\r\n          <input class=\"ctr-input\"  type=\"color\"\r\n          value=\"${this.curSelectGridItemUserStyle?.borderColor||''}\" \r\n          @change=\"${(e:any)=>{this.changeInput('borderColor',e)}}\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"item\">\r\n        <span class=\"lab\">border-radius:</span>\r\n        <div class=\"ctr\">\r\n          <input class=\"ctr-input\"  type=\"number\" min=\"0\" max=\"10\"\r\n          value=\"${this.curSelectGridItemUserStyle?.borderRadius||''}\" \r\n          @change=\"${(e:any)=>{this.changeInput('borderRadius',e)}}\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"item\">\r\n        <span class=\"lab\">background-color:</span>\r\n        <div class=\"ctr\">\r\n          <input class=\"ctr-input\" type=\"color\" \r\n            value=\"${this.curSelectGridItemUserStyle?.backgroundColor||''}\" \r\n            @change=\"${(e:any)=>{this.changeInput('backgroundColor',e)}}\" />\r\n        </div>\r\n      </div>\r\n    </div>`:``;\r\n  }\r\n  renderToobar(){\r\n    if(!this.edit) return '';\r\n    return html`<div class=\"tool-box\">\r\n      \r\n    <i class=\"el-icon set-float\">\r\n      <!--[-->\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-subtract\" viewBox=\"0 0 16 16\">\r\n        <path d=\"M0 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2H2a2 2 0 0 1-2-2V2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H2z\"/>\r\n      </svg>\r\n      <!--]-->\r\n    </i>\r\n    <i class=\"el-icon close grid-item-close\" style=\"font-size:20px;\" >\r\n      <!--[-->\r\n      <svg viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"currentColor\" d=\"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z\"></path></svg>\r\n      <!--]-->\r\n    </i>\r\n  </div>\r\n  <div class=\"resize bottom-right\" @mousedown=\"${this.gridItemResizeStart}\" ></div>`\r\n\r\n  }\r\n  static styles = css`\r\n  :host {\r\n    display: block;\r\n    padding: 0px;\r\n    height:100%;\r\n    overflow-x: hidden;\r\n  }\r\n  :host::-webkit-scrollbar{\r\n    width: 8px;\r\n    background: #b3b3b3;\r\n   \r\n  }\r\n  :host::-webkit-scrollbar-thumb{\r\n    width: 8px;\r\n    background: #767676;\r\n    border-radius: 5px;\r\n  }\r\n  :host::-webkit-scrollbar-track{\r\n    background: transparent;\r\n    border-radius: 0px;\r\n  }\r\n  .grid-layout {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .toolbar {\r\n    position: absolute;\r\n    right:5px;\r\n    top:5px;\r\n    padding:2px 3px;\r\n    z-index: 999999;\r\n    display:flex;\r\n    background: #000;\r\n    box-shadow: 2px 2px 5px #000;\r\n    border-radius:3px;\r\n    border:1px solid rgb(103 103 103);\r\n  }\r\n  .toolbar[hide=\"true\"]{\r\n    display:none;\r\n  }\r\n  .toolbar.vertical {\r\n    top:20%;\r\n    right:5px;\r\n    flex-flow: column;\r\n  }\r\n  .toolbar .el-icon svg {\r\n    width:18px;\r\n    height: 18px;\r\n  }\r\n  .toolbar .el-icon {\r\n    cursor: pointer;\r\n    margin:3px 3px;\r\n    border:1px solid #dbdbdb;\r\n    border-radius: 3px;\r\n    padding: 3px;\r\n    display: inline-flex;\r\n    width: 18px;height: 18px;\r\n    background-color: #fff;\r\n    color:#333;\r\n  }\r\n  .toolbar .el-icon:hover {\r\n    background-color: #4097e4;\r\n    color:#fff;\r\n    opacity:0.7;\r\n  }\r\n\r\n  .toolbar .el-icon[active=\"true\"] {\r\n    background-color: #4097e4;\r\n    color:#fff;\r\n  }\r\n  .toolbar .el-icon:active{\r\n    background-color: rgb(131 177 217);\r\n    color:#fff;\r\n  }\r\n  .toolbar .el-icon.forward svg {\r\n    transform: scaleX(-1);\r\n  }\r\n  .old-data {\r\n    opacity: 0.3;\r\n  }\r\n  .grid-sitting {\r\n    width:100%;\r\n    top:0px;\r\n    position: absolute;\r\n    z-index:-1\r\n  }  \r\n  .grid-item {\r\n    display:block;\r\n    position:absolute;\r\n    min-width: 20px;\r\n    min-height: 10px;\r\n    border-radius: 3px;\r\n    overflow:hidden;\r\n    background-color:#fff;\r\n    border:1px solid #c3c3c3;\r\n    box-sizing: border-box;\r\n  }\r\n  .grid-item[transition=\"true\"] {\r\n    transition: all 0.3s;\r\n  }\r\n  .grid-item.move {\r\n    cursor:move;\r\n  }\r\n  .grid-item[edit=\"true\"][selected=\"true\"] {\r\n    outline:2px solid #a2c1d6;\r\n  }\r\n  .grid-item[float=\"true\"] {\r\n    box-shadow:rgb(0, 0, 0) 5px 5px 14px -10px;\r\n  }\r\n  .grid-item[float=\"true\"] .tool-box .set-float {\r\n    opacity: 1;\r\n    color:#3250a7;\r\n  }\r\n  .grid-item:hover .resize {\r\n    display: flex;\r\n  }\r\n  .grid-item .bottom-right {\r\n   cursor: se-resize;\r\n   right: 4px;\r\n   bottom: 4px;\r\n   width: 10px;\r\n   height: 10px;\r\n   border-right: 3px solid #c3bebe;\r\n   border-bottom: 3px solid #c3bebe;\r\n  }\r\n  .grid-item .tool-box {\r\n   position: absolute;\r\n   top:5px;\r\n   right:10px;\r\n   display: flex;\r\n  }\r\n .grid-item  .tool-box .el-icon {\r\n   width:15px;\r\n   height:15px;\r\n   color:#929292;\r\n   padding:3px;\r\n   border-radius: 3px;\r\n   display: flex;\r\n }\r\n .grid-item .tool-box .el-icon:hover {\r\n   cursor:pointer;\r\n   opacity: 0.6;\r\n  }\r\n  .grid-item .resize > svg {\r\n    color: rgb(160 160 160)\r\n  }\r\n  .grid-item .resize:hover {\r\n    opacity: 0.6;\r\n  }\r\n\r\n  .grid-item[drag=true] {\r\n   opacity: 0.5;\r\n   background-color: rgb(249, 227, 193);\r\n   box-shadow: none;\r\n   border: none;\r\n   transition: none;\r\n }\r\n .grid-item[drag=true] .close,\r\n .grid-item[drag=true] .set-float {\r\n   display: none;\r\n }\r\n .resize {\r\n   position: absolute;\r\n }\r\n .style-box {\r\n  position:relative;\r\n  display:flex;\r\n  flex-flow:column;\r\n }\r\n .style-set {\r\n  border:1px solid #9a9a9a;\r\n  padding:10px;\r\n  position:absolute;\r\n  min-width:100px;\r\n  min-height:100px;\r\n  background: #181b1f;\r\n  z-index:0;\r\n  top:0px;\r\n  right:40px;\r\n  border-radius:3px;\r\n  box-shadow:0px 0px 10px #000;\r\n  color:#fff;\r\n }\r\n .style-set .item {\r\n  margin:10px 0px;\r\n }\r\n .style-set .item > span {\r\n  display: block;\r\n  min-width: 125px;\r\n  margin-right: 13px;\r\n  color: #e2e2e2;\r\n  font-size: 14px;\r\n }\r\n .style-set .ctr-input {\r\n  height: 28px;\r\n  width: 100%;\r\n  border: 1px solid rgb(0, 0, 0);\r\n  border-radius: 0px;\r\n  background-color:#000;\r\n  box-sizing: border-box;\r\n  color:#fff;\r\n  border:1px solid #424242;\r\n }\r\n .style-set .ctr-input option{\r\n  height:28px;\r\n  margin:5px;\r\n }\r\n .toolbar .el-icon.style-update-btn:hover{\r\n  background-color:#fff;\r\n  color:#333;\r\n }\r\n .toolbar .el-icon.style-update-btn[active=\"true\"]{\r\n    background-color: #4097e4;\r\n    color:#fff;\r\n }\r\n`;\r\n}\r\n\r\n"]}