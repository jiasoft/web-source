import{r,h as t,g as i}from"./p-443c530c.js";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n=function(r,t){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))r[i]=t[i]};return n(r,t)};function a(r,t){if(typeof t!=="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var e=function(){function r(){this.firefox=false;this.ie=false;this.edge=false;this.newEdge=false;this.weChat=false}return r}();var u=function(){function r(){this.browser=new e;this.node=false;this.wxa=false;this.worker=false;this.svgSupported=false;this.touchEventsSupported=false;this.pointerEventsSupported=false;this.domSupported=false;this.transformSupported=false;this.transform3dSupported=false;this.hasGlobalWindow=typeof window!=="undefined"}return r}();var o=new u;if(typeof wx==="object"&&typeof wx.getSystemInfoSync==="function"){o.wxa=true;o.touchEventsSupported=true}else if(typeof document==="undefined"&&typeof self!=="undefined"){o.worker=true}else if(typeof navigator==="undefined"){o.node=true;o.svgSupported=true}else{v(navigator.userAgent,o)}function v(r,t){var i=t.browser;var n=r.match(/Firefox\/([\d.]+)/);var a=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/);var e=r.match(/Edge?\/([\d.]+)/);var u=/micromessenger/i.test(r);if(n){i.firefox=true;i.version=n[1]}if(a){i.ie=true;i.version=a[1]}if(e){i.edge=true;i.version=e[1];i.newEdge=+e[1].split(".")[0]>18}if(u){i.weChat=true}t.svgSupported=typeof SVGRect!=="undefined";t.touchEventsSupported="ontouchstart"in window&&!i.ie&&!i.edge;t.pointerEventsSupported="onpointerdown"in window&&(i.edge||i.ie&&+i.version>=11);t.domSupported=typeof document!=="undefined";var o=document.documentElement.style;t.transform3dSupported=(i.ie&&"transition"in o||i.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o);t.transformSupported=t.transform3dSupported||i.ie&&+i.version>=9}var s=12;var f="sans-serif";var l=s+"px "+f;var h=20;var c=100;var d="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function p(r){var t={};if(typeof JSON==="undefined"){return t}for(var i=0;i<r.length;i++){var n=String.fromCharCode(i+32);var a=(r.charCodeAt(i)-h)/c;t[n]=a}return t}var m=p(d);var y={createCanvas:function(){return typeof document!=="undefined"&&document.createElement("canvas")},measureText:function(){var r;var t;return function(i,n){if(!r){var a=y.createCanvas();r=a&&a.getContext("2d")}if(r){if(t!==n){t=r.font=n||l}return r.measureText(i)}else{i=i||"";n=n||l;var e=/(\d+)px/.exec(n);var u=e&&+e[1]||s;var o=0;if(n.indexOf("mono")>=0){o=u*i.length}else{for(var v=0;v<i.length;v++){var f=m[i[v]];o+=f==null?u:f*u}}return{width:o}}}}(),loadImage:function(r,t,i){var n=new Image;n.onload=t;n.onerror=i;n.src=r;return n}};var g=Y(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],(function(r,t){r["[object "+t+"]"]=true;return r}),{});var b=Y(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],(function(r,t){r["[object "+t+"Array]"]=true;return r}),{});var w=Object.prototype.toString;var x=Array.prototype;var M=x.forEach;var S=x.filter;var k=x.slice;var N=x.map;var A=function(){}.constructor;var I=A?A.prototype:null;var C="__proto__";var T=2311;function z(){return T++}function L(){var r=[];for(var t=0;t<arguments.length;t++){r[t]=arguments[t]}if(typeof console!=="undefined"){console.error.apply(console,r)}}function O(r){if(r==null||typeof r!=="object"){return r}var t=r;var i=w.call(r);if(i==="[object Array]"){if(!gr(r)){t=[];for(var n=0,a=r.length;n<a;n++){t[n]=O(r[n])}}}else if(b[i]){if(!gr(r)){var e=r.constructor;if(e.from){t=e.from(r)}else{t=new e(r.length);for(var n=0,a=r.length;n<a;n++){t[n]=r[n]}}}}else if(!g[i]&&!gr(r)&&!ar(r)){t={};for(var u in r){if(r.hasOwnProperty(u)&&u!==C){t[u]=O(r[u])}}}return t}function D(r,t,i){if(!tr(t)||!tr(r)){return i?O(t):r}for(var n in t){if(t.hasOwnProperty(n)&&n!==C){var a=r[n];var e=t[n];if(tr(e)&&tr(a)&&!K(e)&&!K(a)&&!ar(e)&&!ar(a)&&!ir(e)&&!ir(a)&&!gr(e)&&!gr(a)){D(a,e,i)}else if(i||!(n in r)){r[n]=O(t[n])}}}return r}function R(r,t){var i=r[0];for(var n=1,a=r.length;n<a;n++){i=D(i,r[n],t)}return i}function F(r,t){if(Object.assign){Object.assign(r,t)}else{for(var i in t){if(t.hasOwnProperty(i)&&i!==C){r[i]=t[i]}}}return r}function B(r,t,i){var n=U(t);for(var a=0;a<n.length;a++){var e=n[a];if(i?t[e]!=null:r[e]==null){r[e]=t[e]}}return r}function _(r,t){if(r){if(r.indexOf){return r.indexOf(t)}for(var i=0,n=r.length;i<n;i++){if(r[i]===t){return i}}}return-1}function E(r,t){var i=r.prototype;function n(){}n.prototype=t.prototype;r.prototype=new n;for(var a in i){if(i.hasOwnProperty(a)){r.prototype[a]=i[a]}}r.prototype.constructor=r;r.superClass=t}function P(r,t,i){r="prototype"in r?r.prototype:r;t="prototype"in t?t.prototype:t;if(Object.getOwnPropertyNames){var n=Object.getOwnPropertyNames(t);for(var a=0;a<n.length;a++){var e=n[a];if(e!=="constructor"){if(i?t[e]!=null:r[e]==null){r[e]=t[e]}}}}else{B(r,t,i)}}function W(r){if(!r){return false}if(typeof r==="string"){return false}return typeof r.length==="number"}function V(r,t,i){if(!(r&&t)){return}if(r.forEach&&r.forEach===M){r.forEach(t,i)}else if(r.length===+r.length){for(var n=0,a=r.length;n<a;n++){t.call(i,r[n],n,r)}}else{for(var e in r){if(r.hasOwnProperty(e)){t.call(i,r[e],e,r)}}}}function H(r,t,i){if(!r){return[]}if(!t){return hr(r)}if(r.map&&r.map===N){return r.map(t,i)}else{var n=[];for(var a=0,e=r.length;a<e;a++){n.push(t.call(i,r[a],a,r))}return n}}function Y(r,t,i,n){if(!(r&&t)){return}for(var a=0,e=r.length;a<e;a++){i=t.call(n,i,r[a],a,r)}return i}function X(r,t,i){if(!r){return[]}if(!t){return hr(r)}if(r.filter&&r.filter===S){return r.filter(t,i)}else{var n=[];for(var a=0,e=r.length;a<e;a++){if(t.call(i,r[a],a,r)){n.push(r[a])}}return n}}function G(r,t,i){if(!(r&&t)){return}for(var n=0,a=r.length;n<a;n++){if(t.call(i,r[n],n,r)){return r[n]}}}function U(r){if(!r){return[]}if(Object.keys){return Object.keys(r)}var t=[];for(var i in r){if(r.hasOwnProperty(i)){t.push(i)}}return t}function Z(r,t){var i=[];for(var n=2;n<arguments.length;n++){i[n-2]=arguments[n]}return function(){return r.apply(t,i.concat(k.call(arguments)))}}var j=I&&J(I.bind)?I.call.bind(I.bind):Z;function q(r){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}return function(){return r.apply(this,t.concat(k.call(arguments)))}}function K(r){if(Array.isArray){return Array.isArray(r)}return w.call(r)==="[object Array]"}function J(r){return typeof r==="function"}function $(r){return typeof r==="string"}function Q(r){return w.call(r)==="[object String]"}function rr(r){return typeof r==="number"}function tr(r){var t=typeof r;return t==="function"||!!r&&t==="object"}function ir(r){return!!g[w.call(r)]}function nr(r){return!!b[w.call(r)]}function ar(r){return typeof r==="object"&&typeof r.nodeType==="number"&&typeof r.ownerDocument==="object"}function er(r){return r.colorStops!=null}function ur(r){return r.image!=null}function or(r){return w.call(r)==="[object RegExp]"}function vr(r){return r!==r}function sr(){var r=[];for(var t=0;t<arguments.length;t++){r[t]=arguments[t]}for(var i=0,n=r.length;i<n;i++){if(r[i]!=null){return r[i]}}}function fr(r,t){return r!=null?r:t}function lr(r,t,i){return r!=null?r:t!=null?t:i}function hr(r){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}return k.apply(r,t)}function cr(r){if(typeof r==="number"){return[r,r,r,r]}var t=r.length;if(t===2){return[r[0],r[1],r[0],r[1]]}else if(t===3){return[r[0],r[1],r[2],r[1]]}return r}function dr(r,t){if(!r){throw new Error(t)}}function pr(r){if(r==null){return null}else if(typeof r.trim==="function"){return r.trim()}else{return r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}var mr="__ec_primitive__";function yr(r){r[mr]=true}function gr(r){return r[mr]}var br=function(){function r(){this.data={}}r.prototype["delete"]=function(r){var t=this.has(r);if(t){delete this.data[r]}return t};r.prototype.has=function(r){return this.data.hasOwnProperty(r)};r.prototype.get=function(r){return this.data[r]};r.prototype.set=function(r,t){this.data[r]=t;return this};r.prototype.keys=function(){return U(this.data)};r.prototype.forEach=function(r){var t=this.data;for(var i in t){if(t.hasOwnProperty(i)){r(t[i],i)}}};return r}();var wr=typeof Map==="function";function xr(){return wr?new Map:new br}var Mr=function(){function r(t){var i=K(t);this.data=xr();var n=this;t instanceof r?t.each(a):t&&V(t,a);function a(r,t){i?n.set(r,t):n.set(t,r)}}r.prototype.hasKey=function(r){return this.data.has(r)};r.prototype.get=function(r){return this.data.get(r)};r.prototype.set=function(r,t){this.data.set(r,t);return t};r.prototype.each=function(r,t){this.data.forEach((function(i,n){r.call(t,i,n)}))};r.prototype.keys=function(){var r=this.data.keys();return wr?Array.from(r):r};r.prototype.removeKey=function(r){this.data["delete"](r)};return r}();function Sr(r){return new Mr(r)}function kr(r,t){var i=new r.constructor(r.length+t.length);for(var n=0;n<r.length;n++){i[n]=r[n]}var a=r.length;for(var n=0;n<t.length;n++){i[n+a]=t[n]}return i}function Nr(r,t){var i;if(Object.create){i=Object.create(r)}else{var n=function(){};n.prototype=r;i=new n}if(t){F(i,t)}return i}function Ar(r){var t=r.style;t.webkitUserSelect="none";t.userSelect="none";t.webkitTapHighlightColor="rgba(0,0,0,0)";t["-webkit-touch-callout"]="none"}function Ir(r,t){return r.hasOwnProperty(t)}function Cr(){}var Tr=180/Math.PI;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zr=function(r,t){zr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))r[i]=t[i]};return zr(r,t)};function Lr(r,t){if(typeof t!=="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zr(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function Or(r,t){if(r==null){r=0}if(t==null){t=0}return[r,t]}function Dr(r,t){r[0]=t[0];r[1]=t[1];return r}function Rr(r){return[r[0],r[1]]}function Fr(r,t,i){r[0]=t;r[1]=i;return r}function Br(r,t,i){r[0]=t[0]+i[0];r[1]=t[1]+i[1];return r}function _r(r,t,i,n){r[0]=t[0]+i[0]*n;r[1]=t[1]+i[1]*n;return r}function Er(r,t,i){r[0]=t[0]-i[0];r[1]=t[1]-i[1];return r}function Pr(r){return Math.sqrt(Wr(r))}function Wr(r){return r[0]*r[0]+r[1]*r[1]}function Vr(r,t,i){r[0]=t[0]*i;r[1]=t[1]*i;return r}function Hr(r,t){var i=Pr(t);if(i===0){r[0]=0;r[1]=0}else{r[0]=t[0]/i;r[1]=t[1]/i}return r}function Yr(r,t){return Math.sqrt((r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1]))}var Xr=Yr;function Gr(r,t){return(r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1])}var Ur=Gr;function Zr(r,t,i,n){r[0]=t[0]+n*(i[0]-t[0]);r[1]=t[1]+n*(i[1]-t[1]);return r}function jr(r,t,i){var n=t[0];var a=t[1];r[0]=i[0]*n+i[2]*a+i[4];r[1]=i[1]*n+i[3]*a+i[5];return r}function qr(r,t,i){r[0]=Math.min(t[0],i[0]);r[1]=Math.min(t[1],i[1]);return r}function Kr(r,t,i){r[0]=Math.max(t[0],i[0]);r[1]=Math.max(t[1],i[1]);return r}var Jr=function(){function r(r,t){this.target=r;this.topTarget=t&&t.topTarget}return r}();var $r=function(){function r(r){this.handler=r;r.on("mousedown",this._dragStart,this);r.on("mousemove",this._drag,this);r.on("mouseup",this._dragEnd,this)}r.prototype._dragStart=function(r){var t=r.target;while(t&&!t.draggable){t=t.parent||t.__hostTarget}if(t){this._draggingTarget=t;t.dragging=true;this._x=r.offsetX;this._y=r.offsetY;this.handler.dispatchToElement(new Jr(t,r),"dragstart",r.event)}};r.prototype._drag=function(r){var t=this._draggingTarget;if(t){var i=r.offsetX;var n=r.offsetY;var a=i-this._x;var e=n-this._y;this._x=i;this._y=n;t.drift(a,e,r);this.handler.dispatchToElement(new Jr(t,r),"drag",r.event);var u=this.handler.findHover(i,n,t).target;var o=this._dropTarget;this._dropTarget=u;if(t!==u){if(o&&u!==o){this.handler.dispatchToElement(new Jr(o,r),"dragleave",r.event)}if(u&&u!==o){this.handler.dispatchToElement(new Jr(u,r),"dragenter",r.event)}}}};r.prototype._dragEnd=function(r){var t=this._draggingTarget;if(t){t.dragging=false}this.handler.dispatchToElement(new Jr(t,r),"dragend",r.event);if(this._dropTarget){this.handler.dispatchToElement(new Jr(this._dropTarget,r),"drop",r.event)}this._draggingTarget=null;this._dropTarget=null};return r}();var Qr=function(){function r(r){if(r){this._$eventProcessor=r}}r.prototype.on=function(r,t,i,n){if(!this._$handlers){this._$handlers={}}var a=this._$handlers;if(typeof t==="function"){n=i;i=t;t=null}if(!i||!r){return this}var e=this._$eventProcessor;if(t!=null&&e&&e.normalizeQuery){t=e.normalizeQuery(t)}if(!a[r]){a[r]=[]}for(var u=0;u<a[r].length;u++){if(a[r][u].h===i){return this}}var o={h:i,query:t,ctx:n||this,callAtLast:i.zrEventfulCallAtLast};var v=a[r].length-1;var s=a[r][v];s&&s.callAtLast?a[r].splice(v,0,o):a[r].push(o);return this};r.prototype.isSilent=function(r){var t=this._$handlers;return!t||!t[r]||!t[r].length};r.prototype.off=function(r,t){var i=this._$handlers;if(!i){return this}if(!r){this._$handlers={};return this}if(t){if(i[r]){var n=[];for(var a=0,e=i[r].length;a<e;a++){if(i[r][a].h!==t){n.push(i[r][a])}}i[r]=n}if(i[r]&&i[r].length===0){delete i[r]}}else{delete i[r]}return this};r.prototype.trigger=function(r){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(!this._$handlers){return this}var n=this._$handlers[r];var a=this._$eventProcessor;if(n){var e=t.length;var u=n.length;for(var o=0;o<u;o++){var v=n[o];if(a&&a.filter&&v.query!=null&&!a.filter(r,v.query)){continue}switch(e){case 0:v.h.call(v.ctx);break;case 1:v.h.call(v.ctx,t[0]);break;case 2:v.h.call(v.ctx,t[0],t[1]);break;default:v.h.apply(v.ctx,t);break}}}a&&a.afterTrigger&&a.afterTrigger(r);return this};r.prototype.triggerWithContext=function(r){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(!this._$handlers){return this}var n=this._$handlers[r];var a=this._$eventProcessor;if(n){var e=t.length;var u=t[e-1];var o=n.length;for(var v=0;v<o;v++){var s=n[v];if(a&&a.filter&&s.query!=null&&!a.filter(r,s.query)){continue}switch(e){case 0:s.h.call(u);break;case 1:s.h.call(u,t[0]);break;case 2:s.h.call(u,t[0],t[1]);break;default:s.h.apply(u,t.slice(1,e-1));break}}}a&&a.afterTrigger&&a.afterTrigger(r);return this};return r}();var rt=Math.log(2);function tt(r,t,i,n,a,e){var u=n+"-"+a;var o=r.length;if(e.hasOwnProperty(u)){return e[u]}if(t===1){var v=Math.round(Math.log((1<<o)-1&~a)/rt);return r[i][v]}var s=n|1<<i;var f=i+1;while(n&1<<f){f++}var l=0;for(var h=0,c=0;h<o;h++){var d=1<<h;if(!(d&a)){l+=(c%2?-1:1)*r[i][h]*tt(r,t-1,f,s,a|d,e);c++}}e[u]=l;return l}function it(r,t){var i=[[r[0],r[1],1,0,0,0,-t[0]*r[0],-t[0]*r[1]],[0,0,0,r[0],r[1],1,-t[1]*r[0],-t[1]*r[1]],[r[2],r[3],1,0,0,0,-t[2]*r[2],-t[2]*r[3]],[0,0,0,r[2],r[3],1,-t[3]*r[2],-t[3]*r[3]],[r[4],r[5],1,0,0,0,-t[4]*r[4],-t[4]*r[5]],[0,0,0,r[4],r[5],1,-t[5]*r[4],-t[5]*r[5]],[r[6],r[7],1,0,0,0,-t[6]*r[6],-t[6]*r[7]],[0,0,0,r[6],r[7],1,-t[7]*r[6],-t[7]*r[7]]];var n={};var a=tt(i,8,0,0,0,n);if(a===0){return}var e=[];for(var u=0;u<8;u++){for(var o=0;o<8;o++){e[o]==null&&(e[o]=0);e[o]+=((u+o)%2?-1:1)*tt(i,7,u===0?1:0,1<<u,1<<o,n)/a*t[u]}}return function(r,t,i){var n=t*e[6]+i*e[7]+1;r[0]=(t*e[0]+i*e[1]+e[2])/n;r[1]=(t*e[3]+i*e[4]+e[5])/n}}var nt="___zrEVENTSAVED";var at=[];function et(r,t,i,n,a){return ut(at,t,n,a,true)&&ut(r,i,at[0],at[1])}function ut(r,t,i,n,a){if(t.getBoundingClientRect&&o.domSupported&&!st(t)){var e=t[nt]||(t[nt]={});var u=ot(t,e);var v=vt(u,e,a);if(v){v(r,i,n);return true}}return false}function ot(r,t){var i=t.markers;if(i){return i}i=t.markers=[];var n=["left","right"];var a=["top","bottom"];for(var e=0;e<4;e++){var u=document.createElement("div");var o=u.style;var v=e%2;var s=(e>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[v]+":0",a[s]+":0",n[1-v]+":auto",a[1-s]+":auto",""].join("!important;");r.appendChild(u);i.push(u)}return i}function vt(r,t,i){var n=i?"invTrans":"trans";var a=t[n];var e=t.srcCoords;var u=[];var o=[];var v=true;for(var s=0;s<4;s++){var f=r[s].getBoundingClientRect();var l=2*s;var h=f.left;var c=f.top;u.push(h,c);v=v&&e&&h===e[l]&&c===e[l+1];o.push(r[s].offsetLeft,r[s].offsetTop)}return v&&a?a:(t.srcCoords=u,t[n]=i?it(o,u):it(u,o))}function st(r){return r.nodeName.toUpperCase()==="CANVAS"}var ft=/([&<>"'])/g;var lt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ht(r){return r==null?"":(r+"").replace(ft,(function(r,t){return lt[t]}))}var ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;var dt=[];var pt=o.browser.firefox&&+o.browser.version.split(".")[0]<39;function mt(r,t,i,n){i=i||{};if(n){yt(r,t,i)}else if(pt&&t.layerX!=null&&t.layerX!==t.offsetX){i.zrX=t.layerX;i.zrY=t.layerY}else if(t.offsetX!=null){i.zrX=t.offsetX;i.zrY=t.offsetY}else{yt(r,t,i)}return i}function yt(r,t,i){if(o.domSupported&&r.getBoundingClientRect){var n=t.clientX;var a=t.clientY;if(st(r)){var e=r.getBoundingClientRect();i.zrX=n-e.left;i.zrY=a-e.top;return}else{if(ut(dt,r,n,a)){i.zrX=dt[0];i.zrY=dt[1];return}}}i.zrX=i.zrY=0}function gt(r){return r||window.event}function bt(r,t,i){t=gt(t);if(t.zrX!=null){return t}var n=t.type;var a=n&&n.indexOf("touch")>=0;if(!a){mt(r,t,t,i);var e=wt(t);t.zrDelta=e?e/120:-(t.detail||0)/3}else{var u=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];u&&mt(r,u,t,i)}var o=t.button;if(t.which==null&&o!==undefined&&ct.test(t.type)){t.which=o&1?1:o&2?3:o&4?2:0}return t}function wt(r){var t=r.wheelDelta;if(t){return t}var i=r.deltaX;var n=r.deltaY;if(i==null||n==null){return t}var a=n!==0?Math.abs(n):Math.abs(i);var e=n>0?-1:n<0?1:i>0?-1:1;return 3*a*e}function xt(r,t,i,n){r.addEventListener(t,i,n)}function Mt(r,t,i,n){r.removeEventListener(t,i,n)}var St=function(r){r.preventDefault();r.stopPropagation();r.cancelBubble=true};function kt(r){return r.which===2||r.which===3}var Nt=function(){function r(){this._track=[]}r.prototype.recognize=function(r,t,i){this._doTrack(r,t,i);return this._recognize(r)};r.prototype.clear=function(){this._track.length=0;return this};r.prototype._doTrack=function(r,t,i){var n=r.touches;if(!n){return}var a={points:[],touches:[],target:t,event:r};for(var e=0,u=n.length;e<u;e++){var o=n[e];var v=mt(i,o,{});a.points.push([v.zrX,v.zrY]);a.touches.push(o)}this._track.push(a)};r.prototype._recognize=function(r){for(var t in Ct){if(Ct.hasOwnProperty(t)){var i=Ct[t](this._track,r);if(i){return i}}}};return r}();function At(r){var t=r[1][0]-r[0][0];var i=r[1][1]-r[0][1];return Math.sqrt(t*t+i*i)}function It(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var Ct={pinch:function(r,t){var i=r.length;if(!i){return}var n=(r[i-1]||{}).points;var a=(r[i-2]||{}).points||n;if(a&&a.length>1&&n&&n.length>1){var e=At(n)/At(a);!isFinite(e)&&(e=1);t.pinchScale=e;var u=It(n);t.pinchX=u[0];t.pinchY=u[1];return{type:"pinch",target:r[0].target,event:t}}}};function Tt(){return[1,0,0,1,0,0]}function zt(r){r[0]=1;r[1]=0;r[2]=0;r[3]=1;r[4]=0;r[5]=0;return r}function Lt(r,t){r[0]=t[0];r[1]=t[1];r[2]=t[2];r[3]=t[3];r[4]=t[4];r[5]=t[5];return r}function Ot(r,t,i){var n=t[0]*i[0]+t[2]*i[1];var a=t[1]*i[0]+t[3]*i[1];var e=t[0]*i[2]+t[2]*i[3];var u=t[1]*i[2]+t[3]*i[3];var o=t[0]*i[4]+t[2]*i[5]+t[4];var v=t[1]*i[4]+t[3]*i[5]+t[5];r[0]=n;r[1]=a;r[2]=e;r[3]=u;r[4]=o;r[5]=v;return r}function Dt(r,t,i){r[0]=t[0];r[1]=t[1];r[2]=t[2];r[3]=t[3];r[4]=t[4]+i[0];r[5]=t[5]+i[1];return r}function Rt(r,t,i){var n=t[0];var a=t[2];var e=t[4];var u=t[1];var o=t[3];var v=t[5];var s=Math.sin(i);var f=Math.cos(i);r[0]=n*f+u*s;r[1]=-n*s+u*f;r[2]=a*f+o*s;r[3]=-a*s+f*o;r[4]=f*e+s*v;r[5]=f*v-s*e;return r}function Ft(r,t,i){var n=i[0];var a=i[1];r[0]=t[0]*n;r[1]=t[1]*a;r[2]=t[2]*n;r[3]=t[3]*a;r[4]=t[4]*n;r[5]=t[5]*a;return r}function Bt(r,t){var i=t[0];var n=t[2];var a=t[4];var e=t[1];var u=t[3];var o=t[5];var v=i*u-e*n;if(!v){return null}v=1/v;r[0]=u*v;r[1]=-e*v;r[2]=-n*v;r[3]=i*v;r[4]=(n*o-u*a)*v;r[5]=(e*a-i*o)*v;return r}function _t(r){var t=Tt();Lt(t,r);return t}var Et=function(){function r(r,t){this.x=r||0;this.y=t||0}r.prototype.copy=function(r){this.x=r.x;this.y=r.y;return this};r.prototype.clone=function(){return new r(this.x,this.y)};r.prototype.set=function(r,t){this.x=r;this.y=t;return this};r.prototype.equal=function(r){return r.x===this.x&&r.y===this.y};r.prototype.add=function(r){this.x+=r.x;this.y+=r.y;return this};r.prototype.scale=function(r){this.x*=r;this.y*=r};r.prototype.scaleAndAdd=function(r,t){this.x+=r.x*t;this.y+=r.y*t};r.prototype.sub=function(r){this.x-=r.x;this.y-=r.y;return this};r.prototype.dot=function(r){return this.x*r.x+this.y*r.y};r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y};r.prototype.normalize=function(){var r=this.len();this.x/=r;this.y/=r;return this};r.prototype.distance=function(r){var t=this.x-r.x;var i=this.y-r.y;return Math.sqrt(t*t+i*i)};r.prototype.distanceSquare=function(r){var t=this.x-r.x;var i=this.y-r.y;return t*t+i*i};r.prototype.negate=function(){this.x=-this.x;this.y=-this.y;return this};r.prototype.transform=function(r){if(!r){return}var t=this.x;var i=this.y;this.x=r[0]*t+r[2]*i+r[4];this.y=r[1]*t+r[3]*i+r[5];return this};r.prototype.toArray=function(r){r[0]=this.x;r[1]=this.y;return r};r.prototype.fromArray=function(r){this.x=r[0];this.y=r[1]};r.set=function(r,t,i){r.x=t;r.y=i};r.copy=function(r,t){r.x=t.x;r.y=t.y};r.len=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)};r.lenSquare=function(r){return r.x*r.x+r.y*r.y};r.dot=function(r,t){return r.x*t.x+r.y*t.y};r.add=function(r,t,i){r.x=t.x+i.x;r.y=t.y+i.y};r.sub=function(r,t,i){r.x=t.x-i.x;r.y=t.y-i.y};r.scale=function(r,t,i){r.x=t.x*i;r.y=t.y*i};r.scaleAndAdd=function(r,t,i,n){r.x=t.x+i.x*n;r.y=t.y+i.y*n};r.lerp=function(r,t,i,n){var a=1-n;r.x=a*t.x+n*i.x;r.y=a*t.y+n*i.y};return r}();var Pt=Math.min;var Wt=Math.max;var Vt=new Et;var Ht=new Et;var Yt=new Et;var Xt=new Et;var Gt=new Et;var Ut=new Et;var Zt=function(){function r(r,t,i,n){if(i<0){r=r+i;i=-i}if(n<0){t=t+n;n=-n}this.x=r;this.y=t;this.width=i;this.height=n}r.prototype.union=function(r){var t=Pt(r.x,this.x);var i=Pt(r.y,this.y);if(isFinite(this.x)&&isFinite(this.width)){this.width=Wt(r.x+r.width,this.x+this.width)-t}else{this.width=r.width}if(isFinite(this.y)&&isFinite(this.height)){this.height=Wt(r.y+r.height,this.y+this.height)-i}else{this.height=r.height}this.x=t;this.y=i};r.prototype.applyTransform=function(t){r.applyTransform(this,this,t)};r.prototype.calculateTransform=function(r){var t=this;var i=r.width/t.width;var n=r.height/t.height;var a=Tt();Dt(a,a,[-t.x,-t.y]);Ft(a,a,[i,n]);Dt(a,a,[r.x,r.y]);return a};r.prototype.intersect=function(t,i){if(!t){return false}if(!(t instanceof r)){t=r.create(t)}var n=this;var a=n.x;var e=n.x+n.width;var u=n.y;var o=n.y+n.height;var v=t.x;var s=t.x+t.width;var f=t.y;var l=t.y+t.height;var h=!(e<v||s<a||o<f||l<u);if(i){var c=Infinity;var d=0;var p=Math.abs(e-v);var m=Math.abs(s-a);var y=Math.abs(o-f);var g=Math.abs(l-u);var b=Math.min(p,m);var w=Math.min(y,g);if(e<v||s<a){if(b>d){d=b;if(p<m){Et.set(Ut,-p,0)}else{Et.set(Ut,m,0)}}}else{if(b<c){c=b;if(p<m){Et.set(Gt,p,0)}else{Et.set(Gt,-m,0)}}}if(o<f||l<u){if(w>d){d=w;if(y<g){Et.set(Ut,0,-y)}else{Et.set(Ut,0,g)}}}else{if(b<c){c=b;if(y<g){Et.set(Gt,0,y)}else{Et.set(Gt,0,-g)}}}}if(i){Et.copy(i,h?Gt:Ut)}return h};r.prototype.contain=function(r,t){var i=this;return r>=i.x&&r<=i.x+i.width&&t>=i.y&&t<=i.y+i.height};r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)};r.prototype.copy=function(t){r.copy(this,t)};r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}};r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)};r.prototype.isZero=function(){return this.width===0||this.height===0};r.create=function(t){return new r(t.x,t.y,t.width,t.height)};r.copy=function(r,t){r.x=t.x;r.y=t.y;r.width=t.width;r.height=t.height};r.applyTransform=function(t,i,n){if(!n){if(t!==i){r.copy(t,i)}return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var a=n[0];var e=n[3];var u=n[4];var o=n[5];t.x=i.x*a+u;t.y=i.y*e+o;t.width=i.width*a;t.height=i.height*e;if(t.width<0){t.x+=t.width;t.width=-t.width}if(t.height<0){t.y+=t.height;t.height=-t.height}return}Vt.x=Yt.x=i.x;Vt.y=Xt.y=i.y;Ht.x=Xt.x=i.x+i.width;Ht.y=Yt.y=i.y+i.height;Vt.transform(n);Xt.transform(n);Ht.transform(n);Yt.transform(n);t.x=Pt(Vt.x,Ht.x,Yt.x,Xt.x);t.y=Pt(Vt.y,Ht.y,Yt.y,Xt.y);var v=Wt(Vt.x,Ht.x,Yt.x,Xt.x);var s=Wt(Vt.y,Ht.y,Yt.y,Xt.y);t.width=v-t.x;t.height=s-t.y};return r}();var jt="silent";function qt(r,t,i){return{type:r,event:i,target:t.target,topTarget:t.topTarget,cancelBubble:false,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:Kt}}function Kt(){St(this.event)}var Jt=function(r){Lr(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t.handler=null;return t}t.prototype.dispose=function(){};t.prototype.setCursor=function(){};return t}(Qr);var $t=function(){function r(r,t){this.x=r;this.y=t}return r}();var Qt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var ri=new Zt(0,0,0,0);var ti=function(r){Lr(t,r);function t(t,i,n,a,e){var u=r.call(this)||this;u._hovered=new $t(0,0);u.storage=t;u.painter=i;u.painterRoot=a;u._pointerSize=e;n=n||new Jt;u.proxy=null;u.setHandlerProxy(n);u._draggingMgr=new $r(u);return u}t.prototype.setHandlerProxy=function(r){if(this.proxy){this.proxy.dispose()}if(r){V(Qt,(function(t){r.on&&r.on(t,this[t],this)}),this);r.handler=this}this.proxy=r};t.prototype.mousemove=function(r){var t=r.zrX;var i=r.zrY;var n=ai(this,t,i);var a=this._hovered;var e=a.target;if(e&&!e.__zr){a=this.findHover(a.x,a.y);e=a.target}var u=this._hovered=n?new $t(t,i):this.findHover(t,i);var o=u.target;var v=this.proxy;v.setCursor&&v.setCursor(o?o.cursor:"default");if(e&&o!==e){this.dispatchToElement(a,"mouseout",r)}this.dispatchToElement(u,"mousemove",r);if(o&&o!==e){this.dispatchToElement(u,"mouseover",r)}};t.prototype.mouseout=function(r){var t=r.zrEventControl;if(t!=="only_globalout"){this.dispatchToElement(this._hovered,"mouseout",r)}if(t!=="no_globalout"){this.trigger("globalout",{type:"globalout",event:r})}};t.prototype.resize=function(){this._hovered=new $t(0,0)};t.prototype.dispatch=function(r,t){var i=this[r];i&&i.call(this,t)};t.prototype.dispose=function(){this.proxy.dispose();this.storage=null;this.proxy=null;this.painter=null};t.prototype.setCursorStyle=function(r){var t=this.proxy;t.setCursor&&t.setCursor(r)};t.prototype.dispatchToElement=function(r,t,i){r=r||{};var n=r.target;if(n&&n.silent){return}var a="on"+t;var e=qt(t,r,i);while(n){n[a]&&(e.cancelBubble=!!n[a].call(n,e));n.trigger(t,e);n=n.__hostTarget?n.__hostTarget:n.parent;if(e.cancelBubble){break}}if(!e.cancelBubble){this.trigger(t,e);if(this.painter&&this.painter.eachOtherLayer){this.painter.eachOtherLayer((function(r){if(typeof r[a]==="function"){r[a].call(r,e)}if(r.trigger){r.trigger(t,e)}}))}}};t.prototype.findHover=function(r,t,i){var n=this.storage.getDisplayList();var a=new $t(r,t);ni(n,a,r,t,i);if(this._pointerSize&&!a.target){var e=[];var u=this._pointerSize;var o=u/2;var v=new Zt(r-o,t-o,u,u);for(var s=n.length-1;s>=0;s--){var f=n[s];if(f!==i&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)){ri.copy(f.getBoundingRect());if(f.transform){ri.applyTransform(f.transform)}if(ri.intersect(v)){e.push(f)}}}if(e.length){var l=4;var h=Math.PI/12;var c=Math.PI*2;for(var d=0;d<o;d+=l){for(var p=0;p<c;p+=h){var m=r+d*Math.cos(p);var y=t+d*Math.sin(p);ni(e,a,m,y,i);if(a.target){return a}}}}}return a};t.prototype.processGesture=function(r,t){if(!this._gestureMgr){this._gestureMgr=new Nt}var i=this._gestureMgr;t==="start"&&i.clear();var n=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);t==="end"&&i.clear();if(n){var a=n.type;r.gestureEvent=a;var e=new $t;e.target=n.target;this.dispatchToElement(e,a,n.event)}};return t}(Qr);V(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(r){ti.prototype[r]=function(t){var i=t.zrX;var n=t.zrY;var a=ai(this,i,n);var e;var u;if(r!=="mouseup"||!a){e=this.findHover(i,n);u=e.target}if(r==="mousedown"){this._downEl=u;this._downPoint=[t.zrX,t.zrY];this._upEl=u}else if(r==="mouseup"){this._upEl=u}else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||Xr(this._downPoint,[t.zrX,t.zrY])>4){return}this._downPoint=null}this.dispatchToElement(e,r,t)}}));function ii(r,t,i){if(r[r.rectHover?"rectContain":"contain"](t,i)){var n=r;var a=void 0;var e=false;while(n){if(n.ignoreClip){e=true}if(!e){var u=n.getClipPath();if(u&&!u.contain(t,i)){return false}if(n.silent){a=true}}var o=n.__hostTarget;n=o?o:n.parent}return a?jt:true}return false}function ni(r,t,i,n,a){for(var e=r.length-1;e>=0;e--){var u=r[e];var o=void 0;if(u!==a&&!u.ignore&&(o=ii(u,i,n))){!t.topTarget&&(t.topTarget=u);if(o!==jt){t.target=u;break}}}}function ai(r,t,i){var n=r.painter;return t<0||t>n.getWidth()||i<0||i>n.getHeight()}var ei=32;var ui=7;function oi(r){var t=0;while(r>=ei){t|=r&1;r>>=1}return r+t}function vi(r,t,i,n){var a=t+1;if(a===i){return 1}if(n(r[a++],r[t])<0){while(a<i&&n(r[a],r[a-1])<0){a++}si(r,t,a)}else{while(a<i&&n(r[a],r[a-1])>=0){a++}}return a-t}function si(r,t,i){i--;while(t<i){var n=r[t];r[t++]=r[i];r[i--]=n}}function fi(r,t,i,n,a){if(n===t){n++}for(;n<i;n++){var e=r[n];var u=t;var o=n;var v;while(u<o){v=u+o>>>1;if(a(e,r[v])<0){o=v}else{u=v+1}}var s=n-u;switch(s){case 3:r[u+3]=r[u+2];case 2:r[u+2]=r[u+1];case 1:r[u+1]=r[u];break;default:while(s>0){r[u+s]=r[u+s-1];s--}}r[u]=e}}function li(r,t,i,n,a,e){var u=0;var o=0;var v=1;if(e(r,t[i+a])>0){o=n-a;while(v<o&&e(r,t[i+a+v])>0){u=v;v=(v<<1)+1;if(v<=0){v=o}}if(v>o){v=o}u+=a;v+=a}else{o=a+1;while(v<o&&e(r,t[i+a-v])<=0){u=v;v=(v<<1)+1;if(v<=0){v=o}}if(v>o){v=o}var s=u;u=a-v;v=a-s}u++;while(u<v){var f=u+(v-u>>>1);if(e(r,t[i+f])>0){u=f+1}else{v=f}}return v}function hi(r,t,i,n,a,e){var u=0;var o=0;var v=1;if(e(r,t[i+a])<0){o=a+1;while(v<o&&e(r,t[i+a-v])<0){u=v;v=(v<<1)+1;if(v<=0){v=o}}if(v>o){v=o}var s=u;u=a-v;v=a-s}else{o=n-a;while(v<o&&e(r,t[i+a+v])>=0){u=v;v=(v<<1)+1;if(v<=0){v=o}}if(v>o){v=o}u+=a;v+=a}u++;while(u<v){var f=u+(v-u>>>1);if(e(r,t[i+f])<0){v=f}else{u=f+1}}return v}function ci(r,t){var i=ui;var n;var a;var e=0;var u=[];n=[];a=[];function o(r,t){n[e]=r;a[e]=t;e+=1}function v(){while(e>1){var r=e-2;if(r>=1&&a[r-1]<=a[r]+a[r+1]||r>=2&&a[r-2]<=a[r]+a[r-1]){if(a[r-1]<a[r+1]){r--}}else if(a[r]>a[r+1]){break}f(r)}}function s(){while(e>1){var r=e-2;if(r>0&&a[r-1]<a[r+1]){r--}f(r)}}function f(i){var u=n[i];var o=a[i];var v=n[i+1];var s=a[i+1];a[i]=o+s;if(i===e-3){n[i+1]=n[i+2];a[i+1]=a[i+2]}e--;var f=hi(r[v],r,u,o,0,t);u+=f;o-=f;if(o===0){return}s=li(r[u+o-1],r,v,s,s-1,t);if(s===0){return}if(o<=s){l(u,o,v,s)}else{h(u,o,v,s)}}function l(n,a,e,o){var v=0;for(v=0;v<a;v++){u[v]=r[n+v]}var s=0;var f=e;var l=n;r[l++]=r[f++];if(--o===0){for(v=0;v<a;v++){r[l+v]=u[s+v]}return}if(a===1){for(v=0;v<o;v++){r[l+v]=r[f+v]}r[l+o]=u[s];return}var h=i;var c;var d;var p;while(1){c=0;d=0;p=false;do{if(t(r[f],u[s])<0){r[l++]=r[f++];d++;c=0;if(--o===0){p=true;break}}else{r[l++]=u[s++];c++;d=0;if(--a===1){p=true;break}}}while((c|d)<h);if(p){break}do{c=hi(r[f],u,s,a,0,t);if(c!==0){for(v=0;v<c;v++){r[l+v]=u[s+v]}l+=c;s+=c;a-=c;if(a<=1){p=true;break}}r[l++]=r[f++];if(--o===0){p=true;break}d=li(u[s],r,f,o,0,t);if(d!==0){for(v=0;v<d;v++){r[l+v]=r[f+v]}l+=d;f+=d;o-=d;if(o===0){p=true;break}}r[l++]=u[s++];if(--a===1){p=true;break}h--}while(c>=ui||d>=ui);if(p){break}if(h<0){h=0}h+=2}i=h;i<1&&(i=1);if(a===1){for(v=0;v<o;v++){r[l+v]=r[f+v]}r[l+o]=u[s]}else if(a===0){throw new Error}else{for(v=0;v<a;v++){r[l+v]=u[s+v]}}}function h(n,a,e,o){var v=0;for(v=0;v<o;v++){u[v]=r[e+v]}var s=n+a-1;var f=o-1;var l=e+o-1;var h=0;var c=0;r[l--]=r[s--];if(--a===0){h=l-(o-1);for(v=0;v<o;v++){r[h+v]=u[v]}return}if(o===1){l-=a;s-=a;c=l+1;h=s+1;for(v=a-1;v>=0;v--){r[c+v]=r[h+v]}r[l]=u[f];return}var d=i;while(true){var p=0;var m=0;var y=false;do{if(t(u[f],r[s])<0){r[l--]=r[s--];p++;m=0;if(--a===0){y=true;break}}else{r[l--]=u[f--];m++;p=0;if(--o===1){y=true;break}}}while((p|m)<d);if(y){break}do{p=a-hi(u[f],r,n,a,a-1,t);if(p!==0){l-=p;s-=p;a-=p;c=l+1;h=s+1;for(v=p-1;v>=0;v--){r[c+v]=r[h+v]}if(a===0){y=true;break}}r[l--]=u[f--];if(--o===1){y=true;break}m=o-li(r[s],u,0,o,o-1,t);if(m!==0){l-=m;f-=m;o-=m;c=l+1;h=f+1;for(v=0;v<m;v++){r[c+v]=u[h+v]}if(o<=1){y=true;break}}r[l--]=r[s--];if(--a===0){y=true;break}d--}while(p>=ui||m>=ui);if(y){break}if(d<0){d=0}d+=2}i=d;if(i<1){i=1}if(o===1){l-=a;s-=a;c=l+1;h=s+1;for(v=a-1;v>=0;v--){r[c+v]=r[h+v]}r[l]=u[f]}else if(o===0){throw new Error}else{h=l-(o-1);for(v=0;v<o;v++){r[h+v]=u[v]}}}return{mergeRuns:v,forceMergeRuns:s,pushRun:o}}function di(r,t,i,n){if(!i){i=0}if(!n){n=r.length}var a=n-i;if(a<2){return}var e=0;if(a<ei){e=vi(r,i,n,t);fi(r,i,n,i+e,t);return}var u=ci(r,t);var o=oi(a);do{e=vi(r,i,n,t);if(e<o){var v=a;if(v>o){v=o}fi(r,i,i+v,i+e,t);e=v}u.pushRun(i,e);u.mergeRuns();a-=e;i+=e}while(a!==0);u.forceMergeRuns()}var pi=1;var mi=2;var yi=4;var gi=false;function bi(){if(gi){return}gi=true;console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors")}function wi(r,t){if(r.zlevel===t.zlevel){if(r.z===t.z){return r.z2-t.z2}return r.z-t.z}return r.zlevel-t.zlevel}var xi=function(){function r(){this._roots=[];this._displayList=[];this._displayListLen=0;this.displayableSortFunc=wi}r.prototype.traverse=function(r,t){for(var i=0;i<this._roots.length;i++){this._roots[i].traverse(r,t)}};r.prototype.getDisplayList=function(r,t){t=t||false;var i=this._displayList;if(r||!i.length){this.updateDisplayList(t)}return i};r.prototype.updateDisplayList=function(r){this._displayListLen=0;var t=this._roots;var i=this._displayList;for(var n=0,a=t.length;n<a;n++){this._updateAndAddDisplayable(t[n],null,r)}i.length=this._displayListLen;di(i,wi)};r.prototype._updateAndAddDisplayable=function(r,t,i){if(r.ignore&&!i){return}r.beforeUpdate();r.update();r.afterUpdate();var n=r.getClipPath();if(r.ignoreClip){t=null}else if(n){if(t){t=t.slice()}else{t=[]}var a=n;var e=r;while(a){a.parent=e;a.updateTransform();t.push(a);e=a;a=a.getClipPath()}}if(r.childrenRef){var u=r.childrenRef();for(var o=0;o<u.length;o++){var v=u[o];if(r.__dirty){v.__dirty|=pi}this._updateAndAddDisplayable(v,t,i)}r.__dirty=0}else{var s=r;if(t&&t.length){s.__clipPaths=t}else if(s.__clipPaths&&s.__clipPaths.length>0){s.__clipPaths=[]}if(isNaN(s.z)){bi();s.z=0}if(isNaN(s.z2)){bi();s.z2=0}if(isNaN(s.zlevel)){bi();s.zlevel=0}this._displayList[this._displayListLen++]=s}var f=r.getDecalElement&&r.getDecalElement();if(f){this._updateAndAddDisplayable(f,t,i)}var l=r.getTextGuideLine();if(l){this._updateAndAddDisplayable(l,t,i)}var h=r.getTextContent();if(h){this._updateAndAddDisplayable(h,t,i)}};r.prototype.addRoot=function(r){if(r.__zr&&r.__zr.storage===this){return}this._roots.push(r)};r.prototype.delRoot=function(r){if(r instanceof Array){for(var t=0,i=r.length;t<i;t++){this.delRoot(r[t])}return}var n=_(this._roots,r);if(n>=0){this._roots.splice(n,1)}};r.prototype.delAllRoots=function(){this._roots=[];this._displayList=[];this._displayListLen=0;return};r.prototype.getRoots=function(){return this._roots};r.prototype.dispose=function(){this._displayList=null;this._roots=null};return r}();var Mi;Mi=o.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};const Si=Mi;var ki={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){if((r*=2)<1){return.5*r*r}return-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){if((r*=2)<1){return.5*r*r*r}return.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){if((r*=2)<1){return.5*r*r*r*r}return-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){if((r*=2)<1){return.5*r*r*r*r*r}return.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return.5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){if(r===0){return 0}if(r===1){return 1}if((r*=2)<1){return.5*Math.pow(1024,r-1)}return.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){if((r*=2)<1){return-.5*(Math.sqrt(1-r*r)-1)}return.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var t;var i=.1;var n=.4;if(r===0){return 0}if(r===1){return 1}if(!i||i<1){i=1;t=n/4}else{t=n*Math.asin(1/i)/(2*Math.PI)}return-(i*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n))},elasticOut:function(r){var t;var i=.1;var n=.4;if(r===0){return 0}if(r===1){return 1}if(!i||i<1){i=1;t=n/4}else{t=n*Math.asin(1/i)/(2*Math.PI)}return i*Math.pow(2,-10*r)*Math.sin((r-t)*(2*Math.PI)/n)+1},elasticInOut:function(r){var t;var i=.1;var n=.4;if(r===0){return 0}if(r===1){return 1}if(!i||i<1){i=1;t=n/4}else{t=n*Math.asin(1/i)/(2*Math.PI)}if((r*=2)<1){return-.5*(i*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n))}return i*Math.pow(2,-10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)*.5+1},backIn:function(r){var t=1.70158;return r*r*((t+1)*r-t)},backOut:function(r){var t=1.70158;return--r*r*((t+1)*r+t)+1},backInOut:function(r){var t=1.70158*1.525;if((r*=2)<1){return.5*(r*r*((t+1)*r-t))}return.5*((r-=2)*r*((t+1)*r+t)+2)},bounceIn:function(r){return 1-ki.bounceOut(1-r)},bounceOut:function(r){if(r<1/2.75){return 7.5625*r*r}else if(r<2/2.75){return 7.5625*(r-=1.5/2.75)*r+.75}else if(r<2.5/2.75){return 7.5625*(r-=2.25/2.75)*r+.9375}else{return 7.5625*(r-=2.625/2.75)*r+.984375}},bounceInOut:function(r){if(r<.5){return ki.bounceIn(r*2)*.5}return ki.bounceOut(r*2-1)*.5+.5}};var Ni=Math.pow;var Ai=Math.sqrt;var Ii=1e-8;var Ci=1e-4;var Ti=Ai(3);var zi=1/3;var Li=Or();var Oi=Or();var Di=Or();function Ri(r){return r>-Ii&&r<Ii}function Fi(r){return r>Ii||r<-Ii}function Bi(r,t,i,n,a){var e=1-a;return e*e*(e*r+3*a*t)+a*a*(a*n+3*e*i)}function _i(r,t,i,n,a){var e=1-a;return 3*(((t-r)*e+2*(i-t)*a)*e+(n-i)*a*a)}function Ei(r,t,i,n,a,e){var u=n+3*(t-i)-r;var o=3*(i-t*2+r);var v=3*(t-r);var s=r-a;var f=o*o-3*u*v;var l=o*v-9*u*s;var h=v*v-3*o*s;var c=0;if(Ri(f)&&Ri(l)){if(Ri(o)){e[0]=0}else{var d=-v/o;if(d>=0&&d<=1){e[c++]=d}}}else{var p=l*l-4*f*h;if(Ri(p)){var m=l/f;var d=-o/u+m;var y=-m/2;if(d>=0&&d<=1){e[c++]=d}if(y>=0&&y<=1){e[c++]=y}}else if(p>0){var g=Ai(p);var b=f*o+1.5*u*(-l+g);var w=f*o+1.5*u*(-l-g);if(b<0){b=-Ni(-b,zi)}else{b=Ni(b,zi)}if(w<0){w=-Ni(-w,zi)}else{w=Ni(w,zi)}var d=(-o-(b+w))/(3*u);if(d>=0&&d<=1){e[c++]=d}}else{var x=(2*f*o-3*u*l)/(2*Ai(f*f*f));var M=Math.acos(x)/3;var S=Ai(f);var k=Math.cos(M);var d=(-o-2*S*k)/(3*u);var y=(-o+S*(k+Ti*Math.sin(M)))/(3*u);var N=(-o+S*(k-Ti*Math.sin(M)))/(3*u);if(d>=0&&d<=1){e[c++]=d}if(y>=0&&y<=1){e[c++]=y}if(N>=0&&N<=1){e[c++]=N}}}return c}function Pi(r,t,i,n,a){var e=6*i-12*t+6*r;var u=9*t+3*n-3*r-9*i;var o=3*t-3*r;var v=0;if(Ri(u)){if(Fi(e)){var s=-o/e;if(s>=0&&s<=1){a[v++]=s}}}else{var f=e*e-4*u*o;if(Ri(f)){a[0]=-e/(2*u)}else if(f>0){var l=Ai(f);var s=(-e+l)/(2*u);var h=(-e-l)/(2*u);if(s>=0&&s<=1){a[v++]=s}if(h>=0&&h<=1){a[v++]=h}}}return v}function Wi(r,t,i,n,a,e){var u=(t-r)*a+r;var o=(i-t)*a+t;var v=(n-i)*a+i;var s=(o-u)*a+u;var f=(v-o)*a+o;var l=(f-s)*a+s;e[0]=r;e[1]=u;e[2]=s;e[3]=l;e[4]=l;e[5]=f;e[6]=v;e[7]=n}function Vi(r,t,i,n,a,e,u,o,v,s,f){var l;var h=.005;var c=Infinity;var d;var p;var m;var y;Li[0]=v;Li[1]=s;for(var g=0;g<1;g+=.05){Oi[0]=Bi(r,i,a,u,g);Oi[1]=Bi(t,n,e,o,g);m=Ur(Li,Oi);if(m<c){l=g;c=m}}c=Infinity;for(var b=0;b<32;b++){if(h<Ci){break}d=l-h;p=l+h;Oi[0]=Bi(r,i,a,u,d);Oi[1]=Bi(t,n,e,o,d);m=Ur(Oi,Li);if(d>=0&&m<c){l=d;c=m}else{Di[0]=Bi(r,i,a,u,p);Di[1]=Bi(t,n,e,o,p);y=Ur(Di,Li);if(p<=1&&y<c){l=p;c=y}else{h*=.5}}}if(f){f[0]=Bi(r,i,a,u,l);f[1]=Bi(t,n,e,o,l)}return Ai(c)}function Hi(r,t,i,n,a,e,u,o,v){var s=r;var f=t;var l=0;var h=1/v;for(var c=1;c<=v;c++){var d=c*h;var p=Bi(r,i,a,u,d);var m=Bi(t,n,e,o,d);var y=p-s;var g=m-f;l+=Math.sqrt(y*y+g*g);s=p;f=m}return l}function Yi(r,t,i,n){var a=1-n;return a*(a*r+2*n*t)+n*n*i}function Xi(r,t,i,n){return 2*((1-n)*(t-r)+n*(i-t))}function Gi(r,t,i,n,a){var e=r-2*t+i;var u=2*(t-r);var o=r-n;var v=0;if(Ri(e)){if(Fi(u)){var s=-o/u;if(s>=0&&s<=1){a[v++]=s}}}else{var f=u*u-4*e*o;if(Ri(f)){var s=-u/(2*e);if(s>=0&&s<=1){a[v++]=s}}else if(f>0){var l=Ai(f);var s=(-u+l)/(2*e);var h=(-u-l)/(2*e);if(s>=0&&s<=1){a[v++]=s}if(h>=0&&h<=1){a[v++]=h}}}return v}function Ui(r,t,i){var n=r+i-2*t;if(n===0){return.5}else{return(r-t)/n}}function Zi(r,t,i,n,a){var e=(t-r)*n+r;var u=(i-t)*n+t;var o=(u-e)*n+e;a[0]=r;a[1]=e;a[2]=o;a[3]=o;a[4]=u;a[5]=i}function ji(r,t,i,n,a,e,u,o,v){var s;var f=.005;var l=Infinity;Li[0]=u;Li[1]=o;for(var h=0;h<1;h+=.05){Oi[0]=Yi(r,i,a,h);Oi[1]=Yi(t,n,e,h);var c=Ur(Li,Oi);if(c<l){s=h;l=c}}l=Infinity;for(var d=0;d<32;d++){if(f<Ci){break}var p=s-f;var m=s+f;Oi[0]=Yi(r,i,a,p);Oi[1]=Yi(t,n,e,p);var c=Ur(Oi,Li);if(p>=0&&c<l){s=p;l=c}else{Di[0]=Yi(r,i,a,m);Di[1]=Yi(t,n,e,m);var y=Ur(Di,Li);if(m<=1&&y<l){s=m;l=y}else{f*=.5}}}if(v){v[0]=Yi(r,i,a,s);v[1]=Yi(t,n,e,s)}return Ai(l)}function qi(r,t,i,n,a,e,u){var o=r;var v=t;var s=0;var f=1/u;for(var l=1;l<=u;l++){var h=l*f;var c=Yi(r,i,a,h);var d=Yi(t,n,e,h);var p=c-o;var m=d-v;s+=Math.sqrt(p*p+m*m);o=c;v=d}return s}var Ki=/cubic-bezier\(([0-9,\.e ]+)\)/;function Ji(r){var t=r&&Ki.exec(r);if(t){var i=t[1].split(",");var n=+pr(i[0]);var a=+pr(i[1]);var e=+pr(i[2]);var u=+pr(i[3]);if(isNaN(n+a+e+u)){return}var o=[];return function(r){return r<=0?0:r>=1?1:Ei(0,n,e,1,r,o)&&Bi(0,a,u,1,o[0])}}}var $i=function(){function r(r){this._inited=false;this._startTime=0;this._pausedTime=0;this._paused=false;this._life=r.life||1e3;this._delay=r.delay||0;this.loop=r.loop||false;this.onframe=r.onframe||Cr;this.ondestroy=r.ondestroy||Cr;this.onrestart=r.onrestart||Cr;r.easing&&this.setEasing(r.easing)}r.prototype.step=function(r,t){if(!this._inited){this._startTime=r+this._delay;this._inited=true}if(this._paused){this._pausedTime+=t;return}var i=this._life;var n=r-this._startTime-this._pausedTime;var a=n/i;if(a<0){a=0}a=Math.min(a,1);var e=this.easingFunc;var u=e?e(a):a;this.onframe(u);if(a===1){if(this.loop){var o=n%i;this._startTime=r-o;this._pausedTime=0;this.onrestart()}else{return true}}return false};r.prototype.pause=function(){this._paused=true};r.prototype.resume=function(){this._paused=false};r.prototype.setEasing=function(r){this.easing=r;this.easingFunc=J(r)?r:ki[r]||Ji(r)};return r}();var Qi=function(){function r(r){this.value=r}return r}();var rn=function(){function r(){this._len=0}r.prototype.insert=function(r){var t=new Qi(r);this.insertEntry(t);return t};r.prototype.insertEntry=function(r){if(!this.head){this.head=this.tail=r}else{this.tail.next=r;r.prev=this.tail;r.next=null;this.tail=r}this._len++};r.prototype.remove=function(r){var t=r.prev;var i=r.next;if(t){t.next=i}else{this.head=i}if(i){i.prev=t}else{this.tail=t}r.next=r.prev=null;this._len--};r.prototype.len=function(){return this._len};r.prototype.clear=function(){this.head=this.tail=null;this._len=0};return r}();var tn=function(){function r(r){this._list=new rn;this._maxSize=10;this._map={};this._maxSize=r}r.prototype.put=function(r,t){var i=this._list;var n=this._map;var a=null;if(n[r]==null){var e=i.len();var u=this._lastRemovedEntry;if(e>=this._maxSize&&e>0){var o=i.head;i.remove(o);delete n[o.key];a=o.value;this._lastRemovedEntry=o}if(u){u.value=t}else{u=new Qi(t)}u.key=r;i.insertEntry(u);n[r]=u}return a};r.prototype.get=function(r){var t=this._map[r];var i=this._list;if(t!=null){if(t!==i.tail){i.remove(t);i.insertEntry(t)}return t.value}};r.prototype.clear=function(){this._list.clear();this._map={}};r.prototype.len=function(){return this._list.len()};return r}();var nn={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function an(r){r=Math.round(r);return r<0?0:r>255?255:r}function en(r){r=Math.round(r);return r<0?0:r>360?360:r}function un(r){return r<0?0:r>1?1:r}function on(r){var t=r;if(t.length&&t.charAt(t.length-1)==="%"){return an(parseFloat(t)/100*255)}return an(parseInt(t,10))}function vn(r){var t=r;if(t.length&&t.charAt(t.length-1)==="%"){return un(parseFloat(t)/100)}return un(parseFloat(t))}function sn(r,t,i){if(i<0){i+=1}else if(i>1){i-=1}if(i*6<1){return r+(t-r)*i*6}if(i*2<1){return t}if(i*3<2){return r+(t-r)*(2/3-i)*6}return r}function fn(r,t,i){return r+(t-r)*i}function ln(r,t,i,n,a){r[0]=t;r[1]=i;r[2]=n;r[3]=a;return r}function hn(r,t){r[0]=t[0];r[1]=t[1];r[2]=t[2];r[3]=t[3];return r}var cn=new tn(20);var dn=null;function pn(r,t){if(dn){hn(dn,t)}dn=cn.put(r,dn||t.slice())}function mn(r,t){if(!r){return}t=t||[];var i=cn.get(r);if(i){return hn(t,i)}r=r+"";var n=r.replace(/ /g,"").toLowerCase();if(n in nn){hn(t,nn[n]);pn(r,t);return t}var a=n.length;if(n.charAt(0)==="#"){if(a===4||a===5){var e=parseInt(n.slice(1,4),16);if(!(e>=0&&e<=4095)){ln(t,0,0,0,1);return}ln(t,(e&3840)>>4|(e&3840)>>8,e&240|(e&240)>>4,e&15|(e&15)<<4,a===5?parseInt(n.slice(4),16)/15:1);pn(r,t);return t}else if(a===7||a===9){var e=parseInt(n.slice(1,7),16);if(!(e>=0&&e<=16777215)){ln(t,0,0,0,1);return}ln(t,(e&16711680)>>16,(e&65280)>>8,e&255,a===9?parseInt(n.slice(7),16)/255:1);pn(r,t);return t}return}var u=n.indexOf("(");var o=n.indexOf(")");if(u!==-1&&o+1===a){var v=n.substr(0,u);var s=n.substr(u+1,o-(u+1)).split(",");var f=1;switch(v){case"rgba":if(s.length!==4){return s.length===3?ln(t,+s[0],+s[1],+s[2],1):ln(t,0,0,0,1)}f=vn(s.pop());case"rgb":if(s.length>=3){ln(t,on(s[0]),on(s[1]),on(s[2]),s.length===3?f:vn(s[3]));pn(r,t);return t}else{ln(t,0,0,0,1);return}case"hsla":if(s.length!==4){ln(t,0,0,0,1);return}s[3]=vn(s[3]);yn(s,t);pn(r,t);return t;case"hsl":if(s.length!==3){ln(t,0,0,0,1);return}yn(s,t);pn(r,t);return t;default:return}}ln(t,0,0,0,1);return}function yn(r,t){var i=(parseFloat(r[0])%360+360)%360/360;var n=vn(r[1]);var a=vn(r[2]);var e=a<=.5?a*(n+1):a+n-a*n;var u=a*2-e;t=t||[];ln(t,an(sn(u,e,i+1/3)*255),an(sn(u,e,i)*255),an(sn(u,e,i-1/3)*255),1);if(r.length===4){t[3]=r[3]}return t}function gn(r){if(!r){return}var t=r[0]/255;var i=r[1]/255;var n=r[2]/255;var a=Math.min(t,i,n);var e=Math.max(t,i,n);var u=e-a;var o=(e+a)/2;var v;var s;if(u===0){v=0;s=0}else{if(o<.5){s=u/(e+a)}else{s=u/(2-e-a)}var f=((e-t)/6+u/2)/u;var l=((e-i)/6+u/2)/u;var h=((e-n)/6+u/2)/u;if(t===e){v=h-l}else if(i===e){v=1/3+f-h}else if(n===e){v=2/3+l-f}if(v<0){v+=1}if(v>1){v-=1}}var c=[v*360,s,o];if(r[3]!=null){c.push(r[3])}return c}function bn(r,t){var i=mn(r);if(i){for(var n=0;n<3;n++){if(t<0){i[n]=i[n]*(1-t)|0}else{i[n]=(255-i[n])*t+i[n]|0}if(i[n]>255){i[n]=255}else if(i[n]<0){i[n]=0}}return kn(i,i.length===4?"rgba":"rgb")}}function wn(r,t,i){if(!(t&&t.length)||!(r>=0&&r<=1)){return}i=i||[];var n=r*(t.length-1);var a=Math.floor(n);var e=Math.ceil(n);var u=t[a];var o=t[e];var v=n-a;i[0]=an(fn(u[0],o[0],v));i[1]=an(fn(u[1],o[1],v));i[2]=an(fn(u[2],o[2],v));i[3]=un(fn(u[3],o[3],v));return i}function xn(r,t,i){if(!(t&&t.length)||!(r>=0&&r<=1)){return}var n=r*(t.length-1);var a=Math.floor(n);var e=Math.ceil(n);var u=mn(t[a]);var o=mn(t[e]);var v=n-a;var s=kn([an(fn(u[0],o[0],v)),an(fn(u[1],o[1],v)),an(fn(u[2],o[2],v)),un(fn(u[3],o[3],v))],"rgba");return i?{color:s,leftIndex:a,rightIndex:e,value:n}:s}function Mn(r,t,i,n){var a=mn(r);if(r){a=gn(a);t!=null&&(a[0]=en(t));i!=null&&(a[1]=vn(i));n!=null&&(a[2]=vn(n));return kn(yn(a),"rgba")}}function Sn(r,t){var i=mn(r);if(i&&t!=null){i[3]=un(t);return kn(i,"rgba")}}function kn(r,t){if(!r||!r.length){return}var i=r[0]+","+r[1]+","+r[2];if(t==="rgba"||t==="hsva"||t==="hsla"){i+=","+r[3]}return t+"("+i+")"}function Nn(r,t){var i=mn(r);return i?(.299*i[0]+.587*i[1]+.114*i[2])*i[3]/255+(1-i[3])*t:0}var An=Math.round;function In(r){var t;if(!r||r==="transparent"){r="none"}else if(typeof r==="string"&&r.indexOf("rgba")>-1){var i=mn(r);if(i){r="rgb("+i[0]+","+i[1]+","+i[2]+")";t=i[3]}}return{color:r,opacity:t==null?1:t}}var Cn=1e-4;function Tn(r){return r<Cn&&r>-Cn}function zn(r){return An(r*1e3)/1e3}function Ln(r){return An(r*1e4)/1e4}function On(r){return"matrix("+zn(r[0])+","+zn(r[1])+","+zn(r[2])+","+zn(r[3])+","+Ln(r[4])+","+Ln(r[5])+")"}var Dn={left:"start",right:"end",center:"middle",middle:"middle"};function Rn(r,t,i){if(i==="top"){r+=t/2}else if(i==="bottom"){r-=t/2}return r}function Fn(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}function Bn(r){var t=r.style;var i=r.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),i[0],i[1]].join(",")}function _n(r){return r&&!!r.image}function En(r){return r&&!!r.svgElement}function Pn(r){return _n(r)||En(r)}function Wn(r){return r.type==="linear"}function Vn(r){return r.type==="radial"}function Hn(r){return r&&(r.type==="linear"||r.type==="radial")}function Yn(r){return"url(#"+r+")"}function Xn(r){var t=r.getGlobalScale();var i=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(i)/Math.log(10)),1)}function Gn(r){var t=r.x||0;var i=r.y||0;var n=(r.rotation||0)*Tr;var a=fr(r.scaleX,1);var e=fr(r.scaleY,1);var u=r.skewX||0;var o=r.skewY||0;var v=[];if(t||i){v.push("translate("+t+"px,"+i+"px)")}if(n){v.push("rotate("+n+")")}if(a!==1||e!==1){v.push("scale("+a+","+e+")")}if(u||o){v.push("skew("+An(u*Tr)+"deg, "+An(o*Tr)+"deg)")}return v.join(" ")}var Un=function(){if(o.hasGlobalWindow&&J(window.btoa)){return function(r){return window.btoa(unescape(encodeURIComponent(r)))}}if(typeof Buffer!=="undefined"){return function(r){return Buffer.from(r).toString("base64")}}return function(r){return null}}();var Zn=Array.prototype.slice;function jn(r,t,i){return(t-r)*i+r}function qn(r,t,i,n){var a=t.length;for(var e=0;e<a;e++){r[e]=jn(t[e],i[e],n)}return r}function Kn(r,t,i,n){var a=t.length;var e=a&&t[0].length;for(var u=0;u<a;u++){if(!r[u]){r[u]=[]}for(var o=0;o<e;o++){r[u][o]=jn(t[u][o],i[u][o],n)}}return r}function Jn(r,t,i,n){var a=t.length;for(var e=0;e<a;e++){r[e]=t[e]+i[e]*n}return r}function $n(r,t,i,n){var a=t.length;var e=a&&t[0].length;for(var u=0;u<a;u++){if(!r[u]){r[u]=[]}for(var o=0;o<e;o++){r[u][o]=t[u][o]+i[u][o]*n}}return r}function Qn(r,t){var i=r.length;var n=t.length;var a=i>n?t:r;var e=Math.min(i,n);var u=a[e-1]||{color:[0,0,0,0],offset:0};for(var o=e;o<Math.max(i,n);o++){a.push({offset:u.offset,color:u.color.slice()})}}function ra(r,t,i){var n=r;var a=t;if(!n.push||!a.push){return}var e=n.length;var u=a.length;if(e!==u){var o=e>u;if(o){n.length=u}else{for(var v=e;v<u;v++){n.push(i===1?a[v]:Zn.call(a[v]))}}}var s=n[0]&&n[0].length;for(var v=0;v<n.length;v++){if(i===1){if(isNaN(n[v])){n[v]=a[v]}}else{for(var f=0;f<s;f++){if(isNaN(n[v][f])){n[v][f]=a[v][f]}}}}}function ta(r){if(W(r)){var t=r.length;if(W(r[0])){var i=[];for(var n=0;n<t;n++){i.push(Zn.call(r[n]))}return i}return Zn.call(r)}return r}function ia(r){r[0]=Math.floor(r[0])||0;r[1]=Math.floor(r[1])||0;r[2]=Math.floor(r[2])||0;r[3]=r[3]==null?1:r[3];return"rgba("+r.join(",")+")"}function na(r){return W(r&&r[0])?2:1}var aa=0;var ea=1;var ua=2;var oa=3;var va=4;var sa=5;var fa=6;function la(r){return r===va||r===sa}function ha(r){return r===ea||r===ua}var ca=[0,0,0,0];var da=function(){function r(r){this.keyframes=[];this.discrete=false;this._invalid=false;this._needsSort=false;this._lastFr=0;this._lastFrP=0;this.propName=r}r.prototype.isFinished=function(){return this._finished};r.prototype.setFinished=function(){this._finished=true;if(this._additiveTrack){this._additiveTrack.setFinished()}};r.prototype.needsAnimate=function(){return this.keyframes.length>=1};r.prototype.getAdditiveTrack=function(){return this._additiveTrack};r.prototype.addKeyframe=function(r,t,i){this._needsSort=true;var n=this.keyframes;var a=n.length;var e=false;var u=fa;var o=t;if(W(t)){var v=na(t);u=v;if(v===1&&!rr(t[0])||v===2&&!rr(t[0][0])){e=true}}else{if(rr(t)&&!vr(t)){u=aa}else if($(t)){if(!isNaN(+t)){u=aa}else{var s=mn(t);if(s){o=s;u=oa}}}else if(er(t)){var f=F({},o);f.colorStops=H(t.colorStops,(function(r){return{offset:r.offset,color:mn(r.color)}}));if(Wn(t)){u=va}else if(Vn(t)){u=sa}o=f}}if(a===0){this.valType=u}else if(u!==this.valType||u===fa){e=true}this.discrete=this.discrete||e;var l={time:r,value:o,rawValue:t,percent:0};if(i){l.easing=i;l.easingFunc=J(i)?i:ki[i]||Ji(i)}n.push(l);return l};r.prototype.prepare=function(r,t){var i=this.keyframes;if(this._needsSort){i.sort((function(r,t){return r.time-t.time}))}var n=this.valType;var a=i.length;var e=i[a-1];var u=this.discrete;var o=ha(n);var v=la(n);for(var s=0;s<a;s++){var f=i[s];var l=f.value;var h=e.value;f.percent=f.time/r;if(!u){if(o&&s!==a-1){ra(l,h,n)}else if(v){Qn(l.colorStops,h.colorStops)}}}if(!u&&n!==sa&&t&&this.needsAnimate()&&t.needsAnimate()&&n===t.valType&&!t._finished){this._additiveTrack=t;var c=i[0].value;for(var s=0;s<a;s++){if(n===aa){i[s].additiveValue=i[s].value-c}else if(n===oa){i[s].additiveValue=Jn([],i[s].value,c,-1)}else if(ha(n)){i[s].additiveValue=n===ea?Jn([],i[s].value,c,-1):$n([],i[s].value,c,-1)}}}};r.prototype.step=function(r,t){if(this._finished){return}if(this._additiveTrack&&this._additiveTrack._finished){this._additiveTrack=null}var i=this._additiveTrack!=null;var n=i?"additiveValue":"value";var a=this.valType;var e=this.keyframes;var u=e.length;var o=this.propName;var v=a===oa;var s;var f=this._lastFr;var l=Math.min;var h;var c;if(u===1){h=c=e[0]}else{if(t<0){s=0}else if(t<this._lastFrP){var d=l(f+1,u-1);for(s=d;s>=0;s--){if(e[s].percent<=t){break}}s=l(s,u-2)}else{for(s=f;s<u;s++){if(e[s].percent>t){break}}s=l(s-1,u-2)}c=e[s+1];h=e[s]}if(!(h&&c)){return}this._lastFr=s;this._lastFrP=t;var p=c.percent-h.percent;var m=p===0?1:l((t-h.percent)/p,1);if(c.easingFunc){m=c.easingFunc(m)}var y=i?this._additiveValue:v?ca:r[o];if((ha(a)||v)&&!y){y=this._additiveValue=[]}if(this.discrete){r[o]=m<1?h.rawValue:c.rawValue}else if(ha(a)){a===ea?qn(y,h[n],c[n],m):Kn(y,h[n],c[n],m)}else if(la(a)){var g=h[n];var b=c[n];var w=a===va;r[o]={type:w?"linear":"radial",x:jn(g.x,b.x,m),y:jn(g.y,b.y,m),colorStops:H(g.colorStops,(function(r,t){var i=b.colorStops[t];return{offset:jn(r.offset,i.offset,m),color:ia(qn([],r.color,i.color,m))}})),global:b.global};if(w){r[o].x2=jn(g.x2,b.x2,m);r[o].y2=jn(g.y2,b.y2,m)}else{r[o].r=jn(g.r,b.r,m)}}else if(v){qn(y,h[n],c[n],m);if(!i){r[o]=ia(y)}}else{var x=jn(h[n],c[n],m);if(i){this._additiveValue=x}else{r[o]=x}}if(i){this._addToTarget(r)}};r.prototype._addToTarget=function(r){var t=this.valType;var i=this.propName;var n=this._additiveValue;if(t===aa){r[i]=r[i]+n}else if(t===oa){mn(r[i],ca);Jn(ca,ca,n,1);r[i]=ia(ca)}else if(t===ea){Jn(r[i],r[i],n,1)}else if(t===ua){$n(r[i],r[i],n,1)}};return r}();var pa=function(){function r(r,t,i,n){this._tracks={};this._trackKeys=[];this._maxTime=0;this._started=0;this._clip=null;this._target=r;this._loop=t;if(t&&n){L("Can' use additive animation on looped animation.");return}this._additiveAnimators=n;this._allowDiscrete=i}r.prototype.getMaxTime=function(){return this._maxTime};r.prototype.getDelay=function(){return this._delay};r.prototype.getLoop=function(){return this._loop};r.prototype.getTarget=function(){return this._target};r.prototype.changeTarget=function(r){this._target=r};r.prototype.when=function(r,t,i){return this.whenWithKeys(r,t,U(t),i)};r.prototype.whenWithKeys=function(r,t,i,n){var a=this._tracks;for(var e=0;e<i.length;e++){var u=i[e];var o=a[u];if(!o){o=a[u]=new da(u);var v=void 0;var s=this._getAdditiveTrack(u);if(s){var f=s.keyframes;var l=f[f.length-1];v=l&&l.value;if(s.valType===oa&&v){v=ia(v)}}else{v=this._target[u]}if(v==null){continue}if(r>0){o.addKeyframe(0,ta(v),n)}this._trackKeys.push(u)}o.addKeyframe(r,ta(t[u]),n)}this._maxTime=Math.max(this._maxTime,r);return this};r.prototype.pause=function(){this._clip.pause();this._paused=true};r.prototype.resume=function(){this._clip.resume();this._paused=false};r.prototype.isPaused=function(){return!!this._paused};r.prototype.duration=function(r){this._maxTime=r;this._force=true;return this};r.prototype._doneCallback=function(){this._setTracksFinished();this._clip=null;var r=this._doneCbs;if(r){var t=r.length;for(var i=0;i<t;i++){r[i].call(this)}}};r.prototype._abortedCallback=function(){this._setTracksFinished();var r=this.animation;var t=this._abortedCbs;if(r){r.removeClip(this._clip)}this._clip=null;if(t){for(var i=0;i<t.length;i++){t[i].call(this)}}};r.prototype._setTracksFinished=function(){var r=this._tracks;var t=this._trackKeys;for(var i=0;i<t.length;i++){r[t[i]].setFinished()}};r.prototype._getAdditiveTrack=function(r){var t;var i=this._additiveAnimators;if(i){for(var n=0;n<i.length;n++){var a=i[n].getTrack(r);if(a){t=a}}}return t};r.prototype.start=function(r){if(this._started>0){return}this._started=1;var t=this;var i=[];var n=this._maxTime||0;for(var a=0;a<this._trackKeys.length;a++){var e=this._trackKeys[a];var u=this._tracks[e];var o=this._getAdditiveTrack(e);var v=u.keyframes;var s=v.length;u.prepare(n,o);if(u.needsAnimate()){if(!this._allowDiscrete&&u.discrete){var f=v[s-1];if(f){t._target[u.propName]=f.rawValue}u.setFinished()}else{i.push(u)}}}if(i.length||this._force){var l=new $i({life:n,loop:this._loop,delay:this._delay||0,onframe:function(r){t._started=2;var n=t._additiveAnimators;if(n){var a=false;for(var e=0;e<n.length;e++){if(n[e]._clip){a=true;break}}if(!a){t._additiveAnimators=null}}for(var e=0;e<i.length;e++){i[e].step(t._target,r)}var u=t._onframeCbs;if(u){for(var e=0;e<u.length;e++){u[e](t._target,r)}}},ondestroy:function(){t._doneCallback()}});this._clip=l;if(this.animation){this.animation.addClip(l)}if(r){l.setEasing(r)}}else{this._doneCallback()}return this};r.prototype.stop=function(r){if(!this._clip){return}var t=this._clip;if(r){t.onframe(1)}this._abortedCallback()};r.prototype.delay=function(r){this._delay=r;return this};r.prototype.during=function(r){if(r){if(!this._onframeCbs){this._onframeCbs=[]}this._onframeCbs.push(r)}return this};r.prototype.done=function(r){if(r){if(!this._doneCbs){this._doneCbs=[]}this._doneCbs.push(r)}return this};r.prototype.aborted=function(r){if(r){if(!this._abortedCbs){this._abortedCbs=[]}this._abortedCbs.push(r)}return this};r.prototype.getClip=function(){return this._clip};r.prototype.getTrack=function(r){return this._tracks[r]};r.prototype.getTracks=function(){var r=this;return H(this._trackKeys,(function(t){return r._tracks[t]}))};r.prototype.stopTracks=function(r,t){if(!r.length||!this._clip){return true}var i=this._tracks;var n=this._trackKeys;for(var a=0;a<r.length;a++){var e=i[r[a]];if(e&&!e.isFinished()){if(t){e.step(this._target,1)}else if(this._started===1){e.step(this._target,0)}e.setFinished()}}var u=true;for(var a=0;a<n.length;a++){if(!i[n[a]].isFinished()){u=false;break}}if(u){this._abortedCallback()}return u};r.prototype.saveTo=function(r,t,i){if(!r){return}t=t||this._trackKeys;for(var n=0;n<t.length;n++){var a=t[n];var e=this._tracks[a];if(!e||e.isFinished()){continue}var u=e.keyframes;var o=u[i?0:u.length-1];if(o){r[a]=ta(o.rawValue)}}};r.prototype.__changeFinalValue=function(r,t){t=t||U(r);for(var i=0;i<t.length;i++){var n=t[i];var a=this._tracks[n];if(!a){continue}var e=a.keyframes;if(e.length>1){var u=e.pop();a.addKeyframe(u.time,r[n]);a.prepare(this._maxTime,a.getAdditiveTrack())}}};return r}();function ma(){return(new Date).getTime()}var ya=function(r){Lr(t,r);function t(t){var i=r.call(this)||this;i._running=false;i._time=0;i._pausedTime=0;i._pauseStart=0;i._paused=false;t=t||{};i.stage=t.stage||{};return i}t.prototype.addClip=function(r){if(r.animation){this.removeClip(r)}if(!this._head){this._head=this._tail=r}else{this._tail.next=r;r.prev=this._tail;r.next=null;this._tail=r}r.animation=this};t.prototype.addAnimator=function(r){r.animation=this;var t=r.getClip();if(t){this.addClip(t)}};t.prototype.removeClip=function(r){if(!r.animation){return}var t=r.prev;var i=r.next;if(t){t.next=i}else{this._head=i}if(i){i.prev=t}else{this._tail=t}r.next=r.prev=r.animation=null};t.prototype.removeAnimator=function(r){var t=r.getClip();if(t){this.removeClip(t)}r.animation=null};t.prototype.update=function(r){var t=ma()-this._pausedTime;var i=t-this._time;var n=this._head;while(n){var a=n.next;var e=n.step(t,i);if(e){n.ondestroy();this.removeClip(n);n=a}else{n=a}}this._time=t;if(!r){this.trigger("frame",i);this.stage.update&&this.stage.update()}};t.prototype._startLoop=function(){var r=this;this._running=true;function t(){if(r._running){Si(t);!r._paused&&r.update()}}Si(t)};t.prototype.start=function(){if(this._running){return}this._time=ma();this._pausedTime=0;this._startLoop()};t.prototype.stop=function(){this._running=false};t.prototype.pause=function(){if(!this._paused){this._pauseStart=ma();this._paused=true}};t.prototype.resume=function(){if(this._paused){this._pausedTime+=ma()-this._pauseStart;this._paused=false}};t.prototype.clear=function(){var r=this._head;while(r){var t=r.next;r.prev=r.next=r.animation=null;r=t}this._head=this._tail=null};t.prototype.isFinished=function(){return this._head==null};t.prototype.animate=function(r,t){t=t||{};this.start();var i=new pa(r,t.loop);this.addAnimator(i);return i};return t}(Qr);var ga=300;var ba=o.domSupported;var wa=function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var t=["touchstart","touchend","touchmove"];var i={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};var n=H(r,(function(r){var t=r.replace("mouse","pointer");return i.hasOwnProperty(t)?t:r}));return{mouse:r,touch:t,pointer:n}}();var xa={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};var Ma=false;function Sa(r){var t=r.pointerType;return t==="pen"||t==="touch"}function ka(r){r.touching=true;if(r.touchTimer!=null){clearTimeout(r.touchTimer);r.touchTimer=null}r.touchTimer=setTimeout((function(){r.touching=false;r.touchTimer=null}),700)}function Na(r){r&&(r.zrByTouch=true)}function Aa(r,t){return bt(r.dom,new Ca(r,t),true)}function Ia(r,t){var i=t;var n=false;while(i&&i.nodeType!==9&&!(n=i.domBelongToZr||i!==t&&i===r.painterRoot)){i=i.parentNode}return n}var Ca=function(){function r(r,t){this.stopPropagation=Cr;this.stopImmediatePropagation=Cr;this.preventDefault=Cr;this.type=t.type;this.target=this.currentTarget=r.dom;this.pointerType=t.pointerType;this.clientX=t.clientX;this.clientY=t.clientY}return r}();var Ta={mousedown:function(r){r=bt(this.dom,r);this.__mayPointerCapture=[r.zrX,r.zrY];this.trigger("mousedown",r)},mousemove:function(r){r=bt(this.dom,r);var t=this.__mayPointerCapture;if(t&&(r.zrX!==t[0]||r.zrY!==t[1])){this.__togglePointerCapture(true)}this.trigger("mousemove",r)},mouseup:function(r){r=bt(this.dom,r);this.__togglePointerCapture(false);this.trigger("mouseup",r)},mouseout:function(r){r=bt(this.dom,r);var t=r.toElement||r.relatedTarget;if(!Ia(this,t)){if(this.__pointerCapturing){r.zrEventControl="no_globalout"}this.trigger("mouseout",r)}},wheel:function(r){Ma=true;r=bt(this.dom,r);this.trigger("mousewheel",r)},mousewheel:function(r){if(Ma){return}r=bt(this.dom,r);this.trigger("mousewheel",r)},touchstart:function(r){r=bt(this.dom,r);Na(r);this.__lastTouchMoment=new Date;this.handler.processGesture(r,"start");Ta.mousemove.call(this,r);Ta.mousedown.call(this,r)},touchmove:function(r){r=bt(this.dom,r);Na(r);this.handler.processGesture(r,"change");Ta.mousemove.call(this,r)},touchend:function(r){r=bt(this.dom,r);Na(r);this.handler.processGesture(r,"end");Ta.mouseup.call(this,r);if(+new Date-+this.__lastTouchMoment<ga){Ta.click.call(this,r)}},pointerdown:function(r){Ta.mousedown.call(this,r)},pointermove:function(r){if(!Sa(r)){Ta.mousemove.call(this,r)}},pointerup:function(r){Ta.mouseup.call(this,r)},pointerout:function(r){if(!Sa(r)){Ta.mouseout.call(this,r)}}};V(["click","dblclick","contextmenu"],(function(r){Ta[r]=function(t){t=bt(this.dom,t);this.trigger(r,t)}}));var za={pointermove:function(r){if(!Sa(r)){za.mousemove.call(this,r)}},pointerup:function(r){za.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var t=this.__pointerCapturing;this.__togglePointerCapture(false);this.trigger("mouseup",r);if(t){r.zrEventControl="only_globalout";this.trigger("mouseout",r)}}};function La(r,t){var i=t.domHandlers;if(o.pointerEventsSupported){V(wa.pointer,(function(n){Da(t,n,(function(t){i[n].call(r,t)}))}))}else{if(o.touchEventsSupported){V(wa.touch,(function(n){Da(t,n,(function(a){i[n].call(r,a);ka(t)}))}))}V(wa.mouse,(function(n){Da(t,n,(function(a){a=gt(a);if(!t.touching){i[n].call(r,a)}}))}))}}function Oa(r,t){if(o.pointerEventsSupported){V(xa.pointer,i)}else if(!o.touchEventsSupported){V(xa.mouse,i)}function i(i){function n(n){n=gt(n);if(!Ia(r,n.target)){n=Aa(r,n);t.domHandlers[i].call(r,n)}}Da(t,i,n,{capture:true})}}function Da(r,t,i,n){r.mounted[t]=i;r.listenerOpts[t]=n;xt(r.domTarget,t,i,n)}function Ra(r){var t=r.mounted;for(var i in t){if(t.hasOwnProperty(i)){Mt(r.domTarget,i,t[i],r.listenerOpts[i])}}r.mounted={}}var Fa=function(){function r(r,t){this.mounted={};this.listenerOpts={};this.touching=false;this.domTarget=r;this.domHandlers=t}return r}();var Ba=function(r){Lr(t,r);function t(t,i){var n=r.call(this)||this;n.__pointerCapturing=false;n.dom=t;n.painterRoot=i;n._localHandlerScope=new Fa(t,Ta);if(ba){n._globalHandlerScope=new Fa(document,za)}La(n,n._localHandlerScope);return n}t.prototype.dispose=function(){Ra(this._localHandlerScope);if(ba){Ra(this._globalHandlerScope)}};t.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")};t.prototype.__togglePointerCapture=function(r){this.__mayPointerCapture=null;if(ba&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var t=this._globalHandlerScope;r?Oa(this,t):Ra(t)}};return t}(Qr);var _a=1;if(o.hasGlobalWindow){_a=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1)}var Ea=_a;var Pa=.4;var Wa="#333";var Va="#ccc";var Ha="#eee";var Ya=zt;var Xa=5e-5;function Ga(r){return r>Xa||r<-Xa}var Ua=[];var Za=[];var ja=Tt();var qa=Math.abs;var Ka=function(){function r(){}r.prototype.getLocalTransform=function(t){return r.getLocalTransform(this,t)};r.prototype.setPosition=function(r){this.x=r[0];this.y=r[1]};r.prototype.setScale=function(r){this.scaleX=r[0];this.scaleY=r[1]};r.prototype.setSkew=function(r){this.skewX=r[0];this.skewY=r[1]};r.prototype.setOrigin=function(r){this.originX=r[0];this.originY=r[1]};r.prototype.needLocalTransform=function(){return Ga(this.rotation)||Ga(this.x)||Ga(this.y)||Ga(this.scaleX-1)||Ga(this.scaleY-1)||Ga(this.skewX)||Ga(this.skewY)};r.prototype.updateTransform=function(){var r=this.parent&&this.parent.transform;var t=this.needLocalTransform();var i=this.transform;if(!(t||r)){if(i){Ya(i);this.invTransform=null}return}i=i||Tt();if(t){this.getLocalTransform(i)}else{Ya(i)}if(r){if(t){Ot(i,r,i)}else{Lt(i,r)}}this.transform=i;this._resolveGlobalScaleRatio(i)};r.prototype._resolveGlobalScaleRatio=function(r){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(Ua);var i=Ua[0]<0?-1:1;var n=Ua[1]<0?-1:1;var a=((Ua[0]-i)*t+i)/Ua[0]||0;var e=((Ua[1]-n)*t+n)/Ua[1]||0;r[0]*=a;r[1]*=a;r[2]*=e;r[3]*=e}this.invTransform=this.invTransform||Tt();Bt(this.invTransform,r)};r.prototype.getComputedTransform=function(){var r=this;var t=[];while(r){t.push(r);r=r.parent}while(r=t.pop()){r.updateTransform()}return this.transform};r.prototype.setLocalTransform=function(r){if(!r){return}var t=r[0]*r[0]+r[1]*r[1];var i=r[2]*r[2]+r[3]*r[3];var n=Math.atan2(r[1],r[0]);var a=Math.PI/2+n-Math.atan2(r[3],r[2]);i=Math.sqrt(i)*Math.cos(a);t=Math.sqrt(t);this.skewX=a;this.skewY=0;this.rotation=-n;this.x=+r[4];this.y=+r[5];this.scaleX=t;this.scaleY=i;this.originX=0;this.originY=0};r.prototype.decomposeTransform=function(){if(!this.transform){return}var r=this.parent;var t=this.transform;if(r&&r.transform){Ot(Za,r.invTransform,t);t=Za}var i=this.originX;var n=this.originY;if(i||n){ja[4]=i;ja[5]=n;Ot(Za,t,ja);Za[4]-=i;Za[5]-=n;t=Za}this.setLocalTransform(t)};r.prototype.getGlobalScale=function(r){var t=this.transform;r=r||[];if(!t){r[0]=1;r[1]=1;return r}r[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]);r[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]);if(t[0]<0){r[0]=-r[0]}if(t[3]<0){r[1]=-r[1]}return r};r.prototype.transformCoordToLocal=function(r,t){var i=[r,t];var n=this.invTransform;if(n){jr(i,i,n)}return i};r.prototype.transformCoordToGlobal=function(r,t){var i=[r,t];var n=this.transform;if(n){jr(i,i,n)}return i};r.prototype.getLineScale=function(){var r=this.transform;return r&&qa(r[0]-1)>1e-10&&qa(r[3]-1)>1e-10?Math.sqrt(qa(r[0]*r[3]-r[2]*r[1])):1};r.prototype.copyTransform=function(r){$a(this,r)};r.getLocalTransform=function(r,t){t=t||[];var i=r.originX||0;var n=r.originY||0;var a=r.scaleX;var e=r.scaleY;var u=r.anchorX;var o=r.anchorY;var v=r.rotation||0;var s=r.x;var f=r.y;var l=r.skewX?Math.tan(r.skewX):0;var h=r.skewY?Math.tan(-r.skewY):0;if(i||n||u||o){var c=i+u;var d=n+o;t[4]=-c*a-l*d*e;t[5]=-d*e-h*c*a}else{t[4]=t[5]=0}t[0]=a;t[3]=e;t[1]=h*a;t[2]=l*e;v&&Rt(t,t,v);t[4]+=i+s;t[5]+=n+f;return t};r.initDefaultProps=function(){var t=r.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1;t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}();return r}();var Ja=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function $a(r,t){for(var i=0;i<Ja.length;i++){var n=Ja[i];r[n]=t[n]}}var Qa={};function re(r,t){t=t||l;var i=Qa[t];if(!i){i=Qa[t]=new tn(500)}var n=i.get(r);if(n==null){n=y.measureText(r,t).width;i.put(r,n)}return n}function te(r,t,i,n){var a=re(r,t);var e=ee(t);var u=ne(0,a,i);var o=ae(0,e,n);var v=new Zt(u,o,a,e);return v}function ie(r,t,i,n){var a=((r||"")+"").split("\n");var e=a.length;if(e===1){return te(a[0],t,i,n)}else{var u=new Zt(0,0,0,0);for(var o=0;o<a.length;o++){var v=te(a[o],t,i,n);o===0?u.copy(v):u.union(v)}return u}}function ne(r,t,i){if(i==="right"){r-=t}else if(i==="center"){r-=t/2}return r}function ae(r,t,i){if(i==="middle"){r-=t/2}else if(i==="bottom"){r-=t}return r}function ee(r){return re("",r)}function ue(r,t){if(typeof r==="string"){if(r.lastIndexOf("%")>=0){return parseFloat(r)/100*t}return parseFloat(r)}return r}function oe(r,t,i){var n=t.position||"inside";var a=t.distance!=null?t.distance:5;var e=i.height;var u=i.width;var o=e/2;var v=i.x;var s=i.y;var f="left";var l="top";if(n instanceof Array){v+=ue(n[0],i.width);s+=ue(n[1],i.height);f=null;l=null}else{switch(n){case"left":v-=a;s+=o;f="right";l="middle";break;case"right":v+=a+u;s+=o;l="middle";break;case"top":v+=u/2;s-=a;f="center";l="bottom";break;case"bottom":v+=u/2;s+=e+a;f="center";break;case"inside":v+=u/2;s+=o;f="center";l="middle";break;case"insideLeft":v+=a;s+=o;l="middle";break;case"insideRight":v+=u-a;s+=o;f="right";l="middle";break;case"insideTop":v+=u/2;s+=a;f="center";break;case"insideBottom":v+=u/2;s+=e-a;f="center";l="bottom";break;case"insideTopLeft":v+=a;s+=a;break;case"insideTopRight":v+=u-a;s+=a;f="right";break;case"insideBottomLeft":v+=a;s+=e-a;l="bottom";break;case"insideBottomRight":v+=u-a;s+=e-a;f="right";l="bottom";break}}r=r||{};r.x=v;r.y=s;r.align=f;r.verticalAlign=l;return r}var ve="__zr_normal__";var se=Ja.concat(["ignore"]);var fe=Y(Ja,(function(r,t){r[t]=true;return r}),{ignore:false});var le={};var he=new Zt(0,0,0,0);var ce=function(){function r(r){this.id=z();this.animators=[];this.currentStates=[];this.states={};this._init(r)}r.prototype._init=function(r){this.attr(r)};r.prototype.drift=function(r,t,i){switch(this.draggable){case"horizontal":t=0;break;case"vertical":r=0;break}var n=this.transform;if(!n){n=this.transform=[1,0,0,1,0,0]}n[4]+=r;n[5]+=t;this.decomposeTransform();this.markRedraw()};r.prototype.beforeUpdate=function(){};r.prototype.afterUpdate=function(){};r.prototype.update=function(){this.updateTransform();if(this.__dirty){this.updateInnerText()}};r.prototype.updateInnerText=function(r){var t=this._textContent;if(t&&(!t.ignore||r)){if(!this.textConfig){this.textConfig={}}var i=this.textConfig;var n=i.local;var a=t.innerTransformable;var e=void 0;var u=void 0;var o=false;a.parent=n?this:null;var v=false;a.copyTransform(t);if(i.position!=null){var s=he;if(i.layoutRect){s.copy(i.layoutRect)}else{s.copy(this.getBoundingRect())}if(!n){s.applyTransform(this.transform)}if(this.calculateTextPosition){this.calculateTextPosition(le,i,s)}else{oe(le,i,s)}a.x=le.x;a.y=le.y;e=le.align;u=le.verticalAlign;var f=i.origin;if(f&&i.rotation!=null){var l=void 0;var h=void 0;if(f==="center"){l=s.width*.5;h=s.height*.5}else{l=ue(f[0],s.width);h=ue(f[1],s.height)}v=true;a.originX=-a.x+l+(n?0:s.x);a.originY=-a.y+h+(n?0:s.y)}}if(i.rotation!=null){a.rotation=i.rotation}var c=i.offset;if(c){a.x+=c[0];a.y+=c[1];if(!v){a.originX=-c[0];a.originY=-c[1]}}var d=i.inside==null?typeof i.position==="string"&&i.position.indexOf("inside")>=0:i.inside;var p=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});var m=void 0;var y=void 0;var g=void 0;if(d&&this.canBeInsideText()){m=i.insideFill;y=i.insideStroke;if(m==null||m==="auto"){m=this.getInsideTextFill()}if(y==null||y==="auto"){y=this.getInsideTextStroke(m);g=true}}else{m=i.outsideFill;y=i.outsideStroke;if(m==null||m==="auto"){m=this.getOutsideFill()}if(y==null||y==="auto"){y=this.getOutsideStroke(m);g=true}}m=m||"#000";if(m!==p.fill||y!==p.stroke||g!==p.autoStroke||e!==p.align||u!==p.verticalAlign){o=true;p.fill=m;p.stroke=y;p.autoStroke=g;p.align=e;p.verticalAlign=u;t.setDefaultTextStyle(p)}t.__dirty|=pi;if(o){t.dirtyStyle(true)}}};r.prototype.canBeInsideText=function(){return true};r.prototype.getInsideTextFill=function(){return"#fff"};r.prototype.getInsideTextStroke=function(r){return"#000"};r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Va:Wa};r.prototype.getOutsideStroke=function(r){var t=this.__zr&&this.__zr.getBackgroundColor();var i=typeof t==="string"&&mn(t);if(!i){i=[255,255,255,1]}var n=i[3];var a=this.__zr.isDarkMode();for(var e=0;e<3;e++){i[e]=i[e]*n+(a?0:255)*(1-n)}i[3]=1;return kn(i,"rgba")};r.prototype.traverse=function(r,t){};r.prototype.attrKV=function(r,t){if(r==="textConfig"){this.setTextConfig(t)}else if(r==="textContent"){this.setTextContent(t)}else if(r==="clipPath"){this.setClipPath(t)}else if(r==="extra"){this.extra=this.extra||{};F(this.extra,t)}else{this[r]=t}};r.prototype.hide=function(){this.ignore=true;this.markRedraw()};r.prototype.show=function(){this.ignore=false;this.markRedraw()};r.prototype.attr=function(r,t){if(typeof r==="string"){this.attrKV(r,t)}else if(tr(r)){var i=r;var n=U(i);for(var a=0;a<n.length;a++){var e=n[a];this.attrKV(e,r[e])}}this.markRedraw();return this};r.prototype.saveCurrentToNormalState=function(r){this._innerSaveToNormal(r);var t=this._normalState;for(var i=0;i<this.animators.length;i++){var n=this.animators[i];var a=n.__fromStateTransition;if(n.getLoop()||a&&a!==ve){continue}var e=n.targetName;var u=e?t[e]:t;n.saveTo(u)}};r.prototype._innerSaveToNormal=function(r){var t=this._normalState;if(!t){t=this._normalState={}}if(r.textConfig&&!t.textConfig){t.textConfig=this.textConfig}this._savePrimaryToNormal(r,t,se)};r.prototype._savePrimaryToNormal=function(r,t,i){for(var n=0;n<i.length;n++){var a=i[n];if(r[a]!=null&&!(a in t)){t[a]=this[a]}}};r.prototype.hasState=function(){return this.currentStates.length>0};r.prototype.getState=function(r){return this.states[r]};r.prototype.ensureState=function(r){var t=this.states;if(!t[r]){t[r]={}}return t[r]};r.prototype.clearStates=function(r){this.useState(ve,false,r)};r.prototype.useState=function(r,t,i,n){var a=r===ve;var e=this.hasState();if(!e&&a){return}var u=this.currentStates;var o=this.stateTransition;if(_(u,r)>=0&&(t||u.length===1)){return}var v;if(this.stateProxy&&!a){v=this.stateProxy(r)}if(!v){v=this.states&&this.states[r]}if(!v&&!a){L("State "+r+" not exists.");return}if(!a){this.saveCurrentToNormalState(v)}var s=!!(v&&v.hoverLayer||n);if(s){this._toggleHoverLayerFlag(true)}this._applyStateObj(r,v,this._normalState,t,!i&&!this.__inHover&&o&&o.duration>0,o);var f=this._textContent;var l=this._textGuide;if(f){f.useState(r,t,i,s)}if(l){l.useState(r,t,i,s)}if(a){this.currentStates=[];this._normalState={}}else{if(!t){this.currentStates=[r]}else{this.currentStates.push(r)}}this._updateAnimationTargets();this.markRedraw();if(!s&&this.__inHover){this._toggleHoverLayerFlag(false);this.__dirty&=~pi}return v};r.prototype.useStates=function(r,t,i){if(!r.length){this.clearStates()}else{var n=[];var a=this.currentStates;var e=r.length;var u=e===a.length;if(u){for(var o=0;o<e;o++){if(r[o]!==a[o]){u=false;break}}}if(u){return}for(var o=0;o<e;o++){var v=r[o];var s=void 0;if(this.stateProxy){s=this.stateProxy(v,r)}if(!s){s=this.states[v]}if(s){n.push(s)}}var f=n[e-1];var l=!!(f&&f.hoverLayer||i);if(l){this._toggleHoverLayerFlag(true)}var h=this._mergeStates(n);var c=this.stateTransition;this.saveCurrentToNormalState(h);this._applyStateObj(r.join(","),h,this._normalState,false,!t&&!this.__inHover&&c&&c.duration>0,c);var d=this._textContent;var p=this._textGuide;if(d){d.useStates(r,t,l)}if(p){p.useStates(r,t,l)}this._updateAnimationTargets();this.currentStates=r.slice();this.markRedraw();if(!l&&this.__inHover){this._toggleHoverLayerFlag(false);this.__dirty&=~pi}}};r.prototype._updateAnimationTargets=function(){for(var r=0;r<this.animators.length;r++){var t=this.animators[r];if(t.targetName){t.changeTarget(this[t.targetName])}}};r.prototype.removeState=function(r){var t=_(this.currentStates,r);if(t>=0){var i=this.currentStates.slice();i.splice(t,1);this.useStates(i)}};r.prototype.replaceState=function(r,t,i){var n=this.currentStates.slice();var a=_(n,r);var e=_(n,t)>=0;if(a>=0){if(!e){n[a]=t}else{n.splice(a,1)}}else if(i&&!e){n.push(t)}this.useStates(n)};r.prototype.toggleState=function(r,t){if(t){this.useState(r,true)}else{this.removeState(r)}};r.prototype._mergeStates=function(r){var t={};var i;for(var n=0;n<r.length;n++){var a=r[n];F(t,a);if(a.textConfig){i=i||{};F(i,a.textConfig)}}if(i){t.textConfig=i}return t};r.prototype._applyStateObj=function(r,t,i,n,a,e){var u=!(t&&n);if(t&&t.textConfig){this.textConfig=F({},n?this.textConfig:i.textConfig);F(this.textConfig,t.textConfig)}else if(u){if(i.textConfig){this.textConfig=i.textConfig}}var o={};var v=false;for(var s=0;s<se.length;s++){var f=se[s];var l=a&&fe[f];if(t&&t[f]!=null){if(l){v=true;o[f]=t[f]}else{this[f]=t[f]}}else if(u){if(i[f]!=null){if(l){v=true;o[f]=i[f]}else{this[f]=i[f]}}}}if(!a){for(var s=0;s<this.animators.length;s++){var h=this.animators[s];var c=h.targetName;if(!h.getLoop()){h.__changeFinalValue(c?(t||i)[c]:t||i)}}}if(v){this._transitionState(r,o,e)}};r.prototype._attachComponent=function(r){if(r.__zr&&!r.__hostTarget){return}if(r===this){return}var t=this.__zr;if(t){r.addSelfToZr(t)}r.__zr=t;r.__hostTarget=this};r.prototype._detachComponent=function(r){if(r.__zr){r.removeSelfFromZr(r.__zr)}r.__zr=null;r.__hostTarget=null};r.prototype.getClipPath=function(){return this._clipPath};r.prototype.setClipPath=function(r){if(this._clipPath&&this._clipPath!==r){this.removeClipPath()}this._attachComponent(r);this._clipPath=r;this.markRedraw()};r.prototype.removeClipPath=function(){var r=this._clipPath;if(r){this._detachComponent(r);this._clipPath=null;this.markRedraw()}};r.prototype.getTextContent=function(){return this._textContent};r.prototype.setTextContent=function(r){var t=this._textContent;if(t===r){return}if(t&&t!==r){this.removeTextContent()}r.innerTransformable=new Ka;this._attachComponent(r);this._textContent=r;this.markRedraw()};r.prototype.setTextConfig=function(r){if(!this.textConfig){this.textConfig={}}F(this.textConfig,r);this.markRedraw()};r.prototype.removeTextConfig=function(){this.textConfig=null;this.markRedraw()};r.prototype.removeTextContent=function(){var r=this._textContent;if(r){r.innerTransformable=null;this._detachComponent(r);this._textContent=null;this._innerTextDefaultStyle=null;this.markRedraw()}};r.prototype.getTextGuideLine=function(){return this._textGuide};r.prototype.setTextGuideLine=function(r){if(this._textGuide&&this._textGuide!==r){this.removeTextGuideLine()}this._attachComponent(r);this._textGuide=r;this.markRedraw()};r.prototype.removeTextGuideLine=function(){var r=this._textGuide;if(r){this._detachComponent(r);this._textGuide=null;this.markRedraw()}};r.prototype.markRedraw=function(){this.__dirty|=pi;var r=this.__zr;if(r){if(this.__inHover){r.refreshHover()}else{r.refresh()}}if(this.__hostTarget){this.__hostTarget.markRedraw()}};r.prototype.dirty=function(){this.markRedraw()};r.prototype._toggleHoverLayerFlag=function(r){this.__inHover=r;var t=this._textContent;var i=this._textGuide;if(t){t.__inHover=r}if(i){i.__inHover=r}};r.prototype.addSelfToZr=function(r){if(this.__zr===r){return}this.__zr=r;var t=this.animators;if(t){for(var i=0;i<t.length;i++){r.animation.addAnimator(t[i])}}if(this._clipPath){this._clipPath.addSelfToZr(r)}if(this._textContent){this._textContent.addSelfToZr(r)}if(this._textGuide){this._textGuide.addSelfToZr(r)}};r.prototype.removeSelfFromZr=function(r){if(!this.__zr){return}this.__zr=null;var t=this.animators;if(t){for(var i=0;i<t.length;i++){r.animation.removeAnimator(t[i])}}if(this._clipPath){this._clipPath.removeSelfFromZr(r)}if(this._textContent){this._textContent.removeSelfFromZr(r)}if(this._textGuide){this._textGuide.removeSelfFromZr(r)}};r.prototype.animate=function(r,t,i){var n=r?this[r]:this;var a=new pa(n,t,i);r&&(a.targetName=r);this.addAnimator(a,r);return a};r.prototype.addAnimator=function(r,t){var i=this.__zr;var n=this;r.during((function(){n.updateDuringAnimation(t)})).done((function(){var t=n.animators;var i=_(t,r);if(i>=0){t.splice(i,1)}}));this.animators.push(r);if(i){i.animation.addAnimator(r)}i&&i.wakeUp()};r.prototype.updateDuringAnimation=function(r){this.markRedraw()};r.prototype.stopAnimation=function(r,t){var i=this.animators;var n=i.length;var a=[];for(var e=0;e<n;e++){var u=i[e];if(!r||r===u.scope){u.stop(t)}else{a.push(u)}}this.animators=a;return this};r.prototype.animateTo=function(r,t,i){de(this,r,t,i)};r.prototype.animateFrom=function(r,t,i){de(this,r,t,i,true)};r.prototype._transitionState=function(r,t,i,n){var a=de(this,t,i,n);for(var e=0;e<a.length;e++){a[e].__fromStateTransition=r}};r.prototype.getBoundingRect=function(){return null};r.prototype.getPaintRect=function(){return null};r.initDefaultProps=function(){var t=r.prototype;t.type="element";t.name="";t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=false;t.__dirty=pi;function i(r,i,n,a){Object.defineProperty(t,r,{get:function(){if(!this[i]){var r=this[i]=[];e(this,r)}return this[i]},set:function(r){this[n]=r[0];this[a]=r[1];this[i]=r;e(this,r)}});function e(r,t){Object.defineProperty(t,0,{get:function(){return r[n]},set:function(t){r[n]=t}});Object.defineProperty(t,1,{get:function(){return r[a]},set:function(t){r[a]=t}})}}if(Object.defineProperty){i("position","_legacyPos","x","y");i("scale","_legacyScale","scaleX","scaleY");i("origin","_legacyOrigin","originX","originY")}}();return r}();P(ce,Qr);P(ce,Ka);function de(r,t,i,n,a){i=i||{};var e=[];we(r,"",r,t,i,n,e,a);var u=e.length;var o=false;var v=i.done;var s=i.aborted;var f=function(){o=true;u--;if(u<=0){o?v&&v():s&&s()}};var l=function(){u--;if(u<=0){o?v&&v():s&&s()}};if(!u){v&&v()}if(e.length>0&&i.during){e[0].during((function(r,t){i.during(t)}))}for(var h=0;h<e.length;h++){var c=e[h];if(f){c.done(f)}if(l){c.aborted(l)}if(i.force){c.duration(i.duration)}c.start(i.easing)}return e}function pe(r,t,i){for(var n=0;n<i;n++){r[n]=t[n]}}function me(r){return W(r[0])}function ye(r,t,i){if(W(t[i])){if(!W(r[i])){r[i]=[]}if(nr(t[i])){var n=t[i].length;if(r[i].length!==n){r[i]=new t[i].constructor(n);pe(r[i],t[i],n)}}else{var a=t[i];var e=r[i];var u=a.length;if(me(a)){var o=a[0].length;for(var v=0;v<u;v++){if(!e[v]){e[v]=Array.prototype.slice.call(a[v])}else{pe(e[v],a[v],o)}}}else{pe(e,a,u)}e.length=a.length}}else{r[i]=t[i]}}function ge(r,t){return r===t||W(r)&&W(t)&&be(r,t)}function be(r,t){var i=r.length;if(i!==t.length){return false}for(var n=0;n<i;n++){if(r[n]!==t[n]){return false}}return true}function we(r,t,i,n,a,e,u,o){var v=U(n);var s=a.duration;var f=a.delay;var l=a.additive;var h=a.setToFinal;var c=!tr(e);var d=r.animators;var p=[];for(var m=0;m<v.length;m++){var y=v[m];var g=n[y];if(g!=null&&i[y]!=null&&(c||e[y])){if(tr(g)&&!W(g)&&!er(g)){if(t){if(!o){i[y]=g;r.updateDuringAnimation(t)}continue}we(r,y,i[y],g,a,e&&e[y],u,o)}else{p.push(y)}}else if(!o){i[y]=g;r.updateDuringAnimation(t);p.push(y)}}var b=p.length;if(!l&&b){for(var w=0;w<d.length;w++){var x=d[w];if(x.targetName===t){var M=x.stopTracks(p);if(M){var S=_(d,x);d.splice(S,1)}}}}if(!a.force){p=X(p,(function(r){return!ge(n[r],i[r])}));b=p.length}if(b>0||a.force&&!u.length){var k=void 0;var N=void 0;var A=void 0;if(o){N={};if(h){k={}}for(var w=0;w<b;w++){var y=p[w];N[y]=i[y];if(h){k[y]=n[y]}else{i[y]=n[y]}}}else if(h){A={};for(var w=0;w<b;w++){var y=p[w];A[y]=ta(i[y]);ye(i,n,y)}}var x=new pa(i,false,false,l?X(d,(function(r){return r.targetName===t})):null);x.targetName=t;if(a.scope){x.scope=a.scope}if(h&&k){x.whenWithKeys(0,k,p)}if(A){x.whenWithKeys(0,A,p)}x.whenWithKeys(s==null?500:s,o?N:n,p).delay(f||0);r.addAnimator(x,t);u.push(x)}}var xe=function(r){Lr(t,r);function t(t){var i=r.call(this)||this;i.isGroup=true;i._children=[];i.attr(t);return i}t.prototype.childrenRef=function(){return this._children};t.prototype.children=function(){return this._children.slice()};t.prototype.childAt=function(r){return this._children[r]};t.prototype.childOfName=function(r){var t=this._children;for(var i=0;i<t.length;i++){if(t[i].name===r){return t[i]}}};t.prototype.childCount=function(){return this._children.length};t.prototype.add=function(r){if(r){if(r!==this&&r.parent!==this){this._children.push(r);this._doAdd(r)}}return this};t.prototype.addBefore=function(r,t){if(r&&r!==this&&r.parent!==this&&t&&t.parent===this){var i=this._children;var n=i.indexOf(t);if(n>=0){i.splice(n,0,r);this._doAdd(r)}}return this};t.prototype.replace=function(r,t){var i=_(this._children,r);if(i>=0){this.replaceAt(t,i)}return this};t.prototype.replaceAt=function(r,t){var i=this._children;var n=i[t];if(r&&r!==this&&r.parent!==this&&r!==n){i[t]=r;n.parent=null;var a=this.__zr;if(a){n.removeSelfFromZr(a)}this._doAdd(r)}return this};t.prototype._doAdd=function(r){if(r.parent){r.parent.remove(r)}r.parent=this;var t=this.__zr;if(t&&t!==r.__zr){r.addSelfToZr(t)}t&&t.refresh()};t.prototype.remove=function(r){var t=this.__zr;var i=this._children;var n=_(i,r);if(n<0){return this}i.splice(n,1);r.parent=null;if(t){r.removeSelfFromZr(t)}t&&t.refresh();return this};t.prototype.removeAll=function(){var r=this._children;var t=this.__zr;for(var i=0;i<r.length;i++){var n=r[i];if(t){n.removeSelfFromZr(t)}n.parent=null}r.length=0;return this};t.prototype.eachChild=function(r,t){var i=this._children;for(var n=0;n<i.length;n++){var a=i[n];r.call(t,a,n)}return this};t.prototype.traverse=function(r,t){for(var i=0;i<this._children.length;i++){var n=this._children[i];var a=r.call(t,n);if(n.isGroup&&!a){n.traverse(r,t)}}return this};t.prototype.addSelfToZr=function(t){r.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++){var n=this._children[i];n.addSelfToZr(t)}};t.prototype.removeSelfFromZr=function(t){r.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++){var n=this._children[i];n.removeSelfFromZr(t)}};t.prototype.getBoundingRect=function(r){var t=new Zt(0,0,0,0);var i=r||this._children;var n=[];var a=null;for(var e=0;e<i.length;e++){var u=i[e];if(u.ignore||u.invisible){continue}var o=u.getBoundingRect();var v=u.getLocalTransform(n);if(v){Zt.applyTransform(t,o,v);a=a||t.clone();a.union(t)}else{a=a||o.clone();a.union(o)}}return a||t};return t}(ce);xe.prototype.type="group";
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Me={};function Se(r){if(!r){return false}if(typeof r==="string"){return Nn(r,1)<Pa}else if(r.colorStops){var t=r.colorStops;var i=0;var n=t.length;for(var a=0;a<n;a++){i+=Nn(t[a].color,1)}i/=n;return i<Pa}return false}var ke=function(){function r(r,t,i){var n=this;this._sleepAfterStill=10;this._stillFrameAccum=0;this._needsRefresh=true;this._needsRefreshHover=true;this._darkMode=false;i=i||{};this.dom=t;this.id=r;var a=new xi;var e=i.renderer||"canvas";if(!Me[e]){e=U(Me)[0]}i.useDirtyRect=i.useDirtyRect==null?false:i.useDirtyRect;var u=new Me[e](t,a,i,r);var v=i.ssr||u.ssrOnly;this.storage=a;this.painter=u;var s=!o.node&&!o.worker&&!v?new Ba(u.getViewportRoot(),u.root):null;var f=i.useCoarsePointer;var l=f==null||f==="auto"?o.touchEventsSupported:!!f;var h=44;var c;if(l){c=fr(i.pointerSize,h)}this.handler=new ti(a,u,s,u.root,c);this.animation=new ya({stage:{update:v?null:function(){return n._flush(true)}}});if(!v){this.animation.start()}}r.prototype.add=function(r){if(!r){return}this.storage.addRoot(r);r.addSelfToZr(this);this.refresh()};r.prototype.remove=function(r){if(!r){return}this.storage.delRoot(r);r.removeSelfFromZr(this);this.refresh()};r.prototype.configLayer=function(r,t){if(this.painter.configLayer){this.painter.configLayer(r,t)}this.refresh()};r.prototype.setBackgroundColor=function(r){if(this.painter.setBackgroundColor){this.painter.setBackgroundColor(r)}this.refresh();this._backgroundColor=r;this._darkMode=Se(r)};r.prototype.getBackgroundColor=function(){return this._backgroundColor};r.prototype.setDarkMode=function(r){this._darkMode=r};r.prototype.isDarkMode=function(){return this._darkMode};r.prototype.refreshImmediately=function(r){if(!r){this.animation.update(true)}this._needsRefresh=false;this.painter.refresh();this._needsRefresh=false};r.prototype.refresh=function(){this._needsRefresh=true;this.animation.start()};r.prototype.flush=function(){this._flush(false)};r.prototype._flush=function(r){var t;var i=ma();if(this._needsRefresh){t=true;this.refreshImmediately(r)}if(this._needsRefreshHover){t=true;this.refreshHoverImmediately()}var n=ma();if(t){this._stillFrameAccum=0;this.trigger("rendered",{elapsedTime:n-i})}else if(this._sleepAfterStill>0){this._stillFrameAccum++;if(this._stillFrameAccum>this._sleepAfterStill){this.animation.stop()}}};r.prototype.setSleepAfterStill=function(r){this._sleepAfterStill=r};r.prototype.wakeUp=function(){this.animation.start();this._stillFrameAccum=0};r.prototype.refreshHover=function(){this._needsRefreshHover=true};r.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=false;if(this.painter.refreshHover&&this.painter.getType()==="canvas"){this.painter.refreshHover()}};r.prototype.resize=function(r){r=r||{};this.painter.resize(r.width,r.height);this.handler.resize()};r.prototype.clearAnimation=function(){this.animation.clear()};r.prototype.getWidth=function(){return this.painter.getWidth()};r.prototype.getHeight=function(){return this.painter.getHeight()};r.prototype.setCursorStyle=function(r){this.handler.setCursorStyle(r)};r.prototype.findHover=function(r,t){return this.handler.findHover(r,t)};r.prototype.on=function(r,t,i){this.handler.on(r,t,i);return this};r.prototype.off=function(r,t){this.handler.off(r,t)};r.prototype.trigger=function(r,t){this.handler.trigger(r,t)};r.prototype.clear=function(){var r=this.storage.getRoots();for(var t=0;t<r.length;t++){if(r[t]instanceof xe){r[t].removeSelfFromZr(this)}}this.storage.delAllRoots();this.painter.clear()};r.prototype.dispose=function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null};return r}();function Ne(r,t){var i=new ke(z(),r,t);return i}function Ae(r,t){Me[r]=t}var Ie=1e-4;var Ce=20;function Te(r){return r.replace(/^\s+|\s+$/g,"")}function ze(r,t,i,n){var a=t[0];var e=t[1];var u=i[0];var o=i[1];var v=e-a;var s=o-u;if(v===0){return s===0?u:(u+o)/2}if(n){if(v>0){if(r<=a){return u}else if(r>=e){return o}}else{if(r>=a){return u}else if(r<=e){return o}}}else{if(r===a){return u}if(r===e){return o}}return(r-a)/v*s+u}function Le(r,t){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}if($(r)){if(Te(r).match(/%$/)){return parseFloat(r)/100*t}return parseFloat(r)}return r==null?NaN:+r}function Oe(r,t,i){if(t==null){t=10}t=Math.min(Math.max(0,t),Ce);r=(+r).toFixed(t);return i?r:+r}function De(r){r.sort((function(r,t){return r-t}));return r}function Re(r){r=+r;if(isNaN(r)){return 0}if(r>1e-14){var t=1;for(var i=0;i<15;i++,t*=10){if(Math.round(r*t)/t===r){return i}}}return Fe(r)}function Fe(r){var t=r.toString().toLowerCase();var i=t.indexOf("e");var n=i>0?+t.slice(i+1):0;var a=i>0?i:t.length;var e=t.indexOf(".");var u=e<0?0:a-1-e;return Math.max(0,u-n)}function Be(r,t){var i=Math.log;var n=Math.LN10;var a=Math.floor(i(r[1]-r[0])/n);var e=Math.round(i(Math.abs(t[1]-t[0]))/n);var u=Math.min(Math.max(-a+e,0),20);return!isFinite(u)?20:u}function _e(r,t){var i=Y(r,(function(r,t){return r+(isNaN(t)?0:t)}),0);if(i===0){return[]}var n=Math.pow(10,t);var a=H(r,(function(r){return(isNaN(r)?0:r)/i*n*100}));var e=n*100;var u=H(a,(function(r){return Math.floor(r)}));var o=Y(u,(function(r,t){return r+t}),0);var v=H(a,(function(r,t){return r-u[t]}));while(o<e){var s=Number.NEGATIVE_INFINITY;var f=null;for(var l=0,h=v.length;l<h;++l){if(v[l]>s){s=v[l];f=l}}++u[f];v[f]=0;++o}return H(u,(function(r){return r/n}))}function Ee(r,t){var i=Math.max(Re(r),Re(t));var n=r+t;return i>Ce?n:Oe(n,i)}var Pe=9007199254740991;function We(r){var t=Math.PI*2;return(r%t+t)%t}function Ve(r){return r>-Ie&&r<Ie}var He=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ye(r){if(r instanceof Date){return r}else if($(r)){var t=He.exec(r);if(!t){return new Date(NaN)}if(!t[8]){return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else{var i=+t[4]||0;if(t[8].toUpperCase()!=="Z"){i-=+t[8].slice(0,3)}return new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,i,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}}else if(r==null){return new Date(NaN)}return new Date(Math.round(r))}function Xe(r){return Math.pow(10,Ge(r))}function Ge(r){if(r===0){return 0}var t=Math.floor(Math.log(r)/Math.LN10);if(r/Math.pow(10,t)>=10){t++}return t}function Ue(r,t){var i=Ge(r);var n=Math.pow(10,i);var a=r/n;var e;if(t){if(a<1.5){e=1}else if(a<2.5){e=2}else if(a<4){e=3}else if(a<7){e=5}else{e=10}}else{if(a<1){e=1}else if(a<2){e=2}else if(a<3){e=3}else if(a<5){e=5}else{e=10}}r=e*n;return i>=-20?+r.toFixed(i<0?-i:0):r}function Ze(r,t){var i=(r.length-1)*t+1;var n=Math.floor(i);var a=+r[n-1];var e=i-n;return e?a+e*(r[n]-a):a}function je(r){r.sort((function(r,t){return o(r,t,0)?-1:1}));var t=-Infinity;var i=1;for(var n=0;n<r.length;){var a=r[n].interval;var e=r[n].close;for(var u=0;u<2;u++){if(a[u]<=t){a[u]=t;e[u]=!u?1-i:1}t=a[u];i=e[u]}if(a[0]===a[1]&&e[0]*e[1]!==1){r.splice(n,1)}else{n++}}return r;function o(r,t,i){return r.interval[i]<t.interval[i]||r.interval[i]===t.interval[i]&&(r.close[i]-t.close[i]===(!i?1:-1)||!i&&o(r,t,1))}}function qe(r){var t=parseFloat(r);return t==r&&(t!==0||!$(r)||r.indexOf("x")<=0)?t:NaN}function Ke(r){return!isNaN(qe(r))}function Je(){return Math.round(Math.random()*9)}function $e(r,t){if(t===0){return r}return $e(t,r%t)}function Qe(r,t){if(r==null){return t}if(t==null){return r}return r*t/$e(r,t)}var ru="[ECharts] ";var tu={};var iu=typeof console!=="undefined"&&console.warn&&console.log;function nu(r,t,i){if(iu){if(i){if(tu[t]){return}tu[t]=true}console[r](ru+t)}}function au(r,t){nu("warn",r,t)}function eu(r){throw new Error(r)}function uu(r,t,i){return(t-r)*i+r}var ou="series\0";var vu="\0_ec_\0";function su(r){return r instanceof Array?r:r==null?[]:[r]}function fu(r,t,i){if(r){r[t]=r[t]||{};r.emphasis=r.emphasis||{};r.emphasis[t]=r.emphasis[t]||{};for(var n=0,a=i.length;n<a;n++){var e=i[n];if(!r.emphasis[t].hasOwnProperty(e)&&r[t].hasOwnProperty(e)){r.emphasis[t][e]=r[t][e]}}}}var lu=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function hu(r){return tr(r)&&!K(r)&&!(r instanceof Date)?r.value:r}function cu(r){return tr(r)&&!(r instanceof Array)}function du(r,t,i){var n=i==="normalMerge";var a=i==="replaceMerge";var e=i==="replaceAll";r=r||[];t=(t||[]).slice();var u=Sr();V(t,(function(r,i){if(!tr(r)){t[i]=null;return}}));var o=pu(r,u,i);if(n||a){mu(o,r,u,t)}if(n){yu(o,t)}if(n||a){gu(o,t,a)}else if(e){bu(o,t)}wu(o);return o}function pu(r,t,i){var n=[];if(i==="replaceAll"){return n}for(var a=0;a<r.length;a++){var e=r[a];if(e&&e.id!=null){t.set(e.id,a)}n.push({existing:i==="replaceMerge"||Nu(e)?null:e,newOption:null,keyInfo:null,brandNew:null})}return n}function mu(r,t,i,n){V(n,(function(a,e){if(!a||a.id==null){return}var u=Mu(a.id);var o=i.get(u);if(o!=null){var v=r[o];dr(!v.newOption,'Duplicated option on id "'+u+'".');v.newOption=a;v.existing=t[o];n[e]=null}}))}function yu(r,t){V(t,(function(i,n){if(!i||i.name==null){return}for(var a=0;a<r.length;a++){var e=r[a].existing;if(!r[a].newOption&&e&&(e.id==null||i.id==null)&&!Nu(i)&&!Nu(e)&&xu("name",e,i)){r[a].newOption=i;t[n]=null;return}}}))}function gu(r,t,i){V(t,(function(t){if(!t){return}var n;var a=0;while((n=r[a])&&(n.newOption||Nu(n.existing)||n.existing&&t.id!=null&&!xu("id",t,n.existing))){a++}if(n){n.newOption=t;n.brandNew=i}else{r.push({newOption:t,brandNew:i,existing:null,keyInfo:null})}a++}))}function bu(r,t){V(t,(function(t){r.push({newOption:t,brandNew:true,existing:null,keyInfo:null})}))}function wu(r){var t=Sr();V(r,(function(r){var i=r.existing;i&&t.set(i.id,r)}));V(r,(function(r){var i=r.newOption;dr(!i||i.id==null||!t.get(i.id)||t.get(i.id)===r,"id duplicates: "+(i&&i.id));i&&i.id!=null&&t.set(i.id,r);!r.keyInfo&&(r.keyInfo={})}));V(r,(function(r,i){var n=r.existing;var a=r.newOption;var e=r.keyInfo;if(!tr(a)){return}e.name=a.name!=null?Mu(a.name):n?n.name:ou+i;if(n){e.id=Mu(n.id)}else if(a.id!=null){e.id=Mu(a.id)}else{var u=0;do{e.id="\0"+e.name+"\0"+u++}while(t.get(e.id))}t.set(e.id,r)}))}function xu(r,t,i){var n=Su(t[r],null);var a=Su(i[r],null);return n!=null&&a!=null&&n===a}function Mu(r){return Su(r,"")}function Su(r,t){if(r==null){return t}return $(r)?r:rr(r)||Q(r)?r+"":t}function ku(r){var t=r.name;return!!(t&&t.indexOf(ou))}function Nu(r){return r&&r.id!=null&&Mu(r.id).indexOf(vu)===0}function Au(r){return vu+r}function Iu(r,t,i){V(r,(function(r){var n=r.newOption;if(tr(n)){r.keyInfo.mainType=t;r.keyInfo.subType=Cu(t,n,r.existing,i)}}))}function Cu(r,t,i,n){var a=t.type?t.type:i?i.subType:n.determineSubType(r,t);return a}function Tu(r,t){var i={};var n={};a(r||[],i);a(t||[],n,i);return[e(i),e(n)];function a(r,t,i){for(var n=0,a=r.length;n<a;n++){var e=Su(r[n].seriesId,null);if(e==null){return}var u=su(r[n].dataIndex);var o=i&&i[e];for(var v=0,s=u.length;v<s;v++){var f=u[v];if(o&&o[f]){o[f]=null}else{(t[e]||(t[e]={}))[f]=1}}}}function e(r,t){var i=[];for(var n in r){if(r.hasOwnProperty(n)&&r[n]!=null){if(t){i.push(+n)}else{var a=e(r[n],true);a.length&&i.push({seriesId:n,dataIndex:a})}}}return i}}function zu(r,t){if(t.dataIndexInside!=null){return t.dataIndexInside}else if(t.dataIndex!=null){return K(t.dataIndex)?H(t.dataIndex,(function(t){return r.indexOfRawIndex(t)})):r.indexOfRawIndex(t.dataIndex)}else if(t.name!=null){return K(t.name)?H(t.name,(function(t){return r.indexOfName(t)})):r.indexOfName(t.name)}}function Lu(){var r="__ec_inner_"+Ou++;return function(t){return t[r]||(t[r]={})}}var Ou=Je();function Du(r,t,i){var n=Ru(t,i),a=n.mainTypeSpecified,e=n.queryOptionMap,u=n.others;var o=u;var v=i?i.defaultMainType:null;if(!a&&v){e.set(v,{})}e.each((function(t,n){var a=_u(r,n,t,{useDefault:v===n,enableAll:i&&i.enableAll!=null?i.enableAll:true,enableNone:i&&i.enableNone!=null?i.enableNone:true});o[n+"Models"]=a.models;o[n+"Model"]=a.models[0]}));return o}function Ru(r,t){var i;if($(r)){var n={};n[r+"Index"]=0;i=n}else{i=r}var a=Sr();var e={};var u=false;V(i,(function(r,i){if(i==="dataIndex"||i==="dataIndexInside"){e[i]=r;return}var n=i.match(/^(\w+)(Index|Id|Name)$/)||[];var o=n[1];var v=(n[2]||"").toLowerCase();if(!o||!v||t&&t.includeMainTypes&&_(t.includeMainTypes,o)<0){return}u=u||!!o;var s=a.get(o)||a.set(o,{});s[v]=r}));return{mainTypeSpecified:u,queryOptionMap:a,others:e}}var Fu={useDefault:true,enableAll:false,enableNone:false};var Bu={useDefault:false,enableAll:true,enableNone:true};function _u(r,t,i,n){n=n||Fu;var a=i.index;var e=i.id;var u=i.name;var o={models:null,specified:a!=null||e!=null||u!=null};if(!o.specified){var v=void 0;o.models=n.useDefault&&(v=r.getComponent(t))?[v]:[];return o}if(a==="none"||a===false){dr(n.enableNone,'`"none"` or `false` is not a valid value on index option.');o.models=[];return o}if(a==="all"){dr(n.enableAll,'`"all"` is not a valid value on index option.');a=e=u=null}o.models=r.queryComponents({mainType:t,index:a,id:e,name:u});return o}function Eu(r,t,i){r.setAttribute?r.setAttribute(t,i):r[t]=i}function Pu(r,t){return r.getAttribute?r.getAttribute(t):r[t]}function Wu(r){if(r==="auto"){return o.domSupported?"html":"richText"}else{return r||"html"}}function Vu(r,t){var i=Sr();var n=[];V(r,(function(r){var a=t(r);(i.get(a)||(n.push(a),i.set(a,[]))).push(r)}));return{keys:n,buckets:i}}function Hu(r,t,i,n,a){var e=t==null||t==="auto";if(n==null){return n}if(rr(n)){var u=uu(i||0,n,a);return Oe(u,e?Math.max(Re(i||0),Re(n)):t)}else if($(n)){return a<1?i:n}else{var o=[];var v=i;var s=n;var f=Math.max(v?v.length:0,s.length);for(var l=0;l<f;++l){var h=r.getDimensionInfo(l);if(h&&h.type==="ordinal"){o[l]=(a<1&&v?v:s)[l]}else{var c=v&&v[l]?v[l]:0;var d=s[l];var u=uu(c,d,a);o[l]=Oe(u,e?Math.max(Re(c),Re(d)):t)}}return o}}var Yu=".";var Xu="___EC__COMPONENT__CONTAINER___";var Gu="___EC__EXTENDED_CLASS___";function Uu(r){var t={main:"",sub:""};if(r){var i=r.split(Yu);t.main=i[0]||"";t.sub=i[1]||""}return t}function Zu(r){dr(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function ju(r){return!!(r&&r[Gu])}function qu(r,t){r.$constructor=r;r.extend=function(r){var t=this;var i;if(Ku(t)){i=function(r){a(t,r);function t(){return r.apply(this,arguments)||this}return t}(t)}else{i=function(){(r.$constructor||t).apply(this,arguments)};E(i,this)}F(i.prototype,r);i[Gu]=true;i.extend=this.extend;i.superCall=ro;i.superApply=to;i.superClass=t;return i}}function Ku(r){return J(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function Ju(r,t){r.extend=t.extend}var $u=Math.round(Math.random()*10);function Qu(r){var t=["__\0is_clz",$u++].join("_");r.prototype[t]=true;r.isInstance=function(r){return!!(r&&r[t])}}function ro(r,t){var i=[];for(var n=2;n<arguments.length;n++){i[n-2]=arguments[n]}return this.superClass.prototype[t].apply(r,i)}function to(r,t,i){return this.superClass.prototype[t].apply(r,i)}function io(r){var t={};r.registerClass=function(r){var n=r.type||r.prototype.type;if(n){Zu(n);r.prototype.type=n;var a=Uu(n);if(!a.sub){t[a.main]=r}else if(a.sub!==Xu){var e=i(a);e[a.sub]=r}}return r};r.getClass=function(r,i,n){var a=t[r];if(a&&a[Xu]){a=i?a[i]:null}if(n&&!a){throw new Error(!i?r+"."+"type should be specified.":"Component "+r+"."+(i||"")+" is used but not imported.")}return a};r.getClassesByMainType=function(r){var i=Uu(r);var n=[];var a=t[i.main];if(a&&a[Xu]){V(a,(function(r,t){t!==Xu&&n.push(r)}))}else{n.push(a)}return n};r.hasClass=function(r){var i=Uu(r);return!!t[i.main]};r.getAllClassMainTypes=function(){var r=[];V(t,(function(t,i){r.push(i)}));return r};r.hasSubTypes=function(r){var i=Uu(r);var n=t[i.main];return n&&n[Xu]};function i(r){var i=t[r.main];if(!i||!i[Xu]){i=t[r.main]={};i[Xu]=true}return i}}function no(r,t){for(var i=0;i<r.length;i++){if(!r[i][1]){r[i][1]=r[i][0]}}t=t||false;return function(i,n,a){var e={};for(var u=0;u<r.length;u++){var o=r[u][1];if(n&&_(n,o)>=0||a&&_(a,o)<0){continue}var v=i.getShallow(o,t);if(v!=null){e[r[u][0]]=v}}return e}}var ao=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]];var eo=no(ao);var uo=function(){function r(){}r.prototype.getAreaStyle=function(r,t){return eo(this,r,t)};return r}();var oo=new tn(50);function vo(r){if(typeof r==="string"){var t=oo.get(r);return t&&t.image}else{return r}}function so(r,t,i,n,a){if(!r){return t}else if(typeof r==="string"){if(t&&t.__zrImageSrc===r||!i){return t}var e=oo.get(r);var u={hostEl:i,cb:n,cbPayload:a};if(e){t=e.image;!lo(t)&&e.pending.push(u)}else{t=y.loadImage(r,fo,fo);t.__zrImageSrc=r;oo.put(r,t.__cachedImgObj={image:t,pending:[u]})}return t}else{return r}}function fo(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<r.pending.length;t++){var i=r.pending[t];var n=i.cb;n&&n(this,i.cbPayload);i.hostEl.dirty()}r.pending.length=0}function lo(r){return r&&r.width&&r.height}var ho=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function co(r,t,i,n,a){if(!t){return""}var e=(r+"").split("\n");a=po(t,i,n,a);for(var u=0,o=e.length;u<o;u++){e[u]=mo(e[u],a)}return e.join("\n")}function po(r,t,i,n){n=n||{};var a=F({},n);a.font=t;i=fr(i,"...");a.maxIterations=fr(n.maxIterations,2);var e=a.minChar=fr(n.minChar,0);a.cnCharWidth=re("",t);var u=a.ascCharWidth=re("a",t);a.placeholder=fr(n.placeholder,"");var o=r=Math.max(0,r-1);for(var v=0;v<e&&o>=u;v++){o-=u}var s=re(i,t);if(s>o){i="";s=0}o=r-s;a.ellipsis=i;a.ellipsisWidth=s;a.contentWidth=o;a.containerWidth=r;return a}function mo(r,t){var i=t.containerWidth;var n=t.font;var a=t.contentWidth;if(!i){return""}var e=re(r,n);if(e<=i){return r}for(var u=0;;u++){if(e<=a||u>=t.maxIterations){r+=t.ellipsis;break}var o=u===0?yo(r,a,t.ascCharWidth,t.cnCharWidth):e>0?Math.floor(r.length*a/e):0;r=r.substr(0,o);e=re(r,n)}if(r===""){r=t.placeholder}return r}function yo(r,t,i,n){var a=0;var e=0;for(var u=r.length;e<u&&a<t;e++){var o=r.charCodeAt(e);a+=0<=o&&o<=127?i:n}return e}function go(r,t){r!=null&&(r+="");var i=t.overflow;var n=t.padding;var a=t.font;var e=i==="truncate";var u=ee(a);var o=fr(t.lineHeight,u);var v=!!t.backgroundColor;var s=t.lineOverflow==="truncate";var f=t.width;var l;if(f!=null&&(i==="break"||i==="breakAll")){l=r?Io(r,t.font,f,i==="breakAll",0).lines:[]}else{l=r?r.split("\n"):[]}var h=l.length*o;var c=fr(t.height,h);if(h>c&&s){var d=Math.floor(c/o);l=l.slice(0,d)}if(r&&e&&f!=null){var p=po(f,a,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder});for(var m=0;m<l.length;m++){l[m]=mo(l[m],p)}}var y=c;var g=0;for(var m=0;m<l.length;m++){g=Math.max(re(l[m],a),g)}if(f==null){f=g}var b=g;if(n){y+=n[0]+n[2];b+=n[1]+n[3];f+=n[1]+n[3]}if(v){b=f}return{lines:l,height:c,outerWidth:b,outerHeight:y,lineHeight:o,calculatedLineHeight:u,contentWidth:g,contentHeight:h,width:f}}var bo=function(){function r(){}return r}();var wo=function(){function r(r){this.tokens=[];if(r){this.tokens=r}}return r}();var xo=function(){function r(){this.width=0;this.height=0;this.contentWidth=0;this.contentHeight=0;this.outerWidth=0;this.outerHeight=0;this.lines=[]}return r}();function Mo(r,t){var i=new xo;r!=null&&(r+="");if(!r){return i}var n=t.width;var a=t.height;var e=t.overflow;var u=(e==="break"||e==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:e==="breakAll"}:null;var o=ho.lastIndex=0;var v;while((v=ho.exec(r))!=null){var s=v.index;if(s>o){So(i,r.substring(o,s),t,u)}So(i,v[2],t,u,v[1]);o=ho.lastIndex}if(o<r.length){So(i,r.substring(o,r.length),t,u)}var f=[];var l=0;var h=0;var c=t.padding;var d=e==="truncate";var p=t.lineOverflow==="truncate";function m(r,t,i){r.width=t;r.lineHeight=i;l+=i;h=Math.max(h,t)}r:for(var y=0;y<i.lines.length;y++){var g=i.lines[y];var b=0;var w=0;for(var x=0;x<g.tokens.length;x++){var M=g.tokens[x];var S=M.styleName&&t.rich[M.styleName]||{};var k=M.textPadding=S.padding;var N=k?k[1]+k[3]:0;var A=M.font=S.font||t.font;M.contentHeight=ee(A);var I=fr(S.height,M.contentHeight);M.innerHeight=I;k&&(I+=k[0]+k[2]);M.height=I;M.lineHeight=lr(S.lineHeight,t.lineHeight,I);M.align=S&&S.align||t.align;M.verticalAlign=S&&S.verticalAlign||"middle";if(p&&a!=null&&l+M.lineHeight>a){if(x>0){g.tokens=g.tokens.slice(0,x);m(g,w,b);i.lines=i.lines.slice(0,y+1)}else{i.lines=i.lines.slice(0,y)}break r}var C=S.width;var T=C==null||C==="auto";if(typeof C==="string"&&C.charAt(C.length-1)==="%"){M.percentWidth=C;f.push(M);M.contentWidth=re(M.text,A)}else{if(T){var z=S.backgroundColor;var L=z&&z.image;if(L){L=vo(L);if(lo(L)){M.width=Math.max(M.width,L.width*I/L.height)}}}var O=d&&n!=null?n-w:null;if(O!=null&&O<M.width){if(!T||O<N){M.text="";M.width=M.contentWidth=0}else{M.text=co(M.text,O-N,A,t.ellipsis,{minChar:t.truncateMinChar});M.width=M.contentWidth=re(M.text,A)}}else{M.contentWidth=re(M.text,A)}}M.width+=N;w+=M.width;S&&(b=Math.max(b,M.lineHeight))}m(g,w,b)}i.outerWidth=i.width=fr(n,h);i.outerHeight=i.height=fr(a,l);i.contentHeight=l;i.contentWidth=h;if(c){i.outerWidth+=c[1]+c[3];i.outerHeight+=c[0]+c[2]}for(var y=0;y<f.length;y++){var M=f[y];var D=M.percentWidth;M.width=parseInt(D,10)/100*i.width}return i}function So(r,t,i,n,a){var e=t==="";var u=a&&i.rich[a]||{};var o=r.lines;var v=u.font||i.font;var s=false;var f;var l;if(n){var h=u.padding;var c=h?h[1]+h[3]:0;if(u.width!=null&&u.width!=="auto"){var d=ue(u.width,n.width)+c;if(o.length>0){if(d+n.accumWidth>n.width){f=t.split("\n");s=true}}n.accumWidth=d}else{var p=Io(t,v,n.width,n.breakAll,n.accumWidth);n.accumWidth=p.accumWidth+c;l=p.linesWidths;f=p.lines}}else{f=t.split("\n")}for(var m=0;m<f.length;m++){var y=f[m];var g=new bo;g.styleName=a;g.text=y;g.isLineHolder=!y&&!e;if(typeof u.width==="number"){g.width=u.width}else{g.width=l?l[m]:re(y,v)}if(!m&&!s){var b=(o[o.length-1]||(o[0]=new wo)).tokens;var w=b.length;w===1&&b[0].isLineHolder?b[0]=g:(y||!w||e)&&b.push(g)}else{o.push(new wo([g]))}}}function ko(r){var t=r.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var No=Y(",&?/;] ".split(""),(function(r,t){r[t]=true;return r}),{});function Ao(r){if(ko(r)){if(No[r]){return true}return false}return true}function Io(r,t,i,n,a){var e=[];var u=[];var o="";var v="";var s=0;var f=0;for(var l=0;l<r.length;l++){var h=r.charAt(l);if(h==="\n"){if(v){o+=v;f+=s}e.push(o);u.push(f);o="";v="";s=0;f=0;continue}var c=re(h,t);var d=n?false:!Ao(h);if(!e.length?a+f+c>i:f+c>i){if(!f){if(d){e.push(v);u.push(s);v=h;s=c}else{e.push(h);u.push(c)}}else if(o||v){if(d){if(!o){o=v;v="";s=0;f=s}e.push(o);u.push(f-s);v+=h;s+=c;o="";f=s}else{if(v){o+=v;v="";s=0}e.push(o);u.push(f);o=h;f=c}}continue}f+=c;if(d){v+=h;s+=c}else{if(v){o+=v;v="";s=0}o+=h}}if(!e.length&&!o){o=r;v="";s=0}if(v){o+=v}if(o){e.push(o);u.push(f)}if(e.length===1){f+=a}return{accumWidth:f,lines:e,linesWidths:u}}var Co="__zr_style_"+Math.round(Math.random()*10);var To={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"};var zo={style:{shadowBlur:true,shadowOffsetX:true,shadowOffsetY:true,shadowColor:true,opacity:true}};To[Co]=true;var Lo=["z","z2","invisible"];var Oo=["invisible"];var Do=function(r){Lr(t,r);function t(t){return r.call(this,t)||this}t.prototype._init=function(t){var i=U(t);for(var n=0;n<i.length;n++){var a=i[n];if(a==="style"){this.useStyle(t[a])}else{r.prototype.attrKV.call(this,a,t[a])}}if(!this.style){this.useStyle({})}};t.prototype.beforeBrush=function(){};t.prototype.afterBrush=function(){};t.prototype.innerBeforeBrush=function(){};t.prototype.innerAfterBrush=function(){};t.prototype.shouldBePainted=function(r,t,i,n){var a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&Bo(this,r,t)||a&&!a[0]&&!a[3]){return false}if(i&&this.__clipPaths){for(var e=0;e<this.__clipPaths.length;++e){if(this.__clipPaths[e].isZeroArea()){return false}}}if(n&&this.parent){var u=this.parent;while(u){if(u.ignore){return false}u=u.parent}}return true};t.prototype.contain=function(r,t){return this.rectContain(r,t)};t.prototype.traverse=function(r,t){r.call(t,this)};t.prototype.rectContain=function(r,t){var i=this.transformCoordToLocal(r,t);var n=this.getBoundingRect();return n.contain(i[0],i[1])};t.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var t=this.transform;var i=this.getBoundingRect();var n=this.style;var a=n.shadowBlur||0;var e=n.shadowOffsetX||0;var u=n.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new Zt(0,0,0,0));if(t){Zt.applyTransform(r,i,t)}else{r.copy(i)}if(a||e||u){r.width+=a*2+Math.abs(e);r.height+=a*2+Math.abs(u);r.x=Math.min(r.x,r.x+e-a);r.y=Math.min(r.y,r.y+u-a)}var o=this.dirtyRectTolerance;if(!r.isZero()){r.x=Math.floor(r.x-o);r.y=Math.floor(r.y-o);r.width=Math.ceil(r.width+1+o*2);r.height=Math.ceil(r.height+1+o*2)}}return r};t.prototype.setPrevPaintRect=function(r){if(r){this._prevPaintRect=this._prevPaintRect||new Zt(0,0,0,0);this._prevPaintRect.copy(r)}else{this._prevPaintRect=null}};t.prototype.getPrevPaintRect=function(){return this._prevPaintRect};t.prototype.animateStyle=function(r){return this.animate("style",r)};t.prototype.updateDuringAnimation=function(r){if(r==="style"){this.dirtyStyle()}else{this.markRedraw()}};t.prototype.attrKV=function(t,i){if(t!=="style"){r.prototype.attrKV.call(this,t,i)}else{if(!this.style){this.useStyle(i)}else{this.setStyle(i)}}};t.prototype.setStyle=function(r,t){if(typeof r==="string"){this.style[r]=t}else{F(this.style,r)}this.dirtyStyle();return this};t.prototype.dirtyStyle=function(r){if(!r){this.markRedraw()}this.__dirty|=mi;if(this._rect){this._rect=null}};t.prototype.dirty=function(){this.dirtyStyle()};t.prototype.styleChanged=function(){return!!(this.__dirty&mi)};t.prototype.styleUpdated=function(){this.__dirty&=~mi};t.prototype.createStyle=function(r){return Nr(To,r)};t.prototype.useStyle=function(r){if(!r[Co]){r=this.createStyle(r)}if(this.__inHover){this.__hoverStyle=r}else{this.style=r}this.dirtyStyle()};t.prototype.isStyleObject=function(r){return r[Co]};t.prototype._innerSaveToNormal=function(t){r.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;if(t.style&&!i.style){i.style=this._mergeStyle(this.createStyle(),this.style)}this._savePrimaryToNormal(t,i,Lo)};t.prototype._applyStateObj=function(t,i,n,a,e,u){r.prototype._applyStateObj.call(this,t,i,n,a,e,u);var o=!(i&&a);var v;if(i&&i.style){if(e){if(a){v=i.style}else{v=this._mergeStyle(this.createStyle(),n.style);this._mergeStyle(v,i.style)}}else{v=this._mergeStyle(this.createStyle(),a?this.style:n.style);this._mergeStyle(v,i.style)}}else if(o){v=n.style}if(v){if(e){var s=this.style;this.style=this.createStyle(o?{}:s);if(o){var f=U(s);for(var l=0;l<f.length;l++){var h=f[l];if(h in v){v[h]=v[h];this.style[h]=s[h]}}}var c=U(v);for(var l=0;l<c.length;l++){var h=c[l];this.style[h]=this.style[h]}this._transitionState(t,{style:v},u,this.getAnimationStyleProps())}else{this.useStyle(v)}}var d=this.__inHover?Oo:Lo;for(var l=0;l<d.length;l++){var h=d[l];if(i&&i[h]!=null){this[h]=i[h]}else if(o){if(n[h]!=null){this[h]=n[h]}}}};t.prototype._mergeStates=function(t){var i=r.prototype._mergeStates.call(this,t);var n;for(var a=0;a<t.length;a++){var e=t[a];if(e.style){n=n||{};this._mergeStyle(n,e.style)}}if(n){i.style=n}return i};t.prototype._mergeStyle=function(r,t){F(r,t);return r};t.prototype.getAnimationStyleProps=function(){return zo};t.initDefaultProps=function(){var r=t.prototype;r.type="displayable";r.invisible=false;r.z=0;r.z2=0;r.zlevel=0;r.culling=false;r.cursor="pointer";r.rectHover=false;r.incremental=false;r._rect=null;r.dirtyRectTolerance=0;r.__dirty=pi|mi}();return t}(ce);var Ro=new Zt(0,0,0,0);var Fo=new Zt(0,0,0,0);function Bo(r,t,i){Ro.copy(r.getBoundingRect());if(r.transform){Ro.applyTransform(r.transform)}Fo.width=t;Fo.height=i;return!Ro.intersect(Fo)}var _o=Math.min;var Eo=Math.max;var Po=Math.sin;var Wo=Math.cos;var Vo=Math.PI*2;var Ho=Or();var Yo=Or();var Xo=Or();function Go(r,t,i){if(r.length===0){return}var n=r[0];var a=n[0];var e=n[0];var u=n[1];var o=n[1];for(var v=1;v<r.length;v++){n=r[v];a=_o(a,n[0]);e=Eo(e,n[0]);u=_o(u,n[1]);o=Eo(o,n[1])}t[0]=a;t[1]=u;i[0]=e;i[1]=o}function Uo(r,t,i,n,a,e){a[0]=_o(r,i);a[1]=_o(t,n);e[0]=Eo(r,i);e[1]=Eo(t,n)}var Zo=[];var jo=[];function qo(r,t,i,n,a,e,u,o,v,s){var f=Pi;var l=Bi;var h=f(r,i,a,u,Zo);v[0]=Infinity;v[1]=Infinity;s[0]=-Infinity;s[1]=-Infinity;for(var c=0;c<h;c++){var d=l(r,i,a,u,Zo[c]);v[0]=_o(d,v[0]);s[0]=Eo(d,s[0])}h=f(t,n,e,o,jo);for(var c=0;c<h;c++){var p=l(t,n,e,o,jo[c]);v[1]=_o(p,v[1]);s[1]=Eo(p,s[1])}v[0]=_o(r,v[0]);s[0]=Eo(r,s[0]);v[0]=_o(u,v[0]);s[0]=Eo(u,s[0]);v[1]=_o(t,v[1]);s[1]=Eo(t,s[1]);v[1]=_o(o,v[1]);s[1]=Eo(o,s[1])}function Ko(r,t,i,n,a,e,u,o){var v=Ui;var s=Yi;var f=Eo(_o(v(r,i,a),1),0);var l=Eo(_o(v(t,n,e),1),0);var h=s(r,i,a,f);var c=s(t,n,e,l);u[0]=_o(r,a,h);u[1]=_o(t,e,c);o[0]=Eo(r,a,h);o[1]=Eo(t,e,c)}function Jo(r,t,i,n,a,e,u,o,v){var s=qr;var f=Kr;var l=Math.abs(a-e);if(l%Vo<1e-4&&l>1e-4){o[0]=r-i;o[1]=t-n;v[0]=r+i;v[1]=t+n;return}Ho[0]=Wo(a)*i+r;Ho[1]=Po(a)*n+t;Yo[0]=Wo(e)*i+r;Yo[1]=Po(e)*n+t;s(o,Ho,Yo);f(v,Ho,Yo);a=a%Vo;if(a<0){a=a+Vo}e=e%Vo;if(e<0){e=e+Vo}if(a>e&&!u){e+=Vo}else if(a<e&&u){a+=Vo}if(u){var h=e;e=a;a=h}for(var c=0;c<e;c+=Math.PI/2){if(c>a){Xo[0]=Wo(c)*i+r;Xo[1]=Po(c)*n+t;s(o,Xo,o);f(v,Xo,v)}}}var $o={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7};var Qo=[];var rv=[];var tv=[];var iv=[];var nv=[];var av=[];var ev=Math.min;var uv=Math.max;var ov=Math.cos;var vv=Math.sin;var sv=Math.abs;var fv=Math.PI;var lv=fv*2;var hv=typeof Float32Array!=="undefined";var cv=[];function dv(r){var t=Math.round(r/fv*1e8)/1e8;return t%2*fv}function pv(r,t){var i=dv(r[0]);if(i<0){i+=lv}var n=i-r[0];var a=r[1];a+=n;if(!t&&a-i>=lv){a=i+lv}else if(t&&i-a>=lv){a=i-lv}else if(!t&&i>a){a=i+(lv-dv(i-a))}else if(t&&i<a){a=i-(lv-dv(a-i))}r[0]=i;r[1]=a}var mv=function(){function r(r){this.dpr=1;this._xi=0;this._yi=0;this._x0=0;this._y0=0;this._len=0;if(r){this._saveData=false}if(this._saveData){this.data=[]}}r.prototype.increaseVersion=function(){this._version++};r.prototype.getVersion=function(){return this._version};r.prototype.setScale=function(r,t,i){i=i||0;if(i>0){this._ux=sv(i/Ea/r)||0;this._uy=sv(i/Ea/t)||0}};r.prototype.setDPR=function(r){this.dpr=r};r.prototype.setContext=function(r){this._ctx=r};r.prototype.getContext=function(){return this._ctx};r.prototype.beginPath=function(){this._ctx&&this._ctx.beginPath();this.reset();return this};r.prototype.reset=function(){if(this._saveData){this._len=0}if(this._pathSegLen){this._pathSegLen=null;this._pathLen=0}this._version++};r.prototype.moveTo=function(r,t){this._drawPendingPt();this.addData($o.M,r,t);this._ctx&&this._ctx.moveTo(r,t);this._x0=r;this._y0=t;this._xi=r;this._yi=t;return this};r.prototype.lineTo=function(r,t){var i=sv(r-this._xi);var n=sv(t-this._yi);var a=i>this._ux||n>this._uy;this.addData($o.L,r,t);if(this._ctx&&a){this._ctx.lineTo(r,t)}if(a){this._xi=r;this._yi=t;this._pendingPtDist=0}else{var e=i*i+n*n;if(e>this._pendingPtDist){this._pendingPtX=r;this._pendingPtY=t;this._pendingPtDist=e}}return this};r.prototype.bezierCurveTo=function(r,t,i,n,a,e){this._drawPendingPt();this.addData($o.C,r,t,i,n,a,e);if(this._ctx){this._ctx.bezierCurveTo(r,t,i,n,a,e)}this._xi=a;this._yi=e;return this};r.prototype.quadraticCurveTo=function(r,t,i,n){this._drawPendingPt();this.addData($o.Q,r,t,i,n);if(this._ctx){this._ctx.quadraticCurveTo(r,t,i,n)}this._xi=i;this._yi=n;return this};r.prototype.arc=function(r,t,i,n,a,e){this._drawPendingPt();cv[0]=n;cv[1]=a;pv(cv,e);n=cv[0];a=cv[1];var u=a-n;this.addData($o.A,r,t,i,i,n,u,0,e?0:1);this._ctx&&this._ctx.arc(r,t,i,n,a,e);this._xi=ov(a)*i+r;this._yi=vv(a)*i+t;return this};r.prototype.arcTo=function(r,t,i,n,a){this._drawPendingPt();if(this._ctx){this._ctx.arcTo(r,t,i,n,a)}return this};r.prototype.rect=function(r,t,i,n){this._drawPendingPt();this._ctx&&this._ctx.rect(r,t,i,n);this.addData($o.R,r,t,i,n);return this};r.prototype.closePath=function(){this._drawPendingPt();this.addData($o.Z);var r=this._ctx;var t=this._x0;var i=this._y0;if(r){r.closePath()}this._xi=t;this._yi=i;return this};r.prototype.fill=function(r){r&&r.fill();this.toStatic()};r.prototype.stroke=function(r){r&&r.stroke();this.toStatic()};r.prototype.len=function(){return this._len};r.prototype.setData=function(r){var t=r.length;if(!(this.data&&this.data.length===t)&&hv){this.data=new Float32Array(t)}for(var i=0;i<t;i++){this.data[i]=r[i]}this._len=t};r.prototype.appendPath=function(r){if(!(r instanceof Array)){r=[r]}var t=r.length;var i=0;var n=this._len;for(var a=0;a<t;a++){i+=r[a].len()}if(hv&&this.data instanceof Float32Array){this.data=new Float32Array(n+i)}for(var a=0;a<t;a++){var e=r[a].data;for(var u=0;u<e.length;u++){this.data[n++]=e[u]}}this._len=n};r.prototype.addData=function(r,t,i,n,a,e,u,o,v){if(!this._saveData){return}var s=this.data;if(this._len+arguments.length>s.length){this._expandData();s=this.data}for(var f=0;f<arguments.length;f++){s[this._len++]=arguments[f]}};r.prototype._drawPendingPt=function(){if(this._pendingPtDist>0){this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY);this._pendingPtDist=0}};r.prototype._expandData=function(){if(!(this.data instanceof Array)){var r=[];for(var t=0;t<this._len;t++){r[t]=this.data[t]}this.data=r}};r.prototype.toStatic=function(){if(!this._saveData){return}this._drawPendingPt();var r=this.data;if(r instanceof Array){r.length=this._len;if(hv&&this._len>11){this.data=new Float32Array(r)}}};r.prototype.getBoundingRect=function(){tv[0]=tv[1]=nv[0]=nv[1]=Number.MAX_VALUE;iv[0]=iv[1]=av[0]=av[1]=-Number.MAX_VALUE;var r=this.data;var t=0;var i=0;var n=0;var a=0;var e;for(e=0;e<this._len;){var u=r[e++];var o=e===1;if(o){t=r[e];i=r[e+1];n=t;a=i}switch(u){case $o.M:t=n=r[e++];i=a=r[e++];nv[0]=n;nv[1]=a;av[0]=n;av[1]=a;break;case $o.L:Uo(t,i,r[e],r[e+1],nv,av);t=r[e++];i=r[e++];break;case $o.C:qo(t,i,r[e++],r[e++],r[e++],r[e++],r[e],r[e+1],nv,av);t=r[e++];i=r[e++];break;case $o.Q:Ko(t,i,r[e++],r[e++],r[e],r[e+1],nv,av);t=r[e++];i=r[e++];break;case $o.A:var v=r[e++];var s=r[e++];var f=r[e++];var l=r[e++];var h=r[e++];var c=r[e++]+h;e+=1;var d=!r[e++];if(o){n=ov(h)*f+v;a=vv(h)*l+s}Jo(v,s,f,l,h,c,d,nv,av);t=ov(c)*f+v;i=vv(c)*l+s;break;case $o.R:n=t=r[e++];a=i=r[e++];var p=r[e++];var m=r[e++];Uo(n,a,n+p,a+m,nv,av);break;case $o.Z:t=n;i=a;break}qr(tv,tv,nv);Kr(iv,iv,av)}if(e===0){tv[0]=tv[1]=iv[0]=iv[1]=0}return new Zt(tv[0],tv[1],iv[0]-tv[0],iv[1]-tv[1])};r.prototype._calculateLength=function(){var r=this.data;var t=this._len;var i=this._ux;var n=this._uy;var a=0;var e=0;var u=0;var o=0;if(!this._pathSegLen){this._pathSegLen=[]}var v=this._pathSegLen;var s=0;var f=0;for(var l=0;l<t;){var h=r[l++];var c=l===1;if(c){a=r[l];e=r[l+1];u=a;o=e}var d=-1;switch(h){case $o.M:a=u=r[l++];e=o=r[l++];break;case $o.L:{var p=r[l++];var m=r[l++];var y=p-a;var g=m-e;if(sv(y)>i||sv(g)>n||l===t-1){d=Math.sqrt(y*y+g*g);a=p;e=m}break}case $o.C:{var b=r[l++];var w=r[l++];var p=r[l++];var m=r[l++];var x=r[l++];var M=r[l++];d=Hi(a,e,b,w,p,m,x,M,10);a=x;e=M;break}case $o.Q:{var b=r[l++];var w=r[l++];var p=r[l++];var m=r[l++];d=qi(a,e,b,w,p,m,10);a=p;e=m;break}case $o.A:var S=r[l++];var k=r[l++];var N=r[l++];var A=r[l++];var I=r[l++];var C=r[l++];var T=C+I;l+=1;!r[l++];if(c){u=ov(I)*N+S;o=vv(I)*A+k}d=uv(N,A)*ev(lv,Math.abs(C));a=ov(T)*N+S;e=vv(T)*A+k;break;case $o.R:{u=a=r[l++];o=e=r[l++];var z=r[l++];var L=r[l++];d=z*2+L*2;break}case $o.Z:{var y=u-a;var g=o-e;d=Math.sqrt(y*y+g*g);a=u;e=o;break}}if(d>=0){v[f++]=d;s+=d}}this._pathLen=s;return s};r.prototype.rebuildPath=function(r,t){var i=this.data;var n=this._ux;var a=this._uy;var e=this._len;var u;var o;var v;var s;var f;var l;var h=t<1;var c;var d;var p=0;var m=0;var y;var g=0;var b;var w;if(h){if(!this._pathSegLen){this._calculateLength()}c=this._pathSegLen;d=this._pathLen;y=t*d;if(!y){return}}r:for(var x=0;x<e;){var M=i[x++];var S=x===1;if(S){v=i[x];s=i[x+1];u=v;o=s}if(M!==$o.L&&g>0){r.lineTo(b,w);g=0}switch(M){case $o.M:u=v=i[x++];o=s=i[x++];r.moveTo(v,s);break;case $o.L:{f=i[x++];l=i[x++];var k=sv(f-v);var N=sv(l-s);if(k>n||N>a){if(h){var A=c[m++];if(p+A>y){var I=(y-p)/A;r.lineTo(v*(1-I)+f*I,s*(1-I)+l*I);break r}p+=A}r.lineTo(f,l);v=f;s=l;g=0}else{var C=k*k+N*N;if(C>g){b=f;w=l;g=C}}break}case $o.C:{var T=i[x++];var z=i[x++];var L=i[x++];var O=i[x++];var D=i[x++];var R=i[x++];if(h){var A=c[m++];if(p+A>y){var I=(y-p)/A;Wi(v,T,L,D,I,Qo);Wi(s,z,O,R,I,rv);r.bezierCurveTo(Qo[1],rv[1],Qo[2],rv[2],Qo[3],rv[3]);break r}p+=A}r.bezierCurveTo(T,z,L,O,D,R);v=D;s=R;break}case $o.Q:{var T=i[x++];var z=i[x++];var L=i[x++];var O=i[x++];if(h){var A=c[m++];if(p+A>y){var I=(y-p)/A;Zi(v,T,L,I,Qo);Zi(s,z,O,I,rv);r.quadraticCurveTo(Qo[1],rv[1],Qo[2],rv[2]);break r}p+=A}r.quadraticCurveTo(T,z,L,O);v=L;s=O;break}case $o.A:var F=i[x++];var B=i[x++];var _=i[x++];var E=i[x++];var P=i[x++];var W=i[x++];var V=i[x++];var H=!i[x++];var Y=_>E?_:E;var X=sv(_-E)>.001;var G=P+W;var U=false;if(h){var A=c[m++];if(p+A>y){G=P+W*(y-p)/A;U=true}p+=A}if(X&&r.ellipse){r.ellipse(F,B,_,E,V,P,G,H)}else{r.arc(F,B,Y,P,G,H)}if(U){break r}if(S){u=ov(P)*_+F;o=vv(P)*E+B}v=ov(G)*_+F;s=vv(G)*E+B;break;case $o.R:u=v=i[x];o=s=i[x+1];f=i[x++];l=i[x++];var Z=i[x++];var j=i[x++];if(h){var A=c[m++];if(p+A>y){var q=y-p;r.moveTo(f,l);r.lineTo(f+ev(q,Z),l);q-=Z;if(q>0){r.lineTo(f+Z,l+ev(q,j))}q-=j;if(q>0){r.lineTo(f+uv(Z-q,0),l+j)}q-=Z;if(q>0){r.lineTo(f,l+uv(j-q,0))}break r}p+=A}r.rect(f,l,Z,j);break;case $o.Z:if(h){var A=c[m++];if(p+A>y){var I=(y-p)/A;r.lineTo(v*(1-I)+u*I,s*(1-I)+o*I);break r}p+=A}r.closePath();v=u;s=o}}};r.prototype.clone=function(){var t=new r;var i=this.data;t.data=i.slice?i.slice():Array.prototype.slice.call(i);t._len=this._len;return t};r.CMD=$o;r.initDefaultProps=function(){var t=r.prototype;t._saveData=true;t._ux=0;t._uy=0;t._pendingPtDist=0;t._version=0}();return r}();function yv(r,t,i,n,a,e,u){if(a===0){return false}var o=a;var v=0;var s=r;if(u>t+o&&u>n+o||u<t-o&&u<n-o||e>r+o&&e>i+o||e<r-o&&e<i-o){return false}if(r!==i){v=(t-n)/(r-i);s=(r*n-i*t)/(r-i)}else{return Math.abs(e-r)<=o/2}var f=v*e-u+s;var l=f*f/(v*v+1);return l<=o/2*o/2}function gv(r,t,i,n,a,e,u,o,v,s,f){if(v===0){return false}var l=v;if(f>t+l&&f>n+l&&f>e+l&&f>o+l||f<t-l&&f<n-l&&f<e-l&&f<o-l||s>r+l&&s>i+l&&s>a+l&&s>u+l||s<r-l&&s<i-l&&s<a-l&&s<u-l){return false}var h=Vi(r,t,i,n,a,e,u,o,s,f,null);return h<=l/2}function bv(r,t,i,n,a,e,u,o,v){if(u===0){return false}var s=u;if(v>t+s&&v>n+s&&v>e+s||v<t-s&&v<n-s&&v<e-s||o>r+s&&o>i+s&&o>a+s||o<r-s&&o<i-s&&o<a-s){return false}var f=ji(r,t,i,n,a,e,o,v,null);return f<=s/2}var wv=Math.PI*2;function xv(r){r%=wv;if(r<0){r+=wv}return r}var Mv=Math.PI*2;function Sv(r,t,i,n,a,e,u,o,v){if(u===0){return false}var s=u;o-=r;v-=t;var f=Math.sqrt(o*o+v*v);if(f-s>i||f+s<i){return false}if(Math.abs(n-a)%Mv<1e-4){return true}if(e){var l=n;n=xv(a);a=xv(l)}else{n=xv(n);a=xv(a)}if(n>a){a+=Mv}var h=Math.atan2(v,o);if(h<0){h+=Mv}return h>=n&&h<=a||h+Mv>=n&&h+Mv<=a}function kv(r,t,i,n,a,e){if(e>t&&e>n||e<t&&e<n){return 0}if(n===t){return 0}var u=(e-t)/(n-t);var o=n<t?1:-1;if(u===1||u===0){o=n<t?.5:-.5}var v=u*(i-r)+r;return v===a?Infinity:v>a?o:0}var Nv=mv.CMD;var Av=Math.PI*2;var Iv=1e-4;function Cv(r,t){return Math.abs(r-t)<Iv}var Tv=[-1,-1,-1];var zv=[-1,-1];function Lv(){var r=zv[0];zv[0]=zv[1];zv[1]=r}function Ov(r,t,i,n,a,e,u,o,v,s){if(s>t&&s>n&&s>e&&s>o||s<t&&s<n&&s<e&&s<o){return 0}var f=Ei(t,n,e,o,s,Tv);if(f===0){return 0}else{var l=0;var h=-1;var c=void 0;var d=void 0;for(var p=0;p<f;p++){var m=Tv[p];var y=m===0||m===1?.5:1;var g=Bi(r,i,a,u,m);if(g<v){continue}if(h<0){h=Pi(t,n,e,o,zv);if(zv[1]<zv[0]&&h>1){Lv()}c=Bi(t,n,e,o,zv[0]);if(h>1){d=Bi(t,n,e,o,zv[1])}}if(h===2){if(m<zv[0]){l+=c<t?y:-y}else if(m<zv[1]){l+=d<c?y:-y}else{l+=o<d?y:-y}}else{if(m<zv[0]){l+=c<t?y:-y}else{l+=o<c?y:-y}}}return l}}function Dv(r,t,i,n,a,e,u,o){if(o>t&&o>n&&o>e||o<t&&o<n&&o<e){return 0}var v=Gi(t,n,e,o,Tv);if(v===0){return 0}else{var s=Ui(t,n,e);if(s>=0&&s<=1){var f=0;var l=Yi(t,n,e,s);for(var h=0;h<v;h++){var c=Tv[h]===0||Tv[h]===1?.5:1;var d=Yi(r,i,a,Tv[h]);if(d<u){continue}if(Tv[h]<s){f+=l<t?c:-c}else{f+=e<l?c:-c}}return f}else{var c=Tv[0]===0||Tv[0]===1?.5:1;var d=Yi(r,i,a,Tv[0]);if(d<u){return 0}return e<t?c:-c}}}function Rv(r,t,i,n,a,e,u,o){o-=t;if(o>i||o<-i){return 0}var v=Math.sqrt(i*i-o*o);Tv[0]=-v;Tv[1]=v;var s=Math.abs(n-a);if(s<1e-4){return 0}if(s>=Av-1e-4){n=0;a=Av;var f=e?1:-1;if(u>=Tv[0]+r&&u<=Tv[1]+r){return f}else{return 0}}if(n>a){var l=n;n=a;a=l}if(n<0){n+=Av;a+=Av}var h=0;for(var c=0;c<2;c++){var d=Tv[c];if(d+r>u){var p=Math.atan2(o,d);var f=e?1:-1;if(p<0){p=Av+p}if(p>=n&&p<=a||p+Av>=n&&p+Av<=a){if(p>Math.PI/2&&p<Math.PI*1.5){f=-f}h+=f}}}return h}function Fv(r,t,i,n,a){var e=r.data;var u=r.len();var o=0;var v=0;var s=0;var f=0;var l=0;var h;var c;for(var d=0;d<u;){var p=e[d++];var m=d===1;if(p===Nv.M&&d>1){if(!i){o+=kv(v,s,f,l,n,a)}}if(m){v=e[d];s=e[d+1];f=v;l=s}switch(p){case Nv.M:f=e[d++];l=e[d++];v=f;s=l;break;case Nv.L:if(i){if(yv(v,s,e[d],e[d+1],t,n,a)){return true}}else{o+=kv(v,s,e[d],e[d+1],n,a)||0}v=e[d++];s=e[d++];break;case Nv.C:if(i){if(gv(v,s,e[d++],e[d++],e[d++],e[d++],e[d],e[d+1],t,n,a)){return true}}else{o+=Ov(v,s,e[d++],e[d++],e[d++],e[d++],e[d],e[d+1],n,a)||0}v=e[d++];s=e[d++];break;case Nv.Q:if(i){if(bv(v,s,e[d++],e[d++],e[d],e[d+1],t,n,a)){return true}}else{o+=Dv(v,s,e[d++],e[d++],e[d],e[d+1],n,a)||0}v=e[d++];s=e[d++];break;case Nv.A:var y=e[d++];var g=e[d++];var b=e[d++];var w=e[d++];var x=e[d++];var M=e[d++];d+=1;var S=!!(1-e[d++]);h=Math.cos(x)*b+y;c=Math.sin(x)*w+g;if(!m){o+=kv(v,s,h,c,n,a)}else{f=h;l=c}var k=(n-y)*w/b+y;if(i){if(Sv(y,g,w,x,x+M,S,t,k,a)){return true}}else{o+=Rv(y,g,w,x,x+M,S,k,a)}v=Math.cos(x+M)*b+y;s=Math.sin(x+M)*w+g;break;case Nv.R:f=v=e[d++];l=s=e[d++];var N=e[d++];var A=e[d++];h=f+N;c=l+A;if(i){if(yv(f,l,h,l,t,n,a)||yv(h,l,h,c,t,n,a)||yv(h,c,f,c,t,n,a)||yv(f,c,f,l,t,n,a)){return true}}else{o+=kv(h,l,h,c,n,a);o+=kv(f,c,f,l,n,a)}break;case Nv.Z:if(i){if(yv(v,s,f,l,t,n,a)){return true}}else{o+=kv(v,s,f,l,n,a)}v=f;s=l;break}}if(!i&&!Cv(s,l)){o+=kv(v,s,f,l,n,a)||0}return o!==0}function Bv(r,t,i){return Fv(r,0,false,t,i)}function _v(r,t,i,n){return Fv(r,t,true,i,n)}var Ev=B({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:false,strokeFirst:false},To);var Pv={style:B({fill:true,stroke:true,strokePercent:true,fillOpacity:true,strokeOpacity:true,lineDashOffset:true,lineWidth:true,miterLimit:true},zo.style)};var Wv=Ja.concat(["invisible","culling","z","z2","zlevel","parent"]);var Vv=function(r){Lr(t,r);function t(t){return r.call(this,t)||this}t.prototype.update=function(){var i=this;r.prototype.update.call(this);var n=this.style;if(n.decal){var a=this._decalEl=this._decalEl||new t;if(a.buildPath===t.prototype.buildPath){a.buildPath=function(r){i.buildPath(r,i.shape)}}a.silent=true;var e=a.style;for(var u in n){if(e[u]!==n[u]){e[u]=n[u]}}e.fill=n.fill?n.decal:null;e.decal=null;e.shadowColor=null;n.strokeFirst&&(e.stroke=null);for(var o=0;o<Wv.length;++o){a[Wv[o]]=this[Wv[o]]}a.__dirty|=pi}else if(this._decalEl){this._decalEl=null}};t.prototype.getDecalElement=function(){return this._decalEl};t.prototype._init=function(t){var i=U(t);this.shape=this.getDefaultShape();var n=this.getDefaultStyle();if(n){this.useStyle(n)}for(var a=0;a<i.length;a++){var e=i[a];var u=t[e];if(e==="style"){if(!this.style){this.useStyle(u)}else{F(this.style,u)}}else if(e==="shape"){F(this.shape,u)}else{r.prototype.attrKV.call(this,e,u)}}if(!this.style){this.useStyle({})}};t.prototype.getDefaultStyle=function(){return null};t.prototype.getDefaultShape=function(){return{}};t.prototype.canBeInsideText=function(){return this.hasFill()};t.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if($(r)){var t=Nn(r,0);if(t>.5){return Wa}else if(t>.2){return Ha}return Va}else if(r){return Va}}return Wa};t.prototype.getInsideTextStroke=function(r){var t=this.style.fill;if($(t)){var i=this.__zr;var n=!!(i&&i.isDarkMode());var a=Nn(r,0)<Pa;if(n===a){return t}}};t.prototype.buildPath=function(r,t,i){};t.prototype.pathUpdated=function(){this.__dirty&=~yi};t.prototype.getUpdatedPathProxy=function(r){!this.path&&this.createPathProxy();this.path.beginPath();this.buildPath(this.path,this.shape,r);return this.path};t.prototype.createPathProxy=function(){this.path=new mv(false)};t.prototype.hasStroke=function(){var r=this.style;var t=r.stroke;return!(t==null||t==="none"||!(r.lineWidth>0))};t.prototype.hasFill=function(){var r=this.style;var t=r.fill;return t!=null&&t!=="none"};t.prototype.getBoundingRect=function(){var r=this._rect;var t=this.style;var i=!r;if(i){var n=false;if(!this.path){n=true;this.createPathProxy()}var a=this.path;if(n||this.__dirty&yi){a.beginPath();this.buildPath(a,this.shape,false);this.pathUpdated()}r=a.getBoundingRect()}this._rect=r;if(this.hasStroke()&&this.path&&this.path.len()>0){var e=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){e.copy(r);var u=t.strokeNoScale?this.getLineScale():1;var o=t.lineWidth;if(!this.hasFill()){var v=this.strokeContainThreshold;o=Math.max(o,v==null?4:v)}if(u>1e-10){e.width+=o/u;e.height+=o/u;e.x-=o/u/2;e.y-=o/u/2}}return e}return r};t.prototype.contain=function(r,t){var i=this.transformCoordToLocal(r,t);var n=this.getBoundingRect();var a=this.style;r=i[0];t=i[1];if(n.contain(r,t)){var e=this.path;if(this.hasStroke()){var u=a.lineWidth;var o=a.strokeNoScale?this.getLineScale():1;if(o>1e-10){if(!this.hasFill()){u=Math.max(u,this.strokeContainThreshold)}if(_v(e,u/o,r,t)){return true}}}if(this.hasFill()){return Bv(e,r,t)}}return false};t.prototype.dirtyShape=function(){this.__dirty|=yi;if(this._rect){this._rect=null}if(this._decalEl){this._decalEl.dirtyShape()}this.markRedraw()};t.prototype.dirty=function(){this.dirtyStyle();this.dirtyShape()};t.prototype.animateShape=function(r){return this.animate("shape",r)};t.prototype.updateDuringAnimation=function(r){if(r==="style"){this.dirtyStyle()}else if(r==="shape"){this.dirtyShape()}else{this.markRedraw()}};t.prototype.attrKV=function(t,i){if(t==="shape"){this.setShape(i)}else{r.prototype.attrKV.call(this,t,i)}};t.prototype.setShape=function(r,t){var i=this.shape;if(!i){i=this.shape={}}if(typeof r==="string"){i[r]=t}else{F(i,r)}this.dirtyShape();return this};t.prototype.shapeChanged=function(){return!!(this.__dirty&yi)};t.prototype.createStyle=function(r){return Nr(Ev,r)};t.prototype._innerSaveToNormal=function(t){r.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;if(t.shape&&!i.shape){i.shape=F({},this.shape)}};t.prototype._applyStateObj=function(t,i,n,a,e,u){r.prototype._applyStateObj.call(this,t,i,n,a,e,u);var o=!(i&&a);var v;if(i&&i.shape){if(e){if(a){v=i.shape}else{v=F({},n.shape);F(v,i.shape)}}else{v=F({},a?this.shape:n.shape);F(v,i.shape)}}else if(o){v=n.shape}if(v){if(e){this.shape=F({},this.shape);var s={};var f=U(v);for(var l=0;l<f.length;l++){var h=f[l];if(typeof v[h]==="object"){this.shape[h]=v[h]}else{s[h]=v[h]}}this._transitionState(t,{shape:s},u)}else{this.shape=v;this.dirtyShape()}}};t.prototype._mergeStates=function(t){var i=r.prototype._mergeStates.call(this,t);var n;for(var a=0;a<t.length;a++){var e=t[a];if(e.shape){n=n||{};this._mergeStyle(n,e.shape)}}if(n){i.shape=n}return i};t.prototype.getAnimationStyleProps=function(){return Pv};t.prototype.isZeroArea=function(){return false};t.extend=function(r){var i=function(t){Lr(i,t);function i(i){var n=t.call(this,i)||this;r.init&&r.init.call(n,i);return n}i.prototype.getDefaultStyle=function(){return O(r.style)};i.prototype.getDefaultShape=function(){return O(r.shape)};return i}(t);for(var n in r){if(typeof r[n]==="function"){i.prototype[n]=r[n]}}return i};t.initDefaultProps=function(){var r=t.prototype;r.type="path";r.strokeContainThreshold=5;r.segmentIgnoreThreshold=0;r.subPixelOptimize=false;r.autoBatch=false;r.__dirty=pi|mi|yi}();return t}(Do);var Hv=B({strokeFirst:true,font:l,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Ev);var Yv=function(r){Lr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.hasStroke=function(){var r=this.style;var t=r.stroke;return t!=null&&t!=="none"&&r.lineWidth>0};t.prototype.hasFill=function(){var r=this.style;var t=r.fill;return t!=null&&t!=="none"};t.prototype.createStyle=function(r){return Nr(Hv,r)};t.prototype.setBoundingRect=function(r){this._rect=r};t.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var t=r.text;t!=null?t+="":t="";var i=ie(t,r.font,r.textAlign,r.textBaseline);i.x+=r.x||0;i.y+=r.y||0;if(this.hasStroke()){var n=r.lineWidth;i.x-=n/2;i.y-=n/2;i.width+=n;i.height+=n}this._rect=i}return this._rect};t.initDefaultProps=function(){var r=t.prototype;r.dirtyRectTolerance=10}();return t}(Do);Yv.prototype.type="tspan";var Xv=B({x:0,y:0},To);var Gv={style:B({x:true,y:true,width:true,height:true,sx:true,sy:true,sWidth:true,sHeight:true},zo.style)};function Uv(r){return!!(r&&typeof r!=="string"&&r.width&&r.height)}var Zv=function(r){Lr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.createStyle=function(r){return Nr(Xv,r)};t.prototype._getSize=function(r){var t=this.style;var i=t[r];if(i!=null){return i}var n=Uv(t.image)?t.image:this.__image;if(!n){return 0}var a=r==="width"?"height":"width";var e=t[a];if(e==null){return n[r]}else{return n[r]/n[a]*e}};t.prototype.getWidth=function(){return this._getSize("width")};t.prototype.getHeight=function(){return this._getSize("height")};t.prototype.getAnimationStyleProps=function(){return Gv};t.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){this._rect=new Zt(r.x||0,r.y||0,this.getWidth(),this.getHeight())}return this._rect};return t}(Do);Zv.prototype.type="image";function jv(r,t){var i=t.x;var n=t.y;var a=t.width;var e=t.height;var u=t.r;var o;var v;var s;var f;if(a<0){i=i+a;a=-a}if(e<0){n=n+e;e=-e}if(typeof u==="number"){o=v=s=f=u}else if(u instanceof Array){if(u.length===1){o=v=s=f=u[0]}else if(u.length===2){o=s=u[0];v=f=u[1]}else if(u.length===3){o=u[0];v=f=u[1];s=u[2]}else{o=u[0];v=u[1];s=u[2];f=u[3]}}else{o=v=s=f=0}var l;if(o+v>a){l=o+v;o*=a/l;v*=a/l}if(s+f>a){l=s+f;s*=a/l;f*=a/l}if(v+s>e){l=v+s;v*=e/l;s*=e/l}if(o+f>e){l=o+f;o*=e/l;f*=e/l}r.moveTo(i+o,n);r.lineTo(i+a-v,n);v!==0&&r.arc(i+a-v,n+v,v,-Math.PI/2,0);r.lineTo(i+a,n+e-s);s!==0&&r.arc(i+a-s,n+e-s,s,0,Math.PI/2);r.lineTo(i+f,n+e);f!==0&&r.arc(i+f,n+e-f,f,Math.PI/2,Math.PI);r.lineTo(i,n+o);o!==0&&r.arc(i+o,n+o,o,Math.PI,Math.PI*1.5)}var qv=Math.round;function Kv(r,t,i){if(!t){return}var n=t.x1;var a=t.x2;var e=t.y1;var u=t.y2;r.x1=n;r.x2=a;r.y1=e;r.y2=u;var o=i&&i.lineWidth;if(!o){return r}if(qv(n*2)===qv(a*2)){r.x1=r.x2=$v(n,o,true)}if(qv(e*2)===qv(u*2)){r.y1=r.y2=$v(e,o,true)}return r}function Jv(r,t,i){if(!t){return}var n=t.x;var a=t.y;var e=t.width;var u=t.height;r.x=n;r.y=a;r.width=e;r.height=u;var o=i&&i.lineWidth;if(!o){return r}r.x=$v(n,o,true);r.y=$v(a,o,true);r.width=Math.max($v(n+e,o,false)-r.x,e===0?0:1);r.height=Math.max($v(a+u,o,false)-r.y,u===0?0:1);return r}function $v(r,t,i){if(!t){return r}var n=qv(r*2);return(n+qv(t))%2===0?n/2:(n+(i?1:-1))/2}var Qv=function(){function r(){this.x=0;this.y=0;this.width=0;this.height=0}return r}();var rs={};var ts=function(r){Lr(t,r);function t(t){return r.call(this,t)||this}t.prototype.getDefaultShape=function(){return new Qv};t.prototype.buildPath=function(r,t){var i;var n;var a;var e;if(this.subPixelOptimize){var u=Jv(rs,t,this.style);i=u.x;n=u.y;a=u.width;e=u.height;u.r=t.r;t=u}else{i=t.x;n=t.y;a=t.width;e=t.height}if(!t.r){r.rect(i,n,a,e)}else{jv(r,t)}};t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height};return t}(Vv);ts.prototype.type="rect";var is={fill:"#000"};var ns=2;var as={style:B({fill:true,stroke:true,fillOpacity:true,strokeOpacity:true,lineWidth:true,fontSize:true,lineHeight:true,width:true,height:true,textShadowColor:true,textShadowBlur:true,textShadowOffsetX:true,textShadowOffsetY:true,backgroundColor:true,padding:true,borderColor:true,borderWidth:true,borderRadius:true},zo.style)};var es=function(r){Lr(t,r);function t(t){var i=r.call(this)||this;i.type="text";i._children=[];i._defaultStyle=is;i.attr(t);return i}t.prototype.childrenRef=function(){return this._children};t.prototype.update=function(){r.prototype.update.call(this);if(this.styleChanged()){this._updateSubTexts()}for(var t=0;t<this._children.length;t++){var i=this._children[t];i.zlevel=this.zlevel;i.z=this.z;i.z2=this.z2;i.culling=this.culling;i.cursor=this.cursor;i.invisible=this.invisible}};t.prototype.updateTransform=function(){var t=this.innerTransformable;if(t){t.updateTransform();if(t.transform){this.transform=t.transform}}else{r.prototype.updateTransform.call(this)}};t.prototype.getLocalTransform=function(t){var i=this.innerTransformable;return i?i.getLocalTransform(t):r.prototype.getLocalTransform.call(this,t)};t.prototype.getComputedTransform=function(){if(this.__hostTarget){this.__hostTarget.getComputedTransform();this.__hostTarget.updateInnerText(true)}return r.prototype.getComputedTransform.call(this)};t.prototype._updateSubTexts=function(){this._childCursor=0;hs(this.style);this.style.rich?this._updateRichTexts():this._updatePlainTexts();this._children.length=this._childCursor;this.styleUpdated()};t.prototype.addSelfToZr=function(t){r.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++){this._children[i].__zr=t}};t.prototype.removeSelfFromZr=function(t){r.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++){this._children[i].__zr=null}};t.prototype.getBoundingRect=function(){if(this.styleChanged()){this._updateSubTexts()}if(!this._rect){var r=new Zt(0,0,0,0);var t=this._children;var i=[];var n=null;for(var a=0;a<t.length;a++){var e=t[a];var u=e.getBoundingRect();var o=e.getLocalTransform(i);if(o){r.copy(u);r.applyTransform(o);n=n||r.clone();n.union(r)}else{n=n||u.clone();n.union(u)}}this._rect=n||r}return this._rect};t.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||is};t.prototype.setTextContent=function(r){};t.prototype._mergeStyle=function(r,t){if(!t){return r}var i=t.rich;var n=r.rich||i&&{};F(r,t);if(i&&n){this._mergeRich(n,i);r.rich=n}else if(n){r.rich=n}return r};t.prototype._mergeRich=function(r,t){var i=U(t);for(var n=0;n<i.length;n++){var a=i[n];r[a]=r[a]||{};F(r[a],t[a])}};t.prototype.getAnimationStyleProps=function(){return as};t.prototype._getOrCreateChild=function(r){var t=this._children[this._childCursor];if(!t||!(t instanceof r)){t=new r}this._children[this._childCursor++]=t;t.__zr=this.__zr;t.parent=this;return t};t.prototype._updatePlainTexts=function(){var r=this.style;var t=r.font||l;var i=r.padding;var n=ys(r);var a=go(n,r);var e=gs(r);var u=!!r.backgroundColor;var o=a.outerHeight;var v=a.outerWidth;var s=a.contentWidth;var f=a.lines;var h=a.lineHeight;var c=this._defaultStyle;var d=r.x||0;var p=r.y||0;var m=r.align||c.align||"left";var y=r.verticalAlign||c.verticalAlign||"top";var g=d;var b=ae(p,a.contentHeight,y);if(e||i){var w=ne(d,v,m);var x=ae(p,o,y);e&&this._renderBackground(r,r,w,x,v,o)}b+=h/2;if(i){g=ms(d,m,i);if(y==="top"){b+=i[0]}else if(y==="bottom"){b-=i[2]}}var M=0;var S=false;var k=ps("fill"in r?r.fill:(S=true,c.fill));var N=ds("stroke"in r?r.stroke:!u&&(!c.autoStroke||S)?(M=ns,c.stroke):null);var A=r.textShadowBlur>0;var I=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll");var C=a.calculatedLineHeight;for(var T=0;T<f.length;T++){var z=this._getOrCreateChild(Yv);var L=z.createStyle();z.useStyle(L);L.text=f[T];L.x=g;L.y=b;if(m){L.textAlign=m}L.textBaseline="middle";L.opacity=r.opacity;L.strokeFirst=true;if(A){L.shadowBlur=r.textShadowBlur||0;L.shadowColor=r.textShadowColor||"transparent";L.shadowOffsetX=r.textShadowOffsetX||0;L.shadowOffsetY=r.textShadowOffsetY||0}L.stroke=N;L.fill=k;if(N){L.lineWidth=r.lineWidth||M;L.lineDash=r.lineDash;L.lineDashOffset=r.lineDashOffset||0}L.font=t;fs(L,r);b+=h;if(I){z.setBoundingRect(new Zt(ne(L.x,r.width,L.textAlign),ae(L.y,C,L.textBaseline),s,C))}}};t.prototype._updateRichTexts=function(){var r=this.style;var t=ys(r);var i=Mo(t,r);var n=i.width;var a=i.outerWidth;var e=i.outerHeight;var u=r.padding;var o=r.x||0;var v=r.y||0;var s=this._defaultStyle;var f=r.align||s.align;var l=r.verticalAlign||s.verticalAlign;var h=ne(o,a,f);var c=ae(v,e,l);var d=h;var p=c;if(u){d+=u[3];p+=u[0]}var m=d+n;if(gs(r)){this._renderBackground(r,r,h,c,a,e)}var y=!!r.backgroundColor;for(var g=0;g<i.lines.length;g++){var b=i.lines[g];var w=b.tokens;var x=w.length;var M=b.lineHeight;var S=b.width;var k=0;var N=d;var A=m;var I=x-1;var C=void 0;while(k<x&&(C=w[k],!C.align||C.align==="left")){this._placeToken(C,r,M,p,N,"left",y);S-=C.width;N+=C.width;k++}while(I>=0&&(C=w[I],C.align==="right")){this._placeToken(C,r,M,p,A,"right",y);S-=C.width;A-=C.width;I--}N+=(n-(N-d)-(m-A)-S)/2;while(k<=I){C=w[k];this._placeToken(C,r,M,p,N+C.width/2,"center",y);N+=C.width;k++}p+=M}};t.prototype._placeToken=function(r,t,i,n,a,e,u){var o=t.rich[r.styleName]||{};o.text=r.text;var v=r.verticalAlign;var s=n+i/2;if(v==="top"){s=n+r.height/2}else if(v==="bottom"){s=n+i-r.height/2}var f=!r.isLineHolder&&gs(o);f&&this._renderBackground(o,t,e==="right"?a-r.width:e==="center"?a-r.width/2:a,s-r.height/2,r.width,r.height);var h=!!o.backgroundColor;var c=r.textPadding;if(c){a=ms(a,e,c);s-=r.height/2-c[0]-r.innerHeight/2}var d=this._getOrCreateChild(Yv);var p=d.createStyle();d.useStyle(p);var m=this._defaultStyle;var y=false;var g=0;var b=ps("fill"in o?o.fill:"fill"in t?t.fill:(y=true,m.fill));var w=ds("stroke"in o?o.stroke:"stroke"in t?t.stroke:!h&&!u&&(!m.autoStroke||y)?(g=ns,m.stroke):null);var x=o.textShadowBlur>0||t.textShadowBlur>0;p.text=r.text;p.x=a;p.y=s;if(x){p.shadowBlur=o.textShadowBlur||t.textShadowBlur||0;p.shadowColor=o.textShadowColor||t.textShadowColor||"transparent";p.shadowOffsetX=o.textShadowOffsetX||t.textShadowOffsetX||0;p.shadowOffsetY=o.textShadowOffsetY||t.textShadowOffsetY||0}p.textAlign=e;p.textBaseline="middle";p.font=r.font||l;p.opacity=lr(o.opacity,t.opacity,1);fs(p,o);if(w){p.lineWidth=lr(o.lineWidth,t.lineWidth,g);p.lineDash=fr(o.lineDash,t.lineDash);p.lineDashOffset=t.lineDashOffset||0;p.stroke=w}if(b){p.fill=b}var M=r.contentWidth;var S=r.contentHeight;d.setBoundingRect(new Zt(ne(p.x,M,p.textAlign),ae(p.y,S,p.textBaseline),M,S))};t.prototype._renderBackground=function(r,t,i,n,a,e){var u=r.backgroundColor;var o=r.borderWidth;var v=r.borderColor;var s=u&&u.image;var f=u&&!s;var l=r.borderRadius;var h=this;var c;var d;if(f||r.lineHeight||o&&v){c=this._getOrCreateChild(ts);c.useStyle(c.createStyle());c.style.fill=null;var p=c.shape;p.x=i;p.y=n;p.width=a;p.height=e;p.r=l;c.dirtyShape()}if(f){var m=c.style;m.fill=u||null;m.fillOpacity=fr(r.fillOpacity,1)}else if(s){d=this._getOrCreateChild(Zv);d.onload=function(){h.dirtyStyle()};var y=d.style;y.image=u.image;y.x=i;y.y=n;y.width=a;y.height=e}if(o&&v){var m=c.style;m.lineWidth=o;m.stroke=v;m.strokeOpacity=fr(r.strokeOpacity,1);m.lineDash=r.borderDash;m.lineDashOffset=r.borderDashOffset||0;c.strokeContainThreshold=0;if(c.hasFill()&&c.hasStroke()){m.strokeFirst=true;m.lineWidth*=2}}var g=(c||d).style;g.shadowBlur=r.shadowBlur||0;g.shadowColor=r.shadowColor||"transparent";g.shadowOffsetX=r.shadowOffsetX||0;g.shadowOffsetY=r.shadowOffsetY||0;g.opacity=lr(r.opacity,t.opacity,1)};t.makeFont=function(r){var t="";if(ls(r)){t=[r.fontStyle,r.fontWeight,ss(r.fontSize),r.fontFamily||"sans-serif"].join(" ")}return t&&pr(t)||r.textFont||r.font};return t}(Do);var us={left:true,right:1,center:1};var os={top:1,bottom:1,middle:1};var vs=["fontStyle","fontWeight","fontSize","fontFamily"];function ss(r){if(typeof r==="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)){return r}else if(!isNaN(+r)){return r+"px"}else{return s+"px"}}function fs(r,t){for(var i=0;i<vs.length;i++){var n=vs[i];var a=t[n];if(a!=null){r[n]=a}}}function ls(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function hs(r){cs(r);V(r.rich,cs);return r}function cs(r){if(r){r.font=es.makeFont(r);var t=r.align;t==="middle"&&(t="center");r.align=t==null||us[t]?t:"left";var i=r.verticalAlign;i==="center"&&(i="middle");r.verticalAlign=i==null||os[i]?i:"top";var n=r.padding;if(n){r.padding=cr(r.padding)}}}function ds(r,t){return r==null||t<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function ps(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function ms(r,t,i){return t==="right"?r-i[1]:t==="center"?r+i[3]/2-i[1]/2:r+i[3]}function ys(r){var t=r.text;t!=null&&(t+="");return t}function gs(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}var bs=Lu();var ws=function(r,t,i,n){if(n){var a=bs(n);a.dataIndex=i;a.dataType=t;a.seriesIndex=r;if(n.type==="group"){n.traverse((function(n){var a=bs(n);a.seriesIndex=r;a.dataIndex=i;a.dataType=t}))}}};var xs=1;var Ms={};var Ss=Lu();var ks=Lu();var Ns=0;var As=1;var Is=2;var Cs=["emphasis","blur","select"];var Ts=["normal","emphasis","blur","select"];var zs=10;var Ls=9;var Os="highlight";var Ds="downplay";var Rs="select";var Fs="unselect";var Bs="toggleSelect";function _s(r){return r!=null&&r!=="none"}var Es=new tn(100);function Ps(r){if($(r)){var t=Es.get(r);if(!t){t=bn(r,-.1);Es.put(r,t)}return t}else if(er(r)){var i=F({},r);i.colorStops=H(r.colorStops,(function(r){return{offset:r.offset,color:bn(r.color,-.1)}}));return i}return r}function Ws(r,t,i){if(r.onHoverStateChange&&(r.hoverState||0)!==i){r.onHoverStateChange(t)}r.hoverState=i}function Vs(r){Ws(r,"emphasis",Is)}function Hs(r){if(r.hoverState===Is){Ws(r,"normal",Ns)}}function Ys(r){Ws(r,"blur",As)}function Xs(r){if(r.hoverState===As){Ws(r,"normal",Ns)}}function Gs(r){r.selected=true}function Us(r){r.selected=false}function Zs(r,t,i){t(r,i)}function js(r,t,i){Zs(r,t,i);r.isGroup&&r.traverse((function(r){Zs(r,t,i)}))}function qs(r,t){switch(t){case"emphasis":r.hoverState=Is;break;case"normal":r.hoverState=Ns;break;case"blur":r.hoverState=As;break;case"select":r.selected=true}}function Ks(r,t,i,n){var a=r.style;var e={};for(var u=0;u<t.length;u++){var o=t[u];var v=a[o];e[o]=v==null?n&&n[o]:v}for(var u=0;u<r.animators.length;u++){var s=r.animators[u];if(s.__fromStateTransition&&s.__fromStateTransition.indexOf(i)<0&&s.targetName==="style"){s.saveTo(e,t)}}return e}function Js(r,t,i,n){var a=i&&_(i,"select")>=0;var e=false;if(r instanceof Vv){var u=Ss(r);var o=a?u.selectFill||u.normalFill:u.normalFill;var v=a?u.selectStroke||u.normalStroke:u.normalStroke;if(_s(o)||_s(v)){n=n||{};var s=n.style||{};if(s.fill==="inherit"){e=true;n=F({},n);s=F({},s);s.fill=o}else if(!_s(s.fill)&&_s(o)){e=true;n=F({},n);s=F({},s);s.fill=Ps(o)}else if(!_s(s.stroke)&&_s(v)){if(!e){n=F({},n);s=F({},s)}s.stroke=Ps(v)}n.style=s}}if(n){if(n.z2==null){if(!e){n=F({},n)}var f=r.z2EmphasisLift;n.z2=r.z2+(f!=null?f:zs)}}return n}function $s(r,t,i){if(i){if(i.z2==null){i=F({},i);var n=r.z2SelectLift;i.z2=r.z2+(n!=null?n:Ls)}}return i}function Qs(r,t,i){var n=_(r.currentStates,t)>=0;var a=r.style.opacity;var e=!n?Ks(r,["opacity"],t,{opacity:1}):null;i=i||{};var u=i.style||{};if(u.opacity==null){i=F({},i);u=F({opacity:n?a:e.opacity*.1},u);i.style=u}return i}function rf(r,t){var i=this.states[r];if(this.style){if(r==="emphasis"){return Js(this,r,t,i)}else if(r==="blur"){return Qs(this,r,i)}else if(r==="select"){return $s(this,r,i)}}return i}function tf(r){r.stateProxy=rf;var t=r.getTextContent();var i=r.getTextGuideLine();if(t){t.stateProxy=rf}if(i){i.stateProxy=rf}}function nf(r,t){!lf(r,t)&&!r.__highByOuter&&js(r,Vs)}function af(r,t){!lf(r,t)&&!r.__highByOuter&&js(r,Hs)}function ef(r,t){r.__highByOuter|=1<<(t||0);js(r,Vs)}function uf(r,t){!(r.__highByOuter&=~(1<<(t||0)))&&js(r,Hs)}function of(r){js(r,Ys)}function vf(r){js(r,Xs)}function sf(r){js(r,Gs)}function ff(r){js(r,Us)}function lf(r,t){return r.__highDownSilentOnTouch&&t.zrByTouch}function hf(r){var t=r.getModel();var i=[];var n=[];t.eachComponent((function(t,a){var e=ks(a);var u=t==="series";var o=u?r.getViewOfSeriesModel(a):r.getViewOfComponentModel(a);!u&&n.push(o);if(e.isBlured){o.group.traverse((function(r){Xs(r)}));u&&i.push(a)}e.isBlured=false}));V(n,(function(r){if(r&&r.toggleBlurSeries){r.toggleBlurSeries(i,false,t)}}))}function cf(r,t,i,n){var a=n.getModel();i=i||"coordinateSystem";function e(r,t){for(var i=0;i<t.length;i++){var n=r.getItemGraphicEl(t[i]);n&&vf(n)}}if(r==null){return}if(!t||t==="none"){return}var u=a.getSeriesByIndex(r);var o=u.coordinateSystem;if(o&&o.master){o=o.master}var v=[];a.eachSeries((function(r){var a=u===r;var s=r.coordinateSystem;if(s&&s.master){s=s.master}var f=s&&o?s===o:a;if(!(i==="series"&&!a||i==="coordinateSystem"&&!f||t==="series"&&a)){var l=n.getViewOfSeriesModel(r);l.group.traverse((function(r){if(r.__highByOuter&&a&&t==="self"){return}Ys(r)}));if(W(t)){e(r.getData(),t)}else if(tr(t)){var h=U(t);for(var c=0;c<h.length;c++){e(r.getData(h[c]),t[h[c]])}}v.push(r);ks(r).isBlured=true}}));a.eachComponent((function(r,t){if(r==="series"){return}var i=n.getViewOfComponentModel(t);if(i&&i.toggleBlurSeries){i.toggleBlurSeries(v,true,a)}}))}function df(r,t,i){if(r==null||t==null){return}var n=i.getModel().getComponent(r,t);if(!n){return}ks(n).isBlured=true;var a=i.getViewOfComponentModel(n);if(!a||!a.focusBlurEnabled){return}a.group.traverse((function(r){Ys(r)}))}function pf(r,t,i){var n=r.seriesIndex;var a=r.getData(t.dataType);if(!a){return}var e=zu(a,t);e=(K(e)?e[0]:e)||0;var u=a.getItemGraphicEl(e);if(!u){var o=a.count();var v=0;while(!u&&v<o){u=a.getItemGraphicEl(v++)}}if(u){var s=bs(u);cf(n,s.focus,s.blurScope,i)}else{var f=r.get(["emphasis","focus"]);var l=r.get(["emphasis","blurScope"]);if(f!=null){cf(n,f,l,i)}}}function mf(r,t,i,n){var a={focusSelf:false,dispatchers:null};if(r==null||r==="series"||t==null||i==null){return a}var e=n.getModel().getComponent(r,t);if(!e){return a}var u=n.getViewOfComponentModel(e);if(!u||!u.findHighDownDispatchers){return a}var o=u.findHighDownDispatchers(i);var v;for(var s=0;s<o.length;s++){if(bs(o[s]).focus==="self"){v=true;break}}return{focusSelf:v,dispatchers:o}}function yf(r,t,i){var n=bs(r);var a=mf(n.componentMainType,n.componentIndex,n.componentHighDownName,i),e=a.dispatchers,u=a.focusSelf;if(e){if(u){df(n.componentMainType,n.componentIndex,i)}V(e,(function(r){return nf(r,t)}))}else{cf(n.seriesIndex,n.focus,n.blurScope,i);if(n.focus==="self"){df(n.componentMainType,n.componentIndex,i)}nf(r,t)}}function gf(r,t,i){hf(i);var n=bs(r);var a=mf(n.componentMainType,n.componentIndex,n.componentHighDownName,i).dispatchers;if(a){V(a,(function(r){return af(r,t)}))}else{af(r,t)}}function bf(r,t,i){if(!Df(t)){return}var n=t.dataType;var a=r.getData(n);var e=zu(a,t);if(!K(e)){e=[e]}r[t.type===Bs?"toggleSelect":t.type===Rs?"select":"unselect"](e,n)}function wf(r){var t=r.getAllData();V(t,(function(t){var i=t.data,n=t.type;i.eachItemGraphicEl((function(t,i){r.isSelected(i,n)?sf(t):ff(t)}))}))}function xf(r){var t=[];r.eachSeries((function(r){var i=r.getAllData();V(i,(function(i){var n=i.type;var a=r.getSelectedDataIndices();if(a.length>0){var e={dataIndex:a,seriesIndex:r.seriesIndex};if(n!=null){e.dataType=n}t.push(e)}}))}));return t}function Mf(r,t,i){Tf(r,true);js(r,tf);Nf(r,t,i)}function Sf(r){Tf(r,false)}function kf(r,t,i,n){n?Sf(r):Mf(r,t,i)}function Nf(r,t,i){var n=bs(r);if(t!=null){n.focus=t;n.blurScope=i}else if(n.focus){n.focus=null}}var Af=["emphasis","blur","select"];var If={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Cf(r,t,i,n){i=i||"itemStyle";for(var a=0;a<Af.length;a++){var e=Af[a];var u=t.getModel([e,i]);var o=r.ensureState(e);o.style=n?n(u):u[If[i]]()}}function Tf(r,t){var i=t===false;var n=r;if(r.highDownSilentOnTouch){n.__highDownSilentOnTouch=r.highDownSilentOnTouch}if(!i||n.__highDownDispatcher){n.__highByOuter=n.__highByOuter||0;n.__highDownDispatcher=!i}}function zf(r){return!!(r&&r.__highDownDispatcher)}function Lf(r,t,i){var n=bs(r);n.componentMainType=t.mainType;n.componentIndex=t.componentIndex;n.componentHighDownName=i}function Of(r){var t=Ms[r];if(t==null&&xs<=32){t=Ms[r]=xs++}return t}function Df(r){var t=r.type;return t===Rs||t===Fs||t===Bs}function Rf(r){var t=r.type;return t===Os||t===Ds}function Ff(r){var t=Ss(r);t.normalFill=r.style.fill;t.normalStroke=r.style.stroke;var i=r.states.select||{};t.selectFill=i.style&&i.style.fill||null;t.selectStroke=i.style&&i.style.stroke||null}var Bf=mv.CMD;var _f=[[],[],[]];var Ef=Math.sqrt;var Pf=Math.atan2;function Wf(r,t){if(!t){return}var i=r.data;var n=r.len();var a;var e;var u;var o;var v;var s;var f=Bf.M;var l=Bf.C;var h=Bf.L;var c=Bf.R;var d=Bf.A;var p=Bf.Q;for(u=0,o=0;u<n;){a=i[u++];o=u;e=0;switch(a){case f:e=1;break;case h:e=1;break;case l:e=3;break;case p:e=2;break;case d:var m=t[4];var y=t[5];var g=Ef(t[0]*t[0]+t[1]*t[1]);var b=Ef(t[2]*t[2]+t[3]*t[3]);var w=Pf(-t[1]/b,t[0]/g);i[u]*=g;i[u++]+=m;i[u]*=b;i[u++]+=y;i[u++]*=g;i[u++]*=b;i[u++]+=w;i[u++]+=w;u+=2;o=u;break;case c:s[0]=i[u++];s[1]=i[u++];jr(s,s,t);i[o++]=s[0];i[o++]=s[1];s[0]+=i[u++];s[1]+=i[u++];jr(s,s,t);i[o++]=s[0];i[o++]=s[1]}for(v=0;v<e;v++){var x=_f[v];x[0]=i[u++];x[1]=i[u++];jr(x,x,t);i[o++]=x[0];i[o++]=x[1]}}r.increaseVersion()}var Vf=Math.sqrt;var Hf=Math.sin;var Yf=Math.cos;var Xf=Math.PI;function Gf(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Uf(r,t){return(r[0]*t[0]+r[1]*t[1])/(Gf(r)*Gf(t))}function Zf(r,t){return(r[0]*t[1]<r[1]*t[0]?-1:1)*Math.acos(Uf(r,t))}function jf(r,t,i,n,a,e,u,o,v,s,f){var l=v*(Xf/180);var h=Yf(l)*(r-i)/2+Hf(l)*(t-n)/2;var c=-1*Hf(l)*(r-i)/2+Yf(l)*(t-n)/2;var d=h*h/(u*u)+c*c/(o*o);if(d>1){u*=Vf(d);o*=Vf(d)}var p=(a===e?-1:1)*Vf((u*u*(o*o)-u*u*(c*c)-o*o*(h*h))/(u*u*(c*c)+o*o*(h*h)))||0;var m=p*u*c/o;var y=p*-o*h/u;var g=(r+i)/2+Yf(l)*m-Hf(l)*y;var b=(t+n)/2+Hf(l)*m+Yf(l)*y;var w=Zf([1,0],[(h-m)/u,(c-y)/o]);var x=[(h-m)/u,(c-y)/o];var M=[(-1*h-m)/u,(-1*c-y)/o];var S=Zf(x,M);if(Uf(x,M)<=-1){S=Xf}if(Uf(x,M)>=1){S=0}if(S<0){var k=Math.round(S/Xf*1e6)/1e6;S=Xf*2+k%2*Xf}f.addData(s,g,b,u,o,w,S,l,e)}var qf=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi;var Kf=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Jf(r){var t=new mv;if(!r){return t}var i=0;var n=0;var a=i;var e=n;var u;var o=mv.CMD;var v=r.match(qf);if(!v){return t}for(var s=0;s<v.length;s++){var f=v[s];var l=f.charAt(0);var h=void 0;var c=f.match(Kf)||[];var d=c.length;for(var p=0;p<d;p++){c[p]=parseFloat(c[p])}var m=0;while(m<d){var y=void 0;var g=void 0;var b=void 0;var w=void 0;var x=void 0;var M=void 0;var S=void 0;var k=i;var N=n;var A=void 0;var I=void 0;switch(l){case"l":i+=c[m++];n+=c[m++];h=o.L;t.addData(h,i,n);break;case"L":i=c[m++];n=c[m++];h=o.L;t.addData(h,i,n);break;case"m":i+=c[m++];n+=c[m++];h=o.M;t.addData(h,i,n);a=i;e=n;l="l";break;case"M":i=c[m++];n=c[m++];h=o.M;t.addData(h,i,n);a=i;e=n;l="L";break;case"h":i+=c[m++];h=o.L;t.addData(h,i,n);break;case"H":i=c[m++];h=o.L;t.addData(h,i,n);break;case"v":n+=c[m++];h=o.L;t.addData(h,i,n);break;case"V":n=c[m++];h=o.L;t.addData(h,i,n);break;case"C":h=o.C;t.addData(h,c[m++],c[m++],c[m++],c[m++],c[m++],c[m++]);i=c[m-2];n=c[m-1];break;case"c":h=o.C;t.addData(h,c[m++]+i,c[m++]+n,c[m++]+i,c[m++]+n,c[m++]+i,c[m++]+n);i+=c[m-2];n+=c[m-1];break;case"S":y=i;g=n;A=t.len();I=t.data;if(u===o.C){y+=i-I[A-4];g+=n-I[A-3]}h=o.C;k=c[m++];N=c[m++];i=c[m++];n=c[m++];t.addData(h,y,g,k,N,i,n);break;case"s":y=i;g=n;A=t.len();I=t.data;if(u===o.C){y+=i-I[A-4];g+=n-I[A-3]}h=o.C;k=i+c[m++];N=n+c[m++];i+=c[m++];n+=c[m++];t.addData(h,y,g,k,N,i,n);break;case"Q":k=c[m++];N=c[m++];i=c[m++];n=c[m++];h=o.Q;t.addData(h,k,N,i,n);break;case"q":k=c[m++]+i;N=c[m++]+n;i+=c[m++];n+=c[m++];h=o.Q;t.addData(h,k,N,i,n);break;case"T":y=i;g=n;A=t.len();I=t.data;if(u===o.Q){y+=i-I[A-4];g+=n-I[A-3]}i=c[m++];n=c[m++];h=o.Q;t.addData(h,y,g,i,n);break;case"t":y=i;g=n;A=t.len();I=t.data;if(u===o.Q){y+=i-I[A-4];g+=n-I[A-3]}i+=c[m++];n+=c[m++];h=o.Q;t.addData(h,y,g,i,n);break;case"A":b=c[m++];w=c[m++];x=c[m++];M=c[m++];S=c[m++];k=i,N=n;i=c[m++];n=c[m++];h=o.A;jf(k,N,i,n,M,S,b,w,x,h,t);break;case"a":b=c[m++];w=c[m++];x=c[m++];M=c[m++];S=c[m++];k=i,N=n;i+=c[m++];n+=c[m++];h=o.A;jf(k,N,i,n,M,S,b,w,x,h,t);break}}if(l==="z"||l==="Z"){h=o.Z;t.addData(h);i=a;n=e}u=h}t.toStatic();return t}var $f=function(r){Lr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.applyTransform=function(r){};return t}(Vv);function Qf(r){return r.setData!=null}function rl(r,t){var i=Jf(r);var n=F({},t);n.buildPath=function(r){if(Qf(r)){r.setData(i.data);var t=r.getContext();if(t){r.rebuildPath(t,1)}}else{var t=r;i.rebuildPath(t,1)}};n.applyTransform=function(r){Wf(i,r);this.dirtyShape()};return n}function tl(r,t){return new $f(rl(r,t))}function il(r,t){var i=rl(r,t);var n=function(r){Lr(t,r);function t(t){var n=r.call(this,t)||this;n.applyTransform=i.applyTransform;n.buildPath=i.buildPath;return n}return t}($f);return n}function nl(r,t){var i=[];var n=r.length;for(var a=0;a<n;a++){var e=r[a];i.push(e.getUpdatedPathProxy(true))}var u=new Vv(t);u.createPathProxy();u.buildPath=function(r){if(Qf(r)){r.appendPath(i);var t=r.getContext();if(t){r.rebuildPath(t,1)}}};return u}function al(r,t){t=t||{};var i=new Vv;if(r.shape){i.setShape(r.shape)}i.setStyle(r.style);if(t.bakeTransform){Wf(i.path,r.getComputedTransform())}else{if(t.toLocal){i.setLocalTransform(r.getComputedTransform())}else{i.copyTransform(r)}}i.buildPath=r.buildPath;i.applyTransform=i.applyTransform;i.z=r.z;i.z2=r.z2;i.zlevel=r.zlevel;return i}var el=function(){function r(){this.cx=0;this.cy=0;this.r=0}return r}();var ul=function(r){Lr(t,r);function t(t){return r.call(this,t)||this}t.prototype.getDefaultShape=function(){return new el};t.prototype.buildPath=function(r,t){r.moveTo(t.cx+t.r,t.cy);r.arc(t.cx,t.cy,t.r,0,Math.PI*2)};return t}(Vv);ul.prototype.type="circle";var ol=function(){function r(){this.cx=0;this.cy=0;this.rx=0;this.ry=0}return r}();var vl=function(r){Lr(t,r);function t(t){return r.call(this,t)||this}t.prototype.getDefaultShape=function(){return new ol};t.prototype.buildPath=function(r,t){var i=.5522848;var n=t.cx;var a=t.cy;var e=t.rx;var u=t.ry;var o=e*i;var v=u*i;r.moveTo(n-e,a);r.bezierCurveTo(n-e,a-v,n-o,a-u,n,a-u);r.bezierCurveTo(n+o,a-u,n+e,a-v,n+e,a);r.bezierCurveTo(n+e,a+v,n+o,a+u,n,a+u);r.bezierCurveTo(n-o,a+u,n-e,a+v,n-e,a);r.closePath()};return t}(Vv);vl.prototype.type="ellipse";var sl=Math.PI;var fl=sl*2;var ll=Math.sin;var hl=Math.cos;var cl=Math.acos;var dl=Math.atan2;var pl=Math.abs;var ml=Math.sqrt;var yl=Math.max;var gl=Math.min;var bl=1e-4;function wl(r,t,i,n,a,e,u,o){var v=i-r;var s=n-t;var f=u-a;var l=o-e;var h=l*v-f*s;if(h*h<bl){return}h=(f*(t-e)-l*(r-a))/h;return[r+h*v,t+h*s]}function xl(r,t,i,n,a,e,u){var o=r-i;var v=t-n;var s=(u?e:-e)/ml(o*o+v*v);var f=s*v;var l=-s*o;var h=r+f;var c=t+l;var d=i+f;var p=n+l;var m=(h+d)/2;var y=(c+p)/2;var g=d-h;var b=p-c;var w=g*g+b*b;var x=a-e;var M=h*p-d*c;var S=(b<0?-1:1)*ml(yl(0,x*x*w-M*M));var k=(M*b-g*S)/w;var N=(-M*g-b*S)/w;var A=(M*b+g*S)/w;var I=(-M*g+b*S)/w;var C=k-m;var T=N-y;var z=A-m;var L=I-y;if(C*C+T*T>z*z+L*L){k=A;N=I}return{cx:k,cy:N,x0:-f,y0:-l,x1:k*(a/x-1),y1:N*(a/x-1)}}function Ml(r){var t;if(K(r)){var i=r.length;if(!i){return r}if(i===1){t=[r[0],r[0],0,0]}else if(i===2){t=[r[0],r[0],r[1],r[1]]}else if(i===3){t=r.concat(r[2])}else{t=r}}else{t=[r,r,r,r]}return t}function Sl(r,t){var i;var n=yl(t.r,0);var a=yl(t.r0||0,0);var e=n>0;var u=a>0;if(!e&&!u){return}if(!e){n=a;a=0}if(a>n){var o=n;n=a;a=o}var v=t.startAngle,s=t.endAngle;if(isNaN(v)||isNaN(s)){return}var f=t.cx,l=t.cy;var h=!!t.clockwise;var c=pl(s-v);var d=c>fl&&c%fl;d>bl&&(c=d);if(!(n>bl)){r.moveTo(f,l)}else if(c>fl-bl){r.moveTo(f+n*hl(v),l+n*ll(v));r.arc(f,l,n,v,s,!h);if(a>bl){r.moveTo(f+a*hl(s),l+a*ll(s));r.arc(f,l,a,s,v,h)}}else{var p=void 0;var m=void 0;var y=void 0;var g=void 0;var b=void 0;var w=void 0;var x=void 0;var M=void 0;var S=void 0;var k=void 0;var N=void 0;var A=void 0;var I=void 0;var C=void 0;var T=void 0;var z=void 0;var L=n*hl(v);var O=n*ll(v);var D=a*hl(s);var R=a*ll(s);var F=c>bl;if(F){var B=t.cornerRadius;if(B){i=Ml(B),p=i[0],m=i[1],y=i[2],g=i[3]}var _=pl(n-a)/2;b=gl(_,y);w=gl(_,g);x=gl(_,p);M=gl(_,m);N=S=yl(b,w);A=k=yl(x,M);if(S>bl||k>bl){I=n*hl(s);C=n*ll(s);T=a*hl(v);z=a*ll(v);if(c<sl){var E=wl(L,O,T,z,I,C,D,R);if(E){var P=L-E[0];var W=O-E[1];var V=I-E[0];var H=C-E[1];var Y=1/ll(cl((P*V+W*H)/(ml(P*P+W*W)*ml(V*V+H*H)))/2);var X=ml(E[0]*E[0]+E[1]*E[1]);N=gl(S,(n-X)/(Y+1));A=gl(k,(a-X)/(Y-1))}}}}if(!F){r.moveTo(f+L,l+O)}else if(N>bl){var G=gl(y,N);var U=gl(g,N);var Z=xl(T,z,L,O,n,G,h);var j=xl(I,C,D,R,n,U,h);r.moveTo(f+Z.cx+Z.x0,l+Z.cy+Z.y0);if(N<S&&G===U){r.arc(f+Z.cx,l+Z.cy,N,dl(Z.y0,Z.x0),dl(j.y0,j.x0),!h)}else{G>0&&r.arc(f+Z.cx,l+Z.cy,G,dl(Z.y0,Z.x0),dl(Z.y1,Z.x1),!h);r.arc(f,l,n,dl(Z.cy+Z.y1,Z.cx+Z.x1),dl(j.cy+j.y1,j.cx+j.x1),!h);U>0&&r.arc(f+j.cx,l+j.cy,U,dl(j.y1,j.x1),dl(j.y0,j.x0),!h)}}else{r.moveTo(f+L,l+O);r.arc(f,l,n,v,s,!h)}if(!(a>bl)||!F){r.lineTo(f+D,l+R)}else if(A>bl){var G=gl(p,A);var U=gl(m,A);var Z=xl(D,R,I,C,a,-U,h);var j=xl(L,O,T,z,a,-G,h);r.lineTo(f+Z.cx+Z.x0,l+Z.cy+Z.y0);if(A<k&&G===U){r.arc(f+Z.cx,l+Z.cy,A,dl(Z.y0,Z.x0),dl(j.y0,j.x0),!h)}else{U>0&&r.arc(f+Z.cx,l+Z.cy,U,dl(Z.y0,Z.x0),dl(Z.y1,Z.x1),!h);r.arc(f,l,a,dl(Z.cy+Z.y1,Z.cx+Z.x1),dl(j.cy+j.y1,j.cx+j.x1),h);G>0&&r.arc(f+j.cx,l+j.cy,G,dl(j.y1,j.x1),dl(j.y0,j.x0),!h)}}else{r.lineTo(f+D,l+R);r.arc(f,l,a,s,v,h)}}r.closePath()}var kl=function(){function r(){this.cx=0;this.cy=0;this.r0=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true;this.cornerRadius=0}return r}();var Nl=function(r){Lr(t,r);function t(t){return r.call(this,t)||this}t.prototype.getDefaultShape=function(){return new kl};t.prototype.buildPath=function(r,t){Sl(r,t)};t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0};return t}(Vv);Nl.prototype.type="sector";var Al=function(){function r(){this.cx=0;this.cy=0;this.r=0;this.r0=0}return r}();var Il=function(r){Lr(t,r);function t(t){return r.call(this,t)||this}t.prototype.getDefaultShape=function(){return new Al};t.prototype.buildPath=function(r,t){var i=t.cx;var n=t.cy;var a=Math.PI*2;r.moveTo(i+t.r,n);r.arc(i,n,t.r,0,a,false);r.moveTo(i+t.r0,n);r.arc(i,n,t.r0,0,a,true)};return t}(Vv);Il.prototype.type="ring";function Cl(r,t,i,n){var a=[];var e=[];var u=[];var o=[];var v;var s;var f;var l;if(n){f=[Infinity,Infinity];l=[-Infinity,-Infinity];for(var h=0,c=r.length;h<c;h++){qr(f,f,r[h]);Kr(l,l,r[h])}qr(f,f,n[0]);Kr(l,l,n[1])}for(var h=0,c=r.length;h<c;h++){var d=r[h];if(i){v=r[h?h-1:c-1];s=r[(h+1)%c]}else{if(h===0||h===c-1){a.push(Rr(r[h]));continue}else{v=r[h-1];s=r[h+1]}}Er(e,s,v);Vr(e,e,t);var p=Yr(d,v);var m=Yr(d,s);var y=p+m;if(y!==0){p/=y;m/=y}Vr(u,e,-p);Vr(o,e,m);var g=Br([],d,u);var b=Br([],d,o);if(n){Kr(g,g,f);qr(g,g,l);Kr(b,b,f);qr(b,b,l)}a.push(g);a.push(b)}if(i){a.push(a.shift())}return a}function Tl(r,t,i){var n=t.smooth;var a=t.points;if(a&&a.length>=2){if(n){var e=Cl(a,n,i,t.smoothConstraint);r.moveTo(a[0][0],a[0][1]);var u=a.length;for(var o=0;o<(i?u:u-1);o++){var v=e[o*2];var s=e[o*2+1];var f=a[(o+1)%u];r.bezierCurveTo(v[0],v[1],s[0],s[1],f[0],f[1])}}else{r.moveTo(a[0][0],a[0][1]);for(var o=1,l=a.length;o<l;o++){r.lineTo(a[o][0],a[o][1])}}i&&r.closePath()}}var zl=function(){function r(){this.points=null;this.smooth=0;this.smoothConstraint=null}return r}();var Ll=function(r){Lr(t,r);function t(t){return r.call(this,t)||this}t.prototype.getDefaultShape=function(){return new zl};t.prototype.buildPath=function(r,t){Tl(r,t,true)};return t}(Vv);Ll.prototype.type="polygon";var Ol=function(){function r(){this.points=null;this.percent=1;this.smooth=0;this.smoothConstraint=null}return r}();var Dl=function(r){Lr(t,r);function t(t){return r.call(this,t)||this}t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};t.prototype.getDefaultShape=function(){return new Ol};t.prototype.buildPath=function(r,t){Tl(r,t,false)};return t}(Vv);Dl.prototype.type="polyline";var Rl={};var Fl=function(){function r(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.percent=1}return r}();var Bl=function(r){Lr(t,r);function t(t){return r.call(this,t)||this}t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};t.prototype.getDefaultShape=function(){return new Fl};t.prototype.buildPath=function(r,t){var i;var n;var a;var e;if(this.subPixelOptimize){var u=Kv(Rl,t,this.style);i=u.x1;n=u.y1;a=u.x2;e=u.y2}else{i=t.x1;n=t.y1;a=t.x2;e=t.y2}var o=t.percent;if(o===0){return}r.moveTo(i,n);if(o<1){a=i*(1-o)+a*o;e=n*(1-o)+e*o}r.lineTo(a,e)};t.prototype.pointAt=function(r){var t=this.shape;return[t.x1*(1-r)+t.x2*r,t.y1*(1-r)+t.y2*r]};return t}(Vv);Bl.prototype.type="line";var _l=[];var El=function(){function r(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.cpx1=0;this.cpy1=0;this.percent=1}return r}();function Pl(r,t,i){var n=r.cpx2;var a=r.cpy2;if(n!=null||a!=null){return[(i?_i:Bi)(r.x1,r.cpx1,r.cpx2,r.x2,t),(i?_i:Bi)(r.y1,r.cpy1,r.cpy2,r.y2,t)]}else{return[(i?Xi:Yi)(r.x1,r.cpx1,r.x2,t),(i?Xi:Yi)(r.y1,r.cpy1,r.y2,t)]}}var Wl=function(r){Lr(t,r);function t(t){return r.call(this,t)||this}t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};t.prototype.getDefaultShape=function(){return new El};t.prototype.buildPath=function(r,t){var i=t.x1;var n=t.y1;var a=t.x2;var e=t.y2;var u=t.cpx1;var o=t.cpy1;var v=t.cpx2;var s=t.cpy2;var f=t.percent;if(f===0){return}r.moveTo(i,n);if(v==null||s==null){if(f<1){Zi(i,u,a,f,_l);u=_l[1];a=_l[2];Zi(n,o,e,f,_l);o=_l[1];e=_l[2]}r.quadraticCurveTo(u,o,a,e)}else{if(f<1){Wi(i,u,v,a,f,_l);u=_l[1];v=_l[2];a=_l[3];Wi(n,o,s,e,f,_l);o=_l[1];s=_l[2];e=_l[3]}r.bezierCurveTo(u,o,v,s,a,e)}};t.prototype.pointAt=function(r){return Pl(this.shape,r,false)};t.prototype.tangentAt=function(r){var t=Pl(this.shape,r,true);return Hr(t,t)};return t}(Vv);Wl.prototype.type="bezier-curve";var Vl=function(){function r(){this.cx=0;this.cy=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true}return r}();var Hl=function(r){Lr(t,r);function t(t){return r.call(this,t)||this}t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};t.prototype.getDefaultShape=function(){return new Vl};t.prototype.buildPath=function(r,t){var i=t.cx;var n=t.cy;var a=Math.max(t.r,0);var e=t.startAngle;var u=t.endAngle;var o=t.clockwise;var v=Math.cos(e);var s=Math.sin(e);r.moveTo(v*a+i,s*a+n);r.arc(i,n,a,e,u,!o)};return t}(Vv);Hl.prototype.type="arc";var Yl=function(r){Lr(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t.type="compound";return t}t.prototype._updatePathDirty=function(){var r=this.shape.paths;var t=this.shapeChanged();for(var i=0;i<r.length;i++){t=t||r[i].shapeChanged()}if(t){this.dirtyShape()}};t.prototype.beforeBrush=function(){this._updatePathDirty();var r=this.shape.paths||[];var t=this.getGlobalScale();for(var i=0;i<r.length;i++){if(!r[i].path){r[i].createPathProxy()}r[i].path.setScale(t[0],t[1],r[i].segmentIgnoreThreshold)}};t.prototype.buildPath=function(r,t){var i=t.paths||[];for(var n=0;n<i.length;n++){i[n].buildPath(r,i[n].shape,true)}};t.prototype.afterBrush=function(){var r=this.shape.paths||[];for(var t=0;t<r.length;t++){r[t].pathUpdated()}};t.prototype.getBoundingRect=function(){this._updatePathDirty.call(this);return Vv.prototype.getBoundingRect.call(this)};return t}(Vv);var Xl=function(){function r(r){this.colorStops=r||[]}r.prototype.addColorStop=function(r,t){this.colorStops.push({offset:r,color:t})};return r}();var Gl=function(r){Lr(t,r);function t(t,i,n,a,e,u){var o=r.call(this,e)||this;o.x=t==null?0:t;o.y=i==null?0:i;o.x2=n==null?1:n;o.y2=a==null?0:a;o.type="linear";o.global=u||false;return o}return t}(Xl);var Ul=function(r){Lr(t,r);function t(t,i,n,a,e){var u=r.call(this,a)||this;u.x=t==null?.5:t;u.y=i==null?.5:i;u.r=n==null?.5:n;u.type="radial";u.global=e||false;return u}return t}(Xl);var Zl=[0,0];var jl=[0,0];var ql=new Et;var Kl=new Et;var Jl=function(){function r(r,t){this._corners=[];this._axes=[];this._origin=[0,0];for(var i=0;i<4;i++){this._corners[i]=new Et}for(var i=0;i<2;i++){this._axes[i]=new Et}if(r){this.fromBoundingRect(r,t)}}r.prototype.fromBoundingRect=function(r,t){var i=this._corners;var n=this._axes;var a=r.x;var e=r.y;var u=a+r.width;var o=e+r.height;i[0].set(a,e);i[1].set(u,e);i[2].set(u,o);i[3].set(a,o);if(t){for(var v=0;v<4;v++){i[v].transform(t)}}Et.sub(n[0],i[1],i[0]);Et.sub(n[1],i[3],i[0]);n[0].normalize();n[1].normalize();for(var v=0;v<2;v++){this._origin[v]=n[v].dot(i[0])}};r.prototype.intersect=function(r,t){var i=true;var n=!t;ql.set(Infinity,Infinity);Kl.set(0,0);if(!this._intersectCheckOneSide(this,r,ql,Kl,n,1)){i=false;if(n){return i}}if(!this._intersectCheckOneSide(r,this,ql,Kl,n,-1)){i=false;if(n){return i}}if(!n){Et.copy(t,i?ql:Kl)}return i};r.prototype._intersectCheckOneSide=function(r,t,i,n,a,e){var u=true;for(var o=0;o<2;o++){var v=this._axes[o];this._getProjMinMaxOnAxis(o,r._corners,Zl);this._getProjMinMaxOnAxis(o,t._corners,jl);if(Zl[1]<jl[0]||Zl[0]>jl[1]){u=false;if(a){return u}var s=Math.abs(jl[0]-Zl[1]);var f=Math.abs(Zl[0]-jl[1]);if(Math.min(s,f)>n.len()){if(s<f){Et.scale(n,v,-s*e)}else{Et.scale(n,v,f*e)}}}else if(i){var s=Math.abs(jl[0]-Zl[1]);var f=Math.abs(Zl[0]-jl[1]);if(Math.min(s,f)<i.len()){if(s<f){Et.scale(i,v,s*e)}else{Et.scale(i,v,-f*e)}}}}return u};r.prototype._getProjMinMaxOnAxis=function(r,t,i){var n=this._axes[r];var a=this._origin;var e=t[0].dot(n)+a[r];var u=e;var o=e;for(var v=1;v<t.length;v++){var s=t[v].dot(n)+a[r];u=Math.min(s,u);o=Math.max(s,o)}i[0]=u;i[1]=o};return r}();var $l=[];var Ql=function(r){Lr(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t.notClear=true;t.incremental=true;t._displayables=[];t._temporaryDisplayables=[];t._cursor=0;return t}t.prototype.traverse=function(r,t){r.call(t,this)};t.prototype.useStyle=function(){this.style={}};t.prototype.getCursor=function(){return this._cursor};t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length};t.prototype.clearDisplaybles=function(){this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.markRedraw();this.notClear=false};t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]};t.prototype.addDisplayable=function(r,t){if(t){this._temporaryDisplayables.push(r)}else{this._displayables.push(r)}this.markRedraw()};t.prototype.addDisplayables=function(r,t){t=t||false;for(var i=0;i<r.length;i++){this.addDisplayable(r[i],t)}};t.prototype.getDisplayables=function(){return this._displayables};t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables};t.prototype.eachPendingDisplayable=function(r){for(var t=this._cursor;t<this._displayables.length;t++){r&&r(this._displayables[t])}for(var t=0;t<this._temporaryDisplayables.length;t++){r&&r(this._temporaryDisplayables[t])}};t.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var t=this._displayables[r];t.parent=this;t.update();t.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var t=this._temporaryDisplayables[r];t.parent=this;t.update();t.parent=null}};t.prototype.getBoundingRect=function(){if(!this._rect){var r=new Zt(Infinity,Infinity,-Infinity,-Infinity);for(var t=0;t<this._displayables.length;t++){var i=this._displayables[t];var n=i.getBoundingRect().clone();if(i.needLocalTransform()){n.applyTransform(i.getLocalTransform($l))}r.union(n)}this._rect=r}return this._rect};t.prototype.contain=function(r,t){var i=this.transformCoordToLocal(r,t);var n=this.getBoundingRect();if(n.contain(i[0],i[1])){for(var a=0;a<this._displayables.length;a++){var e=this._displayables[a];if(e.contain(r,t)){return true}}}return false};return t}(Do);var rh=Lu();function th(r,t,i,n,a){var e;if(t&&t.ecModel){var u=t.ecModel.getUpdatePayload();e=u&&u.animation}var o=t&&t.isAnimationEnabled();var v=r==="update";if(o){var s=void 0;var f=void 0;var l=void 0;if(n){s=fr(n.duration,200);f=fr(n.easing,"cubicOut");l=0}else{s=t.getShallow(v?"animationDurationUpdate":"animationDuration");f=t.getShallow(v?"animationEasingUpdate":"animationEasing");l=t.getShallow(v?"animationDelayUpdate":"animationDelay")}if(e){e.duration!=null&&(s=e.duration);e.easing!=null&&(f=e.easing);e.delay!=null&&(l=e.delay)}if(J(l)){l=l(i,a)}if(J(s)){s=s(i)}var h={duration:s||0,delay:l,easing:f};return h}else{return null}}function ih(r,t,i,n,a,e,u){var o=false;var v;if(J(a)){u=e;e=a;a=null}else if(tr(a)){e=a.cb;u=a.during;o=a.isFrom;v=a.removeOpt;a=a.dataIndex}var s=r==="leave";if(!s){t.stopAnimation("leave")}var f=th(r,n,a,s?v||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,a):null);if(f&&f.duration>0){var l=f.duration;var h=f.delay;var c=f.easing;var d={duration:l,delay:h||0,easing:c,done:e,force:!!e||!!u,setToFinal:!s,scope:r,during:u};o?t.animateFrom(i,d):t.animateTo(i,d)}else{t.stopAnimation();!o&&t.attr(i);u&&u(1);e&&e()}}function nh(r,t,i,n,a,e){ih("update",r,t,i,n,a,e)}function ah(r,t,i,n,a,e){ih("enter",r,t,i,n,a,e)}function eh(r){if(!r.__zr){return true}for(var t=0;t<r.animators.length;t++){var i=r.animators[t];if(i.scope==="leave"){return true}}return false}function uh(r,t,i,n,a,e){if(eh(r)){return}ih("leave",r,t,i,n,a,e)}function oh(r,t,i,n){r.removeTextContent();r.removeTextGuideLine();uh(r,{style:{opacity:0}},t,i,n)}function vh(r,t,i){function n(){r.parent&&r.parent.remove(r)}if(!r.isGroup){oh(r,t,i,n)}else{r.traverse((function(r){if(!r.isGroup){oh(r,t,i,n)}}))}}function sh(r){rh(r).oldStyle=r.style}function fh(r){return rh(r).oldStyle}var lh=Math.max;var hh=Math.min;var ch={};function dh(r){return Vv.extend(r)}var ph=il;function mh(r,t){return ph(r,t)}function yh(r,t){ch[r]=t}function gh(r){if(ch.hasOwnProperty(r)){return ch[r]}}function bh(r,t,i,n){var a=tl(r,t);if(i){if(n==="center"){i=xh(i,a.getBoundingRect())}Sh(a,i)}return a}function wh(r,t,i){var n=new Zv({style:{image:r,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(r){if(i==="center"){var a={width:r.width,height:r.height};n.setStyle(xh(t,a))}}});return n}function xh(r,t){var i=t.width/t.height;var n=r.height*i;var a;if(n<=r.width){a=r.height}else{n=r.width;a=n/i}var e=r.x+r.width/2;var u=r.y+r.height/2;return{x:e-n/2,y:u-a/2,width:n,height:a}}var Mh=nl;function Sh(r,t){if(!r.applyTransform){return}var i=r.getBoundingRect();var n=i.calculateTransform(t);r.applyTransform(n)}function kh(r,t){Kv(r,r,{lineWidth:t});return r}function Nh(r){Jv(r.shape,r.shape,r.style);return r}var Ah=$v;function Ih(r,t){var i=zt([]);while(r&&r!==t){Ot(i,r.getLocalTransform(),i);r=r.parent}return i}function Ch(r,t,i){if(t&&!W(t)){t=Ka.getLocalTransform(t)}if(i){t=Bt([],t)}return jr([],r,t)}function Th(r,t,i){var n=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]);var a=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]);var e=[r==="left"?-n:r==="right"?n:0,r==="top"?-a:r==="bottom"?a:0];e=Ch(e,t,i);return Math.abs(e[0])>Math.abs(e[1])?e[0]>0?"right":"left":e[1]>0?"bottom":"top"}function zh(r){return!r.isGroup}function Lh(r){return r.shape!=null}function Oh(r,t,i){if(!r||!t){return}function n(r){var t={};r.traverse((function(r){if(zh(r)&&r.anid){t[r.anid]=r}}));return t}function a(r){var t={x:r.x,y:r.y,rotation:r.rotation};if(Lh(r)){t.shape=F({},r.shape)}return t}var e=n(r);t.traverse((function(r){if(zh(r)&&r.anid){var t=e[r.anid];if(t){var n=a(r);r.attr(a(t));nh(r,n,i,bs(r).dataIndex)}}}))}function Dh(r,t){return H(r,(function(r){var i=r[0];i=lh(i,t.x);i=hh(i,t.x+t.width);var n=r[1];n=lh(n,t.y);n=hh(n,t.y+t.height);return[i,n]}))}function Rh(r,t){var i=lh(r.x,t.x);var n=hh(r.x+r.width,t.x+t.width);var a=lh(r.y,t.y);var e=hh(r.y+r.height,t.y+t.height);if(n>=i&&e>=a){return{x:i,y:a,width:n-i,height:e-a}}}function Fh(r,t,i){var n=F({rectHover:true},t);var a=n.style={strokeNoScale:true};i=i||{x:-1,y:-1,width:2,height:2};if(r){return r.indexOf("image://")===0?(a.image=r.slice(8),B(a,i),new Zv(n)):bh(r.replace("path://",""),n,i,"center")}}function Bh(r,t,i,n,a){for(var e=0,u=a[a.length-1];e<a.length;e++){var o=a[e];if(_h(r,t,i,n,o[0],o[1],u[0],u[1])){return true}u=o}}function _h(r,t,i,n,a,e,u,o){var v=i-r;var s=n-t;var f=u-a;var l=o-e;var h=Eh(f,l,v,s);if(Ph(h)){return false}var c=r-a;var d=t-e;var p=Eh(c,d,v,s)/h;if(p<0||p>1){return false}var m=Eh(c,d,f,l)/h;if(m<0||m>1){return false}return true}function Eh(r,t,i,n){return r*n-i*t}function Ph(r){return r<=1e-6&&r>=-1e-6}function Wh(r){var t=r.itemTooltipOption;var i=r.componentModel;var n=r.itemName;var a=$(t)?{formatter:t}:t;var e=i.mainType;var u=i.componentIndex;var o={componentType:e,name:n,$vars:["name"]};o[e+"Index"]=u;var v=r.formatterParamsExtra;if(v){V(U(v),(function(r){if(!Ir(o,r)){o[r]=v[r];o.$vars.push(r)}}))}var s=bs(r.el);s.componentMainType=e;s.componentIndex=u;s.tooltipConfig={name:n,option:B({content:n,formatterParams:o},a)}}function Vh(r,t){var i;if(r.isGroup){i=t(r)}if(!i){r.traverse(t)}}function Hh(r,t){if(r){if(K(r)){for(var i=0;i<r.length;i++){Vh(r[i],t)}}else{Vh(r,t)}}}yh("circle",ul);yh("ellipse",vl);yh("sector",Nl);yh("ring",Il);yh("polygon",Ll);yh("polyline",Dl);yh("rect",ts);yh("line",Bl);yh("bezierCurve",Wl);yh("arc",Hl);const Yh=Object.freeze({__proto__:null,updateProps:nh,initProps:ah,removeElement:uh,removeElementWithFadeOut:vh,isElementRemoved:eh,extendShape:dh,extendPath:mh,registerShape:yh,getShapeClass:gh,makePath:bh,makeImage:wh,mergePath:Mh,resizePath:Sh,subPixelOptimizeLine:kh,subPixelOptimizeRect:Nh,subPixelOptimize:Ah,getTransform:Ih,applyTransform:Ch,transformDirection:Th,groupTransition:Oh,clipPointsByRect:Dh,clipRectByRect:Rh,createIcon:Fh,linePolygonIntersect:Bh,lineLineIntersect:_h,setTooltipConfig:Wh,traverseElements:Hh,Group:xe,Image:Zv,Text:es,Circle:ul,Ellipse:vl,Sector:Nl,Ring:Il,Polygon:Ll,Polyline:Dl,Rect:ts,Line:Bl,BezierCurve:Wl,Arc:Hl,IncrementalDisplayable:Ql,CompoundPath:Yl,LinearGradient:Gl,RadialGradient:Ul,BoundingRect:Zt,OrientedBoundingRect:Jl,Point:Et,Path:Vv});var Xh={};function Gh(r,t){for(var i=0;i<Cs.length;i++){var n=Cs[i];var a=t[n];var e=r.ensureState(n);e.style=e.style||{};e.style.text=a}var u=r.currentStates.slice();r.clearStates(true);r.setStyle({text:t.normal});r.useStates(u,true)}function Uh(r,t,i){var n=r.labelFetcher;var a=r.labelDataIndex;var e=r.labelDimIndex;var u=t.normal;var o;if(n){o=n.getFormattedLabel(a,"normal",null,e,u&&u.get("formatter"),i!=null?{interpolatedValue:i}:null)}if(o==null){o=J(r.defaultText)?r.defaultText(a,r,i):r.defaultText}var v={normal:o};for(var s=0;s<Cs.length;s++){var f=Cs[s];var l=t[f];v[f]=fr(n?n.getFormattedLabel(a,f,null,e,l&&l.get("formatter")):null,o)}return v}function Zh(r,t,i,n){i=i||Xh;var a=r instanceof es;var e=false;for(var u=0;u<Ts.length;u++){var o=t[Ts[u]];if(o&&o.getShallow("show")){e=true;break}}var v=a?r:r.getTextContent();if(e){if(!a){if(!v){v=new es;r.setTextContent(v)}if(r.stateProxy){v.stateProxy=r.stateProxy}}var s=Uh(i,t);var f=t.normal;var l=!!f.getShallow("show");var h=qh(f,n&&n.normal,i,false,!a);h.text=s.normal;if(!a){r.setTextConfig(Kh(f,i,false))}for(var u=0;u<Cs.length;u++){var c=Cs[u];var o=t[c];if(o){var d=v.ensureState(c);var p=!!fr(o.getShallow("show"),l);if(p!==l){d.ignore=!p}d.style=qh(o,n&&n[c],i,true,!a);d.style.text=s[c];if(!a){var m=r.ensureState(c);m.textConfig=Kh(o,i,true)}}}v.silent=!!f.getShallow("silent");if(v.style.x!=null){h.x=v.style.x}if(v.style.y!=null){h.y=v.style.y}v.ignore=!l;v.useStyle(h);v.dirty();if(i.enableTextSetter){ac(v).setLabelText=function(r){var n=Uh(i,t,r);Gh(v,n)}}}else if(v){v.ignore=true}r.dirty()}function jh(r,t){t=t||"label";var i={normal:r.getModel(t)};for(var n=0;n<Cs.length;n++){var a=Cs[n];i[a]=r.getModel([a,t])}return i}function qh(r,t,i,n,a){var e={};Jh(e,r,i,n,a);t&&F(e,t);return e}function Kh(r,t,i){t=t||{};var n={};var a;var e=r.getShallow("rotate");var u=fr(r.getShallow("distance"),i?null:5);var o=r.getShallow("offset");a=r.getShallow("position")||(i?null:"inside");a==="outside"&&(a=t.defaultOutsidePosition||"top");if(a!=null){n.position=a}if(o!=null){n.offset=o}if(e!=null){e*=Math.PI/180;n.rotation=e}if(u!=null){n.distance=u}n.outsideFill=r.get("color")==="inherit"?t.inheritColor||null:"auto";return n}function Jh(r,t,i,n,a){i=i||Xh;var e=t.ecModel;var u=e&&e.option.textStyle;var o=$h(t);var v;if(o){v={};for(var s in o){if(o.hasOwnProperty(s)){var f=t.getModel(["rich",s]);ic(v[s]={},f,u,i,n,a,false,true)}}}if(v){r.rich=v}var l=t.get("overflow");if(l){r.overflow=l}var h=t.get("minMargin");if(h!=null){r.margin=h}ic(r,t,u,i,n,a,true,false)}function $h(r){var t;while(r&&r!==r.ecModel){var i=(r.option||Xh).rich;if(i){t=t||{};var n=U(i);for(var a=0;a<n.length;a++){var e=n[a];t[e]=1}}r=r.parentModel}return t}var Qh=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"];var rc=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"];var tc=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function ic(r,t,i,n,a,e,u,o){i=!a&&i||Xh;var v=n&&n.inheritColor;var s=t.getShallow("color");var f=t.getShallow("textBorderColor");var l=fr(t.getShallow("opacity"),i.opacity);if(s==="inherit"||s==="auto"){if(v){s=v}else{s=null}}if(f==="inherit"||f==="auto"){if(v){f=v}else{f=null}}if(!e){s=s||i.color;f=f||i.textBorderColor}if(s!=null){r.fill=s}if(f!=null){r.stroke=f}var h=fr(t.getShallow("textBorderWidth"),i.textBorderWidth);if(h!=null){r.lineWidth=h}var c=fr(t.getShallow("textBorderType"),i.textBorderType);if(c!=null){r.lineDash=c}var d=fr(t.getShallow("textBorderDashOffset"),i.textBorderDashOffset);if(d!=null){r.lineDashOffset=d}if(!a&&l==null&&!o){l=n&&n.defaultOpacity}if(l!=null){r.opacity=l}if(!a&&!e){if(r.fill==null&&n.inheritColor){r.fill=n.inheritColor}}for(var p=0;p<Qh.length;p++){var m=Qh[p];var y=fr(t.getShallow(m),i[m]);if(y!=null){r[m]=y}}for(var p=0;p<rc.length;p++){var m=rc[p];var y=t.getShallow(m);if(y!=null){r[m]=y}}if(r.verticalAlign==null){var g=t.getShallow("baseline");if(g!=null){r.verticalAlign=g}}if(!u||!n.disableBox){for(var p=0;p<tc.length;p++){var m=tc[p];var y=t.getShallow(m);if(y!=null){r[m]=y}}var b=t.getShallow("borderType");if(b!=null){r.borderDash=b}if((r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&v){r.backgroundColor=v}if((r.borderColor==="auto"||r.borderColor==="inherit")&&v){r.borderColor=v}}}function nc(r,t){var i=t&&t.getModel("textStyle");return pr([r.fontStyle||i&&i.getShallow("fontStyle")||"",r.fontWeight||i&&i.getShallow("fontWeight")||"",(r.fontSize||i&&i.getShallow("fontSize")||12)+"px",r.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))}var ac=Lu();function ec(r,t,i,n){if(!r){return}var a=ac(r);a.prevValue=a.value;a.value=i;var e=t.normal;a.valueAnimation=e.get("valueAnimation");if(a.valueAnimation){a.precision=e.get("precision");a.defaultInterpolatedText=n;a.statesModels=t}}function uc(r,t,i,n,a){var e=ac(r);if(!e.valueAnimation||e.prevValue===e.value){return}var u=e.defaultInterpolatedText;var o=fr(e.interpolatedValue,e.prevValue);var v=e.value;function s(n){var s=Hu(i,e.precision,o,v,n);e.interpolatedValue=n===1?null:s;var f=Uh({labelDataIndex:t,labelFetcher:a,defaultText:u?u(s):s+""},e.statesModels,s);Gh(r,f)}r.percent=0;(e.prevValue==null?ah:nh)(r,{percent:1},n,t,null,s)}var oc=["textStyle","color"];var vc=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"];var sc=new es;var fc=function(){function r(){}r.prototype.getTextColor=function(r){var t=this.ecModel;return this.getShallow("color")||(!r&&t?t.get(oc):null)};r.prototype.getFont=function(){return nc({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)};r.prototype.getTextRect=function(r){var t={text:r,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")};for(var i=0;i<vc.length;i++){t[vc[i]]=this.getShallow(vc[i])}sc.useStyle(t);sc.update();return sc.getBoundingRect()};return r}();var lc=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]];var hc=no(lc);var cc=function(){function r(){}r.prototype.getLineStyle=function(r){return hc(this,r)};return r}();var dc=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]];var pc=no(dc);var mc=function(){function r(){}r.prototype.getItemStyle=function(r,t){return pc(this,r,t)};return r}();var yc=function(){function r(r,t,i){this.parentModel=t;this.ecModel=i;this.option=r}r.prototype.init=function(r,t,i){var n=[];for(var a=3;a<arguments.length;a++){n[a-3]=arguments[a]}};r.prototype.mergeOption=function(r,t){D(this.option,r,true)};r.prototype.get=function(r,t){if(r==null){return this.option}return this._doGet(this.parsePath(r),!t&&this.parentModel)};r.prototype.getShallow=function(r,t){var i=this.option;var n=i==null?i:i[r];if(n==null&&!t){var a=this.parentModel;if(a){n=a.getShallow(r)}}return n};r.prototype.getModel=function(t,i){var n=t!=null;var a=n?this.parsePath(t):null;var e=n?this._doGet(a):this.option;i=i||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a));return new r(e,i,this.ecModel)};r.prototype.isEmpty=function(){return this.option==null};r.prototype.restoreData=function(){};r.prototype.clone=function(){var r=this.constructor;return new r(O(this.option))};r.prototype.parsePath=function(r){if(typeof r==="string"){return r.split(".")}return r};r.prototype.resolveParentPath=function(r){return r};r.prototype.isAnimationEnabled=function(){if(!o.node&&this.option){if(this.option.animation!=null){return!!this.option.animation}else if(this.parentModel){return this.parentModel.isAnimationEnabled()}}};r.prototype._doGet=function(r,t){var i=this.option;if(!r){return i}for(var n=0;n<r.length;n++){if(!r[n]){continue}i=i&&typeof i==="object"?i[r[n]]:null;if(i==null){break}}if(i==null&&t){i=t._doGet(this.resolveParentPath(r),t.parentModel)}return i};return r}();qu(yc);Qu(yc);P(yc,cc);P(yc,mc);P(yc,uo);P(yc,fc);var gc=Math.round(Math.random()*10);function bc(r){return[r||"",gc++].join("_")}function wc(r){var t={};r.registerSubTypeDefaulter=function(r,i){var n=Uu(r);t[n.main]=i};r.determineSubType=function(i,n){var a=n.type;if(!a){var e=Uu(i).main;if(r.hasSubTypes(i)&&t[e]){a=t[e](n)}}return a}}function xc(r,t){r.topologicalTravel=function(r,t,n,a){if(!r.length){return}var e=i(t);var u=e.graph;var o=e.noEntryList;var v={};V(r,(function(r){v[r]=true}));while(o.length){var s=o.pop();var f=u[s];var l=!!v[s];if(l){n.call(a,s,f.originalDeps.slice());delete v[s]}V(f.successor,l?c:h)}V(v,(function(){var r="";throw new Error(r)}));function h(r){u[r].entryCount--;if(u[r].entryCount===0){o.push(r)}}function c(r){v[r]=true;h(r)}};function i(r){var i={};var e=[];V(r,(function(u){var o=n(i,u);var v=o.originalDeps=t(u);var s=a(v,r);o.entryCount=s.length;if(o.entryCount===0){e.push(u)}V(s,(function(r){if(_(o.predecessor,r)<0){o.predecessor.push(r)}var t=n(i,r);if(_(t.successor,r)<0){t.successor.push(u)}}))}));return{graph:i,noEntryList:e}}function n(r,t){if(!r[t]){r[t]={predecessor:[],successor:[]}}return r[t]}function a(r,t){var i=[];V(r,(function(r){_(t,r)>=0&&i.push(r)}));return i}}function Mc(r,t){return D(D({},r,true),t,true)}const Sc={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}};const kc={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var Nc="ZH";var Ac="EN";var Ic=Ac;var Cc={};var Tc={};var zc=!o.domSupported?Ic:function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return r.indexOf(Nc)>-1?Nc:Ic}();function Lc(r,t){r=r.toUpperCase();Tc[r]=new yc(t);Cc[r]=t}function Oc(r){if($(r)){var t=Cc[r.toUpperCase()]||{};if(r===Nc||r===Ac){return O(t)}else{return D(O(t),O(Cc[Ic]),false)}}else{return D(O(r),O(Cc[Ic]),false)}}function Dc(r){return Tc[r]}function Rc(){return Tc[Ic]}Lc(Ac,Sc);Lc(Nc,kc);var Fc=1e3;var Bc=Fc*60;var _c=Bc*60;var Ec=_c*24;var Pc=Ec*365;var Wc={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"};var Vc="{yyyy}-{MM}-{dd}";var Hc={year:"{yyyy}",month:"{yyyy}-{MM}",day:Vc,hour:Vc+" "+Wc.hour,minute:Vc+" "+Wc.minute,second:Vc+" "+Wc.second,millisecond:Wc.none};var Yc=["year","month","day","hour","minute","second","millisecond"];var Xc=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Gc(r,t){r+="";return"0000".substr(0,t-r.length)+r}function Uc(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function Zc(r){return r===Uc(r)}function jc(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function qc(r,t,i,n){var a=Ye(r);var e=a[Qc(i)]();var u=a[rd(i)]()+1;var o=Math.floor((u-1)/3)+1;var v=a[td(i)]();var s=a["get"+(i?"UTC":"")+"Day"]();var f=a[id(i)]();var l=(f-1)%12+1;var h=a[nd(i)]();var c=a[ad(i)]();var d=a[ed(i)]();var p=n instanceof yc?n:Dc(n||zc)||Rc();var m=p.getModel("time");var y=m.get("month");var g=m.get("monthAbbr");var b=m.get("dayOfWeek");var w=m.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,e+"").replace(/{yy}/g,Gc(e%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,y[u-1]).replace(/{MMM}/g,g[u-1]).replace(/{MM}/g,Gc(u,2)).replace(/{M}/g,u+"").replace(/{dd}/g,Gc(v,2)).replace(/{d}/g,v+"").replace(/{eeee}/g,b[s]).replace(/{ee}/g,w[s]).replace(/{e}/g,s+"").replace(/{HH}/g,Gc(f,2)).replace(/{H}/g,f+"").replace(/{hh}/g,Gc(l+"",2)).replace(/{h}/g,l+"").replace(/{mm}/g,Gc(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,Gc(c,2)).replace(/{s}/g,c+"").replace(/{SSS}/g,Gc(d,3)).replace(/{S}/g,d+"")}function Kc(r,t,i,n,a){var e=null;if($(i)){e=i}else if(J(i)){e=i(r.value,t,{level:r.level})}else{var u=F({},Wc);if(r.level>0){for(var o=0;o<Yc.length;++o){u[Yc[o]]="{primary|"+u[Yc[o]]+"}"}}var v=i?i.inherit===false?i:B(i,u):u;var s=Jc(r.value,a);if(v[s]){e=v[s]}else if(v.inherit){var f=Xc.indexOf(s);for(var o=f-1;o>=0;--o){if(v[s]){e=v[s];break}}e=e||u.none}if(K(e)){var l=r.level==null?0:r.level>=0?r.level:e.length+r.level;l=Math.min(l,e.length-1);e=e[l]}}return qc(new Date(r.value),e,a,n)}function Jc(r,t){var i=Ye(r);var n=i[rd(t)]()+1;var a=i[td(t)]();var e=i[id(t)]();var u=i[nd(t)]();var o=i[ad(t)]();var v=i[ed(t)]();var s=v===0;var f=s&&o===0;var l=f&&u===0;var h=l&&e===0;var c=h&&a===1;var d=c&&n===1;if(d){return"year"}else if(c){return"month"}else if(h){return"day"}else if(l){return"hour"}else if(f){return"minute"}else if(s){return"second"}else{return"millisecond"}}function $c(r,t,i){var n=rr(r)?Ye(r):r;t=t||Jc(r,i);switch(t){case"year":return n[Qc(i)]();case"half-year":return n[rd(i)]()>=6?1:0;case"quarter":return Math.floor((n[rd(i)]()+1)/4);case"month":return n[rd(i)]();case"day":return n[td(i)]();case"half-day":return n[id(i)]()/24;case"hour":return n[id(i)]();case"minute":return n[nd(i)]();case"second":return n[ad(i)]();case"millisecond":return n[ed(i)]()}}function Qc(r){return r?"getUTCFullYear":"getFullYear"}function rd(r){return r?"getUTCMonth":"getMonth"}function td(r){return r?"getUTCDate":"getDate"}function id(r){return r?"getUTCHours":"getHours"}function nd(r){return r?"getUTCMinutes":"getMinutes"}function ad(r){return r?"getUTCSeconds":"getSeconds"}function ed(r){return r?"getUTCMilliseconds":"getMilliseconds"}function ud(r){return r?"setUTCFullYear":"setFullYear"}function od(r){return r?"setUTCMonth":"setMonth"}function vd(r){return r?"setUTCDate":"setDate"}function sd(r){return r?"setUTCHours":"setHours"}function fd(r){return r?"setUTCMinutes":"setMinutes"}function ld(r){return r?"setUTCSeconds":"setSeconds"}function hd(r){return r?"setUTCMilliseconds":"setMilliseconds"}function cd(r){if(!Ke(r)){return $(r)?r:"-"}var t=(r+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function dd(r,t){r=(r||"").toLowerCase().replace(/-(.)/g,(function(r,t){return t.toUpperCase()}));if(t&&r){r=r.charAt(0).toUpperCase()+r.slice(1)}return r}var pd=cr;function md(r,t,i){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(r){return r&&pr(r)?r:"-"}function e(r){return!!(r!=null&&!isNaN(r)&&isFinite(r))}var u=t==="time";var o=r instanceof Date;if(u||o){var v=u?Ye(r):r;if(!isNaN(+v)){return qc(v,n,i)}else if(o){return"-"}}if(t==="ordinal"){return Q(r)?a(r):rr(r)?e(r)?r+"":"-":"-"}var s=qe(r);return e(s)?cd(s):Q(r)?a(r):typeof r==="boolean"?r+"":"-"}var yd=["a","b","c","d","e","f","g"];var gd=function(r,t){return"{"+r+(t==null?"":t)+"}"};function bd(r,t,i){if(!K(t)){t=[t]}var n=t.length;if(!n){return""}var a=t[0].$vars||[];for(var e=0;e<a.length;e++){var u=yd[e];r=r.replace(gd(u),gd(u,0))}for(var o=0;o<n;o++){for(var v=0;v<a.length;v++){var s=t[o][a[v]];r=r.replace(gd(yd[v],o),i?ht(s):s)}}return r}function wd(r,t,i){V(t,(function(t,n){r=r.replace("{"+n+"}",i?ht(t):t)}));return r}function xd(r,t){var i=$(r)?{color:r,extraCssText:t}:r||{};var n=i.color;var a=i.type;t=i.extraCssText;var e=i.renderMode||"html";if(!n){return""}if(e==="html"){return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;'+"border-radius:4px;width:4px;height:4px;background-color:"+ht(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;'+"border-radius:10px;width:10px;height:10px;background-color:"+ht(n)+";"+(t||"")+'"></span>'}else{var u=i.markerId||"markerX";return{renderMode:e,content:"{"+u+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}}function Md(r,t){t=t||"transparent";return $(r)?r:tr(r)?r.colorStops&&(r.colorStops[0]||{}).color||t:t}function Sd(r,t){if(t==="_blank"||t==="blank"){var i=window.open();i.opener=null;i.location.href=r}else{window.open(r,t)}}var kd=V;var Nd=["left","right","top","bottom","width","height"];var Ad=[["width","left","right"],["height","top","bottom"]];function Id(r,t,i,n,a){var e=0;var u=0;if(n==null){n=Infinity}if(a==null){a=Infinity}var o=0;t.eachChild((function(v,s){var f=v.getBoundingRect();var l=t.childAt(s+1);var h=l&&l.getBoundingRect();var c;var d;if(r==="horizontal"){var p=f.width+(h?-h.x+f.x:0);c=e+p;if(c>n||v.newline){e=0;c=p;u+=o+i;o=f.height}else{o=Math.max(o,f.height)}}else{var m=f.height+(h?-h.y+f.y:0);d=u+m;if(d>a||v.newline){e+=o+i;u=0;d=m;o=f.width}else{o=Math.max(o,f.width)}}if(v.newline){return}v.x=e;v.y=u;v.markRedraw();r==="horizontal"?e=c+i:u=d+i}))}var Cd=Id;q(Id,"vertical");q(Id,"horizontal");function Td(r,t,i){var n=t.width;var a=t.height;var e=Le(r.left,n);var u=Le(r.top,a);var o=Le(r.right,n);var v=Le(r.bottom,a);(isNaN(e)||isNaN(parseFloat(r.left)))&&(e=0);(isNaN(o)||isNaN(parseFloat(r.right)))&&(o=n);(isNaN(u)||isNaN(parseFloat(r.top)))&&(u=0);(isNaN(v)||isNaN(parseFloat(r.bottom)))&&(v=a);i=pd(i||0);return{width:Math.max(o-e-i[1]-i[3],0),height:Math.max(v-u-i[0]-i[2],0)}}function zd(r,t,i){i=pd(i||0);var n=t.width;var a=t.height;var e=Le(r.left,n);var u=Le(r.top,a);var o=Le(r.right,n);var v=Le(r.bottom,a);var s=Le(r.width,n);var f=Le(r.height,a);var l=i[2]+i[0];var h=i[1]+i[3];var c=r.aspect;if(isNaN(s)){s=n-o-h-e}if(isNaN(f)){f=a-v-l-u}if(c!=null){if(isNaN(s)&&isNaN(f)){if(c>n/a){s=n*.8}else{f=a*.8}}if(isNaN(s)){s=c*f}if(isNaN(f)){f=s/c}}if(isNaN(e)){e=n-o-s-h}if(isNaN(u)){u=a-v-f-l}switch(r.left||r.right){case"center":e=n/2-s/2-i[3];break;case"right":e=n-s-h;break}switch(r.top||r.bottom){case"middle":case"center":u=a/2-f/2-i[0];break;case"bottom":u=a-f-l;break}e=e||0;u=u||0;if(isNaN(s)){s=n-h-e-(o||0)}if(isNaN(f)){f=a-l-u-(v||0)}var d=new Zt(e+i[3],u+i[0],s,f);d.margin=i;return d}function Ld(r,t,i,n,a,e){var u=!a||!a.hv||a.hv[0];var o=!a||!a.hv||a.hv[1];var v=a&&a.boundingMode||"all";e=e||r;e.x=r.x;e.y=r.y;if(!u&&!o){return false}var s;if(v==="raw"){s=r.type==="group"?new Zt(0,0,+t.width||0,+t.height||0):r.getBoundingRect()}else{s=r.getBoundingRect();if(r.needLocalTransform()){var f=r.getLocalTransform();s=s.clone();s.applyTransform(f)}}var l=zd(B({width:s.width,height:s.height},t),i,n);var h=u?l.x-s.x:0;var c=o?l.y-s.y:0;if(v==="raw"){e.x=h;e.y=c}else{e.x+=h;e.y+=c}if(e===r){r.markRedraw()}return true}function Od(r,t){return r[Ad[t][0]]!=null||r[Ad[t][1]]!=null&&r[Ad[t][2]]!=null}function Dd(r){var t=r.layoutMode||r.constructor.layoutMode;return tr(t)?t:t?{type:t}:null}function Rd(r,t,i){var n=i&&i.ignoreSize;!K(n)&&(n=[n,n]);var a=u(Ad[0],0);var e=u(Ad[1],1);s(Ad[0],r,a);s(Ad[1],r,e);function u(i,a){var e={};var u=0;var s={};var f=0;var l=2;kd(i,(function(t){s[t]=r[t]}));kd(i,(function(r){o(t,r)&&(e[r]=s[r]=t[r]);v(e,r)&&u++;v(s,r)&&f++}));if(n[a]){if(v(t,i[1])){s[i[2]]=null}else if(v(t,i[2])){s[i[1]]=null}return s}if(f===l||!u){return s}else if(u>=l){return e}else{for(var h=0;h<i.length;h++){var c=i[h];if(!o(e,c)&&o(r,c)){e[c]=r[c];break}}return e}}function o(r,t){return r.hasOwnProperty(t)}function v(r,t){return r[t]!=null&&r[t]!=="auto"}function s(r,t,i){kd(r,(function(r){t[r]=i[r]}))}}function Fd(r){return Bd({},r)}function Bd(r,t){t&&r&&kd(Nd,(function(i){t.hasOwnProperty(i)&&(r[i]=t[i])}));return r}var _d=Lu();var Ed=function(r){a(t,r);function t(t,i,n){var a=r.call(this,t,i,n)||this;a.uid=bc("ec_cpt_model");return a}t.prototype.init=function(r,t,i){this.mergeDefaultAndTheme(r,i)};t.prototype.mergeDefaultAndTheme=function(r,t){var i=Dd(this);var n=i?Fd(r):{};var a=t.getTheme();D(r,a.get(this.mainType));D(r,this.getDefaultOption());if(i){Rd(r,n,i)}};t.prototype.mergeOption=function(r,t){D(this.option,r,true);var i=Dd(this);if(i){Rd(this.option,r,i)}};t.prototype.optionUpdated=function(r,t){};t.prototype.getDefaultOption=function(){var r=this.constructor;if(!ju(r)){return r.defaultOption}var t=_d(this);if(!t.defaultOption){var i=[];var n=r;while(n){var a=n.prototype.defaultOption;a&&i.push(a);n=n.superClass}var e={};for(var u=i.length-1;u>=0;u--){e=D(e,i[u],true)}t.defaultOption=e}return t.defaultOption};t.prototype.getReferringComponents=function(r,t){var i=r+"Index";var n=r+"Id";return _u(this.ecModel,r,{index:this.get(i,true),id:this.get(n,true)},t)};t.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}};t.prototype.getZLevelKey=function(){return""};t.prototype.setZLevel=function(r){this.option.zlevel=r};t.protoInitialize=function(){var r=t.prototype;r.type="component";r.id="";r.name="";r.mainType="";r.subType="";r.componentIndex=0}();return t}(yc);Ju(Ed,yc);io(Ed);wc(Ed);xc(Ed,Pd);function Pd(r){var t=[];V(Ed.getClassesByMainType(r),(function(r){t=t.concat(r.dependencies||r.prototype.dependencies||[])}));t=H(t,(function(r){return Uu(r).main}));if(r!=="dataset"&&_(t,"dataset")<=0){t.unshift("dataset")}return t}var Wd="";if(typeof navigator!=="undefined"){Wd=navigator.platform||""}var Vd="rgba(0, 0, 0, 0.2)";const Hd={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Vd,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Vd,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Vd,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Vd,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Vd,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Vd,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Wd.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:false};var Yd=Sr(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]);var Xd="original";var Gd="arrayRows";var Ud="objectRows";var Zd="keyedColumns";var jd="typedArray";var qd="unknown";var Kd="column";var Jd="row";var $d={Must:1,Might:2,Not:3};var Qd=Lu();function rp(r){Qd(r).datasetMap=Sr()}function tp(r,t,i){var n={};var a=np(t);if(!a||!r){return n}var e=[];var u=[];var o=t.ecModel;var v=Qd(o).datasetMap;var s=a.uid+"_"+i.seriesLayoutBy;var f;var l;r=r.slice();V(r,(function(t,i){var a=tr(t)?t:r[i]={name:t};if(a.type==="ordinal"&&f==null){f=i;l=d(a)}n[a.name]=[]}));var h=v.get(s)||v.set(s,{categoryWayDim:l,valueWayDim:0});V(r,(function(r,t){var i=r.name;var a=d(r);if(f==null){var o=h.valueWayDim;c(n[i],o,a);c(u,o,a);h.valueWayDim+=a}else if(f===t){c(n[i],0,a);c(e,0,a)}else{var o=h.categoryWayDim;c(n[i],o,a);c(u,o,a);h.categoryWayDim+=a}}));function c(r,t,i){for(var n=0;n<i;n++){r.push(t+n)}}function d(r){var t=r.dimsDef;return t?t.length:1}e.length&&(n.itemName=e);u.length&&(n.seriesName=u);return n}function ip(r,t,i){var n={};var a=np(r);if(!a){return n}var e=t.sourceFormat;var u=t.dimensionsDefine;var o;if(e===Ud||e===Zd){V(u,(function(r,t){if((tr(r)?r.name:r)==="name"){o=t}}))}var v=function(){var r={};var n={};var a=[];for(var v=0,s=Math.min(5,i);v<s;v++){var f=up(t.data,e,t.seriesLayoutBy,u,t.startIndex,v);a.push(f);var l=f===$d.Not;if(l&&r.v==null&&v!==o){r.v=v}if(r.n==null||r.n===r.v||!l&&a[r.n]===$d.Not){r.n=v}if(h(r)&&a[r.n]!==$d.Not){return r}if(!l){if(f===$d.Might&&n.v==null&&v!==o){n.v=v}if(n.n==null||n.n===n.v){n.n=v}}}function h(r){return r.v!=null&&r.n!=null}return h(r)?r:h(n)?n:null}();if(v){n.value=[v.v];var s=o!=null?o:v.n;n.itemName=[s];n.seriesName=[s]}return n}function np(r){var t=r.get("data",true);if(!t){return _u(r.ecModel,"dataset",{index:r.get("datasetIndex",true),id:r.get("datasetId",true)},Fu).models[0]}}function ap(r){if(!r.get("transform",true)&&!r.get("fromTransformResult",true)){return[]}return _u(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",true),id:r.get("fromDatasetId",true)},Fu).models}function ep(r,t){return up(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,t)}function up(r,t,i,n,a,e){var u;var o=5;if(nr(r)){return $d.Not}var v;var s;if(n){var f=n[e];if(tr(f)){v=f.name;s=f.type}else if($(f)){v=f}}if(s!=null){return s==="ordinal"?$d.Must:$d.Not}if(t===Gd){var l=r;if(i===Jd){var h=l[e];for(var c=0;c<(h||[]).length&&c<o;c++){if((u=w(h[a+c]))!=null){return u}}}else{for(var c=0;c<l.length&&c<o;c++){var d=l[a+c];if(d&&(u=w(d[e]))!=null){return u}}}}else if(t===Ud){var p=r;if(!v){return $d.Not}for(var c=0;c<p.length&&c<o;c++){var m=p[c];if(m&&(u=w(m[v]))!=null){return u}}}else if(t===Zd){var y=r;if(!v){return $d.Not}var h=y[v];if(!h||nr(h)){return $d.Not}for(var c=0;c<h.length&&c<o;c++){if((u=w(h[c]))!=null){return u}}}else if(t===Xd){var g=r;for(var c=0;c<g.length&&c<o;c++){var m=g[c];var b=hu(m);if(!K(b)){return $d.Not}if((u=w(b[e]))!=null){return u}}}function w(r){var t=$(r);if(r!=null&&isFinite(r)&&r!==""){return t?$d.Might:$d.Not}else if(t&&r!=="-"){return $d.Must}}return $d.Not}var op=Sr();function vp(r,t){dr(op.get(r)==null&&t);op.set(r,t)}function sp(r,t,i){var n=op.get(t);if(!n){return i}var a=n(r);if(!a){return i}return i.concat(a)}var fp=Lu();var lp=Lu();var hp=function(){function r(){}r.prototype.getColorFromPalette=function(r,t,i){var n=su(this.get("color",true));var a=this.get("colorLayer",true);return pp(this,fp,n,a,r,t,i)};r.prototype.clearColorPalette=function(){mp(this,fp)};return r}();function cp(r,t,i,n){var a=su(r.get(["aria","decal","decals"]));return pp(r,lp,a,null,t,i,n)}function dp(r,t){var i=r.length;for(var n=0;n<i;n++){if(r[n].length>t){return r[n]}}return r[i-1]}function pp(r,t,i,n,a,e,u){e=e||r;var o=t(e);var v=o.paletteIdx||0;var s=o.paletteNameMap=o.paletteNameMap||{};if(s.hasOwnProperty(a)){return s[a]}var f=u==null||!n?i:dp(n,u);f=f||i;if(!f||!f.length){return}var l=f[v];if(a){s[a]=l}o.paletteIdx=(v+1)%f.length;return l}function mp(r,t){t(r).paletteIdx=0;t(r).paletteNameMap={}}var yp;var gp;var bp;var wp="\0_ec_inner";var xp=1;var Mp=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.init=function(r,t,i,n,a,e){n=n||{};this.option=null;this._theme=new yc(n);this._locale=new yc(a);this._optionManager=e};t.prototype.setOption=function(r,t,i){var n=Ip(t);this._optionManager.setOption(r,i,n);this._resetOption(null,n)};t.prototype.resetOption=function(r,t){return this._resetOption(r,Ip(t))};t.prototype._resetOption=function(r,t){var i=false;var n=this._optionManager;if(!r||r==="recreate"){var a=n.mountOption(r==="recreate");if(!this.option||r==="recreate"){bp(this,a)}else{this.restoreData();this._mergeOption(a,t)}i=true}if(r==="timeline"||r==="media"){this.restoreData()}if(!r||r==="recreate"||r==="timeline"){var e=n.getTimelineOption(this);if(e){i=true;this._mergeOption(e,t)}}if(!r||r==="recreate"||r==="media"){var u=n.getMediaOption(this);if(u.length){V(u,(function(r){i=true;this._mergeOption(r,t)}),this)}}return i};t.prototype.mergeOption=function(r){this._mergeOption(r,null)};t.prototype._mergeOption=function(r,t){var i=this.option;var n=this._componentsMap;var a=this._componentsCount;var e=[];var u=Sr();var o=t&&t.replaceMergeMainTypeMap;rp(this);V(r,(function(r,t){if(r==null){return}if(!Ed.hasClass(t)){i[t]=i[t]==null?O(r):D(i[t],r,true)}else if(t){e.push(t);u.set(t,true)}}));if(o){o.each((function(r,t){if(Ed.hasClass(t)&&!u.get(t)){e.push(t);u.set(t,true)}}))}Ed.topologicalTravel(e,Ed.getAllClassMainTypes(),v,this);function v(t){var e=sp(this,t,su(r[t]));var u=n.get(t);var v=!u?"replaceAll":o&&o.get(t)?"replaceMerge":"normalMerge";var s=du(u,e,v);Iu(s,t,Ed);i[t]=null;n.set(t,null);a.set(t,0);var f=[];var l=[];var h=0;var c;V(s,(function(r,i){var n=r.existing;var a=r.newOption;if(!a){if(n){n.mergeOption({},this);n.optionUpdated({},false)}}else{var e=t==="series";var u=Ed.getClass(t,r.keyInfo.subType,!e);if(!u){return}if(t==="tooltip"){if(c){return}c=true}if(n&&n.constructor===u){n.name=r.keyInfo.name;n.mergeOption(a,this);n.optionUpdated(a,false)}else{var o=F({componentIndex:i},r.keyInfo);n=new u(a,this,this,o);F(n,o);if(r.brandNew){n.__requireNewView=true}n.init(a,this,this);n.optionUpdated(null,true)}}if(n){f.push(n.option);l.push(n);h++}else{f.push(void 0);l.push(void 0)}}),this);i[t]=f;n.set(t,l);a.set(t,h);if(t==="series"){yp(this)}}if(!this._seriesIndices){yp(this)}};t.prototype.getOption=function(){var r=O(this.option);V(r,(function(t,i){if(Ed.hasClass(i)){var n=su(t);var a=n.length;var e=false;for(var u=a-1;u>=0;u--){if(n[u]&&!Nu(n[u])){e=true}else{n[u]=null;!e&&a--}}n.length=a;r[i]=n}}));delete r[wp];return r};t.prototype.getTheme=function(){return this._theme};t.prototype.getLocaleModel=function(){return this._locale};t.prototype.setUpdatePayload=function(r){this._payload=r};t.prototype.getUpdatePayload=function(){return this._payload};t.prototype.getComponent=function(r,t){var i=this._componentsMap.get(r);if(i){var n=i[t||0];if(n){return n}else if(t==null){for(var a=0;a<i.length;a++){if(i[a]){return i[a]}}}}};t.prototype.queryComponents=function(r){var t=r.mainType;if(!t){return[]}var i=r.index;var n=r.id;var a=r.name;var e=this._componentsMap.get(t);if(!e||!e.length){return[]}var u;if(i!=null){u=[];V(su(i),(function(r){e[r]&&u.push(e[r])}))}else if(n!=null){u=Np("id",n,e)}else if(a!=null){u=Np("name",a,e)}else{u=X(e,(function(r){return!!r}))}return Ap(u,r)};t.prototype.findComponents=function(r){var t=r.query;var i=r.mainType;var n=e(t);var a=n?this.queryComponents(n):X(this._componentsMap.get(i),(function(r){return!!r}));return u(Ap(a,r));function e(r){var t=i+"Index";var n=i+"Id";var a=i+"Name";return r&&(r[t]!=null||r[n]!=null||r[a]!=null)?{mainType:i,index:r[t],id:r[n],name:r[a]}:null}function u(t){return r.filter?X(t,r.filter):t}};t.prototype.eachComponent=function(r,t,i){var n=this._componentsMap;if(J(r)){var a=t;var e=r;n.each((function(r,t){for(var i=0;r&&i<r.length;i++){var n=r[i];n&&e.call(a,t,n,n.componentIndex)}}))}else{var u=$(r)?n.get(r):tr(r)?this.findComponents(r):null;for(var o=0;u&&o<u.length;o++){var v=u[o];v&&t.call(i,v,v.componentIndex)}}};t.prototype.getSeriesByName=function(r){var t=Su(r,null);return X(this._componentsMap.get("series"),(function(r){return!!r&&t!=null&&r.name===t}))};t.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]};t.prototype.getSeriesByType=function(r){return X(this._componentsMap.get("series"),(function(t){return!!t&&t.subType===r}))};t.prototype.getSeries=function(){return X(this._componentsMap.get("series"),(function(r){return!!r}))};t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")};t.prototype.eachSeries=function(r,t){gp(this);V(this._seriesIndices,(function(i){var n=this._componentsMap.get("series")[i];r.call(t,n,i)}),this)};t.prototype.eachRawSeries=function(r,t){V(this._componentsMap.get("series"),(function(i){i&&r.call(t,i,i.componentIndex)}))};t.prototype.eachSeriesByType=function(r,t,i){gp(this);V(this._seriesIndices,(function(n){var a=this._componentsMap.get("series")[n];if(a.subType===r){t.call(i,a,n)}}),this)};t.prototype.eachRawSeriesByType=function(r,t,i){return V(this.getSeriesByType(r),t,i)};t.prototype.isSeriesFiltered=function(r){gp(this);return this._seriesIndicesMap.get(r.componentIndex)==null};t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()};t.prototype.filterSeries=function(r,t){gp(this);var i=[];V(this._seriesIndices,(function(n){var a=this._componentsMap.get("series")[n];r.call(t,a,n)&&i.push(n)}),this);this._seriesIndices=i;this._seriesIndicesMap=Sr(i)};t.prototype.restoreData=function(r){yp(this);var t=this._componentsMap;var i=[];t.each((function(r,t){if(Ed.hasClass(t)){i.push(t)}}));Ed.topologicalTravel(i,Ed.getAllClassMainTypes(),(function(i){V(t.get(i),(function(t){if(t&&(i!=="series"||!Sp(t,r))){t.restoreData()}}))}))};t.internalField=function(){yp=function(r){var t=r._seriesIndices=[];V(r._componentsMap.get("series"),(function(r){r&&t.push(r.componentIndex)}));r._seriesIndicesMap=Sr(t)};gp=function(r){};bp=function(r,t){r.option={};r.option[wp]=xp;r._componentsMap=Sr({series:[]});r._componentsCount=Sr();var i=t.aria;if(tr(i)&&i.enabled==null){i.enabled=true}kp(t,r._theme.option);D(t,Hd,false);r._mergeOption(t,null)}}();return t}(yc);function Sp(r,t){if(t){var i=t.seriesIndex;var n=t.seriesId;var a=t.seriesName;return i!=null&&r.componentIndex!==i||n!=null&&r.id!==n||a!=null&&r.name!==a}}function kp(r,t){var i=r.color&&!r.colorLayer;V(t,(function(t,n){if(n==="colorLayer"&&i){return}if(!Ed.hasClass(n)){if(typeof t==="object"){r[n]=!r[n]?O(t):D(r[n],t,false)}else{if(r[n]==null){r[n]=t}}}}))}function Np(r,t,i){if(K(t)){var n=Sr();V(t,(function(r){if(r!=null){var t=Su(r,null);t!=null&&n.set(r,true)}}));return X(i,(function(t){return t&&n.get(t[r])}))}else{var a=Su(t,null);return X(i,(function(t){return t&&a!=null&&t[r]===a}))}}function Ap(r,t){return t.hasOwnProperty("subType")?X(r,(function(r){return r&&r.subType===t.subType})):r}function Ip(r){var t=Sr();r&&V(su(r.replaceMerge),(function(r){t.set(r,true)}));return{replaceMergeMainTypeMap:t}}P(Mp,hp);var Cp=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];var Tp=function(){function r(r){V(Cp,(function(t){this[t]=j(r[t],r)}),this)}return r}();var zp={};var Lp=function(){function r(){this._coordinateSystems=[]}r.prototype.create=function(r,t){var i=[];V(zp,(function(n,a){var e=n.create(r,t);i=i.concat(e||[])}));this._coordinateSystems=i};r.prototype.update=function(r,t){V(this._coordinateSystems,(function(i){i.update&&i.update(r,t)}))};r.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()};r.register=function(r,t){zp[r]=t};r.get=function(r){return zp[r]};return r}();var Op=/^(min|max)?(.+)$/;var Dp=function(){function r(r){this._timelineOptions=[];this._mediaList=[];this._currentMediaIndices=[];this._api=r}r.prototype.setOption=function(r,t,i){if(r){V(su(r.series),(function(r){r&&r.data&&nr(r.data)&&yr(r.data)}));V(su(r.dataset),(function(r){r&&r.source&&nr(r.source)&&yr(r.source)}))}r=O(r);var n=this._optionBackup;var a=Rp(r,t,!n);this._newBaseOption=a.baseOption;if(n){if(a.timelineOptions.length){n.timelineOptions=a.timelineOptions}if(a.mediaList.length){n.mediaList=a.mediaList}if(a.mediaDefault){n.mediaDefault=a.mediaDefault}}else{this._optionBackup=a}};r.prototype.mountOption=function(r){var t=this._optionBackup;this._timelineOptions=t.timelineOptions;this._mediaList=t.mediaList;this._mediaDefault=t.mediaDefault;this._currentMediaIndices=[];return O(r?t.baseOption:this._newBaseOption)};r.prototype.getTimelineOption=function(r){var t;var i=this._timelineOptions;if(i.length){var n=r.getComponent("timeline");if(n){t=O(i[n.getCurrentIndex()])}}return t};r.prototype.getMediaOption=function(r){var t=this._api.getWidth();var i=this._api.getHeight();var n=this._mediaList;var a=this._mediaDefault;var e=[];var u=[];if(!n.length&&!a){return u}for(var o=0,v=n.length;o<v;o++){if(Fp(n[o].query,t,i)){e.push(o)}}if(!e.length&&a){e=[-1]}if(e.length&&!_p(e,this._currentMediaIndices)){u=H(e,(function(r){return O(r===-1?a.option:n[r].option)}))}this._currentMediaIndices=e;return u};return r}();function Rp(r,t,i){var n=[];var a;var e;var u=r.baseOption;var o=r.timeline;var v=r.options;var s=r.media;var f=!!r.media;var l=!!(v||o||u&&u.timeline);if(u){e=u;if(!e.timeline){e.timeline=o}}else{if(l||f){r.options=r.media=null}e=r}if(f){if(K(s)){V(s,(function(r){if(r&&r.option){if(r.query){n.push(r)}else if(!a){a=r}}}))}}h(e);V(v,(function(r){return h(r)}));V(n,(function(r){return h(r.option)}));function h(r){V(t,(function(t){t(r,i)}))}return{baseOption:e,timelineOptions:v||[],mediaDefault:a,mediaList:n}}function Fp(r,t,i){var n={width:t,height:i,aspectratio:t/i};var a=true;V(r,(function(r,t){var i=t.match(Op);if(!i||!i[1]||!i[2]){return}var e=i[1];var u=i[2].toLowerCase();if(!Bp(n[u],r,e)){a=false}}));return a}function Bp(r,t,i){if(i==="min"){return r>=t}else if(i==="max"){return r<=t}else{return r===t}}function _p(r,t){return r.join(",")===t.join(",")}var Ep=V;var Pp=tr;var Wp=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Vp(r){var t=r&&r.itemStyle;if(!t){return}for(var i=0,n=Wp.length;i<n;i++){var a=Wp[i];var e=t.normal;var u=t.emphasis;if(e&&e[a]){r[a]=r[a]||{};if(!r[a].normal){r[a].normal=e[a]}else{D(r[a].normal,e[a])}e[a]=null}if(u&&u[a]){r[a]=r[a]||{};if(!r[a].emphasis){r[a].emphasis=u[a]}else{D(r[a].emphasis,u[a])}u[a]=null}}}function Hp(r,t,i){if(r&&r[t]&&(r[t].normal||r[t].emphasis)){var n=r[t].normal;var a=r[t].emphasis;if(n){if(i){r[t].normal=r[t].emphasis=null;B(r[t],n)}else{r[t]=n}}if(a){r.emphasis=r.emphasis||{};r.emphasis[t]=a;if(a.focus){r.emphasis.focus=a.focus}if(a.blurScope){r.emphasis.blurScope=a.blurScope}}}}function Yp(r){Hp(r,"itemStyle");Hp(r,"lineStyle");Hp(r,"areaStyle");Hp(r,"label");Hp(r,"labelLine");Hp(r,"upperLabel");Hp(r,"edgeLabel")}function Xp(r,t){var i=Pp(r)&&r[t];var n=Pp(i)&&i.textStyle;if(n){for(var a=0,e=lu.length;a<e;a++){var u=lu[a];if(n.hasOwnProperty(u)){i[u]=n[u]}}}}function Gp(r){if(r){Yp(r);Xp(r,"label");r.emphasis&&Xp(r.emphasis,"label")}}function Up(r){if(!Pp(r)){return}Vp(r);Yp(r);Xp(r,"label");Xp(r,"upperLabel");Xp(r,"edgeLabel");if(r.emphasis){Xp(r.emphasis,"label");Xp(r.emphasis,"upperLabel");Xp(r.emphasis,"edgeLabel")}var t=r.markPoint;if(t){Vp(t);Gp(t)}var i=r.markLine;if(i){Vp(i);Gp(i)}var n=r.markArea;if(n){Gp(n)}var a=r.data;if(r.type==="graph"){a=a||r.nodes;var e=r.links||r.edges;if(e&&!nr(e)){for(var u=0;u<e.length;u++){Gp(e[u])}}V(r.categories,(function(r){Yp(r)}))}if(a&&!nr(a)){for(var u=0;u<a.length;u++){Gp(a[u])}}t=r.markPoint;if(t&&t.data){var o=t.data;for(var u=0;u<o.length;u++){Gp(o[u])}}i=r.markLine;if(i&&i.data){var v=i.data;for(var u=0;u<v.length;u++){if(K(v[u])){Gp(v[u][0]);Gp(v[u][1])}else{Gp(v[u])}}}if(r.type==="gauge"){Xp(r,"axisLabel");Xp(r,"title");Xp(r,"detail")}else if(r.type==="treemap"){Hp(r.breadcrumb,"itemStyle");V(r.levels,(function(r){Yp(r)}))}else if(r.type==="tree"){Yp(r.leaves)}}function Zp(r){return K(r)?r:r?[r]:[]}function jp(r){return(K(r)?r[0]:r)||{}}function qp(r,t){Ep(Zp(r.series),(function(r){Pp(r)&&Up(r)}));var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&i.push("valueAxis","categoryAxis","logAxis","timeAxis");Ep(i,(function(t){Ep(Zp(r[t]),(function(r){if(r){Xp(r,"axisLabel");Xp(r.axisPointer,"label")}}))}));Ep(Zp(r.parallel),(function(r){var t=r&&r.parallelAxisDefault;Xp(t,"axisLabel");Xp(t&&t.axisPointer,"label")}));Ep(Zp(r.calendar),(function(r){Hp(r,"itemStyle");Xp(r,"dayLabel");Xp(r,"monthLabel");Xp(r,"yearLabel")}));Ep(Zp(r.radar),(function(r){Xp(r,"name");if(r.name&&r.axisName==null){r.axisName=r.name;delete r.name}if(r.nameGap!=null&&r.axisNameGap==null){r.axisNameGap=r.nameGap;delete r.nameGap}}));Ep(Zp(r.geo),(function(r){if(Pp(r)){Gp(r);Ep(Zp(r.regions),(function(r){Gp(r)}))}}));Ep(Zp(r.timeline),(function(r){Gp(r);Hp(r,"label");Hp(r,"itemStyle");Hp(r,"controlStyle",true);var t=r.data;K(t)&&V(t,(function(r){if(tr(r)){Hp(r,"label");Hp(r,"itemStyle")}}))}));Ep(Zp(r.toolbox),(function(r){Hp(r,"iconStyle");Ep(r.feature,(function(r){Hp(r,"iconStyle")}))}));Xp(jp(r.axisPointer),"label");Xp(jp(r.tooltip).axisPointer,"label")}function Kp(r,t){var i=t.split(",");var n=r;for(var a=0;a<i.length;a++){n=n&&n[i[a]];if(n==null){break}}return n}function Jp(r,t,i,n){var a=t.split(",");var e=r;var u;var o=0;for(;o<a.length-1;o++){u=a[o];if(e[u]==null){e[u]={}}e=e[u]}if(n||e[a[o]]==null){e[a[o]]=i}}function $p(r){r&&V(Qp,(function(t){if(t[0]in r&&!(t[1]in r)){r[t[1]]=r[t[0]]}}))}var Qp=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]];var rm=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];var tm=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function im(r){var t=r&&r.itemStyle;if(t){for(var i=0;i<tm.length;i++){var n=tm[i][1];var a=tm[i][0];if(t[n]!=null){t[a]=t[n]}}}}function nm(r){if(!r){return}if(r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null){r.edgeDistance=r.margin}}function am(r){if(!r){return}if(r.downplay&&!r.blur){r.blur=r.downplay}}function em(r){if(!r){return}if(r.focusNodeAdjacency!=null){r.emphasis=r.emphasis||{};if(r.emphasis.focus==null){r.emphasis.focus="adjacency"}}}function um(r,t){if(r){for(var i=0;i<r.length;i++){t(r[i]);r[i]&&um(r[i].children,t)}}}function om(r,t){qp(r,t);r.series=su(r.series);V(r.series,(function(r){if(!tr(r)){return}var t=r.type;if(t==="line"){if(r.clipOverflow!=null){r.clip=r.clipOverflow}}else if(t==="pie"||t==="gauge"){if(r.clockWise!=null){r.clockwise=r.clockWise}nm(r.label);var i=r.data;if(i&&!nr(i)){for(var n=0;n<i.length;n++){nm(i[n])}}if(r.hoverOffset!=null){r.emphasis=r.emphasis||{};if(r.emphasis.scaleSize=null){r.emphasis.scaleSize=r.hoverOffset}}}else if(t==="gauge"){var a=Kp(r,"pointer.color");a!=null&&Jp(r,"itemStyle.color",a)}else if(t==="bar"){im(r);im(r.backgroundStyle);im(r.emphasis);var i=r.data;if(i&&!nr(i)){for(var n=0;n<i.length;n++){if(typeof i[n]==="object"){im(i[n]);im(i[n]&&i[n].emphasis)}}}}else if(t==="sunburst"){var e=r.highlightPolicy;if(e){r.emphasis=r.emphasis||{};if(!r.emphasis.focus){r.emphasis.focus=e}}am(r);um(r.data,am)}else if(t==="graph"||t==="sankey"){em(r)}else if(t==="map"){if(r.mapType&&!r.map){r.map=r.mapType}if(r.mapLocation){B(r,r.mapLocation)}}if(r.hoverAnimation!=null){r.emphasis=r.emphasis||{};if(r.emphasis&&r.emphasis.scale==null){r.emphasis.scale=r.hoverAnimation}}$p(r)}));if(r.dataRange){r.visualMap=r.dataRange}V(rm,(function(t){var i=r[t];if(i){if(!K(i)){i=[i]}V(i,(function(r){$p(r)}))}}))}function vm(r){var t=Sr();r.eachSeries((function(r){var i=r.get("stack");if(i){var n=t.get(i)||t.set(i,[]);var a=r.getData();var e={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:r};if(!e.stackedDimension||!(e.isStackedByIndex||e.stackedByDimension)){return}n.length&&a.setCalculationInfo("stackedOnSeries",n[n.length-1].seriesModel);n.push(e)}}));t.each(sm)}function sm(r){V(r,(function(t,i){var n=[];var a=[NaN,NaN];var e=[t.stackResultDimension,t.stackedOverDimension];var u=t.data;var o=t.isStackedByIndex;var v=t.seriesModel.get("stackStrategy")||"samesign";u.modify(e,(function(e,s,f){var l=u.get(t.stackedDimension,f);if(isNaN(l)){return a}var h;var c;if(o){c=u.getRawIndex(f)}else{h=u.get(t.stackedByDimension,f)}var d=NaN;for(var p=i-1;p>=0;p--){var m=r[p];if(!o){c=m.data.rawIndexOf(m.stackedByDimension,h)}if(c>=0){var y=m.data.getByRawIndex(m.stackResultDimension,c);if(v==="all"||v==="positive"&&y>0||v==="negative"&&y<0||v==="samesign"&&l>=0&&y>0||v==="samesign"&&l<=0&&y<0){l=Ee(l,y);d=y;break}}}n[0]=l;n[1]=d;return n}))}))}var fm=function(){function r(r){this.data=r.data||(r.sourceFormat===Zd?{}:[]);this.sourceFormat=r.sourceFormat||qd;this.seriesLayoutBy=r.seriesLayoutBy||Kd;this.startIndex=r.startIndex||0;this.dimensionsDetectedCount=r.dimensionsDetectedCount;this.metaRawOption=r.metaRawOption;var t=this.dimensionsDefine=r.dimensionsDefine;if(t){for(var i=0;i<t.length;i++){var n=t[i];if(n.type==null){if(ep(this,i)===$d.Must){n.type="ordinal"}}}}}return r}();function lm(r){return r instanceof fm}function hm(r,t,i){i=i||pm(r);var n=t.seriesLayoutBy;var a=mm(r,i,n,t.sourceHeader,t.dimensions);var e=new fm({data:r,sourceFormat:i,seriesLayoutBy:n,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:O(t)});return e}function cm(r){return new fm({data:r,sourceFormat:nr(r)?jd:Xd})}function dm(r){return new fm({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:O(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function pm(r){var t=qd;if(nr(r)){t=jd}else if(K(r)){if(r.length===0){t=Gd}for(var i=0,n=r.length;i<n;i++){var a=r[i];if(a==null){continue}else if(K(a)){t=Gd;break}else if(tr(a)){t=Ud;break}}}else if(tr(r)){for(var e in r){if(Ir(r,e)&&W(r[e])){t=Zd;break}}}return t}function mm(r,t,i,n,a){var e;var u;if(!r){return{dimensionsDefine:gm(a),startIndex:u,dimensionsDetectedCount:e}}if(t===Gd){var o=r;if(n==="auto"||n==null){bm((function(r){if(r!=null&&r!=="-"){if($(r)){u==null&&(u=1)}else{u=0}}}),i,o,10)}else{u=rr(n)?n:n?1:0}if(!a&&u===1){a=[];bm((function(r,t){a[t]=r!=null?r+"":""}),i,o,Infinity)}e=a?a.length:i===Jd?o.length:o[0]?o[0].length:null}else if(t===Ud){if(!a){a=ym(r)}}else if(t===Zd){if(!a){a=[];V(r,(function(r,t){a.push(t)}))}}else if(t===Xd){var v=hu(r[0]);e=K(v)&&v.length||1}else;return{startIndex:u,dimensionsDefine:gm(a),dimensionsDetectedCount:e}}function ym(r){var t=0;var i;while(t<r.length&&!(i=r[t++])){}if(i){return U(i)}}function gm(r){if(!r){return}var t=Sr();return H(r,(function(r,i){r=tr(r)?r:{name:r};var n={name:r.name,displayName:r.displayName,type:r.type};if(n.name==null){return n}n.name+="";if(n.displayName==null){n.displayName=n.name}var a=t.get(n.name);if(!a){t.set(n.name,{count:1})}else{n.name+="-"+a.count++}return n}))}function bm(r,t,i,n){if(t===Jd){for(var a=0;a<i.length&&a<n;a++){r(i[a]?i[a][0]:null,a)}}else{var e=i[0]||[];for(var a=0;a<e.length&&a<n;a++){r(e[a],a)}}}function wm(r){var t=r.sourceFormat;return t===Ud||t===Zd}var xm,Mm,Sm;var km;var Nm;var Am=function(){function r(r,t){var i=!lm(r)?cm(r):r;this._source=i;var n=this._data=i.data;if(i.sourceFormat===jd){this._offset=0;this._dimSize=t;this._data=n}Nm(this,n,i)}r.prototype.getSource=function(){return this._source};r.prototype.count=function(){return 0};r.prototype.getItem=function(r,t){return};r.prototype.appendData=function(r){};r.prototype.clean=function(){};r.protoInitialize=function(){var t=r.prototype;t.pure=false;t.persistent=true}();r.internalField=function(){var r;Nm=function(r,a,e){var u=e.sourceFormat;var o=e.seriesLayoutBy;var v=e.startIndex;var s=e.dimensionsDefine;var f=km[Bm(u,o)];F(r,f);if(u===jd){r.getItem=t;r.count=n;r.fillStorage=i}else{var l=Tm(u,o);r.getItem=j(l,null,a,v,s);var h=Om(u,o);r.count=j(h,null,a,v,s)}};var t=function(r,t){r=r-this._offset;t=t||[];var i=this._data;var n=this._dimSize;var a=n*r;for(var e=0;e<n;e++){t[e]=i[a+e]}return t};var i=function(r,t,i,n){var a=this._data;var e=this._dimSize;for(var u=0;u<e;u++){var o=n[u];var v=o[0]==null?Infinity:o[0];var s=o[1]==null?-Infinity:o[1];var f=t-r;var l=i[u];for(var h=0;h<f;h++){var c=a[h*e+u];l[r+h]=c;c<v&&(v=c);c>s&&(s=c)}o[0]=v;o[1]=s}};var n=function(){return this._data?this._data.length/this._dimSize:0};km=(r={},r[Gd+"_"+Kd]={pure:true,appendData:a},r[Gd+"_"+Jd]={pure:true,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},r[Ud]={pure:true,appendData:a},r[Zd]={pure:true,appendData:function(r){var t=this._data;V(r,(function(r,i){var n=t[i]||(t[i]=[]);for(var a=0;a<(r||[]).length;a++){n.push(r[a])}}))}},r[Xd]={appendData:a},r[jd]={persistent:false,pure:true,appendData:function(r){this._data=r},clean:function(){this._offset+=this.count();this._data=null}},r);function a(r){for(var t=0;t<r.length;t++){this._data.push(r[t])}}}();return r}();var Im=function(r,t,i,n){return r[n]};var Cm=(xm={},xm[Gd+"_"+Kd]=function(r,t,i,n){return r[n+t]},xm[Gd+"_"+Jd]=function(r,t,i,n,a){n+=t;var e=a||[];var u=r;for(var o=0;o<u.length;o++){var v=u[o];e[o]=v?v[n]:null}return e},xm[Ud]=Im,xm[Zd]=function(r,t,i,n,a){var e=a||[];for(var u=0;u<i.length;u++){var o=i[u].name;var v=r[o];e[u]=v?v[n]:null}return e},xm[Xd]=Im,xm);function Tm(r,t){var i=Cm[Bm(r,t)];return i}var zm=function(r,t,i){return r.length};var Lm=(Mm={},Mm[Gd+"_"+Kd]=function(r,t,i){return Math.max(0,r.length-t)},Mm[Gd+"_"+Jd]=function(r,t,i){var n=r[0];return n?Math.max(0,n.length-t):0},Mm[Ud]=zm,Mm[Zd]=function(r,t,i){var n=i[0].name;var a=r[n];return a?a.length:0},Mm[Xd]=zm,Mm);function Om(r,t){var i=Lm[Bm(r,t)];return i}var Dm=function(r,t,i){return r[t]};var Rm=(Sm={},Sm[Gd]=Dm,Sm[Ud]=function(r,t,i){return r[i]},Sm[Zd]=Dm,Sm[Xd]=function(r,t,i){var n=hu(r);return!(n instanceof Array)?n:n[t]},Sm[jd]=Dm,Sm);function Fm(r){var t=Rm[r];return t}function Bm(r,t){return r===Gd?r+"_"+t:r}function _m(r,t,i){if(!r){return}var n=r.getRawDataItem(t);if(n==null){return}var a=r.getStore();var e=a.getSource().sourceFormat;if(i!=null){var u=r.getDimensionIndex(i);var o=a.getDimensionProperty(u);return Fm(e)(n,u,o)}else{var v=n;if(e===Xd){v=hu(n)}return v}}var Em=/\{@(.+?)\}/g;var Pm=function(){function r(){}r.prototype.getDataParams=function(r,t){var i=this.getData(t);var n=this.getRawValue(r,t);var a=i.getRawIndex(r);var e=i.getName(r);var u=i.getRawDataItem(r);var o=i.getItemVisual(r,"style");var v=o&&o[i.getItemVisual(r,"drawType")||"fill"];var s=o&&o.stroke;var f=this.mainType;var l=f==="series";var h=i.userOutput&&i.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:l?this.subType:null,seriesIndex:this.seriesIndex,seriesId:l?this.id:null,seriesName:l?this.name:null,name:e,dataIndex:a,data:u,dataType:t,value:n,color:v,borderColor:s,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}};r.prototype.getFormattedLabel=function(r,t,i,n,a,e){t=t||"normal";var u=this.getData(i);var o=this.getDataParams(r,i);if(e){o.value=e.interpolatedValue}if(n!=null&&K(o.value)){o.value=o.value[n]}if(!a){var v=u.getItemModel(r);a=v.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(J(a)){o.status=t;o.dimensionIndex=n;return a(o)}else if($(a)){var s=bd(a,o);return s.replace(Em,(function(t,i){var n=i.length;var a=i;if(a.charAt(0)==="["&&a.charAt(n-1)==="]"){a=+a.slice(1,n-1)}var o=_m(u,r,a);if(e&&K(e.interpolatedValue)){var v=u.getDimensionIndex(a);if(v>=0){o=e.interpolatedValue[v]}}return o!=null?o+"":""}))}};r.prototype.getRawValue=function(r,t){return _m(this.getData(t),r)};r.prototype.formatTooltip=function(r,t,i){return};return r}();function Wm(r){var t;var i;if(tr(r)){if(r.type){i=r}}else{t=r}return{text:t,frag:i}}function Vm(r){return new Hm(r)}var Hm=function(){function r(r){r=r||{};this._reset=r.reset;this._plan=r.plan;this._count=r.count;this._onDirty=r.onDirty;this._dirty=true}r.prototype.perform=function(r){var t=this._upstream;var i=r&&r.skip;if(this._dirty&&t){var n=this.context;n.data=n.outputData=t.context.outputData}if(this.__pipeline){this.__pipeline.currentTask=this}var a;if(this._plan&&!i){a=this._plan(this.context)}var e=s(this._modBy);var u=this._modDataCount||0;var o=s(r&&r.modBy);var v=r&&r.modDataCount||0;if(e!==o||u!==v){a="reset"}function s(r){!(r>=1)&&(r=1);return r}var f;if(this._dirty||a==="reset"){this._dirty=false;f=this._doReset(i)}this._modBy=o;this._modDataCount=v;var l=r&&r.step;if(t){this._dueEnd=t._outputDueEnd}else{this._dueEnd=this._count?this._count(this.context):Infinity}if(this._progress){var h=this._dueIndex;var c=Math.min(l!=null?this._dueIndex+l:Infinity,this._dueEnd);if(!i&&(f||h<c)){var d=this._progress;if(K(d)){for(var p=0;p<d.length;p++){this._doProgress(d[p],h,c,o,v)}}else{this._doProgress(d,h,c,o,v)}}this._dueIndex=c;var m=this._settedOutputEnd!=null?this._settedOutputEnd:c;this._outputDueEnd=m}else{this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd}return this.unfinished()};r.prototype.dirty=function(){this._dirty=true;this._onDirty&&this._onDirty(this.context)};r.prototype._doProgress=function(r,t,i,n,a){Ym.reset(t,i,n,a);this._callingProgress=r;this._callingProgress({start:t,end:i,count:i-t,next:Ym.next},this.context)};r.prototype._doReset=function(r){this._dueIndex=this._outputDueEnd=this._dueEnd=0;this._settedOutputEnd=null;var t;var i;if(!r&&this._reset){t=this._reset(this.context);if(t&&t.progress){i=t.forceFirstProgress;t=t.progress}if(K(t)&&!t.length){t=null}}this._progress=t;this._modBy=this._modDataCount=null;var n=this._downstream;n&&n.dirty();return i};r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};r.prototype.pipe=function(r){if(this._downstream!==r||this._dirty){this._downstream=r;r._upstream=this;r.dirty()}};r.prototype.dispose=function(){if(this._disposed){return}this._upstream&&(this._upstream._downstream=null);this._downstream&&(this._downstream._upstream=null);this._dirty=false;this._disposed=true};r.prototype.getUpstream=function(){return this._upstream};r.prototype.getDownstream=function(){return this._downstream};r.prototype.setOutputEnd=function(r){this._outputDueEnd=this._settedOutputEnd=r};return r}();var Ym=function(){var r;var t;var i;var n;var a;var e={reset:function(v,s,f,l){t=v;r=s;i=f;n=l;a=Math.ceil(n/i);e.next=i>1&&n>0?o:u}};return e;function u(){return t<r?t++:null}function o(){var e=t%a*i+Math.ceil(t/a);var u=t>=r?null:e<n?e:t;t++;return u}}();function Xm(r,t){var i=t&&t.type;if(i==="ordinal"){return r}if(i==="time"&&!rr(r)&&r!=null&&r!=="-"){r=+Ye(r)}return r==null||r===""?NaN:+r}var Gm=Sr({number:function(r){return parseFloat(r)},time:function(r){return+Ye(r)},trim:function(r){return $(r)?pr(r):r}});function Um(r){return Gm.get(r)}var Zm={lt:function(r,t){return r<t},lte:function(r,t){return r<=t},gt:function(r,t){return r>t},gte:function(r,t){return r>=t}};var jm=function(){function r(r,t){if(!rr(t)){var i="";eu(i)}this._opFn=Zm[r];this._rvalFloat=qe(t)}r.prototype.evaluate=function(r){return rr(r)?this._opFn(r,this._rvalFloat):this._opFn(qe(r),this._rvalFloat)};return r}();var qm=function(){function r(r,t){var i=r==="desc";this._resultLT=i?1:-1;if(t==null){t=i?"min":"max"}this._incomparable=t==="min"?-Infinity:Infinity}r.prototype.evaluate=function(r,t){var i=rr(r)?r:qe(r);var n=rr(t)?t:qe(t);var a=isNaN(i);var e=isNaN(n);if(a){i=this._incomparable}if(e){n=this._incomparable}if(a&&e){var u=$(r);var o=$(t);if(u){i=o?r:0}if(o){n=u?t:0}}return i<n?this._resultLT:i>n?-this._resultLT:0};return r}();var Km=function(){function r(r,t){this._rval=t;this._isEQ=r;this._rvalTypeof=typeof t;this._rvalFloat=qe(t)}r.prototype.evaluate=function(r){var t=r===this._rval;if(!t){var i=typeof r;if(i!==this._rvalTypeof&&(i==="number"||this._rvalTypeof==="number")){t=qe(r)===this._rvalFloat}}return this._isEQ?t:!t};return r}();function Jm(r,t){return r==="eq"||r==="ne"?new Km(r==="eq",t):Ir(Zm,r)?new jm(r,t):null}var $m=function(){function r(){}r.prototype.getRawData=function(){throw new Error("not supported")};r.prototype.getRawDataItem=function(r){throw new Error("not supported")};r.prototype.cloneRawData=function(){return};r.prototype.getDimensionInfo=function(r){return};r.prototype.cloneAllDimensionInfo=function(){return};r.prototype.count=function(){return};r.prototype.retrieveValue=function(r,t){return};r.prototype.retrieveValueFromItem=function(r,t){return};r.prototype.convertValue=function(r,t){return Xm(r,t)};return r}();function Qm(r,t){var i=new $m;var n=r.data;var a=i.sourceFormat=r.sourceFormat;var e=r.startIndex;var u="";if(r.seriesLayoutBy!==Kd){eu(u)}var o=[];var v={};var s=r.dimensionsDefine;if(s){V(s,(function(r,t){var i=r.name;var n={index:t,name:i,displayName:r.displayName};o.push(n);if(i!=null){var a="";if(Ir(v,i)){eu(a)}v[i]=n}}))}else{for(var f=0;f<r.dimensionsDetectedCount||0;f++){o.push({index:f})}}var l=Tm(a,Kd);if(t.__isBuiltIn){i.getRawDataItem=function(r){return l(n,e,o,r)};i.getRawData=j(ry,null,r)}i.cloneRawData=j(ty,null,r);var h=Om(a,Kd);i.count=j(h,null,n,e,o);var c=Fm(a);i.retrieveValue=function(r,t){var i=l(n,e,o,r);return d(i,t)};var d=i.retrieveValueFromItem=function(r,t){if(r==null){return}var i=o[t];if(i){return c(r,t,i.name)}};i.getDimensionInfo=j(iy,null,o,v);i.cloneAllDimensionInfo=j(ny,null,o);return i}function ry(r){var t=r.sourceFormat;if(!vy(t)){var i="";eu(i)}return r.data}function ty(r){var t=r.sourceFormat;var i=r.data;if(!vy(t)){var n="";eu(n)}if(t===Gd){var a=[];for(var e=0,u=i.length;e<u;e++){a.push(i[e].slice())}return a}else if(t===Ud){var a=[];for(var e=0,u=i.length;e<u;e++){a.push(F({},i[e]))}return a}}function iy(r,t,i){if(i==null){return}if(rr(i)||!isNaN(i)&&!Ir(t,i)){return r[i]}else if(Ir(t,i)){return t[i]}}function ny(r){return O(r)}var ay=Sr();function ey(r){r=O(r);var t=r.type;var i="";if(!t){eu(i)}var n=t.split(":");if(n.length!==2){eu(i)}var a=false;if(n[0]==="echarts"){t=n[1];a=true}r.__isBuiltIn=a;ay.set(t,r)}function uy(r,t,i){var n=su(r);var a=n.length;var e="";if(!a){eu(e)}for(var u=0,o=a;u<o;u++){var v=n[u];t=oy(v,t);if(u!==o-1){t.length=Math.max(t.length,1)}}return t}function oy(r,t,i,n){var a="";if(!t.length){eu(a)}if(!tr(r)){eu(a)}var e=r.type;var u=ay.get(e);if(!u){eu(a)}var o=H(t,(function(r){return Qm(r,u)}));var v=su(u.transform({upstream:o[0],upstreamList:o,config:O(r.config)}));return H(v,(function(r,i){var n="";if(!tr(r)){eu(n)}if(!r.data){eu(n)}var a=pm(r.data);if(!vy(a)){eu(n)}var e;var u=t[0];if(u&&i===0&&!r.dimensions){var o=u.startIndex;if(o){r.data=u.data.slice(0,o).concat(r.data)}e={seriesLayoutBy:Kd,sourceHeader:o,dimensions:u.metaRawOption.dimensions}}else{e={seriesLayoutBy:Kd,sourceHeader:0,dimensions:r.dimensions}}return hm(r.data,e,null)}))}function vy(r){return r===Gd||r===Ud}var sy="undefined";var fy=typeof Uint32Array===sy?Array:Uint32Array;var ly=typeof Uint16Array===sy?Array:Uint16Array;var hy=typeof Int32Array===sy?Array:Int32Array;var cy=typeof Float64Array===sy?Array:Float64Array;var dy={float:cy,int:hy,ordinal:Array,number:Array,time:cy};var py;function my(r){return r>65535?fy:ly}function yy(){return[Infinity,-Infinity]}function gy(r){var t=r.constructor;return t===Array?r.slice():new t(r)}function by(r,t,i,n,a){var e=dy[i||"float"];if(a){var u=r[t];var o=u&&u.length;if(!(o===n)){var v=new e(n);for(var s=0;s<o;s++){v[s]=u[s]}r[t]=v}}else{r[t]=new e(n)}}var wy=function(){function r(){this._chunks=[];this._rawExtent=[];this._extent=[];this._count=0;this._rawCount=0;this._calcDimNameToIdx=Sr()}r.prototype.initData=function(r,t,i){this._provider=r;this._chunks=[];this._indices=null;this.getRawIndex=this._getRawIdxIdentity;var n=r.getSource();var a=this.defaultDimValueGetter=py[n.sourceFormat];this._dimValueGetter=i||a;this._rawExtent=[];this._dimensions=H(t,(function(r){return{type:r.type,property:r.property}}));this._initDataFromProvider(0,r.count())};r.prototype.getProvider=function(){return this._provider};r.prototype.getSource=function(){return this._provider.getSource()};r.prototype.ensureCalculationDimension=function(r,t){var i=this._calcDimNameToIdx;var n=this._dimensions;var a=i.get(r);if(a!=null){if(n[a].type===t){return a}}else{a=n.length}n[a]={type:t};i.set(r,a);this._chunks[a]=new dy[t||"float"](this._rawCount);this._rawExtent[a]=yy();return a};r.prototype.collectOrdinalMeta=function(r,t){var i=this._chunks[r];var n=this._dimensions[r];var a=this._rawExtent;var e=n.ordinalOffset||0;var u=i.length;if(e===0){a[r]=yy()}var o=a[r];for(var v=e;v<u;v++){var s=i[v]=t.parseAndCollect(i[v]);if(!isNaN(s)){o[0]=Math.min(s,o[0]);o[1]=Math.max(s,o[1])}}n.ordinalMeta=t;n.ordinalOffset=u;n.type="ordinal"};r.prototype.getOrdinalMeta=function(r){var t=this._dimensions[r];var i=t.ordinalMeta;return i};r.prototype.getDimensionProperty=function(r){var t=this._dimensions[r];return t&&t.property};r.prototype.appendData=function(r){var t=this._provider;var i=this.count();t.appendData(r);var n=t.count();if(!t.persistent){n+=i}if(i<n){this._initDataFromProvider(i,n,true)}return[i,n]};r.prototype.appendValues=function(r,t){var i=this._chunks;var n=this._dimensions;var a=n.length;var e=this._rawExtent;var u=this.count();var o=u+Math.max(r.length,t||0);for(var v=0;v<a;v++){var s=n[v];by(i,v,s.type,o,true)}var f=[];for(var l=u;l<o;l++){var h=l-u;for(var c=0;c<a;c++){var s=n[c];var d=py.arrayRows.call(this,r[h]||f,s.property,h,c);i[c][l]=d;var p=e[c];d<p[0]&&(p[0]=d);d>p[1]&&(p[1]=d)}}this._rawCount=this._count=o;return{start:u,end:o}};r.prototype._initDataFromProvider=function(r,t,i){var n=this._provider;var a=this._chunks;var e=this._dimensions;var u=e.length;var o=this._rawExtent;var v=H(e,(function(r){return r.property}));for(var s=0;s<u;s++){var f=e[s];if(!o[s]){o[s]=yy()}by(a,s,f.type,t,i)}if(n.fillStorage){n.fillStorage(r,t,a,o)}else{var l=[];for(var h=r;h<t;h++){l=n.getItem(h,l);for(var c=0;c<u;c++){var d=a[c];var p=this._dimValueGetter(l,v[c],h,c);d[h]=p;var m=o[c];p<m[0]&&(m[0]=p);p>m[1]&&(m[1]=p)}}}if(!n.persistent&&n.clean){n.clean()}this._rawCount=this._count=t;this._extent=[]};r.prototype.count=function(){return this._count};r.prototype.get=function(r,t){if(!(t>=0&&t<this._count)){return NaN}var i=this._chunks[r];return i?i[this.getRawIndex(t)]:NaN};r.prototype.getValues=function(r,t){var i=[];var n=[];if(t==null){t=r;r=[];for(var a=0;a<this._dimensions.length;a++){n.push(a)}}else{n=r}for(var a=0,e=n.length;a<e;a++){i.push(this.get(n[a],t))}return i};r.prototype.getByRawIndex=function(r,t){if(!(t>=0&&t<this._rawCount)){return NaN}var i=this._chunks[r];return i?i[t]:NaN};r.prototype.getSum=function(r){var t=this._chunks[r];var i=0;if(t){for(var n=0,a=this.count();n<a;n++){var e=this.get(r,n);if(!isNaN(e)){i+=e}}}return i};r.prototype.getMedian=function(r){var t=[];this.each([r],(function(r){if(!isNaN(r)){t.push(r)}}));var i=t.sort((function(r,t){return r-t}));var n=this.count();return n===0?0:n%2===1?i[(n-1)/2]:(i[n/2]+i[n/2-1])/2};r.prototype.indexOfRawIndex=function(r){if(r>=this._rawCount||r<0){return-1}if(!this._indices){return r}var t=this._indices;var i=t[r];if(i!=null&&i<this._count&&i===r){return r}var n=0;var a=this._count-1;while(n<=a){var e=(n+a)/2|0;if(t[e]<r){n=e+1}else if(t[e]>r){a=e-1}else{return e}}return-1};r.prototype.indicesOfNearest=function(r,t,i){var n=this._chunks;var a=n[r];var e=[];if(!a){return e}if(i==null){i=Infinity}var u=Infinity;var o=-1;var v=0;for(var s=0,f=this.count();s<f;s++){var l=this.getRawIndex(s);var h=t-a[l];var c=Math.abs(h);if(c<=i){if(c<u||c===u&&h>=0&&o<0){u=c;o=h;v=0}if(h===o){e[v++]=s}}}e.length=v;return e};r.prototype.getIndices=function(){var r;var t=this._indices;if(t){var i=t.constructor;var n=this._count;if(i===Array){r=new i(n);for(var a=0;a<n;a++){r[a]=t[a]}}else{r=new i(t.buffer,0,n)}}else{var i=my(this._rawCount);r=new i(this.count());for(var a=0;a<r.length;a++){r[a]=a}}return r};r.prototype.filter=function(r,t){if(!this._count){return this}var i=this.clone();var n=i.count();var a=my(i._rawCount);var e=new a(n);var u=[];var o=r.length;var v=0;var s=r[0];var f=i._chunks;for(var l=0;l<n;l++){var h=void 0;var c=i.getRawIndex(l);if(o===0){h=t(l)}else if(o===1){var d=f[s][c];h=t(d,l)}else{var p=0;for(;p<o;p++){u[p]=f[r[p]][c]}u[p]=l;h=t.apply(null,u)}if(h){e[v++]=c}}if(v<n){i._indices=e}i._count=v;i._extent=[];i._updateGetRawIdx();return i};r.prototype.selectRange=function(r){var t=this.clone();var i=t._count;if(!i){return this}var n=U(r);var a=n.length;if(!a){return this}var e=t.count();var u=my(t._rawCount);var o=new u(e);var v=0;var s=n[0];var f=r[s][0];var l=r[s][1];var h=t._chunks;var c=false;if(!t._indices){var d=0;if(a===1){var p=h[n[0]];for(var m=0;m<i;m++){var y=p[m];if(y>=f&&y<=l||isNaN(y)){o[v++]=d}d++}c=true}else if(a===2){var p=h[n[0]];var g=h[n[1]];var b=r[n[1]][0];var w=r[n[1]][1];for(var m=0;m<i;m++){var y=p[m];var x=g[m];if((y>=f&&y<=l||isNaN(y))&&(x>=b&&x<=w||isNaN(x))){o[v++]=d}d++}c=true}}if(!c){if(a===1){for(var m=0;m<e;m++){var M=t.getRawIndex(m);var y=h[n[0]][M];if(y>=f&&y<=l||isNaN(y)){o[v++]=M}}}else{for(var m=0;m<e;m++){var S=true;var M=t.getRawIndex(m);for(var k=0;k<a;k++){var N=n[k];var y=h[N][M];if(y<r[N][0]||y>r[N][1]){S=false}}if(S){o[v++]=t.getRawIndex(m)}}}}if(v<e){t._indices=o}t._count=v;t._extent=[];t._updateGetRawIdx();return t};r.prototype.map=function(r,t){var i=this.clone(r);this._updateDims(i,r,t);return i};r.prototype.modify=function(r,t){this._updateDims(this,r,t)};r.prototype._updateDims=function(r,t,i){var n=r._chunks;var a=[];var e=t.length;var u=r.count();var o=[];var v=r._rawExtent;for(var s=0;s<t.length;s++){v[t[s]]=yy()}for(var f=0;f<u;f++){var l=r.getRawIndex(f);for(var h=0;h<e;h++){o[h]=n[t[h]][l]}o[e]=f;var c=i&&i.apply(null,o);if(c!=null){if(typeof c!=="object"){a[0]=c;c=a}for(var s=0;s<c.length;s++){var d=t[s];var p=c[s];var m=v[d];var y=n[d];if(y){y[l]=p}if(p<m[0]){m[0]=p}if(p>m[1]){m[1]=p}}}}};r.prototype.lttbDownSample=function(r,t){var i=this.clone([r],true);var n=i._chunks;var a=n[r];var e=this.count();var u=0;var o=Math.floor(1/t);var v=this.getRawIndex(0);var s;var f;var l;var h=new(my(this._rawCount))(Math.min((Math.ceil(e/o)+2)*2,e));h[u++]=v;for(var c=1;c<e-1;c+=o){var d=Math.min(c+o,e-1);var p=Math.min(c+o*2,e);var m=(p+d)/2;var y=0;for(var g=d;g<p;g++){var b=this.getRawIndex(g);var w=a[b];if(isNaN(w)){continue}y+=w}y/=p-d;var x=c;var M=Math.min(c+o,e);var S=c-1;var k=a[v];s=-1;l=x;var N=-1;var A=0;for(var g=x;g<M;g++){var b=this.getRawIndex(g);var w=a[b];if(isNaN(w)){A++;if(N<0){N=b}continue}f=Math.abs((S-m)*(w-k)-(S-g)*(y-k));if(f>s){s=f;l=b}}if(A>0&&A<M-x){h[u++]=Math.min(N,l);l=Math.max(N,l)}h[u++]=l;v=l}h[u++]=this.getRawIndex(e-1);i._count=u;i._indices=h;i.getRawIndex=this._getRawIdx;return i};r.prototype.downSample=function(r,t,i,n){var a=this.clone([r],true);var e=a._chunks;var u=[];var o=Math.floor(1/t);var v=e[r];var s=this.count();var f=a._rawExtent[r]=yy();var l=new(my(this._rawCount))(Math.ceil(s/o));var h=0;for(var c=0;c<s;c+=o){if(o>s-c){o=s-c;u.length=o}for(var d=0;d<o;d++){var p=this.getRawIndex(c+d);u[d]=v[p]}var m=i(u);var y=this.getRawIndex(Math.min(c+n(u,m)||0,s-1));v[y]=m;if(m<f[0]){f[0]=m}if(m>f[1]){f[1]=m}l[h++]=y}a._count=h;a._indices=l;a._updateGetRawIdx();return a};r.prototype.each=function(r,t){if(!this._count){return}var i=r.length;var n=this._chunks;for(var a=0,e=this.count();a<e;a++){var u=this.getRawIndex(a);switch(i){case 0:t(a);break;case 1:t(n[r[0]][u],a);break;case 2:t(n[r[0]][u],n[r[1]][u],a);break;default:var o=0;var v=[];for(;o<i;o++){v[o]=n[r[o]][u]}v[o]=a;t.apply(null,v)}}};r.prototype.getDataExtent=function(r){var t=this._chunks[r];var i=yy();if(!t){return i}var n=this.count();var a=!this._indices;var e;if(a){return this._rawExtent[r].slice()}e=this._extent[r];if(e){return e.slice()}e=i;var u=e[0];var o=e[1];for(var v=0;v<n;v++){var s=this.getRawIndex(v);var f=t[s];f<u&&(u=f);f>o&&(o=f)}e=[u,o];this._extent[r]=e;return e};r.prototype.getRawDataItem=function(r){var t=this.getRawIndex(r);if(!this._provider.persistent){var i=[];var n=this._chunks;for(var a=0;a<n.length;a++){i.push(n[a][t])}return i}else{return this._provider.getItem(t)}};r.prototype.clone=function(t,i){var n=new r;var a=this._chunks;var e=t&&Y(t,(function(r,t){r[t]=true;return r}),{});if(e){for(var u=0;u<a.length;u++){n._chunks[u]=!e[u]?a[u]:gy(a[u])}}else{n._chunks=a}this._copyCommonProps(n);if(!i){n._indices=this._cloneIndices()}n._updateGetRawIdx();return n};r.prototype._copyCommonProps=function(r){r._count=this._count;r._rawCount=this._rawCount;r._provider=this._provider;r._dimensions=this._dimensions;r._extent=O(this._extent);r._rawExtent=O(this._rawExtent)};r.prototype._cloneIndices=function(){if(this._indices){var r=this._indices.constructor;var t=void 0;if(r===Array){var i=this._indices.length;t=new r(i);for(var n=0;n<i;n++){t[n]=this._indices[n]}}else{t=new r(this._indices)}return t}return null};r.prototype._getRawIdxIdentity=function(r){return r};r.prototype._getRawIdx=function(r){if(r<this._count&&r>=0){return this._indices[r]}return-1};r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity};r.internalField=function(){function r(r,t,i,n){return Xm(r[n],this._dimensions[n])}py={arrayRows:r,objectRows:function(r,t,i,n){return Xm(r[t],this._dimensions[n])},keyedColumns:r,original:function(r,t,i,n){var a=r&&(r.value==null?r:r.value);return Xm(a instanceof Array?a[n]:a,this._dimensions[n])},typedArray:function(r,t,i,n){return r[n]}}}();return r}();var xy=function(){function r(r){this._sourceList=[];this._storeList=[];this._upstreamSignList=[];this._versionSignBase=0;this._dirty=true;this._sourceHost=r}r.prototype.dirty=function(){this._setLocalSource([],[]);this._storeList=[];this._dirty=true};r.prototype._setLocalSource=function(r,t){this._sourceList=r;this._upstreamSignList=t;this._versionSignBase++;if(this._versionSignBase>9e10){this._versionSignBase=0}};r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase};r.prototype.prepareSource=function(){if(this._isDirty()){this._createSource();this._dirty=false}};r.prototype._createSource=function(){this._setLocalSource([],[]);var r=this._sourceHost;var t=this._getUpstreamSourceManagers();var i=!!t.length;var n;var a;if(Sy(r)){var e=r;var u=void 0;var o=void 0;var v=void 0;if(i){var s=t[0];s.prepareSource();v=s.getSource();u=v.data;o=v.sourceFormat;a=[s._getVersionSign()]}else{u=e.get("data",true);o=nr(u)?jd:Xd;a=[]}var f=this._getSourceMetaRawOption()||{};var l=v&&v.metaRawOption||{};var h=fr(f.seriesLayoutBy,l.seriesLayoutBy)||null;var c=fr(f.sourceHeader,l.sourceHeader);var d=fr(f.dimensions,l.dimensions);var p=h!==l.seriesLayoutBy||!!c!==!!l.sourceHeader||d;n=p?[hm(u,{seriesLayoutBy:h,sourceHeader:c,dimensions:d},o)]:[]}else{var m=r;if(i){var y=this._applyTransform(t);n=y.sourceList;a=y.upstreamSignList}else{var g=m.get("source",true);n=[hm(g,this._getSourceMetaRawOption(),null)];a=[]}}this._setLocalSource(n,a)};r.prototype._applyTransform=function(r){var t=this._sourceHost;var i=t.get("transform",true);var n=t.get("fromTransformResult",true);if(n!=null){var a="";if(r.length!==1){ky(a)}}var e;var u=[];var o=[];V(r,(function(r){r.prepareSource();var t=r.getSource(n||0);var i="";if(n!=null&&!t){ky(i)}u.push(t);o.push(r._getVersionSign())}));if(i){e=uy(i,u)}else if(n!=null){e=[dm(u[0])]}return{sourceList:e,upstreamSignList:o}};r.prototype._isDirty=function(){if(this._dirty){return true}var r=this._getUpstreamSourceManagers();for(var t=0;t<r.length;t++){var i=r[t];if(i._isDirty()||this._upstreamSignList[t]!==i._getVersionSign()){return true}}};r.prototype.getSource=function(r){r=r||0;var t=this._sourceList[r];if(!t){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(r)}return t};r.prototype.getSharedDataStore=function(r){var t=r.makeStoreSchema();return this._innerGetDataStore(t.dimensions,r.source,t.hash)};r.prototype._innerGetDataStore=function(r,t,i){var n=0;var a=this._storeList;var e=a[n];if(!e){e=a[n]={}}var u=e[i];if(!u){var o=this._getUpstreamSourceManagers()[0];if(Sy(this._sourceHost)&&o){u=o._innerGetDataStore(r,t,i)}else{u=new wy;u.initData(new Am(t,r.length),r)}e[i]=u}return u};r.prototype._getUpstreamSourceManagers=function(){var r=this._sourceHost;if(Sy(r)){var t=np(r);return!t?[]:[t.getSourceManager()]}else{return H(ap(r),(function(r){return r.getSourceManager()}))}};r.prototype._getSourceMetaRawOption=function(){var r=this._sourceHost;var t;var i;var n;if(Sy(r)){t=r.get("seriesLayoutBy",true);i=r.get("sourceHeader",true);n=r.get("dimensions",true)}else if(!this._getUpstreamSourceManagers().length){var a=r;t=a.get("seriesLayoutBy",true);i=a.get("sourceHeader",true);n=a.get("dimensions",true)}return{seriesLayoutBy:t,sourceHeader:i,dimensions:n}};return r}();function My(r){var t=r.option.transform;t&&yr(r.option.transform)}function Sy(r){return r.mainType==="series"}function ky(r){throw new Error(r)}var Ny="line-height:1";function Ay(r,t){var i=r.color||"#6e7079";var n=r.fontSize||12;var a=r.fontWeight||"400";var e=r.color||"#464646";var u=r.fontSize||14;var o=r.fontWeight||"900";if(t==="html"){return{nameStyle:"font-size:"+ht(n+"")+"px;color:"+ht(i)+";font-weight:"+ht(a+""),valueStyle:"font-size:"+ht(u+"")+"px;color:"+ht(e)+";font-weight:"+ht(o+"")}}else{return{nameStyle:{fontSize:n,fill:i,fontWeight:a},valueStyle:{fontSize:u,fill:e,fontWeight:o}}}}var Iy=[0,10,20,30];var Cy=["","\n","\n\n","\n\n\n"];function Ty(r,t){t.type=r;return t}function zy(r){return r.type==="section"}function Ly(r){return zy(r)?Dy:Ry}function Oy(r){if(zy(r)){var t=0;var i=r.blocks.length;var n=i>1||i>0&&!r.noHeader;V(r.blocks,(function(r){var i=Oy(r);if(i>=t){t=i+ +(n&&(!i||zy(r)&&!r.noHeader))}}));return t}return 0}function Dy(r,t,i,n){var a=t.noHeader;var e=By(Oy(t));var u=[];var o=t.blocks||[];dr(!o||K(o));o=o||[];var v=r.orderMode;if(t.sortBlocks&&v){o=o.slice();var s={valueAsc:"asc",valueDesc:"desc"};if(Ir(s,v)){var f=new qm(s[v],null);o.sort((function(r,t){return f.evaluate(r.sortParam,t.sortParam)}))}else if(v==="seriesDesc"){o.reverse()}}V(o,(function(i,a){var o=t.valueFormatter;var v=Ly(i)(o?F(F({},r),{valueFormatter:o}):r,i,a>0?e.html:0,n);v!=null&&u.push(v)}));var l=r.renderMode==="richText"?u.join(e.richText):_y(u.join(""),a?i:e.html);if(a){return l}var h=md(t.header,"ordinal",r.useUTC);var c=Ay(n,r.renderMode).nameStyle;if(r.renderMode==="richText"){return Wy(r,h,c)+e.richText+l}else{return _y('<div style="'+c+";"+Ny+';">'+ht(h)+"</div>"+l,i)}}function Ry(r,t,i,n){var a=r.renderMode;var e=t.noName;var u=t.noValue;var o=!t.markerType;var v=t.name;var s=r.useUTC;var f=t.valueFormatter||r.valueFormatter||function(r){r=K(r)?r:[r];return H(r,(function(r,t){return md(r,K(c)?c[t]:c,s)}))};if(e&&u){return}var l=o?"":r.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",a);var h=e?"":md(v,"ordinal",s);var c=t.valueType;var d=u?[]:f(t.value);var p=!o||!e;var m=!o&&e;var y=Ay(n,a),g=y.nameStyle,b=y.valueStyle;return a==="richText"?(o?"":l)+(e?"":Wy(r,h,g))+(u?"":Vy(r,d,p,m,b)):_y((o?"":l)+(e?"":Ey(h,!o,g))+(u?"":Py(d,p,m,b)),i)}function Fy(r,t,i,n,a,e){if(!r){return}var u=Ly(r);var o={useUTC:a,renderMode:i,orderMode:n,markupStyleCreator:t,valueFormatter:r.valueFormatter};return u(o,r,0,e)}function By(r){return{html:Iy[r],richText:Cy[r]}}function _y(r,t){var i='<div style="clear:both"></div>';var n="margin: "+t+"px 0 0";return'<div style="'+n+";"+Ny+';">'+r+i+"</div>"}function Ey(r,t,i){var n=t?"margin-left:2px":"";return'<span style="'+i+";"+n+'">'+ht(r)+"</span>"}function Py(r,t,i,n){var a=i?"10px":"20px";var e=t?"float:right;margin-left:"+a:"";r=K(r)?r:[r];return'<span style="'+e+";"+n+'">'+H(r,(function(r){return ht(r)})).join("&nbsp;&nbsp;")+"</span>"}function Wy(r,t,i){return r.markupStyleCreator.wrapRichTextStyle(t,i)}function Vy(r,t,i,n,a){var e=[a];var u=n?10:20;i&&e.push({padding:[0,0,0,u],align:"right"});return r.markupStyleCreator.wrapRichTextStyle(K(t)?t.join("  "):t,e)}function Hy(r,t){var i=r.getData().getItemVisual(t,"style");var n=i[r.visualDrawType];return Md(n)}function Yy(r,t){var i=r.get("padding");return i!=null?i:t==="richText"?[8,10]:10}var Xy=function(){function r(){this.richTextStyles={};this._nextStyleNameId=Je()}r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++};r.prototype.makeTooltipMarker=function(r,t,i){var n=i==="richText"?this._generateStyleName():null;var a=xd({color:t,type:r,renderMode:i,markerId:n});if($(a)){return a}else{this.richTextStyles[n]=a.style;return a.content}};r.prototype.wrapRichTextStyle=function(r,t){var i={};if(K(t)){V(t,(function(r){return F(i,r)}))}else{F(i,t)}var n=this._generateStyleName();this.richTextStyles[n]=i;return"{"+n+"|"+r+"}"};return r}();function Gy(r){var t=r.series;var i=r.dataIndex;var n=r.multipleSeries;var a=t.getData();var e=a.mapDimensionsAll("defaultedTooltip");var u=e.length;var o=t.getRawValue(i);var v=K(o);var s=Hy(t,i);var f;var l;var h;var c;if(u>1||v&&!u){var d=Uy(o,t,i,e,s);f=d.inlineValues;l=d.inlineValueTypes;h=d.blocks;c=d.inlineValues[0]}else if(u){var p=a.getDimensionInfo(e[0]);c=f=_m(a,i,e[0]);l=p.type}else{c=f=v?o[0]:o}var m=ku(t);var y=m&&t.name||"";var g=a.getName(i);var b=n?y:g;return Ty("section",{header:y,noHeader:n||!m,sortParam:c,blocks:[Ty("nameValue",{markerType:"item",markerColor:s,name:b,noName:!pr(b),value:f,valueType:l})].concat(h||[])})}function Uy(r,t,i,n,a){var e=t.getData();var u=Y(r,(function(r,t,i){var n=e.getDimensionInfo(i);return r=r||n&&n.tooltip!==false&&n.displayName!=null}),false);var o=[];var v=[];var s=[];n.length?V(n,(function(r){f(_m(e,i,r),r)})):V(r,f);function f(r,t){var i=e.getDimensionInfo(t);if(!i||i.otherDims.tooltip===false){return}if(u){s.push(Ty("nameValue",{markerType:"subItem",markerColor:a,name:i.displayName,value:r,valueType:i.type}))}else{o.push(r);v.push(i.type)}}return{inlineValues:o,inlineValueTypes:v,blocks:s}}var Zy=Lu();function jy(r,t){return r.getName(t)||r.getId(t)}var qy="__universalTransitionEnabled";var Ky=function(r){a(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t._selectedDataIndicesMap={};return t}t.prototype.init=function(r,t,i){this.seriesIndex=this.componentIndex;this.dataTask=Vm({count:Qy,reset:rg});this.dataTask.context={model:this};this.mergeDefaultAndTheme(r,i);var n=Zy(this).sourceManager=new xy(this);n.prepareSource();var a=this.getInitialData(r,i);ig(a,this);this.dataTask.context.data=a;Zy(this).dataBeforeProcessed=a;Jy(this);this._initSelectedMapFromData(a)};t.prototype.mergeDefaultAndTheme=function(r,t){var i=Dd(this);var n=i?Fd(r):{};var a=this.subType;if(Ed.hasClass(a)){a+="Series"}D(r,t.getTheme().get(this.subType));D(r,this.getDefaultOption());fu(r,"label",["show"]);this.fillDataTextStyle(r.data);if(i){Rd(r,n,i)}};t.prototype.mergeOption=function(r,t){r=D(this.option,r,true);this.fillDataTextStyle(r.data);var i=Dd(this);if(i){Rd(this.option,r,i)}var n=Zy(this).sourceManager;n.dirty();n.prepareSource();var a=this.getInitialData(r,t);ig(a,this);this.dataTask.dirty();this.dataTask.context.data=a;Zy(this).dataBeforeProcessed=a;Jy(this);this._initSelectedMapFromData(a)};t.prototype.fillDataTextStyle=function(r){if(r&&!nr(r)){var t=["show"];for(var i=0;i<r.length;i++){if(r[i]&&r[i].label){fu(r[i],"label",t)}}}};t.prototype.getInitialData=function(r,t){return};t.prototype.appendData=function(r){var t=this.getRawData();t.appendData(r.data)};t.prototype.getData=function(r){var t=ag(this);if(t){var i=t.context.data;return r==null?i:i.getLinkedData(r)}else{return Zy(this).data}};t.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]};t.prototype.setData=function(r){var t=ag(this);if(t){var i=t.context;i.outputData=r;if(t!==this.dataTask){i.data=r}}Zy(this).data=r};t.prototype.getEncode=function(){var r=this.get("encode",true);if(r){return Sr(r)}};t.prototype.getSourceManager=function(){return Zy(this).sourceManager};t.prototype.getSource=function(){return this.getSourceManager().getSource()};t.prototype.getRawData=function(){return Zy(this).dataBeforeProcessed};t.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"};t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"};t.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()};t.prototype.formatTooltip=function(r,t,i){return Gy({series:this,dataIndex:r,multipleSeries:t})};t.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(o.node&&!(r&&r.ssr)){return false}var t=this.getShallow("animation");if(t){if(this.getData().count()>this.getShallow("animationThreshold")){t=false}}return!!t};t.prototype.restoreData=function(){this.dataTask.dirty()};t.prototype.getColorFromPalette=function(r,t,i){var n=this.ecModel;var a=hp.prototype.getColorFromPalette.call(this,r,t,i);if(!a){a=n.getColorFromPalette(r,t,i)}return a};t.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)};t.prototype.getProgressive=function(){return this.get("progressive")};t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")};t.prototype.select=function(r,t){this._innerSelect(this.getData(t),r)};t.prototype.unselect=function(r,t){var i=this.option.selectedMap;if(!i){return}var n=this.option.selectedMode;var a=this.getData(t);if(n==="series"||i==="all"){this.option.selectedMap={};this._selectedDataIndicesMap={};return}for(var e=0;e<r.length;e++){var u=r[e];var o=jy(a,u);i[o]=false;this._selectedDataIndicesMap[o]=-1}};t.prototype.toggleSelect=function(r,t){var i=[];for(var n=0;n<r.length;n++){i[0]=r[n];this.isSelected(r[n],t)?this.unselect(i,t):this.select(i,t)}};t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all"){return[].slice.call(this.getData().getIndices())}var r=this._selectedDataIndicesMap;var t=U(r);var i=[];for(var n=0;n<t.length;n++){var a=r[t[n]];if(a>=0){i.push(a)}}return i};t.prototype.isSelected=function(r,t){var i=this.option.selectedMap;if(!i){return false}var n=this.getData(t);return(i==="all"||i[jy(n,r)])&&!n.getItemModel(r).get(["select","disabled"])};t.prototype.isUniversalTransitionEnabled=function(){if(this[qy]){return true}var r=this.option.universalTransition;if(!r){return false}if(r===true){return true}return r&&r.enabled};t.prototype._innerSelect=function(r,t){var i,n;var a=this.option;var e=a.selectedMode;var u=t.length;if(!e||!u){return}if(e==="series"){a.selectedMap="all"}else if(e==="multiple"){if(!tr(a.selectedMap)){a.selectedMap={}}var o=a.selectedMap;for(var v=0;v<u;v++){var s=t[v];var f=jy(r,s);o[f]=true;this._selectedDataIndicesMap[f]=r.getRawIndex(s)}}else if(e==="single"||e===true){var l=t[u-1];var f=jy(r,l);a.selectedMap=(i={},i[f]=true,i);this._selectedDataIndicesMap=(n={},n[f]=r.getRawIndex(l),n)}};t.prototype._initSelectedMapFromData=function(r){if(this.option.selectedMap){return}var t=[];if(r.hasItemOption){r.each((function(i){var n=r.getRawDataItem(i);if(n&&n.selected){t.push(i)}}))}if(t.length>0){this._innerSelect(r,t)}};t.registerClass=function(r){return Ed.registerClass(r)};t.protoInitialize=function(){var r=t.prototype;r.type="series.__base__";r.seriesIndex=0;r.ignoreStyleOnData=false;r.hasSymbolVisual=false;r.defaultSymbol="circle";r.visualStyleAccessPath="itemStyle";r.visualDrawType="fill"}();return t}(Ed);P(Ky,Pm);P(Ky,hp);Ju(Ky,Ed);function Jy(r){var t=r.name;if(!ku(r)){r.name=$y(r)||t}}function $y(r){var t=r.getRawData();var i=t.mapDimensionsAll("seriesName");var n=[];V(i,(function(r){var i=t.getDimensionInfo(r);i.displayName&&n.push(i.displayName)}));return n.join(" ")}function Qy(r){return r.model.getRawData().count()}function rg(r){var t=r.model;t.setData(t.getRawData().cloneShallow());return tg}function tg(r,t){if(t.outputData&&r.end>t.outputData.count()){t.model.getRawData().cloneShallow(t.outputData)}}function ig(r,t){V(kr(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),(function(i){r.wrapMethod(i,q(ng,t))}))}function ng(r,t){var i=ag(r);if(i){i.setOutputEnd((t||this).count())}return t}function ag(r){var t=(r.ecModel||{}).scheduler;var i=t&&t.getPipeline(r.uid);if(i){var n=i.currentTask;if(n){var a=n.agentStubMap;if(a){n=a.get(r.uid)}}return n}}var eg=function(){function r(){this.group=new xe;this.uid=bc("viewComponent")}r.prototype.init=function(r,t){};r.prototype.render=function(r,t,i,n){};r.prototype.dispose=function(r,t){};r.prototype.updateView=function(r,t,i,n){};r.prototype.updateLayout=function(r,t,i,n){};r.prototype.updateVisual=function(r,t,i,n){};r.prototype.toggleBlurSeries=function(r,t,i){};r.prototype.eachRendered=function(r){var t=this.group;if(t){t.traverse(r)}};return r}();qu(eg);io(eg);function ug(){var r=Lu();return function(t){var i=r(t);var n=t.pipelineContext;var a=!!i.large;var e=!!i.progressiveRender;var u=i.large=!!(n&&n.large);var o=i.progressiveRender=!!(n&&n.progressiveRender);return!!(a!==u||e!==o)&&"reset"}}var og=Lu();var vg=ug();var sg=function(){function r(){this.group=new xe;this.uid=bc("viewChart");this.renderTask=Vm({plan:hg,reset:cg});this.renderTask.context={view:this}}r.prototype.init=function(r,t){};r.prototype.render=function(r,t,i,n){};r.prototype.highlight=function(r,t,i,n){var a=r.getData(n&&n.dataType);if(!a){return}lg(a,n,"emphasis")};r.prototype.downplay=function(r,t,i,n){var a=r.getData(n&&n.dataType);if(!a){return}lg(a,n,"normal")};r.prototype.remove=function(r,t){this.group.removeAll()};r.prototype.dispose=function(r,t){};r.prototype.updateView=function(r,t,i,n){this.render(r,t,i,n)};r.prototype.updateLayout=function(r,t,i,n){this.render(r,t,i,n)};r.prototype.updateVisual=function(r,t,i,n){this.render(r,t,i,n)};r.prototype.eachRendered=function(r){Hh(this.group,r)};r.markUpdateMethod=function(r,t){og(r).updateMethod=t};r.protoInitialize=function(){var t=r.prototype;t.type="chart"}();return r}();function fg(r,t,i){if(r&&zf(r)){(t==="emphasis"?ef:uf)(r,i)}}function lg(r,t,i){var n=zu(r,t);var a=t&&t.highlightKey!=null?Of(t.highlightKey):null;if(n!=null){V(su(n),(function(t){fg(r.getItemGraphicEl(t),i,a)}))}else{r.eachItemGraphicEl((function(r){fg(r,i,a)}))}}qu(sg);io(sg);function hg(r){return vg(r.model)}function cg(r){var t=r.model;var i=r.ecModel;var n=r.api;var a=r.payload;var e=t.pipelineContext.progressiveRender;var u=r.view;var o=a&&og(a).updateMethod;var v=e?"incrementalPrepareRender":o&&u[o]?o:"render";if(v!=="render"){u[v](t,i,n,a)}return dg[v]}var dg={incrementalPrepareRender:{progress:function(r,t){t.view.incrementalRender(r,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:true,progress:function(r,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};var pg="\0__throttleOriginMethod";var mg="\0__throttleRate";var yg="\0__throttleType";function gg(r,t,i){var n;var a=0;var e=0;var u=null;var o;var v;var s;var f;t=t||0;function l(){e=(new Date).getTime();u=null;r.apply(v,s||[])}var h=function(){var r=[];for(var h=0;h<arguments.length;h++){r[h]=arguments[h]}n=(new Date).getTime();v=this;s=r;var c=f||t;var d=f||i;f=null;o=n-(d?a:e)-c;clearTimeout(u);if(d){u=setTimeout(l,c)}else{if(o>=0){l()}else{u=setTimeout(l,-o)}}a=n};h.clear=function(){if(u){clearTimeout(u);u=null}};h.debounceNextCall=function(r){f=r};return h}function bg(r,t,i,n){var a=r[t];if(!a){return}var e=a[pg]||a;var u=a[yg];var o=a[mg];if(o!==i||u!==n){if(i==null||!n){return r[t]=e}a=r[t]=gg(e,i,n==="debounce");a[pg]=e;a[yg]=n;a[mg]=i}return a}function wg(r,t){var i=r[t];if(i&&i[pg]){i.clear&&i.clear();r[t]=i[pg]}}var xg=Lu();var Mg={itemStyle:no(dc,true),lineStyle:no(lc,true)};var Sg={lineStyle:"stroke",itemStyle:"fill"};function kg(r,t){var i=r.visualStyleMapper||Mg[t];if(!i){console.warn("Unknown style type '"+t+"'.");return Mg.itemStyle}return i}function Ng(r,t){var i=r.visualDrawType||Sg[t];if(!i){console.warn("Unknown style type '"+t+"'.");return"fill"}return i}var Ag={createOnAllSeries:true,performRawSeries:true,reset:function(r,t){var i=r.getData();var n=r.visualStyleAccessPath||"itemStyle";var a=r.getModel(n);var e=kg(r,n);var u=e(a);var o=a.getShallow("decal");if(o){i.setVisual("decal",o);o.dirty=true}var v=Ng(r,n);var s=u[v];var f=J(s)?s:null;var l=u.fill==="auto"||u.stroke==="auto";if(!u[v]||f||l){var h=r.getColorFromPalette(r.name,null,t.getSeriesCount());if(!u[v]){u[v]=h;i.setVisual("colorFromPalette",true)}u.fill=u.fill==="auto"||J(u.fill)?h:u.fill;u.stroke=u.stroke==="auto"||J(u.stroke)?h:u.stroke}i.setVisual("style",u);i.setVisual("drawType",v);if(!t.isSeriesFiltered(r)&&f){i.setVisual("colorFromPalette",false);return{dataEach:function(t,i){var n=r.getDataParams(i);var a=F({},u);a[v]=f(n);t.setItemVisual(i,"style",a)}}}}};var Ig=new yc;var Cg={createOnAllSeries:true,performRawSeries:true,reset:function(r,t){if(r.ignoreStyleOnData||t.isSeriesFiltered(r)){return}var i=r.getData();var n=r.visualStyleAccessPath||"itemStyle";var a=kg(r,n);var e=i.getVisual("drawType");return{dataEach:i.hasItemOption?function(r,t){var i=r.getRawDataItem(t);if(i&&i[n]){Ig.option=i[n];var u=a(Ig);var o=r.ensureUniqueItemVisual(t,"style");F(o,u);if(Ig.option.decal){r.setItemVisual(t,"decal",Ig.option.decal);Ig.option.decal.dirty=true}if(e in u){r.setItemVisual(t,"colorFromPalette",false)}}}:null}}};var Tg={performRawSeries:true,overallReset:function(r){var t=Sr();r.eachSeries((function(r){var i=r.getColorBy();if(r.isColorBySeries()){return}var n=r.type+"-"+i;var a=t.get(n);if(!a){a={};t.set(n,a)}xg(r).scope=a}));r.eachSeries((function(t){if(t.isColorBySeries()||r.isSeriesFiltered(t)){return}var i=t.getRawData();var n={};var a=t.getData();var e=xg(t).scope;var u=t.visualStyleAccessPath||"itemStyle";var o=Ng(t,u);a.each((function(r){var t=a.getRawIndex(r);n[t]=r}));i.each((function(r){var u=n[r];var v=a.getItemVisual(u,"colorFromPalette");if(v){var s=a.ensureUniqueItemVisual(u,"style");var f=i.getName(r)||r+"";var l=i.count();s[o]=t.getColorFromPalette(f,e,l)}}))}))}};var zg=Math.PI;function Lg(r,t){t=t||{};B(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:true,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var i=new xe;var n=new ts({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});i.add(n);var a=new es({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001});var e=new ts({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});i.add(e);var u;if(t.showSpinner){u=new Hl({shape:{startAngle:-zg/2,endAngle:-zg/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});u.animateShape(true).when(1e3,{endAngle:zg*3/2}).start("circularInOut");u.animateShape(true).when(1e3,{startAngle:zg*3/2}).delay(300).start("circularInOut");i.add(u)}i.resize=function(){var i=a.getBoundingRect().width;var o=t.showSpinner?t.spinnerRadius:0;var v=(r.getWidth()-o*2-(t.showSpinner&&i?10:0)-i)/2-(t.showSpinner&&i?0:5+i/2)+(t.showSpinner?0:i/2)+(i?0:o);var s=r.getHeight()/2;t.showSpinner&&u.setShape({cx:v,cy:s});e.setShape({x:v-o,y:s-o,width:o*2,height:o*2});n.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})};i.resize();return i}var Og=function(){function r(r,t,i,n){this._stageTaskMap=Sr();this.ecInstance=r;this.api=t;i=this._dataProcessorHandlers=i.slice();n=this._visualHandlers=n.slice();this._allHandlers=i.concat(n)}r.prototype.restoreData=function(r,t){r.restoreData(t);this._stageTaskMap.each((function(r){var t=r.overallTask;t&&t.dirty()}))};r.prototype.getPerformArgs=function(r,t){if(!r.__pipeline){return}var i=this._pipelineMap.get(r.__pipeline.id);var n=i.context;var a=!t&&i.progressiveEnabled&&(!n||n.progressiveRender)&&r.__idxInPipeline>i.blockIndex;var e=a?i.step:null;var u=n&&n.modDataCount;var o=u!=null?Math.ceil(u/e):null;return{step:e,modBy:o,modDataCount:u}};r.prototype.getPipeline=function(r){return this._pipelineMap.get(r)};r.prototype.updateStreamModes=function(r,t){var i=this._pipelineMap.get(r.uid);var n=r.getData();var a=n.count();var e=i.progressiveEnabled&&t.incrementalPrepareRender&&a>=i.threshold;var u=r.get("large")&&a>=r.get("largeThreshold");var o=r.get("progressiveChunkMode")==="mod"?a:null;r.pipelineContext=i.context={progressiveRender:e,modDataCount:o,large:u}};r.prototype.restorePipelines=function(r){var t=this;var i=t._pipelineMap=Sr();r.eachSeries((function(r){var n=r.getProgressive();var a=r.uid;i.set(a,{id:a,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:n&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(n||700),count:0});t._pipe(r,r.dataTask)}))};r.prototype.prepareStageTasks=function(){var r=this._stageTaskMap;var t=this.api.getModel();var i=this.api;V(this._allHandlers,(function(n){var a=r.get(n.uid)||r.set(n.uid,{});var e="";dr(!(n.reset&&n.overallReset),e);n.reset&&this._createSeriesStageTask(n,a,t,i);n.overallReset&&this._createOverallStageTask(n,a,t,i)}),this)};r.prototype.prepareView=function(r,t,i,n){var a=r.renderTask;var e=a.context;e.model=t;e.ecModel=i;e.api=n;a.__block=!r.incrementalPrepareRender;this._pipe(t,a)};r.prototype.performDataProcessorTasks=function(r,t){this._performStageTasks(this._dataProcessorHandlers,r,t,{block:true})};r.prototype.performVisualTasks=function(r,t,i){this._performStageTasks(this._visualHandlers,r,t,i)};r.prototype._performStageTasks=function(r,t,i,n){n=n||{};var a=false;var e=this;V(r,(function(r,o){if(n.visualType&&n.visualType!==r.visualType){return}var v=e._stageTaskMap.get(r.uid);var s=v.seriesTaskMap;var f=v.overallTask;if(f){var l;var h=f.agentStubMap;h.each((function(r){if(u(n,r)){r.dirty();l=true}}));l&&f.dirty();e.updatePayload(f,i);var c=e.getPerformArgs(f,n.block);h.each((function(r){r.perform(c)}));if(f.perform(c)){a=true}}else if(s){s.each((function(o,v){if(u(n,o)){o.dirty()}var s=e.getPerformArgs(o,n.block);s.skip=!r.performRawSeries&&t.isSeriesFiltered(o.context.model);e.updatePayload(o,i);if(o.perform(s)){a=true}}))}}));function u(r,t){return r.setDirty&&(!r.dirtyMap||r.dirtyMap.get(t.__pipeline.id))}this.unfinished=a||this.unfinished};r.prototype.performSeriesTasks=function(r){var t;r.eachSeries((function(r){t=r.dataTask.perform()||t}));this.unfinished=t||this.unfinished};r.prototype.plan=function(){this._pipelineMap.each((function(r){var t=r.tail;do{if(t.__block){r.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)}))};r.prototype.updatePayload=function(r,t){t!=="remain"&&(r.context.payload=t)};r.prototype._createSeriesStageTask=function(r,t,i,n){var a=this;var e=t.seriesTaskMap;var u=t.seriesTaskMap=Sr();var o=r.seriesType;var v=r.getTargetSeries;if(r.createOnAllSeries){i.eachRawSeries(s)}else if(o){i.eachRawSeriesByType(o,s)}else if(v){v(i,n).each(s)}function s(t){var o=t.uid;var v=u.set(o,e&&e.get(o)||Vm({plan:_g,reset:Eg,count:Vg}));v.context={model:t,ecModel:i,api:n,useClearVisual:r.isVisual&&!r.isLayout,plan:r.plan,reset:r.reset,scheduler:a};a._pipe(t,v)}};r.prototype._createOverallStageTask=function(r,t,i,n){var a=this;var e=t.overallTask=t.overallTask||Vm({reset:Dg});e.context={ecModel:i,api:n,overallReset:r.overallReset,scheduler:a};var u=e.agentStubMap;var o=e.agentStubMap=Sr();var v=r.seriesType;var s=r.getTargetSeries;var f=true;var l=false;var h="";dr(!r.createOnAllSeries,h);if(v){i.eachRawSeriesByType(v,c)}else if(s){s(i,n).each(c)}else{f=false;V(i.getSeries(),c)}function c(r){var t=r.uid;var i=o.set(t,u&&u.get(t)||(l=true,Vm({reset:Rg,onDirty:Bg})));i.context={model:r,overallProgress:f};i.agent=e;i.__block=f;a._pipe(r,i)}if(l){e.dirty()}};r.prototype._pipe=function(r,t){var i=r.uid;var n=this._pipelineMap.get(i);!n.head&&(n.head=t);n.tail&&n.tail.pipe(t);n.tail=t;t.__idxInPipeline=n.count++;t.__pipeline=n};r.wrapStageHandler=function(r,t){if(J(r)){r={overallReset:r,seriesType:Hg(r)}}r.uid=bc("stageHandler");t&&(r.visualType=t);return r};return r}();function Dg(r){r.overallReset(r.ecModel,r.api,r.payload)}function Rg(r){return r.overallProgress&&Fg}function Fg(){this.agent.dirty();this.getDownstream().dirty()}function Bg(){this.agent&&this.agent.dirty()}function _g(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function Eg(r){if(r.useClearVisual){r.data.clearAllVisual()}var t=r.resetDefines=su(r.reset(r.model,r.ecModel,r.api,r.payload));return t.length>1?H(t,(function(r,t){return Wg(t)})):Pg}var Pg=Wg(0);function Wg(r){return function(t,i){var n=i.data;var a=i.resetDefines[r];if(a&&a.dataEach){for(var e=t.start;e<t.end;e++){a.dataEach(n,e)}}else if(a&&a.progress){a.progress(t,n)}}}function Vg(r){return r.data.count()}function Hg(r){Gg=null;try{r(Yg,Xg)}catch(r){}return Gg}var Yg={};var Xg={};var Gg;Ug(Yg,Mp);Ug(Xg,Tp);Yg.eachSeriesByType=Yg.eachRawSeriesByType=function(r){Gg=r};Yg.eachComponent=function(r){if(r.mainType==="series"&&r.subType){Gg=r.subType}};function Ug(r,t){for(var i in t.prototype){r[i]=Cr}}var Zg=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const jg={color:Zg,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Zg]};var qg="#B9B8CE";var Kg="#100C2A";var Jg=function(){return{axisLine:{lineStyle:{color:qg}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}};var $g=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"];var Qg={darkMode:true,color:$g,backgroundColor:Kg,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:qg}},textStyle:{color:qg},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:qg}},dataZoom:{borderColor:"#71708A",textStyle:{color:qg},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:qg}},timeline:{lineStyle:{color:qg},label:{color:qg},controlStyle:{color:qg,borderColor:qg}},calendar:{itemStyle:{color:Kg},dayLabel:{color:qg},monthLabel:{color:qg},yearLabel:{color:qg}},timeAxis:Jg(),logAxis:Jg(),valueAxis:Jg(),categoryAxis:Jg(),line:{symbol:"circle"},graph:{color:$g},gauge:{title:{color:qg},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:qg},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Qg.categoryAxis.splitLine.show=false;var rb=function(){function r(){}r.prototype.normalizeQuery=function(r){var t={};var i={};var n={};if($(r)){var a=Uu(r);t.mainType=a.main||null;t.subType=a.sub||null}else{var e=["Index","Name","Id"];var u={name:1,dataIndex:1,dataType:1};V(r,(function(r,a){var o=false;for(var v=0;v<e.length;v++){var s=e[v];var f=a.lastIndexOf(s);if(f>0&&f===a.length-s.length){var l=a.slice(0,f);if(l!=="data"){t.mainType=l;t[s.toLowerCase()]=r;o=true}}}if(u.hasOwnProperty(a)){i[a]=r;o=true}if(!o){n[a]=r}}))}return{cptQuery:t,dataQuery:i,otherQuery:n}};r.prototype.filter=function(r,t){var i=this.eventInfo;if(!i){return true}var n=i.targetEl;var a=i.packedEvent;var e=i.model;var u=i.view;if(!e||!u){return true}var o=t.cptQuery;var v=t.dataQuery;return s(o,e,"mainType")&&s(o,e,"subType")&&s(o,e,"index","componentIndex")&&s(o,e,"name")&&s(o,e,"id")&&s(v,a,"name")&&s(v,a,"dataIndex")&&s(v,a,"dataType")&&(!u.filterForExposedEvent||u.filterForExposedEvent(r,t.otherQuery,n,a));function s(r,t,i,n){return r[i]==null||t[n||i]===r[i]}};r.prototype.afterTrigger=function(){this.eventInfo=null};return r}();var tb=["symbol","symbolSize","symbolRotate","symbolOffset"];var ib=tb.concat(["symbolKeepAspect"]);var nb={createOnAllSeries:true,performRawSeries:true,reset:function(r,t){var i=r.getData();if(r.legendIcon){i.setVisual("legendIcon",r.legendIcon)}if(!r.hasSymbolVisual){return}var n={};var a={};var e=false;for(var u=0;u<tb.length;u++){var o=tb[u];var v=r.get(o);if(J(v)){e=true;a[o]=v}else{n[o]=v}}n.symbol=n.symbol||r.defaultSymbol;i.setVisual(F({legendIcon:r.legendIcon||n.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},n));if(t.isSeriesFiltered(r)){return}var s=U(a);function f(t,i){var n=r.getRawValue(i);var e=r.getDataParams(i);for(var u=0;u<s.length;u++){var o=s[u];t.setItemVisual(i,o,a[o](n,e))}}return{dataEach:e?f:null}}};var ab={createOnAllSeries:true,performRawSeries:true,reset:function(r,t){if(!r.hasSymbolVisual){return}if(t.isSeriesFiltered(r)){return}var i=r.getData();function n(r,t){var i=r.getItemModel(t);for(var n=0;n<ib.length;n++){var a=ib[n];var e=i.getShallow(a,true);if(e!=null){r.setItemVisual(t,a,e)}}}return{dataEach:i.hasItemOption?n:null}}};function eb(r,t,i){switch(i){case"color":var n=r.getItemVisual(t,"style");return n[r.getVisual("drawType")];case"opacity":return r.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(t,i)}}function ub(r,t){switch(t){case"color":var i=r.getVisual("style");return i[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(t)}}function ob(r,t,i,n){switch(i){case"color":var a=r.ensureUniqueItemVisual(t,"style");a[r.getVisual("drawType")]=n;r.setItemVisual(t,"colorFromPalette",false);break;case"opacity":r.ensureUniqueItemVisual(t,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":r.setItemVisual(t,i,n);break}}function vb(r,t){function i(t,i){var n=[];t.eachComponent({mainType:"series",subType:r,query:i},(function(r){n.push(r.seriesIndex)}));return n}V([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],(function(r){t(r[0],(function(t,n,a){t=F({},t);a.dispatchAction(F(t,{type:r[1],seriesIndex:i(n,t)}))}))}))}function sb(r,t,i,n,a){var e=r+t;if(!i.isSilent(e)){n.eachComponent({mainType:"series",subType:"pie"},(function(r){var t=r.seriesIndex;var n=r.option.selectedMap;var u=a.selected;for(var o=0;o<u.length;o++){if(u[o].seriesIndex===t){var v=r.getData();var s=zu(v,a.fromActionPayload);i.trigger(e,{type:e,seriesId:r.id,name:K(s)?v.getName(s[0]):v.getName(s),selected:$(n)?n:F({},n)})}}}))}}function fb(r,t,i){r.on("selectchanged",(function(r){var n=i.getModel();if(r.isFromClick){sb("map","selectchanged",t,n,r);sb("pie","selectchanged",t,n,r)}else if(r.fromAction==="select"){sb("map","selected",t,n,r);sb("pie","selected",t,n,r)}else if(r.fromAction==="unselect"){sb("map","unselected",t,n,r);sb("pie","unselected",t,n,r)}}))}function lb(r,t,i){var n;while(r){if(t(r)){n=r;if(i){break}}r=r.__hostTarget||r.parent}return n}var hb=Math.round(Math.random()*9);var cb=typeof Object.defineProperty==="function";var db=function(){function r(){this._id="__ec_inner_"+hb++}r.prototype.get=function(r){return this._guard(r)[this._id]};r.prototype.set=function(r,t){var i=this._guard(r);if(cb){Object.defineProperty(i,this._id,{value:t,enumerable:false,configurable:true})}else{i[this._id]=t}return this};r.prototype["delete"]=function(r){if(this.has(r)){delete this._guard(r)[this._id];return true}return false};r.prototype.has=function(r){return!!this._guard(r)[this._id]};r.prototype._guard=function(r){if(r!==Object(r)){throw TypeError("Value of WeakMap is not a non-null object.")}return r};return r}();var pb=Vv.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var i=t.cx;var n=t.cy;var a=t.width/2;var e=t.height/2;r.moveTo(i,n-e);r.lineTo(i+a,n+e);r.lineTo(i-a,n+e);r.closePath()}});var mb=Vv.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var i=t.cx;var n=t.cy;var a=t.width/2;var e=t.height/2;r.moveTo(i,n-e);r.lineTo(i+a,n);r.lineTo(i,n+e);r.lineTo(i-a,n);r.closePath()}});var yb=Vv.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var i=t.x;var n=t.y;var a=t.width/5*3;var e=Math.max(a,t.height);var u=a/2;var o=u*u/(e-u);var v=n-e+u+o;var s=Math.asin(o/u);var f=Math.cos(s)*u;var l=Math.sin(s);var h=Math.cos(s);var c=u*.6;var d=u*.7;r.moveTo(i-f,v+o);r.arc(i,v,u,Math.PI-s,Math.PI*2+s);r.bezierCurveTo(i+f-l*c,v+o+h*c,i,n-d,i,n);r.bezierCurveTo(i,n-d,i-f+l*c,v+o+h*c,i-f,v+o);r.closePath()}});var gb=Vv.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var i=t.height;var n=t.width;var a=t.x;var e=t.y;var u=n/3*2;r.moveTo(a,e);r.lineTo(a+u,e+i);r.lineTo(a,e+i/4*3);r.lineTo(a-u,e+i);r.lineTo(a,e);r.closePath()}});var bb={line:Bl,rect:ts,roundRect:ts,square:ts,circle:ul,diamond:mb,pin:yb,arrow:gb,triangle:pb};var wb={line:function(r,t,i,n,a){a.x1=r;a.y1=t+n/2;a.x2=r+i;a.y2=t+n/2},rect:function(r,t,i,n,a){a.x=r;a.y=t;a.width=i;a.height=n},roundRect:function(r,t,i,n,a){a.x=r;a.y=t;a.width=i;a.height=n;a.r=Math.min(i,n)/4},square:function(r,t,i,n,a){var e=Math.min(i,n);a.x=r;a.y=t;a.width=e;a.height=e},circle:function(r,t,i,n,a){a.cx=r+i/2;a.cy=t+n/2;a.r=Math.min(i,n)/2},diamond:function(r,t,i,n,a){a.cx=r+i/2;a.cy=t+n/2;a.width=i;a.height=n},pin:function(r,t,i,n,a){a.x=r+i/2;a.y=t+n/2;a.width=i;a.height=n},arrow:function(r,t,i,n,a){a.x=r+i/2;a.y=t+n/2;a.width=i;a.height=n},triangle:function(r,t,i,n,a){a.cx=r+i/2;a.cy=t+n/2;a.width=i;a.height=n}};var xb={};V(bb,(function(r,t){xb[t]=new r}));var Mb=Vv.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,t,i){var n=oe(r,t,i);var a=this.shape;if(a&&a.symbolType==="pin"&&t.position==="inside"){n.y=i.y+i.height*.4}return n},buildPath:function(r,t,i){var n=t.symbolType;if(n!=="none"){var a=xb[n];if(!a){n="rect";a=xb[n]}wb[n](t.x,t.y,t.width,t.height,a.shape);a.buildPath(r,a.shape,i)}}});function Sb(r,t){if(this.type!=="image"){var i=this.style;if(this.__isEmptyBrush){i.stroke=r;i.fill=t||"#fff";i.lineWidth=2}else if(this.shape.symbolType==="line"){i.stroke=r}else{i.fill=r}this.markRedraw()}}function kb(r,t,i,n,a,e,u){var o=r.indexOf("empty")===0;if(o){r=r.substr(5,1).toLowerCase()+r.substr(6)}var v;if(r.indexOf("image://")===0){v=wh(r.slice(8),new Zt(t,i,n,a),u?"center":"cover")}else if(r.indexOf("path://")===0){v=bh(r.slice(7),{},new Zt(t,i,n,a),u?"center":"cover")}else{v=new Mb({shape:{symbolType:r,x:t,y:i,width:n,height:a}})}v.__isEmptyBrush=o;v.setColor=Sb;if(e){v.setColor(e)}return v}function Nb(r){if(!K(r)){r=[+r,+r]}return[r[0]||0,r[1]||0]}function Ab(r,t){if(r==null){return}if(!K(r)){r=[r,r]}return[Le(r[0],t[0])||0,Le(fr(r[1],r[0]),t[1])||0]}function Ib(r){return isFinite(r)}function Cb(r,t,i){var n=t.x==null?0:t.x;var a=t.x2==null?1:t.x2;var e=t.y==null?0:t.y;var u=t.y2==null?0:t.y2;if(!t.global){n=n*i.width+i.x;a=a*i.width+i.x;e=e*i.height+i.y;u=u*i.height+i.y}n=Ib(n)?n:0;a=Ib(a)?a:1;e=Ib(e)?e:0;u=Ib(u)?u:0;var o=r.createLinearGradient(n,e,a,u);return o}function Tb(r,t,i){var n=i.width;var a=i.height;var e=Math.min(n,a);var u=t.x==null?.5:t.x;var o=t.y==null?.5:t.y;var v=t.r==null?.5:t.r;if(!t.global){u=u*n+i.x;o=o*a+i.y;v=v*e}u=Ib(u)?u:.5;o=Ib(o)?o:.5;v=v>=0&&Ib(v)?v:.5;var s=r.createRadialGradient(u,o,0,u,o,v);return s}function zb(r,t,i){var n=t.type==="radial"?Tb(r,t,i):Cb(r,t,i);var a=t.colorStops;for(var e=0;e<a.length;e++){n.addColorStop(a[e].offset,a[e].color)}return n}function Lb(r,t){if(r===t||!r&&!t){return false}if(!r||!t||r.length!==t.length){return true}for(var i=0;i<r.length;i++){if(r[i]!==t[i]){return true}}return false}function Ob(r){return parseInt(r,10)}function Db(r,t,i){var n=["width","height"][t];var a=["clientWidth","clientHeight"][t];var e=["paddingLeft","paddingTop"][t];var u=["paddingRight","paddingBottom"][t];if(i[n]!=null&&i[n]!=="auto"){return parseFloat(i[n])}var o=document.defaultView.getComputedStyle(r);return(r[a]||Ob(o[n])||Ob(r.style[n]))-(Ob(o[e])||0)-(Ob(o[u])||0)|0}function Rb(r,t){if(!r||r==="solid"||!(t>0)){return null}return r==="dashed"?[4*t,2*t]:r==="dotted"?[t]:rr(r)?[r]:K(r)?r:null}function Fb(r){var t=r.style;var i=t.lineDash&&t.lineWidth>0&&Rb(t.lineDash,t.lineWidth);var n=t.lineDashOffset;if(i){var a=t.strokeNoScale&&r.getLineScale?r.getLineScale():1;if(a&&a!==1){i=H(i,(function(r){return r/a}));n/=a}}return[i,n]}var Bb=new mv(true);function _b(r){var t=r.stroke;return!(t==null||t==="none"||!(r.lineWidth>0))}function Eb(r){return typeof r==="string"&&r!=="none"}function Pb(r){var t=r.fill;return t!=null&&t!=="none"}function Wb(r,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var i=r.globalAlpha;r.globalAlpha=t.fillOpacity*t.opacity;r.fill();r.globalAlpha=i}else{r.fill()}}function Vb(r,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var i=r.globalAlpha;r.globalAlpha=t.strokeOpacity*t.opacity;r.stroke();r.globalAlpha=i}else{r.stroke()}}function Hb(r,t,i){var n=so(t.image,t.__image,i);if(lo(n)){var a=r.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix==="function"&&a&&a.setTransform){var e=new DOMMatrix;e.translateSelf(t.x||0,t.y||0);e.rotateSelf(0,0,(t.rotation||0)*Tr);e.scaleSelf(t.scaleX||1,t.scaleY||1);a.setTransform(e)}return a}}function Yb(r,t,i,n){var a;var e=_b(i);var u=Pb(i);var o=i.strokePercent;var v=o<1;var s=!t.path;if((!t.silent||v)&&s){t.createPathProxy()}var f=t.path||Bb;var l=t.__dirty;if(!n){var h=i.fill;var c=i.stroke;var d=u&&!!h.colorStops;var p=e&&!!c.colorStops;var m=u&&!!h.image;var y=e&&!!c.image;var g=void 0;var b=void 0;var w=void 0;var x=void 0;var M=void 0;if(d||p){M=t.getBoundingRect()}if(d){g=l?zb(r,h,M):t.__canvasFillGradient;t.__canvasFillGradient=g}if(p){b=l?zb(r,c,M):t.__canvasStrokeGradient;t.__canvasStrokeGradient=b}if(m){w=l||!t.__canvasFillPattern?Hb(r,h,t):t.__canvasFillPattern;t.__canvasFillPattern=w}if(y){x=l||!t.__canvasStrokePattern?Hb(r,c,t):t.__canvasStrokePattern;t.__canvasStrokePattern=w}if(d){r.fillStyle=g}else if(m){if(w){r.fillStyle=w}else{u=false}}if(p){r.strokeStyle=b}else if(y){if(x){r.strokeStyle=x}else{e=false}}}var S=t.getGlobalScale();f.setScale(S[0],S[1],t.segmentIgnoreThreshold);var k;var N;if(r.setLineDash&&i.lineDash){a=Fb(t),k=a[0],N=a[1]}var A=true;if(s||l&yi){f.setDPR(r.dpr);if(v){f.setContext(null)}else{f.setContext(r);A=false}f.reset();t.buildPath(f,t.shape,n);f.toStatic();t.pathUpdated()}if(A){f.rebuildPath(r,v?o:1)}if(k){r.setLineDash(k);r.lineDashOffset=N}if(!n){if(i.strokeFirst){if(e){Vb(r,i)}if(u){Wb(r,i)}}else{if(u){Wb(r,i)}if(e){Vb(r,i)}}}if(k){r.setLineDash([])}}function Xb(r,t,i){var n=t.__image=so(i.image,t.__image,t,t.onload);if(!n||!lo(n)){return}var a=i.x||0;var e=i.y||0;var u=t.getWidth();var o=t.getHeight();var v=n.width/n.height;if(u==null&&o!=null){u=o*v}else if(o==null&&u!=null){o=u/v}else if(u==null&&o==null){u=n.width;o=n.height}if(i.sWidth&&i.sHeight){var s=i.sx||0;var f=i.sy||0;r.drawImage(n,s,f,i.sWidth,i.sHeight,a,e,u,o)}else if(i.sx&&i.sy){var s=i.sx;var f=i.sy;var l=u-s;var h=o-f;r.drawImage(n,s,f,l,h,a,e,u,o)}else{r.drawImage(n,a,e,u,o)}}function Gb(r,t,i){var n;var a=i.text;a!=null&&(a+="");if(a){r.font=i.font||l;r.textAlign=i.textAlign;r.textBaseline=i.textBaseline;var e=void 0;var u=void 0;if(r.setLineDash&&i.lineDash){n=Fb(t),e=n[0],u=n[1]}if(e){r.setLineDash(e);r.lineDashOffset=u}if(i.strokeFirst){if(_b(i)){r.strokeText(a,i.x,i.y)}if(Pb(i)){r.fillText(a,i.x,i.y)}}else{if(Pb(i)){r.fillText(a,i.x,i.y)}if(_b(i)){r.strokeText(a,i.x,i.y)}}if(e){r.setLineDash([])}}}var Ub=["shadowBlur","shadowOffsetX","shadowOffsetY"];var Zb=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function jb(r,t,i,n,a){var e=false;if(!n){i=i||{};if(t===i){return false}}if(n||t.opacity!==i.opacity){ew(r,a);e=true;var u=Math.max(Math.min(t.opacity,1),0);r.globalAlpha=isNaN(u)?To.opacity:u}if(n||t.blend!==i.blend){if(!e){ew(r,a);e=true}r.globalCompositeOperation=t.blend||To.blend}for(var o=0;o<Ub.length;o++){var v=Ub[o];if(n||t[v]!==i[v]){if(!e){ew(r,a);e=true}r[v]=r.dpr*(t[v]||0)}}if(n||t.shadowColor!==i.shadowColor){if(!e){ew(r,a);e=true}r.shadowColor=t.shadowColor||To.shadowColor}return e}function qb(r,t,i,n,a){var e=uw(t,a.inHover);var u=n?null:i&&uw(i,a.inHover)||{};if(e===u){return false}var o=jb(r,e,u,n,a);if(n||e.fill!==u.fill){if(!o){ew(r,a);o=true}Eb(e.fill)&&(r.fillStyle=e.fill)}if(n||e.stroke!==u.stroke){if(!o){ew(r,a);o=true}Eb(e.stroke)&&(r.strokeStyle=e.stroke)}if(n||e.opacity!==u.opacity){if(!o){ew(r,a);o=true}r.globalAlpha=e.opacity==null?1:e.opacity}if(t.hasStroke()){var v=e.lineWidth;var s=v/(e.strokeNoScale&&t.getLineScale?t.getLineScale():1);if(r.lineWidth!==s){if(!o){ew(r,a);o=true}r.lineWidth=s}}for(var f=0;f<Zb.length;f++){var l=Zb[f];var h=l[0];if(n||e[h]!==u[h]){if(!o){ew(r,a);o=true}r[h]=e[h]||l[1]}}return o}function Kb(r,t,i,n,a){return jb(r,uw(t,a.inHover),i&&uw(i,a.inHover),n,a)}function Jb(r,t){var i=t.transform;var n=r.dpr||1;if(i){r.setTransform(n*i[0],n*i[1],n*i[2],n*i[3],n*i[4],n*i[5])}else{r.setTransform(n,0,0,n,0,0)}}function $b(r,t,i){var n=false;for(var a=0;a<r.length;a++){var e=r[a];n=n||e.isZeroArea();Jb(t,e);t.beginPath();e.buildPath(t,e.shape);t.clip()}i.allClipped=n}function Qb(r,t){if(r&&t){return r[0]!==t[0]||r[1]!==t[1]||r[2]!==t[2]||r[3]!==t[3]||r[4]!==t[4]||r[5]!==t[5]}else if(!r&&!t){return false}return true}var rw=1;var tw=2;var iw=3;var nw=4;function aw(r){var t=Pb(r);var i=_b(r);return!(r.lineDash||!(+t^+i)||t&&typeof r.fill!=="string"||i&&typeof r.stroke!=="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function ew(r,t){t.batchFill&&r.fill();t.batchStroke&&r.stroke();t.batchFill="";t.batchStroke=""}function uw(r,t){return t?r.__hoverStyle||r.style:r.style}function ow(r,t){vw(r,t,{inHover:false,viewWidth:0,viewHeight:0},true)}function vw(r,t,i,n){var a=t.transform;if(!t.shouldBePainted(i.viewWidth,i.viewHeight,false,false)){t.__dirty&=~pi;t.__isRendered=false;return}var e=t.__clipPaths;var u=i.prevElClipPaths;var o=false;var v=false;if(!u||Lb(e,u)){if(u&&u.length){ew(r,i);r.restore();v=o=true;i.prevElClipPaths=null;i.allClipped=false;i.prevEl=null}if(e&&e.length){ew(r,i);r.save();$b(e,r,i);o=true}i.prevElClipPaths=e}if(i.allClipped){t.__isRendered=false;return}t.beforeBrush&&t.beforeBrush();t.innerBeforeBrush();var s=i.prevEl;if(!s){v=o=true}var f=t instanceof Vv&&t.autoBatch&&aw(t.style);if(o||Qb(a,s.transform)){ew(r,i);Jb(r,t)}else if(!f){ew(r,i)}var l=uw(t,i.inHover);if(t instanceof Vv){if(i.lastDrawType!==rw){v=true;i.lastDrawType=rw}qb(r,t,s,v,i);if(!f||!i.batchFill&&!i.batchStroke){r.beginPath()}Yb(r,t,l,f);if(f){i.batchFill=l.fill||"";i.batchStroke=l.stroke||""}}else{if(t instanceof Yv){if(i.lastDrawType!==iw){v=true;i.lastDrawType=iw}qb(r,t,s,v,i);Gb(r,t,l)}else if(t instanceof Zv){if(i.lastDrawType!==tw){v=true;i.lastDrawType=tw}Kb(r,t,s,v,i);Xb(r,t,l)}else if(t.getTemporalDisplayables){if(i.lastDrawType!==nw){v=true;i.lastDrawType=nw}sw(r,t,i)}}if(f&&n){ew(r,i)}t.innerAfterBrush();t.afterBrush&&t.afterBrush();i.prevEl=t;t.__dirty=0;t.__isRendered=true}function sw(r,t,i){var n=t.getDisplayables();var a=t.getTemporalDisplayables();r.save();var e={prevElClipPaths:null,prevEl:null,allClipped:false,viewWidth:i.viewWidth,viewHeight:i.viewHeight,inHover:i.inHover};var u;var o;for(u=t.getCursor(),o=n.length;u<o;u++){var v=n[u];v.beforeBrush&&v.beforeBrush();v.innerBeforeBrush();vw(r,v,e,u===o-1);v.innerAfterBrush();v.afterBrush&&v.afterBrush();e.prevEl=v}for(var s=0,f=a.length;s<f;s++){var v=a[s];v.beforeBrush&&v.beforeBrush();v.innerBeforeBrush();vw(r,v,e,s===f-1);v.innerAfterBrush();v.afterBrush&&v.afterBrush();e.prevEl=v}t.clearTemporalDisplayables();t.notClear=true;r.restore()}var fw=new db;var lw=new tn(100);var hw=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function cw(r,t){if(r==="none"){return null}var i=t.getDevicePixelRatio();var n=t.getZr();var a=n.painter.type==="svg";if(r.dirty){fw["delete"](r)}var e=fw.get(r);if(e){return e}var u=B(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:true,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});if(u.backgroundColor==="none"){u.backgroundColor=null}var o={repeat:"repeat"};v(o);o.rotation=u.rotation;o.scaleX=o.scaleY=a?1:1/i;fw.set(r,o);r.dirty=false;return o;function v(r){var t=[i];var e=true;for(var o=0;o<hw.length;++o){var v=u[hw[o]];if(v!=null&&!K(v)&&!$(v)&&!rr(v)&&typeof v!=="boolean"){e=false;break}t.push(v)}var s;if(e){s=t.join(",")+(a?"-svg":"");var f=lw.get(s);if(f){a?r.svgElement=f:r.image=f}}var l=pw(u.dashArrayX);var h=mw(u.dashArrayY);var c=dw(u.symbol);var d=yw(l);var p=gw(h);var m=!a&&y.createCanvas();var g=a&&{tag:"g",attrs:{},key:"dcl",children:[]};var b=x();var w;if(m){m.width=b.width*i;m.height=b.height*i;w=m.getContext("2d")}M();if(e){lw.put(s,m||g)}r.image=m;r.svgElement=g;r.svgWidth=b.width;r.svgHeight=b.height;function x(){var r=1;for(var t=0,i=d.length;t<i;++t){r=Qe(r,d[t])}var n=1;for(var t=0,i=c.length;t<i;++t){n=Qe(n,c[t].length)}r*=n;var a=p*d.length*c.length;return{width:Math.max(1,Math.min(r,u.maxTileWidth)),height:Math.max(1,Math.min(a,u.maxTileHeight))}}function M(){if(w){w.clearRect(0,0,m.width,m.height);if(u.backgroundColor){w.fillStyle=u.backgroundColor;w.fillRect(0,0,m.width,m.height)}}var r=0;for(var t=0;t<h.length;++t){r+=h[t]}if(r<=0){return}var e=-p;var o=0;var v=0;var s=0;while(e<b.height){if(o%2===0){var f=v/2%c.length;var d=0;var y=0;var x=0;while(d<b.width*2){var M=0;for(var t=0;t<l[s].length;++t){M+=l[s][t]}if(M<=0){break}if(y%2===0){var S=(1-u.symbolSize)*.5;var k=d+l[s][y]*S;var N=e+h[o]*S;var A=l[s][y]*u.symbolSize;var I=h[o]*u.symbolSize;var C=x/2%c[f].length;T(k,N,A,I,c[f][C])}d+=l[s][y];++x;++y;if(y===l[s].length){y=0}}++s;if(s===l.length){s=0}}e+=h[o];++v;++o;if(o===h.length){o=0}}function T(r,t,e,o,v){var s=a?1:i;var f=kb(v,r*s,t*s,e*s,o*s,u.color,u.symbolKeepAspect);if(a){var l=n.painter.renderOneToVNode(f);if(l){g.children.push(l)}}else{ow(w,f)}}}}}function dw(r){if(!r||r.length===0){return[["rect"]]}if($(r)){return[[r]]}var t=true;for(var i=0;i<r.length;++i){if(!$(r[i])){t=false;break}}if(t){return dw([r])}var n=[];for(var i=0;i<r.length;++i){if($(r[i])){n.push([r[i]])}else{n.push(r[i])}}return n}function pw(r){if(!r||r.length===0){return[[0,0]]}if(rr(r)){var t=Math.ceil(r);return[[t,t]]}var i=true;for(var n=0;n<r.length;++n){if(!rr(r[n])){i=false;break}}if(i){return pw([r])}var a=[];for(var n=0;n<r.length;++n){if(rr(r[n])){var t=Math.ceil(r[n]);a.push([t,t])}else{var t=H(r[n],(function(r){return Math.ceil(r)}));if(t.length%2===1){a.push(t.concat(t))}else{a.push(t)}}}return a}function mw(r){if(!r||typeof r==="object"&&r.length===0){return[0,0]}if(rr(r)){var t=Math.ceil(r);return[t,t]}var i=H(r,(function(r){return Math.ceil(r)}));return r.length%2?i.concat(i):i}function yw(r){return H(r,(function(r){return gw(r)}))}function gw(r){var t=0;for(var i=0;i<r.length;++i){t+=r[i]}if(r.length%2===1){return t*2}return t}function bw(r,t){r.eachRawSeries((function(i){if(r.isSeriesFiltered(i)){return}var n=i.getData();if(n.hasItemVisual()){n.each((function(r){var i=n.getItemVisual(r,"decal");if(i){var a=n.ensureUniqueItemVisual(r,"style");a.decal=cw(i,t)}}))}var a=n.getVisual("decal");if(a){var e=n.getVisual("style");e.decal=cw(a,t)}}))}var ww=new Qr;var xw={};function Mw(r,t){xw[r]=t}function Sw(r){return xw[r]}var kw=1;var Nw=800;var Aw=900;var Iw=1e3;var Cw=2e3;var Tw=5e3;var zw=1e3;var Lw=1100;var Ow=2e3;var Dw=3e3;var Rw=4e3;var Fw=4500;var Bw=4600;var _w=5e3;var Ew=6e3;var Pw=7e3;var Ww={PROCESSOR:{FILTER:Iw,SERIES_FILTER:Nw,STATISTIC:Tw},VISUAL:{LAYOUT:zw,PROGRESSIVE_LAYOUT:Lw,GLOBAL:Ow,CHART:Dw,POST_CHART_LAYOUT:Bw,COMPONENT:Rw,BRUSH:_w,CHART_ITEM:Fw,ARIA:Ew,DECAL:Pw}};var Vw="__flagInMainProcess";var Hw="__pendingUpdate";var Yw="__needsUpdateStatus";var Xw=/^[a-zA-Z0-9_]+$/;var Gw="__connectUpdateStatus";var Uw=0;var Zw=1;var jw=2;function qw(r){return function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}if(this.isDisposed()){return}return Jw(this,r,t)}}function Kw(r){return function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}return Jw(this,r,t)}}function Jw(r,t,i){i[0]=i[0]&&i[0].toLowerCase();return Qr.prototype[t].apply(r,i)}var $w=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(Qr);var Qw=$w.prototype;Qw.on=Kw("on");Qw.off=Kw("off");var rx;var tx;var ix;var nx;var ax;var ex;var ux;var ox;var vx;var sx;var fx;var lx;var hx;var cx;var dx;var px;var mx;var yx;var gx=function(r){a(t,r);function t(t,i,n){var a=r.call(this,new rb)||this;a._chartsViews=[];a._chartsMap={};a._componentsViews=[];a._componentsMap={};a._pendingActions=[];n=n||{};if($(i)){i=Ix[i]}a._dom=t;var e="canvas";var u="auto";var o=false;var v=a._zr=Ne(t,{renderer:n.renderer||e,devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height,ssr:n.ssr,useDirtyRect:fr(n.useDirtyRect,o),useCoarsePointer:fr(n.useCoarsePointer,u),pointerSize:n.pointerSize});a._ssr=n.ssr;a._throttledZrFlush=gg(j(v.flush,v),17);i=O(i);i&&om(i,true);a._theme=i;a._locale=Oc(n.locale||zc);a._coordSysMgr=new Lp;var s=a._api=dx(a);function f(r,t){return r.__prio-t.__prio}di(Ax,f);di(kx,f);a._scheduler=new Og(a,s,kx,Ax);a._messageCenter=new $w;a._initEvents();a.resize=j(a.resize,a);v.animation.on("frame",a._onframe,a);sx(v,a);fx(v,a);yr(a);return a}t.prototype._onframe=function(){if(this._disposed){return}yx(this);var r=this._scheduler;if(this[Hw]){var t=this[Hw].silent;this[Vw]=true;try{rx(this);nx.update.call(this,null,this[Hw].updateParams)}catch(r){this[Vw]=false;this[Hw]=null;throw r}this._zr.flush();this[Vw]=false;this[Hw]=null;ox.call(this,t);vx.call(this,t)}else if(r.unfinished){var i=kw;var n=this._model;var a=this._api;r.unfinished=false;do{var e=+new Date;r.performSeriesTasks(n);r.performDataProcessorTasks(n);ex(this,n);r.performVisualTasks(n);cx(this,this._model,a,"remain",{});i-=+new Date-e}while(i>0&&r.unfinished);if(!r.unfinished){this._zr.flush()}}};t.prototype.getDom=function(){return this._dom};t.prototype.getId=function(){return this.id};t.prototype.getZr=function(){return this._zr};t.prototype.isSSR=function(){return this._ssr};t.prototype.setOption=function(r,t,i){if(this[Vw]){return}if(this._disposed){return}var n;var a;var e;if(tr(t)){i=t.lazyUpdate;n=t.silent;a=t.replaceMerge;e=t.transition;t=t.notMerge}this[Vw]=true;if(!this._model||t){var u=new Dp(this._api);var o=this._theme;var v=this._model=new Mp;v.scheduler=this._scheduler;v.ssr=this._ssr;v.init(null,null,null,o,this._locale,u)}this._model.setOption(r,{replaceMerge:a},Nx);var s={seriesTransition:e,optionChanged:true};if(i){this[Hw]={silent:n,updateParams:s};this[Vw]=false;this.getZr().wakeUp()}else{try{rx(this);nx.update.call(this,null,s)}catch(r){this[Hw]=null;this[Vw]=false;throw r}if(!this._ssr){this._zr.flush()}this[Hw]=null;this[Vw]=false;ox.call(this,n);vx.call(this,n)}};t.prototype.setTheme=function(){};t.prototype.getModel=function(){return this._model};t.prototype.getOption=function(){return this._model&&this._model.getOption()};t.prototype.getWidth=function(){return this._zr.getWidth()};t.prototype.getHeight=function(){return this._zr.getHeight()};t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||o.hasGlobalWindow&&window.devicePixelRatio||1};t.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)};t.prototype.renderToCanvas=function(r){r=r||{};var t=this._zr.painter;return t.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})};t.prototype.renderToSVGString=function(r){r=r||{};var t=this._zr.painter;return t.renderToString({useViewBox:r.useViewBox})};t.prototype.getSvgDataURL=function(){if(!o.svgSupported){return}var r=this._zr;var t=r.storage.getDisplayList();V(t,(function(r){r.stopAnimation(null,true)}));return r.painter.toDataURL()};t.prototype.getDataURL=function(r){if(this._disposed){return}r=r||{};var t=r.excludeComponents;var i=this._model;var n=[];var a=this;V(t,(function(r){i.eachComponent({mainType:r},(function(r){var t=a._componentsMap[r.__viewId];if(!t.group.ignore){n.push(t);t.group.ignore=true}}))}));var e=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));V(n,(function(r){r.group.ignore=false}));return e};t.prototype.getConnectedDataURL=function(r){if(this._disposed){return}var t=r.type==="svg";var i=this.group;var n=Math.min;var a=Math.max;var e=Infinity;if(zx[i]){var u=e;var o=e;var v=-e;var s=-e;var f=[];var l=r&&r.pixelRatio||this.getDevicePixelRatio();V(Tx,(function(e,l){if(e.group===i){var h=t?e.getZr().painter.getSvgDom().innerHTML:e.renderToCanvas(O(r));var c=e.getDom().getBoundingClientRect();u=n(c.left,u);o=n(c.top,o);v=a(c.right,v);s=a(c.bottom,s);f.push({dom:h,left:c.left,top:c.top})}}));u*=l;o*=l;v*=l;s*=l;var h=v-u;var c=s-o;var d=y.createCanvas();var p=Ne(d,{renderer:t?"svg":"canvas"});p.resize({width:h,height:c});if(t){var m="";V(f,(function(r){var t=r.left-u;var i=r.top-o;m+='<g transform="translate('+t+","+i+')">'+r.dom+"</g>"}));p.painter.getSvgRoot().innerHTML=m;if(r.connectedBackgroundColor){p.painter.setBackgroundColor(r.connectedBackgroundColor)}p.refreshImmediately();return p.painter.toDataURL()}else{if(r.connectedBackgroundColor){p.add(new ts({shape:{x:0,y:0,width:h,height:c},style:{fill:r.connectedBackgroundColor}}))}V(f,(function(r){var t=new Zv({style:{x:r.left*l-u,y:r.top*l-o,image:r.dom}});p.add(t)}));p.refreshImmediately();return d.toDataURL("image/"+(r&&r.type||"png"))}}else{return this.getDataURL(r)}};t.prototype.convertToPixel=function(r,t){return ax(this,"convertToPixel",r,t)};t.prototype.convertFromPixel=function(r,t){return ax(this,"convertFromPixel",r,t)};t.prototype.containPixel=function(r,t){if(this._disposed){return}var i=this._model;var n;var a=Du(i,r);V(a,(function(r,i){i.indexOf("Models")>=0&&V(r,(function(r){var a=r.coordinateSystem;if(a&&a.containPoint){n=n||!!a.containPoint(t)}else if(i==="seriesModels"){var e=this._chartsMap[r.__viewId];if(e&&e.containPoint){n=n||e.containPoint(t,r)}}else;}),this)}),this);return!!n};t.prototype.getVisual=function(r,t){var i=this._model;var n=Du(i,r,{defaultMainType:"series"});var a=n.seriesModel;var e=a.getData();var u=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?e.indexOfRawIndex(n.dataIndex):null;return u!=null?eb(e,u,t):ub(e,t)};t.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]};t.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]};t.prototype._initEvents=function(){var r=this;V(xx,(function(t){var i=function(i){var n=r.getModel();var a=i.target;var e;var u=t==="globalout";if(u){e={}}else{a&&lb(a,(function(r){var t=bs(r);if(t&&t.dataIndex!=null){var i=t.dataModel||n.getSeriesByIndex(t.seriesIndex);e=i&&i.getDataParams(t.dataIndex,t.dataType,a)||{};return true}else if(t.eventData){e=F({},t.eventData);return true}}),true)}if(e){var o=e.componentType;var v=e.componentIndex;if(o==="markLine"||o==="markPoint"||o==="markArea"){o="series";v=e.seriesIndex}var s=o&&v!=null&&n.getComponent(o,v);var f=s&&r[s.mainType==="series"?"_chartsMap":"_componentsMap"][s.__viewId];e.event=i;e.type=t;r._$eventProcessor.eventInfo={targetEl:a,packedEvent:e,model:s,view:f};r.trigger(t,e)}};i.zrEventfulCallAtLast=true;r._zr.on(t,i,r)}));V(Sx,(function(t,i){r._messageCenter.on(i,(function(r){this.trigger(i,r)}),r)}));V(["selectchanged"],(function(t){r._messageCenter.on(t,(function(r){this.trigger(t,r)}),r)}));fb(this._messageCenter,this,this._api)};t.prototype.isDisposed=function(){return this._disposed};t.prototype.clear=function(){if(this._disposed){return}this.setOption({series:[]},true)};t.prototype.dispose=function(){if(this._disposed){return}this._disposed=true;var r=this.getDom();if(r){Eu(this.getDom(),Ox,"")}var t=this;var i=t._api;var n=t._model;V(t._componentsViews,(function(r){r.dispose(n,i)}));V(t._chartsViews,(function(r){r.dispose(n,i)}));t._zr.dispose();t._dom=t._model=t._chartsMap=t._componentsMap=t._chartsViews=t._componentsViews=t._scheduler=t._api=t._zr=t._throttledZrFlush=t._theme=t._coordSysMgr=t._messageCenter=null;delete Tx[t.id]};t.prototype.resize=function(r){if(this[Vw]){return}if(this._disposed){return}this._zr.resize(r);var t=this._model;this._loadingFX&&this._loadingFX.resize();if(!t){return}var i=t.resetOption("media");var n=r&&r.silent;if(this[Hw]){if(n==null){n=this[Hw].silent}i=true;this[Hw]=null}this[Vw]=true;try{i&&rx(this);nx.update.call(this,{type:"resize",animation:F({duration:0},r&&r.animation)})}catch(r){this[Vw]=false;throw r}this[Vw]=false;ox.call(this,n);vx.call(this,n)};t.prototype.showLoading=function(r,t){if(this._disposed){return}if(tr(r)){t=r;r=""}r=r||"default";this.hideLoading();if(!Cx[r]){return}var i=Cx[r](this._api,t);var n=this._zr;this._loadingFX=i;n.add(i)};t.prototype.hideLoading=function(){if(this._disposed){return}this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};t.prototype.makeActionFromEvent=function(r){var t=F({},r);t.type=Sx[r.type];return t};t.prototype.dispatchAction=function(r,t){if(this._disposed){return}if(!tr(t)){t={silent:!!t}}if(!Mx[r.type]){return}if(!this._model){return}if(this[Vw]){this._pendingActions.push(r);return}var i=t.silent;ux.call(this,r,i);var n=t.flush;if(n){this._zr.flush()}else if(n!==false&&o.browser.weChat){this._throttledZrFlush()}ox.call(this,i);vx.call(this,i)};t.prototype.updateLabelLayout=function(){ww.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})};t.prototype.appendData=function(r){if(this._disposed){return}var t=r.seriesIndex;var i=this.getModel();var n=i.getSeriesByIndex(t);n.appendData(r);this._scheduler.unfinished=true;this.getZr().wakeUp()};t.internalField=function(){rx=function(r){var t=r._scheduler;t.restorePipelines(r._model);t.prepareStageTasks();tx(r,true);tx(r,false);t.plan()};tx=function(r,t){var i=r._model;var n=r._scheduler;var a=t?r._componentsViews:r._chartsViews;var e=t?r._componentsMap:r._chartsMap;var u=r._zr;var o=r._api;for(var v=0;v<a.length;v++){a[v].__alive=false}t?i.eachComponent((function(r,t){r!=="series"&&s(t)})):i.eachSeries(s);function s(r){var v=r.__requireNewView;r.__requireNewView=false;var s="_ec_"+r.id+"_"+r.type;var f=!v&&e[s];if(!f){var l=Uu(r.type);var h=t?eg.getClass(l.main,l.sub):sg.getClass(l.sub);f=new h;f.init(i,o);e[s]=f;a.push(f);u.add(f.group)}r.__viewId=f.__id=s;f.__alive=true;f.__model=r;f.group.__ecComponentInfo={mainType:r.mainType,index:r.componentIndex};!t&&n.prepareView(f,r,i,o)}for(var v=0;v<a.length;){var f=a[v];if(!f.__alive){!t&&f.renderTask.dispose();u.remove(f.group);f.dispose(i,o);a.splice(v,1);if(e[f.__id]===f){delete e[f.__id]}f.__id=f.group.__ecComponentInfo=null}else{v++}}};ix=function(r,t,i,n,a){var e=r._model;e.setUpdatePayload(i);if(!n){V([].concat(r._componentsViews).concat(r._chartsViews),f);return}var u={};u[n+"Id"]=i[n+"Id"];u[n+"Index"]=i[n+"Index"];u[n+"Name"]=i[n+"Name"];var o={mainType:n,query:u};a&&(o.subType=a);var v=i.excludeSeriesId;var s;if(v!=null){s=Sr();V(su(v),(function(r){var t=Su(r,null);if(t!=null){s.set(t,true)}}))}e&&e.eachComponent(o,(function(t){var n=s&&s.get(t.id)!=null;if(n){return}if(Rf(i)){if(t instanceof Ky){if(i.type===Os&&!i.notBlur&&!t.get(["emphasis","disabled"])){pf(t,i,r._api)}}else{var a=mf(t.mainType,t.componentIndex,i.name,r._api),e=a.focusSelf,u=a.dispatchers;if(i.type===Os&&e&&!i.notBlur){df(t.mainType,t.componentIndex,r._api)}if(u){V(u,(function(r){i.type===Os?ef(r):uf(r)}))}}}else if(Df(i)){if(t instanceof Ky){bf(t,i);wf(t);mx(r)}}}),r);e&&e.eachComponent(o,(function(t){var i=s&&s.get(t.id)!=null;if(i){return}f(r[n==="series"?"_chartsMap":"_componentsMap"][t.__viewId])}),r);function f(n){n&&n.__alive&&n[t]&&n[t](n.__model,e,r._api,i)}};nx={prepareAndUpdate:function(r){rx(this);nx.update.call(this,r,{optionChanged:r.newOption!=null})},update:function(t,i){var n=this._model;var a=this._api;var e=this._zr;var u=this._coordSysMgr;var o=this._scheduler;if(!n){return}n.setUpdatePayload(t);o.restoreData(n,t);o.performSeriesTasks(n);u.create(n,a);o.performDataProcessorTasks(n,t);ex(this,n);u.update(n,a);r(n);o.performVisualTasks(n,t);lx(this,n,a,t,i);var v=n.get("backgroundColor")||"transparent";var s=n.get("darkMode");e.setBackgroundColor(v);if(s!=null&&s!=="auto"){e.setDarkMode(s)}ww.trigger("afterupdate",n,a)},updateTransform:function(t){var i=this;var n=this._model;var a=this._api;if(!n){return}n.setUpdatePayload(t);n.eachComponent((function(r,e){if(r==="series"){return}var u=i.getViewOfComponentModel(e);if(u&&u.__alive){if(u.updateTransform){u.updateTransform(e,n,a,t)}}}));var e=Sr();n.eachSeries((function(r){var u=i._chartsMap[r.__viewId];if(u.updateTransform){var o=u.updateTransform(r,n,a,t);o&&o.update&&e.set(r.uid,1)}else{e.set(r.uid,1)}}));r(n);this._scheduler.performVisualTasks(n,t,{setDirty:true,dirtyMap:e});cx(this,n,a,t,{},e);ww.trigger("afterupdate",n,a)},updateView:function(t){var i=this._model;if(!i){return}i.setUpdatePayload(t);sg.markUpdateMethod(t,"updateView");r(i);this._scheduler.performVisualTasks(i,t,{setDirty:true});lx(this,i,this._api,t,{});ww.trigger("afterupdate",i,this._api)},updateVisual:function(t){var i=this;var n=this._model;if(!n){return}n.setUpdatePayload(t);n.eachSeries((function(r){r.getData().clearAllVisual()}));sg.markUpdateMethod(t,"updateVisual");r(n);this._scheduler.performVisualTasks(n,t,{visualType:"visual",setDirty:true});n.eachComponent((function(r,a){if(r!=="series"){var e=i.getViewOfComponentModel(a);e&&e.__alive&&e.updateVisual(a,n,i._api,t)}}));n.eachSeries((function(r){var a=i._chartsMap[r.__viewId];a.updateVisual(r,n,i._api,t)}));ww.trigger("afterupdate",n,this._api)},updateLayout:function(r){nx.update.call(this,r)}};ax=function(r,t,i,n){if(r._disposed){return}var a=r._model;var e=r._coordSysMgr.getCoordinateSystems();var u;var o=Du(a,i);for(var v=0;v<e.length;v++){var s=e[v];if(s[t]&&(u=s[t](a,o,n))!=null){return u}}};ex=function(r,t){var i=r._chartsMap;var n=r._scheduler;t.eachSeries((function(r){n.updateStreamModes(r,i[r.__viewId])}))};ux=function(r,t){var i=this;var n=this.getModel();var a=r.type;var e=r.escapeConnect;var u=Mx[a];var o=u.actionInfo;var v=(o.update||"update").split(":");var s=v.pop();var f=v[0]!=null&&Uu(v[0]);this[Vw]=true;var l=[r];var h=false;if(r.batch){h=true;l=H(r.batch,(function(t){t=B(F({},t),r);t.batch=null;return t}))}var c=[];var d;var p=Df(r);var m=Rf(r);if(m){hf(this._api)}V(l,(function(t){d=u.action(t,i._model,i._api);d=d||F({},t);d.type=o.event||d.type;c.push(d);if(m){var n=Ru(r),a=n.queryOptionMap,e=n.mainTypeSpecified;var v=e?a.keys()[0]:"series";ix(i,s,t,v);mx(i)}else if(p){ix(i,s,t,"series");mx(i)}else if(f){ix(i,s,t,f.main,f.sub)}}));if(s!=="none"&&!m&&!p&&!f){try{if(this[Hw]){rx(this);nx.update.call(this,r);this[Hw]=null}else{nx[s].call(this,r)}}catch(r){this[Vw]=false;throw r}}if(h){d={type:o.event||a,escapeConnect:e,batch:c}}else{d=c[0]}this[Vw]=false;if(!t){var y=this._messageCenter;y.trigger(d.type,d);if(p){var g={type:"selectchanged",escapeConnect:e,selected:xf(n),isFromClick:r.isFromClick||false,fromAction:r.type,fromActionPayload:r};y.trigger(g.type,g)}}};ox=function(r){var t=this._pendingActions;while(t.length){var i=t.shift();ux.call(this,i,r)}};vx=function(r){!r&&this.trigger("updated")};sx=function(r,t){r.on("rendered",(function(i){t.trigger("rendered",i);if(r.animation.isFinished()&&!t[Hw]&&!t._scheduler.unfinished&&!t._pendingActions.length){t.trigger("finished")}}))};fx=function(r,t){r.on("mouseover",(function(r){var i=r.target;var n=lb(i,zf);if(n){yf(n,r,t._api);mx(t)}})).on("mouseout",(function(r){var i=r.target;var n=lb(i,zf);if(n){gf(n,r,t._api);mx(t)}})).on("click",(function(r){var i=r.target;var n=lb(i,(function(r){return bs(r).dataIndex!=null}),true);if(n){var a=n.selected?"unselect":"select";var e=bs(n);t._api.dispatchAction({type:a,dataType:e.dataType,dataIndexInside:e.dataIndex,seriesIndex:e.seriesIndex,isFromClick:true})}}))};function r(r){r.clearColorPalette();r.eachSeries((function(r){r.clearColorPalette()}))}function t(r){var t=[];var i=[];var n=false;r.eachComponent((function(r,a){var e=a.get("zlevel")||0;var u=a.get("z")||0;var o=a.getZLevelKey();n=n||!!o;(r==="series"?i:t).push({zlevel:e,z:u,idx:a.componentIndex,type:r,key:o})}));if(n){var a=t.concat(i);var e;var u;di(a,(function(r,t){if(r.zlevel===t.zlevel){return r.z-t.z}return r.zlevel-t.zlevel}));V(a,(function(t){var i=r.getComponent(t.type,t.idx);var n=t.zlevel;var a=t.key;if(e!=null){n=Math.max(e,n)}if(a){if(n===e&&a!==u){n++}u=a}else if(u){if(n===e){n++}u=""}e=n;i.setZLevel(n)}))}}lx=function(r,i,n,a,e){t(i);hx(r,i,n,a,e);V(r._chartsViews,(function(r){r.__alive=false}));cx(r,i,n,a,e);V(r._chartsViews,(function(r){if(!r.__alive){r.remove(i,n)}}))};hx=function(r,t,i,n,a,e){V(e||r._componentsViews,(function(r){var a=r.__model;s(a,r);r.render(a,t,i,n);u(a,r);f(a,r)}))};cx=function(r,t,i,a,o,v){var l=r._scheduler;o=F(o||{},{updatedSeries:t.getSeries()});ww.trigger("series:beforeupdate",t,i,o);var h=false;t.eachSeries((function(t){var i=r._chartsMap[t.__viewId];i.__alive=true;var n=i.renderTask;l.updatePayload(n,a);s(t,i);if(v&&v.get(t.uid)){n.dirty()}if(n.perform(l.getPerformArgs(n))){h=true}i.group.silent=!!t.get("silent");e(t,i);wf(t)}));l.unfinished=h||l.unfinished;ww.trigger("series:layoutlabels",t,i,o);ww.trigger("series:transition",t,i,o);t.eachSeries((function(t){var i=r._chartsMap[t.__viewId];u(t,i);f(t,i)}));n(r,t);ww.trigger("series:afterupdate",t,i,o)};mx=function(r){r[Yw]=true;r.getZr().wakeUp()};yx=function(r){if(!r[Yw]){return}r.getZr().storage.traverse((function(r){if(eh(r)){return}i(r)}));r[Yw]=false};function i(r){var t=[];var i=r.currentStates;for(var n=0;n<i.length;n++){var a=i[n];if(!(a==="emphasis"||a==="blur"||a==="select")){t.push(a)}}if(r.selected&&r.states.select){t.push("select")}if(r.hoverState===Is&&r.states.emphasis){t.push("emphasis")}else if(r.hoverState===As&&r.states.blur){t.push("blur")}r.useStates(t)}function n(r,t){var i=r._zr;var n=i.storage;var a=0;n.traverse((function(r){if(!r.isGroup){a++}}));if(a>t.get("hoverLayerThreshold")&&!o.node&&!o.worker){t.eachSeries((function(t){if(t.preventUsingHoverLayer){return}var i=r._chartsMap[t.__viewId];if(i.__alive){i.eachRendered((function(r){if(r.states.emphasis){r.states.emphasis.hoverLayer=true}}))}}))}}function e(r,t){var i=r.get("blendMode")||null;t.eachRendered((function(r){if(!r.isGroup){r.style.blend=i}}))}function u(r,t){if(r.preventAutoZ){return}var i=r.get("z")||0;var n=r.get("zlevel")||0;t.eachRendered((function(r){v(r,i,n,-Infinity);return true}))}function v(r,t,i,n){var a=r.getTextContent();var e=r.getTextGuideLine();var u=r.isGroup;if(u){var o=r.childrenRef();for(var s=0;s<o.length;s++){n=Math.max(v(o[s],t,i,n),n)}}else{r.z=t;r.zlevel=i;n=Math.max(r.z2,n)}if(a){a.z=t;a.zlevel=i;isFinite(n)&&(a.z2=n+2)}if(e){var f=r.textGuideLineConfig;e.z=t;e.zlevel=i;isFinite(n)&&(e.z2=n+(f&&f.showAbove?1:-1))}return n}function s(r,t){t.eachRendered((function(r){if(eh(r)){return}var t=r.getTextContent();var i=r.getTextGuideLine();if(r.stateTransition){r.stateTransition=null}if(t&&t.stateTransition){t.stateTransition=null}if(i&&i.stateTransition){i.stateTransition=null}if(r.hasState()){r.prevStates=r.currentStates;r.clearStates()}else if(r.prevStates){r.prevStates=null}}))}function f(r,t){var n=r.getModel("stateAnimation");var a=r.isAnimationEnabled();var e=n.get("duration");var u=e>0?{duration:e,delay:n.get("delay"),easing:n.get("easing")}:null;t.eachRendered((function(r){if(r.states&&r.states.emphasis){if(eh(r)){return}if(r instanceof Vv){Ff(r)}if(r.__dirty){var t=r.prevStates;if(t){r.useStates(t)}}if(a){r.stateTransition=u;var n=r.getTextContent();var e=r.getTextGuideLine();if(n){n.stateTransition=u}if(e){e.stateTransition=u}}if(r.__dirty){i(r)}}}))}dx=function(r){return new(function(t){a(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.getCoordinateSystems=function(){return r._coordSysMgr.getCoordinateSystems()};i.prototype.getComponentByElement=function(t){while(t){var i=t.__ecComponentInfo;if(i!=null){return r._model.getComponent(i.mainType,i.index)}t=t.parent}};i.prototype.enterEmphasis=function(t,i){ef(t,i);mx(r)};i.prototype.leaveEmphasis=function(t,i){uf(t,i);mx(r)};i.prototype.enterBlur=function(t){of(t);mx(r)};i.prototype.leaveBlur=function(t){vf(t);mx(r)};i.prototype.enterSelect=function(t){sf(t);mx(r)};i.prototype.leaveSelect=function(t){ff(t);mx(r)};i.prototype.getModel=function(){return r.getModel()};i.prototype.getViewOfComponentModel=function(t){return r.getViewOfComponentModel(t)};i.prototype.getViewOfSeriesModel=function(t){return r.getViewOfSeriesModel(t)};return i}(Tp))(r)};px=function(r){function t(r,t){for(var i=0;i<r.length;i++){var n=r[i];n[Gw]=t}}V(Sx,(function(i,n){r._messageCenter.on(n,(function(i){if(zx[r.group]&&r[Gw]!==Uw){if(i&&i.escapeConnect){return}var n=r.makeActionFromEvent(i);var a=[];V(Tx,(function(t){if(t!==r&&t.group===r.group){a.push(t)}}));t(a,Uw);V(a,(function(r){if(r[Gw]!==Zw){r.dispatchAction(n)}}));t(a,jw)}}))}))}}();return t}(Qr);var bx=gx.prototype;bx.on=qw("on");bx.off=qw("off");bx.one=function(r,t,i){var n=this;function a(){var i=[];for(var e=0;e<arguments.length;e++){i[e]=arguments[e]}t&&t.apply&&t.apply(this,i);n.off(r,a)}this.on.call(this,r,a,i)};var xx=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var Mx={};var Sx={};var kx=[];var Nx=[];var Ax=[];var Ix={};var Cx={};var Tx={};var zx={};var Lx=+new Date-0;var Ox="_echarts_instance_";function Dx(r,t,i){var n=!(i&&i.ssr);if(n){var a=Rx(r);if(a){return a}}var e=new gx(r,t,i);e.id="ec_"+Lx++;Tx[e.id]=e;n&&Eu(r,Ox,e.id);px(e);ww.trigger("afterinit",e);return e}function Rx(r){return Tx[Pu(r,Ox)]}function Fx(r,t){Ix[r]=t}function Bx(r){if(_(Nx,r)<0){Nx.push(r)}}function _x(r,t){Ux(kx,r,t,Cw)}function Ex(r){Wx("afterinit",r)}function Px(r){Wx("afterupdate",r)}function Wx(r,t){ww.on(r,t)}function Vx(r,t,i){if(J(t)){i=t;t=""}var n=tr(r)?r.type:[r,r={event:t}][0];r.event=(r.event||n).toLowerCase();t=r.event;if(Sx[t]){return}dr(Xw.test(n)&&Xw.test(t));if(!Mx[n]){Mx[n]={action:i,actionInfo:r}}Sx[t]=n}function Hx(r,t){Lp.register(r,t)}function Yx(r,t){Ux(Ax,r,t,zw,"layout")}function Xx(r,t){Ux(Ax,r,t,Dw,"visual")}var Gx=[];function Ux(r,t,i,n,a){if(J(t)||tr(t)){i=t;t=n}if(_(Gx,i)>=0){return}Gx.push(i);var e=Og.wrapStageHandler(i,a);e.__prio=t;e.__raw=i;r.push(e)}function Zx(r,t){Cx[r]=t}function jx(r,t,i){var n=Sw("registerMap");n&&n(r,t,i)}var qx=ey;Xx(Ow,Ag);Xx(Fw,Cg);Xx(Fw,Tg);Xx(Ow,nb);Xx(Fw,ab);Xx(Pw,bw);Bx(om);_x(Aw,vm);Zx("default",Lg);Vx({type:Os,event:Os,update:Os},Cr);Vx({type:Ds,event:Ds,update:Ds},Cr);Vx({type:Rs,event:Rs,update:Rs},Cr);Vx({type:Fs,event:Fs,update:Fs},Cr);Vx({type:Bs,event:Bs,update:Bs},Cr);Fx("light",jg);Fx("dark",Qg);var Kx=[];var Jx={registerPreprocessor:Bx,registerProcessor:_x,registerPostInit:Ex,registerPostUpdate:Px,registerUpdateLifecycle:Wx,registerAction:Vx,registerCoordinateSystem:Hx,registerLayout:Yx,registerVisual:Xx,registerTransform:qx,registerLoading:Zx,registerMap:jx,registerImpl:Mw,PRIORITY:Ww,ComponentModel:Ed,ComponentView:eg,SeriesModel:Ky,ChartView:sg,registerComponentModel:function(r){Ed.registerClass(r)},registerComponentView:function(r){eg.registerClass(r)},registerSeriesModel:function(r){Ky.registerClass(r)},registerChartView:function(r){sg.registerClass(r)},registerSubTypeDefaulter:function(r,t){Ed.registerSubTypeDefaulter(r,t)},registerPainter:function(r,t){Ae(r,t)}};function $x(r){if(K(r)){V(r,(function(r){$x(r)}));return}if(_(Kx,r)>=0){return}Kx.push(r);if(J(r)){r={install:r}}r.install(Jx)}function Qx(r){return r==null?0:r.length||1}function rM(r){return r}var tM=function(){function r(r,t,i,n,a,e){this._old=r;this._new=t;this._oldKeyGetter=i||rM;this._newKeyGetter=n||rM;this.context=a;this._diffModeMultiple=e==="multiple"}r.prototype.add=function(r){this._add=r;return this};r.prototype.update=function(r){this._update=r;return this};r.prototype.updateManyToOne=function(r){this._updateManyToOne=r;return this};r.prototype.updateOneToMany=function(r){this._updateOneToMany=r;return this};r.prototype.updateManyToMany=function(r){this._updateManyToMany=r;return this};r.prototype.remove=function(r){this._remove=r;return this};r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()};r.prototype._executeOneToOne=function(){var r=this._old;var t=this._new;var i={};var n=new Array(r.length);var a=new Array(t.length);this._initIndexMap(r,null,n,"_oldKeyGetter");this._initIndexMap(t,i,a,"_newKeyGetter");for(var e=0;e<r.length;e++){var u=n[e];var o=i[u];var v=Qx(o);if(v>1){var s=o.shift();if(o.length===1){i[u]=o[0]}this._update&&this._update(s,e)}else if(v===1){i[u]=null;this._update&&this._update(o,e)}else{this._remove&&this._remove(e)}}this._performRestAdd(a,i)};r.prototype._executeMultiple=function(){var r=this._old;var t=this._new;var i={};var n={};var a=[];var e=[];this._initIndexMap(r,i,a,"_oldKeyGetter");this._initIndexMap(t,n,e,"_newKeyGetter");for(var u=0;u<a.length;u++){var o=a[u];var v=i[o];var s=n[o];var f=Qx(v);var l=Qx(s);if(f>1&&l===1){this._updateManyToOne&&this._updateManyToOne(s,v);n[o]=null}else if(f===1&&l>1){this._updateOneToMany&&this._updateOneToMany(s,v);n[o]=null}else if(f===1&&l===1){this._update&&this._update(s,v);n[o]=null}else if(f>1&&l>1){this._updateManyToMany&&this._updateManyToMany(s,v);n[o]=null}else if(f>1){for(var h=0;h<f;h++){this._remove&&this._remove(v[h])}}else{this._remove&&this._remove(v)}}this._performRestAdd(e,n)};r.prototype._performRestAdd=function(r,t){for(var i=0;i<r.length;i++){var n=r[i];var a=t[n];var e=Qx(a);if(e>1){for(var u=0;u<e;u++){this._add&&this._add(a[u])}}else if(e===1){this._add&&this._add(a)}t[n]=null}};r.prototype._initIndexMap=function(r,t,i,n){var a=this._diffModeMultiple;for(var e=0;e<r.length;e++){var u="_ec_"+this[n](r[e],e);if(!a){i[e]=u}if(!t){continue}var o=t[u];var v=Qx(o);if(v===0){t[u]=e;if(a){i.push(u)}}else if(v===1){t[u]=[o,e]}else{o.push(e)}}};return r}();var iM=function(){function r(r,t){this._encode=r;this._schema=t}r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}};r.prototype._getFullDimensionNames=function(){if(!this._cachedDimNames){this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]}return this._cachedDimNames};return r}();function nM(r,t){var i={};var n=i.encode={};var a=Sr();var e=[];var u=[];var o={};V(r.dimensions,(function(t){var i=r.getDimensionInfo(t);var v=i.coordDim;if(v){var s=i.coordDimIndex;aM(n,v)[s]=t;if(!i.isExtraCoord){a.set(v,1);if(uM(i.type)){e[0]=t}aM(o,v)[s]=r.getDimensionIndex(i.name)}if(i.defaultTooltip){u.push(t)}}Yd.each((function(r,t){var a=aM(n,t);var e=i.otherDims[t];if(e!=null&&e!==false){a[e]=i.name}}))}));var v=[];var s={};a.each((function(r,t){var i=n[t];s[t]=i[0];v=v.concat(i)}));i.dataDimsOnCoord=v;i.dataDimIndicesOnCoord=H(v,(function(t){return r.getDimensionInfo(t).storeDimIndex}));i.encodeFirstDimNotExtra=s;var f=n.label;if(f&&f.length){e=f.slice()}var l=n.tooltip;if(l&&l.length){u=l.slice()}else if(!u.length){u=e.slice()}n.defaultedLabel=e;n.defaultedTooltip=u;i.userOutput=new iM(o,t);return i}function aM(r,t){if(!r.hasOwnProperty(t)){r[t]=[]}return r[t]}function eM(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function uM(r){return!(r==="ordinal"||r==="time")}var oM=function(){function r(r){this.otherDims={};if(r!=null){F(this,r)}}return r}();var vM=Lu();var sM={float:"f",int:"i",ordinal:"o",number:"n",time:"t"};var fM=function(){function r(r){this.dimensions=r.dimensions;this._dimOmitted=r.dimensionOmitted;this.source=r.source;this._fullDimCount=r.fullDimensionCount;this._updateDimOmitted(r.dimensionOmitted)}r.prototype.isDimensionOmitted=function(){return this._dimOmitted};r.prototype._updateDimOmitted=function(r){this._dimOmitted=r;if(!r){return}if(!this._dimNameMap){this._dimNameMap=cM(this.source)}};r.prototype.getSourceDimensionIndex=function(r){return fr(this._dimNameMap.get(r),-1)};r.prototype.getSourceDimension=function(r){var t=this.source.dimensionsDefine;if(t){return t[r]}};r.prototype.makeStoreSchema=function(){var r=this._fullDimCount;var t=wm(this.source);var i=!dM(r);var n="";var a=[];for(var e=0,u=0;e<r;e++){var o=void 0;var v=void 0;var s=void 0;var f=this.dimensions[u];if(f&&f.storeDimIndex===e){o=t?f.name:null;v=f.type;s=f.ordinalMeta;u++}else{var l=this.getSourceDimension(e);if(l){o=t?l.name:null;v=l.type}}a.push({property:o,type:v,ordinalMeta:s});if(t&&o!=null&&(!f||!f.isCalculationCoord)){n+=i?o.replace(/\`/g,"`1").replace(/\$/g,"`2"):o}n+="$";n+=sM[v]||"f";if(s){n+=s.uid}n+="$"}var h=this.source;var c=[h.seriesLayoutBy,h.startIndex,n].join("$$");return{dimensions:a,hash:c}};r.prototype.makeOutputDimensionNames=function(){var r=[];for(var t=0,i=0;t<this._fullDimCount;t++){var n=void 0;var a=this.dimensions[i];if(a&&a.storeDimIndex===t){if(!a.isCalculationCoord){n=a.name}i++}else{var e=this.getSourceDimension(t);if(e){n=e.name}}r.push(n)}return r};r.prototype.appendCalculationDimension=function(r){this.dimensions.push(r);r.isCalculationCoord=true;this._fullDimCount++;this._updateDimOmitted(true)};return r}();function lM(r){return r instanceof fM}function hM(r){var t=Sr();for(var i=0;i<(r||[]).length;i++){var n=r[i];var a=tr(n)?n.name:n;if(a!=null&&t.get(a)==null){t.set(a,i)}}return t}function cM(r){var t=vM(r);return t.dimNameMap||(t.dimNameMap=hM(r.dimensionsDefine))}function dM(r){return r>30}var pM=tr;var mM=H;var yM=typeof Int32Array==="undefined"?Array:Int32Array;var gM="e\0\0";var bM=-1;var wM=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"];var xM=["_approximateExtent"];var MM;var SM;var kM;var NM;var AM;var IM;var CM;var TM=function(){function r(r,t){this.type="list";this._dimOmitted=false;this._nameList=[];this._idList=[];this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[];this._approximateExtent={};this._calculationInfo={};this.hasItemOption=false;this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"];this.CHANGABLE_METHODS=["filterSelf","selectRange"];this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i;var n=false;if(lM(r)){i=r.dimensions;this._dimOmitted=r.isDimensionOmitted();this._schema=r}else{n=true;i=r}i=i||["x","y"];var a={};var e=[];var u={};var o=false;var v={};for(var s=0;s<i.length;s++){var f=i[s];var l=$(f)?new oM({name:f}):!(f instanceof oM)?new oM(f):f;var h=l.name;l.type=l.type||"float";if(!l.coordDim){l.coordDim=h;l.coordDimIndex=0}var c=l.otherDims=l.otherDims||{};e.push(h);a[h]=l;if(v[h]!=null){o=true}if(l.createInvertedIndices){u[h]=[]}if(c.itemName===0){this._nameDimIdx=s}if(c.itemId===0){this._idDimIdx=s}if(n){l.storeDimIndex=s}}this.dimensions=e;this._dimInfos=a;this._initGetDimensionInfo(o);this.hostModel=t;this._invertedIndicesMap=u;if(this._dimOmitted){var d=this._dimIdxToName=Sr();V(e,(function(r){d.set(a[r].storeDimIndex,r)}))}}r.prototype.getDimension=function(r){var t=this._recognizeDimIndex(r);if(t==null){return r}t=r;if(!this._dimOmitted){return this.dimensions[t]}var i=this._dimIdxToName.get(t);if(i!=null){return i}var n=this._schema.getSourceDimension(t);if(n){return n.name}};r.prototype.getDimensionIndex=function(r){var t=this._recognizeDimIndex(r);if(t!=null){return t}if(r==null){return-1}var i=this._getDimInfo(r);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(r):-1};r.prototype._recognizeDimIndex=function(r){if(rr(r)||r!=null&&!isNaN(r)&&!this._getDimInfo(r)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(r)<0)){return+r}};r.prototype._getStoreDimIndex=function(r){var t=this.getDimensionIndex(r);return t};r.prototype.getDimensionInfo=function(r){return this._getDimInfo(this.getDimension(r))};r.prototype._initGetDimensionInfo=function(r){var t=this._dimInfos;this._getDimInfo=r?function(r){return t.hasOwnProperty(r)?t[r]:undefined}:function(r){return t[r]}};r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()};r.prototype.mapDimension=function(r,t){var i=this._dimSummary;if(t==null){return i.encodeFirstDimNotExtra[r]}var n=i.encode[r];return n?n[t]:null};r.prototype.mapDimensionsAll=function(r){var t=this._dimSummary;var i=t.encode[r];return(i||[]).slice()};r.prototype.getStore=function(){return this._store};r.prototype.initData=function(r,t,i){var n=this;var a;if(r instanceof wy){a=r}if(!a){var e=this.dimensions;var u=lm(r)||W(r)?new Am(r,e.length):r;a=new wy;var o=mM(e,(function(r){return{type:n._dimInfos[r].type,property:r}}));a.initData(u,o,i)}this._store=a;this._nameList=(t||[]).slice();this._idList=[];this._nameRepeatCount={};this._doInit(0,a.count());this._dimSummary=nM(this,this._schema);this.userOutput=this._dimSummary.userOutput};r.prototype.appendData=function(r){var t=this._store.appendData(r);this._doInit(t[0],t[1])};r.prototype.appendValues=function(r,t){var i=this._store.appendValues(r,t.length),n=i.start,a=i.end;var e=this._shouldMakeIdFromName();this._updateOrdinalMeta();if(t){for(var u=n;u<a;u++){var o=u-n;this._nameList[u]=t[o];if(e){CM(this,u)}}}};r.prototype._updateOrdinalMeta=function(){var r=this._store;var t=this.dimensions;for(var i=0;i<t.length;i++){var n=this._dimInfos[t[i]];if(n.ordinalMeta){r.collectOrdinalMeta(n.storeDimIndex,n.ordinalMeta)}}};r.prototype._shouldMakeIdFromName=function(){var r=this._store.getProvider();return this._idDimIdx==null&&r.getSource().sourceFormat!==jd&&!r.fillStorage};r.prototype._doInit=function(r,t){if(r>=t){return}var i=this._store;var n=i.getProvider();this._updateOrdinalMeta();var a=this._nameList;var e=this._idList;var u=n.getSource().sourceFormat;var o=u===Xd;if(o&&!n.pure){var v=[];for(var s=r;s<t;s++){var f=n.getItem(s,v);if(!this.hasItemOption&&cu(f)){this.hasItemOption=true}if(f){var l=f.name;if(a[s]==null&&l!=null){a[s]=Su(l,null)}var h=f.id;if(e[s]==null&&h!=null){e[s]=Su(h,null)}}}}if(this._shouldMakeIdFromName()){for(var s=r;s<t;s++){CM(this,s)}}MM(this)};r.prototype.getApproximateExtent=function(r){return this._approximateExtent[r]||this._store.getDataExtent(this._getStoreDimIndex(r))};r.prototype.setApproximateExtent=function(r,t){t=this.getDimension(t);this._approximateExtent[t]=r.slice()};r.prototype.getCalculationInfo=function(r){return this._calculationInfo[r]};r.prototype.setCalculationInfo=function(r,t){pM(r)?F(this._calculationInfo,r):this._calculationInfo[r]=t};r.prototype.getName=function(r){var t=this.getRawIndex(r);var i=this._nameList[t];if(i==null&&this._nameDimIdx!=null){i=kM(this,this._nameDimIdx,t)}if(i==null){i=""}return i};r.prototype._getCategory=function(r,t){var i=this._store.get(r,t);var n=this._store.getOrdinalMeta(r);if(n){return n.categories[i]}return i};r.prototype.getId=function(r){return SM(this,this.getRawIndex(r))};r.prototype.count=function(){return this._store.count()};r.prototype.get=function(r,t){var i=this._store;var n=this._dimInfos[r];if(n){return i.get(n.storeDimIndex,t)}};r.prototype.getByRawIndex=function(r,t){var i=this._store;var n=this._dimInfos[r];if(n){return i.getByRawIndex(n.storeDimIndex,t)}};r.prototype.getIndices=function(){return this._store.getIndices()};r.prototype.getDataExtent=function(r){return this._store.getDataExtent(this._getStoreDimIndex(r))};r.prototype.getSum=function(r){return this._store.getSum(this._getStoreDimIndex(r))};r.prototype.getMedian=function(r){return this._store.getMedian(this._getStoreDimIndex(r))};r.prototype.getValues=function(r,t){var i=this;var n=this._store;return K(r)?n.getValues(mM(r,(function(r){return i._getStoreDimIndex(r)})),t):n.getValues(r)};r.prototype.hasValue=function(r){var t=this._dimSummary.dataDimIndicesOnCoord;for(var i=0,n=t.length;i<n;i++){if(isNaN(this._store.get(t[i],r))){return false}}return true};r.prototype.indexOfName=function(r){for(var t=0,i=this._store.count();t<i;t++){if(this.getName(t)===r){return t}}return-1};r.prototype.getRawIndex=function(r){return this._store.getRawIndex(r)};r.prototype.indexOfRawIndex=function(r){return this._store.indexOfRawIndex(r)};r.prototype.rawIndexOf=function(r,t){var i=r&&this._invertedIndicesMap[r];var n=i[t];if(n==null||isNaN(n)){return bM}return n};r.prototype.indicesOfNearest=function(r,t,i){return this._store.indicesOfNearest(this._getStoreDimIndex(r),t,i)};r.prototype.each=function(r,t,i){if(J(r)){i=t;t=r;r=[]}var n=i||this;var a=mM(NM(r),this._getStoreDimIndex,this);this._store.each(a,n?j(t,n):t)};r.prototype.filterSelf=function(r,t,i){if(J(r)){i=t;t=r;r=[]}var n=i||this;var a=mM(NM(r),this._getStoreDimIndex,this);this._store=this._store.filter(a,n?j(t,n):t);return this};r.prototype.selectRange=function(r){var t=this;var i={};var n=U(r);V(n,(function(n){var a=t._getStoreDimIndex(n);i[a]=r[n]}));this._store=this._store.selectRange(i);return this};r.prototype.mapArray=function(r,t,i){if(J(r)){i=t;t=r;r=[]}i=i||this;var n=[];this.each(r,(function(){n.push(t&&t.apply(this,arguments))}),i);return n};r.prototype.map=function(r,t,i,n){var a=i||n||this;var e=mM(NM(r),this._getStoreDimIndex,this);var u=IM(this);u._store=this._store.map(e,a?j(t,a):t);return u};r.prototype.modify=function(r,t,i,n){var a=i||n||this;var e=mM(NM(r),this._getStoreDimIndex,this);this._store.modify(e,a?j(t,a):t)};r.prototype.downSample=function(r,t,i,n){var a=IM(this);a._store=this._store.downSample(this._getStoreDimIndex(r),t,i,n);return a};r.prototype.lttbDownSample=function(r,t){var i=IM(this);i._store=this._store.lttbDownSample(this._getStoreDimIndex(r),t);return i};r.prototype.getRawDataItem=function(r){return this._store.getRawDataItem(r)};r.prototype.getItemModel=function(r){var t=this.hostModel;var i=this.getRawDataItem(r);return new yc(i,t,t&&t.ecModel)};r.prototype.diff=function(r){var t=this;return new tM(r?r.getStore().getIndices():[],this.getStore().getIndices(),(function(t){return SM(r,t)}),(function(r){return SM(t,r)}))};r.prototype.getVisual=function(r){var t=this._visual;return t&&t[r]};r.prototype.setVisual=function(r,t){this._visual=this._visual||{};if(pM(r)){F(this._visual,r)}else{this._visual[r]=t}};r.prototype.getItemVisual=function(r,t){var i=this._itemVisuals[r];var n=i&&i[t];if(n==null){return this.getVisual(t)}return n};r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0};r.prototype.ensureUniqueItemVisual=function(r,t){var i=this._itemVisuals;var n=i[r];if(!n){n=i[r]={}}var a=n[t];if(a==null){a=this.getVisual(t);if(K(a)){a=a.slice()}else if(pM(a)){a=F({},a)}n[t]=a}return a};r.prototype.setItemVisual=function(r,t,i){var n=this._itemVisuals[r]||{};this._itemVisuals[r]=n;if(pM(t)){F(n,t)}else{n[t]=i}};r.prototype.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};r.prototype.setLayout=function(r,t){pM(r)?F(this._layout,r):this._layout[r]=t};r.prototype.getLayout=function(r){return this._layout[r]};r.prototype.getItemLayout=function(r){return this._itemLayouts[r]};r.prototype.setItemLayout=function(r,t,i){this._itemLayouts[r]=i?F(this._itemLayouts[r]||{},t):t};r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0};r.prototype.setItemGraphicEl=function(r,t){var i=this.hostModel&&this.hostModel.seriesIndex;ws(i,this.dataType,r,t);this._graphicEls[r]=t};r.prototype.getItemGraphicEl=function(r){return this._graphicEls[r]};r.prototype.eachItemGraphicEl=function(r,t){V(this._graphicEls,(function(i,n){if(i){r&&r.call(t,i,n)}}))};r.prototype.cloneShallow=function(t){if(!t){t=new r(this._schema?this._schema:mM(this.dimensions,this._getDimInfo,this),this.hostModel)}AM(t,this);t._store=this._store;return t};r.prototype.wrapMethod=function(r,t){var i=this[r];if(!J(i)){return}this.__wrappedMethods=this.__wrappedMethods||[];this.__wrappedMethods.push(r);this[r]=function(){var r=i.apply(this,arguments);return t.apply(this,[r].concat(hr(arguments)))}};r.internalField=function(){MM=function(r){var t=r._invertedIndicesMap;V(t,(function(i,n){var a=r._dimInfos[n];var e=a.ordinalMeta;var u=r._store;if(e){i=t[n]=new yM(e.categories.length);for(var o=0;o<i.length;o++){i[o]=bM}for(var o=0;o<u.count();o++){i[u.get(a.storeDimIndex,o)]=o}}}))};kM=function(r,t,i){return Su(r._getCategory(t,i),null)};SM=function(r,t){var i=r._idList[t];if(i==null&&r._idDimIdx!=null){i=kM(r,r._idDimIdx,t)}if(i==null){i=gM+t}return i};NM=function(r){if(!K(r)){r=r!=null?[r]:[]}return r};IM=function(t){var i=new r(t._schema?t._schema:mM(t.dimensions,t._getDimInfo,t),t.hostModel);AM(i,t);return i};AM=function(r,t){V(wM.concat(t.__wrappedMethods||[]),(function(i){if(t.hasOwnProperty(i)){r[i]=t[i]}}));r.__wrappedMethods=t.__wrappedMethods;V(xM,(function(i){r[i]=O(t[i])}));r._calculationInfo=F({},t._calculationInfo)};CM=function(r,t){var i=r._nameList;var n=r._idList;var a=r._nameDimIdx;var e=r._idDimIdx;var u=i[t];var o=n[t];if(u==null&&a!=null){i[t]=u=kM(r,a,t)}if(o==null&&e!=null){n[t]=o=kM(r,e,t)}if(o==null&&u!=null){var v=r._nameRepeatCount;var s=v[u]=(v[u]||0)+1;o=u;if(s>1){o+="__ec__"+s}n[t]=o}}}();return r}();function zM(r,t){if(!lm(r)){r=cm(r)}t=t||{};var i=t.coordDimensions||[];var n=t.dimensionsDefine||r.dimensionsDefine||[];var a=Sr();var e=[];var u=OM(r,i,n,t.dimensionsCount);var o=t.canOmitUnusedDimensions&&dM(u);var v=n===r.dimensionsDefine;var s=v?cM(r):hM(n);var f=t.encodeDefine;if(!f&&t.encodeDefaulter){f=t.encodeDefaulter(r,u)}var l=Sr(f);var h=new hy(u);for(var c=0;c<h.length;c++){h[c]=-1}function d(r){var t=h[r];if(t<0){var i=n[r];var a=tr(i)?i:{name:i};var u=new oM;var o=a.name;if(o!=null&&s.get(o)!=null){u.name=u.displayName=o}a.type!=null&&(u.type=a.type);a.displayName!=null&&(u.displayName=a.displayName);var v=e.length;h[r]=v;u.storeDimIndex=r;e.push(u);return u}return e[t]}if(!o){for(var c=0;c<u;c++){d(c)}}l.each((function(r,t){var i=su(r).slice();if(i.length===1&&!$(i[0])&&i[0]<0){l.set(t,false);return}var n=l.set(t,[]);V(i,(function(r,i){var a=$(r)?s.get(r):r;if(a!=null&&a<u){n[i]=a;m(d(a),t,i)}}))}));var p=0;V(i,(function(r){var t;var i;var n;var a;if($(r)){t=r;a={}}else{a=r;t=a.name;var e=a.ordinalMeta;a.ordinalMeta=null;a=F({},a);a.ordinalMeta=e;i=a.dimsDef;n=a.otherDims;a.name=a.coordDim=a.coordDimIndex=a.dimsDef=a.otherDims=null}var o=l.get(t);if(o===false){return}o=su(o);if(!o.length){for(var s=0;s<(i&&i.length||1);s++){while(p<u&&d(p).coordDim!=null){p++}p<u&&o.push(p++)}}V(o,(function(r,e){var u=d(r);if(v&&a.type!=null){u.type=a.type}m(B(u,a),t,e);if(u.name==null&&i){var o=i[e];!tr(o)&&(o={name:o});u.name=u.displayName=o.name;u.defaultTooltip=o.defaultTooltip}n&&B(u.otherDims,n)}))}));function m(r,t,i){if(Yd.get(t)!=null){r.otherDims[t]=i}else{r.coordDim=t;r.coordDimIndex=i;a.set(t,true)}}var y=t.generateCoord;var g=t.generateCoordCount;var b=g!=null;g=y?g||1:0;var w=y||"value";function x(r){if(r.name==null){r.name=r.coordDim}}if(!o){for(var M=0;M<u;M++){var S=d(M);var k=S.coordDim;if(k==null){S.coordDim=DM(w,a,b);S.coordDimIndex=0;if(!y||g<=0){S.isExtraCoord=true}g--}x(S);if(S.type==null&&(ep(r,M)===$d.Must||S.isExtraCoord&&(S.otherDims.itemName!=null||S.otherDims.seriesName!=null))){S.type="ordinal"}}}else{V(e,(function(r){x(r)}));e.sort((function(r,t){return r.storeDimIndex-t.storeDimIndex}))}LM(e);return new fM({source:r,dimensions:e,fullDimensionCount:u,dimensionOmitted:o})}function LM(r){var t=Sr();for(var i=0;i<r.length;i++){var n=r[i];var a=n.name;var e=t.get(a)||0;if(e>0){n.name=a+(e-1)}e++;t.set(a,e)}}function OM(r,t,i,n){var a=Math.max(r.dimensionsDetectedCount||1,t.length,i.length,n||0);V(t,(function(r){var t;if(tr(r)&&(t=r.dimsDef)){a=Math.max(a,t.length)}}));return a}function DM(r,t,i){if(i||t.hasKey(r)){var n=0;while(t.hasKey(r+n)){n++}r+=n}t.set(r,true);return r}var RM=function(){function r(r){this.coordSysDims=[];this.axisMap=Sr();this.categoryAxisMap=Sr();this.coordSysName=r}return r}();function FM(r){var t=r.get("coordinateSystem");var i=new RM(t);var n=BM[t];if(n){n(r,i,i.axisMap,i.categoryAxisMap);return i}}var BM={cartesian2d:function(r,t,i,n){var a=r.getReferringComponents("xAxis",Fu).models[0];var e=r.getReferringComponents("yAxis",Fu).models[0];t.coordSysDims=["x","y"];i.set("x",a);i.set("y",e);if(_M(a)){n.set("x",a);t.firstCategoryDimIndex=0}if(_M(e)){n.set("y",e);t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1)}},singleAxis:function(r,t,i,n){var a=r.getReferringComponents("singleAxis",Fu).models[0];t.coordSysDims=["single"];i.set("single",a);if(_M(a)){n.set("single",a);t.firstCategoryDimIndex=0}},polar:function(r,t,i,n){var a=r.getReferringComponents("polar",Fu).models[0];var e=a.findAxisModel("radiusAxis");var u=a.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"];i.set("radius",e);i.set("angle",u);if(_M(e)){n.set("radius",e);t.firstCategoryDimIndex=0}if(_M(u)){n.set("angle",u);t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1)}},geo:function(r,t,i,n){t.coordSysDims=["lng","lat"]},parallel:function(r,t,i,n){var a=r.ecModel;var e=a.getComponent("parallel",r.get("parallelIndex"));var u=t.coordSysDims=e.dimensions.slice();V(e.parallelAxisIndex,(function(r,e){var o=a.getComponent("parallelAxis",r);var v=u[e];i.set(v,o);if(_M(o)){n.set(v,o);if(t.firstCategoryDimIndex==null){t.firstCategoryDimIndex=e}}}))}};function _M(r){return r.get("type")==="category"}function EM(r,t,i){i=i||{};var n=i.byIndex;var a=i.stackedCoordDimension;var e;var u;var o;if(PM(t)){e=t}else{u=t.schema;e=u.dimensions;o=t.store}var v=!!(r&&r.get("stack"));var s;var f;var l;var h;V(e,(function(r,t){if($(r)){e[t]=r={name:r}}if(v&&!r.isExtraCoord){if(!n&&!s&&r.ordinalMeta){s=r}if(!f&&r.type!=="ordinal"&&r.type!=="time"&&(!a||a===r.coordDim)){f=r}}}));if(f&&!n&&!s){n=true}if(f){l="__\0ecstackresult_"+r.id;h="__\0ecstackedover_"+r.id;if(s){s.createInvertedIndices=true}var c=f.coordDim;var d=f.type;var p=0;V(e,(function(r){if(r.coordDim===c){p++}}));var m={name:l,coordDim:c,coordDimIndex:p,type:d,isExtraCoord:true,isCalculationCoord:true,storeDimIndex:e.length};var y={name:h,coordDim:h,coordDimIndex:p+1,type:d,isExtraCoord:true,isCalculationCoord:true,storeDimIndex:e.length+1};if(u){if(o){m.storeDimIndex=o.ensureCalculationDimension(h,d);y.storeDimIndex=o.ensureCalculationDimension(l,d)}u.appendCalculationDimension(m);u.appendCalculationDimension(y)}else{e.push(m);e.push(y)}}return{stackedDimension:f&&f.name,stackedByDimension:s&&s.name,isStackedByIndex:n,stackedOverDimension:h,stackResultDimension:l}}function PM(r){return!lM(r.schema)}function WM(r,t){return!!t&&t===r.getCalculationInfo("stackedDimension")}function VM(r,t){return WM(r,t)?r.getCalculationInfo("stackResultDimension"):t}function HM(r,t){var i=r.get("coordinateSystem");var n=Lp.get(i);var a;if(t&&t.coordSysDims){a=H(t.coordSysDims,(function(r){var i={name:r};var n=t.axisMap.get(r);if(n){var a=n.get("type");i.type=eM(a)}return i}))}if(!a){a=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]}return a}function YM(r,t,i){var n;var a;i&&V(r,(function(r,e){var u=r.coordDim;var o=i.categoryAxisMap.get(u);if(o){if(n==null){n=e}r.ordinalMeta=o.getOrdinalMeta();if(t){r.createInvertedIndices=true}}if(r.otherDims.itemName!=null){a=true}}));if(!a&&n!=null){r[n].otherDims.itemName=0}return n}function XM(r,t,i){i=i||{};var n=t.getSourceManager();var a;var e=false;if(r){e=true;a=cm(r)}else{a=n.getSource();e=a.sourceFormat===Xd}var u=FM(t);var o=HM(t,u);var v=i.useEncodeDefaulter;var s=J(v)?v:v?q(tp,o,t):null;var f={coordDimensions:o,generateCoord:i.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:s,canOmitUnusedDimensions:!e};var l=zM(a,f);var h=YM(l.dimensions,i.createInvertedIndices,u);var c=!e?n.getSharedDataStore(l):null;var d=EM(t,{schema:l,store:c});var p=new TM(l,t);p.setCalculationInfo(d);var m=h!=null&&GM(a)?function(r,t,i,n){return n===h?i:this.defaultDimValueGetter(r,t,i,n)}:null;p.hasItemOption=false;p.initData(e?a:c,null,m);return p}function GM(r){if(r.sourceFormat===Xd){var t=UM(r.data||[]);return!K(hu(t))}}function UM(r){var t=0;while(t<r.length&&r[t]==null){t++}return r[t]}var ZM=function(){function r(r){this._setting=r||{};this._extent=[Infinity,-Infinity]}r.prototype.getSetting=function(r){return this._setting[r]};r.prototype.unionExtent=function(r){var t=this._extent;r[0]<t[0]&&(t[0]=r[0]);r[1]>t[1]&&(t[1]=r[1])};r.prototype.unionExtentFromData=function(r,t){this.unionExtent(r.getApproximateExtent(t))};r.prototype.getExtent=function(){return this._extent.slice()};r.prototype.setExtent=function(r,t){var i=this._extent;if(!isNaN(r)){i[0]=r}if(!isNaN(t)){i[1]=t}};r.prototype.isInExtentRange=function(r){return this._extent[0]<=r&&this._extent[1]>=r};r.prototype.isBlank=function(){return this._isBlank};r.prototype.setBlank=function(r){this._isBlank=r};return r}();io(ZM);var jM=0;var qM=function(){function r(r){this.categories=r.categories||[];this._needCollect=r.needCollect;this._deduplication=r.deduplication;this.uid=++jM}r.createByAxisModel=function(t){var i=t.option;var n=i.data;var a=n&&H(n,KM);return new r({categories:a,needCollect:!a,deduplication:i.dedplication!==false})};r.prototype.getOrdinal=function(r){return this._getOrCreateMap().get(r)};r.prototype.parseAndCollect=function(r){var t;var i=this._needCollect;if(!$(r)&&!i){return r}if(i&&!this._deduplication){t=this.categories.length;this.categories[t]=r;return t}var n=this._getOrCreateMap();t=n.get(r);if(t==null){if(i){t=this.categories.length;this.categories[t]=r;n.set(r,t)}else{t=NaN}}return t};r.prototype._getOrCreateMap=function(){return this._map||(this._map=Sr(this.categories))};return r}();function KM(r){if(tr(r)&&r.value!=null){return r.value}else{return r+""}}function JM(r){return r.type==="interval"||r.type==="log"}function $M(r,t,i,n){var a={};var e=r[1]-r[0];var u=a.interval=Ue(e/t,true);if(i!=null&&u<i){u=a.interval=i}if(n!=null&&u>n){u=a.interval=n}var o=a.intervalPrecision=rS(u);var v=a.niceTickExtent=[Oe(Math.ceil(r[0]/u)*u,o),Oe(Math.floor(r[1]/u)*u,o)];iS(v,r);return a}function QM(r){var t=Math.pow(10,Ge(r));var i=r/t;if(!i){i=1}else if(i===2){i=3}else if(i===3){i=5}else{i*=2}return Oe(i*t)}function rS(r){return Re(r)+2}function tS(r,t,i){r[t]=Math.max(Math.min(r[t],i[1]),i[0])}function iS(r,t){!isFinite(r[0])&&(r[0]=t[0]);!isFinite(r[1])&&(r[1]=t[1]);tS(r,0,t);tS(r,1,t);if(r[0]>r[1]){r[0]=r[1]}}function nS(r,t){return r>=t[0]&&r<=t[1]}function aS(r,t){if(t[1]===t[0]){return.5}return(r-t[0])/(t[1]-t[0])}function eS(r,t){return r*(t[1]-t[0])+t[0]}var uS=function(r){a(t,r);function t(t){var i=r.call(this,t)||this;i.type="ordinal";var n=i.getSetting("ordinalMeta");if(!n){n=new qM({})}if(K(n)){n=new qM({categories:H(n,(function(r){return tr(r)?r.value:r}))})}i._ordinalMeta=n;i._extent=i.getSetting("extent")||[0,n.categories.length-1];return i}t.prototype.parse=function(r){if(r==null){return NaN}return $(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)};t.prototype.contain=function(r){r=this.parse(r);return nS(r,this._extent)&&this._ordinalMeta.categories[r]!=null};t.prototype.normalize=function(r){r=this._getTickNumber(this.parse(r));return aS(r,this._extent)};t.prototype.scale=function(r){r=Math.round(eS(r,this._extent));return this.getRawOrdinalNumber(r)};t.prototype.getTicks=function(){var r=[];var t=this._extent;var i=t[0];while(i<=t[1]){r.push({value:i});i++}return r};t.prototype.getMinorTicks=function(r){return};t.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}var t=r.ordinalNumbers;var i=this._ordinalNumbersByTick=[];var n=this._ticksByOrdinalNumber=[];var a=0;var e=this._ordinalMeta.categories.length;for(var u=Math.min(e,t.length);a<u;++a){var o=t[a];i[a]=o;n[o]=a}var v=0;for(;a<e;++a){while(n[v]!=null){v++}i.push(v);n[v]=a}};t.prototype._getTickNumber=function(r){var t=this._ticksByOrdinalNumber;return t&&r>=0&&r<t.length?t[r]:r};t.prototype.getRawOrdinalNumber=function(r){var t=this._ordinalNumbersByTick;return t&&r>=0&&r<t.length?t[r]:r};t.prototype.getLabel=function(r){if(!this.isBlank()){var t=this.getRawOrdinalNumber(r.value);var i=this._ordinalMeta.categories[t];return i==null?"":i+""}};t.prototype.count=function(){return this._extent[1]-this._extent[0]+1};t.prototype.unionExtentFromData=function(r,t){this.unionExtent(r.getApproximateExtent(t))};t.prototype.isInExtentRange=function(r){r=this._getTickNumber(r);return this._extent[0]<=r&&this._extent[1]>=r};t.prototype.getOrdinalMeta=function(){return this._ordinalMeta};t.prototype.calcNiceTicks=function(){};t.prototype.calcNiceExtent=function(){};t.type="ordinal";return t}(ZM);ZM.registerClass(uS);var oS=Oe;var vS=function(r){a(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t.type="interval";t._interval=0;t._intervalPrecision=2;return t}t.prototype.parse=function(r){return r};t.prototype.contain=function(r){return nS(r,this._extent)};t.prototype.normalize=function(r){return aS(r,this._extent)};t.prototype.scale=function(r){return eS(r,this._extent)};t.prototype.setExtent=function(r,t){var i=this._extent;if(!isNaN(r)){i[0]=parseFloat(r)}if(!isNaN(t)){i[1]=parseFloat(t)}};t.prototype.unionExtent=function(r){var t=this._extent;r[0]<t[0]&&(t[0]=r[0]);r[1]>t[1]&&(t[1]=r[1]);this.setExtent(t[0],t[1])};t.prototype.getInterval=function(){return this._interval};t.prototype.setInterval=function(r){this._interval=r;this._niceExtent=this._extent.slice();this._intervalPrecision=rS(r)};t.prototype.getTicks=function(r){var t=this._interval;var i=this._extent;var n=this._niceExtent;var a=this._intervalPrecision;var e=[];if(!t){return e}var u=1e4;if(i[0]<n[0]){if(r){e.push({value:oS(n[0]-t,a)})}else{e.push({value:i[0]})}}var o=n[0];while(o<=n[1]){e.push({value:o});o=oS(o+t,a);if(o===e[e.length-1].value){break}if(e.length>u){return[]}}var v=e.length?e[e.length-1].value:n[1];if(i[1]>v){if(r){e.push({value:oS(v+t,a)})}else{e.push({value:i[1]})}}return e};t.prototype.getMinorTicks=function(r){var t=this.getTicks(true);var i=[];var n=this.getExtent();for(var a=1;a<t.length;a++){var e=t[a];var u=t[a-1];var o=0;var v=[];var s=e.value-u.value;var f=s/r;while(o<r-1){var l=oS(u.value+(o+1)*f);if(l>n[0]&&l<n[1]){v.push(l)}o++}i.push(v)}return i};t.prototype.getLabel=function(r,t){if(r==null){return""}var i=t&&t.precision;if(i==null){i=Re(r.value)||0}else if(i==="auto"){i=this._intervalPrecision}var n=oS(r.value,i,true);return cd(n)};t.prototype.calcNiceTicks=function(r,t,i){r=r||5;var n=this._extent;var a=n[1]-n[0];if(!isFinite(a)){return}if(a<0){a=-a;n.reverse()}var e=$M(n,r,t,i);this._intervalPrecision=e.intervalPrecision;this._interval=e.interval;this._niceExtent=e.niceTickExtent};t.prototype.calcNiceExtent=function(r){var t=this._extent;if(t[0]===t[1]){if(t[0]!==0){var i=Math.abs(t[0]);if(!r.fixMax){t[1]+=i/2;t[0]-=i/2}else{t[0]-=i/2}}else{t[1]=1}}var n=t[1]-t[0];if(!isFinite(n)){t[0]=0;t[1]=1}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var a=this._interval;if(!r.fixMin){t[0]=oS(Math.floor(t[0]/a)*a)}if(!r.fixMax){t[1]=oS(Math.ceil(t[1]/a)*a)}};t.prototype.setNiceExtent=function(r,t){this._niceExtent=[r,t]};t.type="interval";return t}(ZM);ZM.registerClass(vS);var sS=typeof Float32Array!=="undefined";var fS=!sS?Array:Float32Array;function lS(r){if(K(r)){return sS?new Float32Array(r):r}return new fS(r)}var hS="__ec_stack_";function cS(r){return r.get("stack")||hS+r.seriesIndex}function dS(r){return r.dim+r.index}function pS(r){var t=[];var i=r.axis;var n="axis0";if(i.type!=="category"){return}var a=i.getBandWidth();for(var e=0;e<r.count||0;e++){t.push(B({bandWidth:a,axisKey:n,stackId:hS+e},r))}var u=bS(t);var o=[];for(var e=0;e<r.count;e++){var v=u[n][hS+e];v.offsetCenter=v.offset+v.width/2;o.push(v)}return o}function mS(r,t){var i=[];t.eachSeriesByType(r,(function(r){if(SS(r)){i.push(r)}}));return i}function yS(r){var t={};V(r,(function(r){var i=r.coordinateSystem;var n=i.getBaseAxis();if(n.type!=="time"&&n.type!=="value"){return}var a=r.getData();var e=n.dim+"_"+n.index;var u=a.getDimensionIndex(a.mapDimension(n.dim));var o=a.getStore();for(var v=0,s=o.count();v<s;++v){var f=o.get(u,v);if(!t[e]){t[e]=[f]}else{t[e].push(f)}}}));var i={};for(var n in t){if(t.hasOwnProperty(n)){var a=t[n];if(a){a.sort((function(r,t){return r-t}));var e=null;for(var u=1;u<a.length;++u){var o=a[u]-a[u-1];if(o>0){e=e===null?o:Math.min(e,o)}}i[n]=e}}}return i}function gS(r){var t=yS(r);var i=[];V(r,(function(r){var n=r.coordinateSystem;var a=n.getBaseAxis();var e=a.getExtent();var u;if(a.type==="category"){u=a.getBandWidth()}else if(a.type==="value"||a.type==="time"){var o=a.dim+"_"+a.index;var v=t[o];var s=Math.abs(e[1]-e[0]);var f=a.scale.getExtent();var l=Math.abs(f[1]-f[0]);u=v?s/l*v:s}else{var h=r.getData();u=Math.abs(e[1]-e[0])/h.count()}var c=Le(r.get("barWidth"),u);var d=Le(r.get("barMaxWidth"),u);var p=Le(r.get("barMinWidth")||(kS(r)?.5:1),u);var m=r.get("barGap");var y=r.get("barCategoryGap");i.push({bandWidth:u,barWidth:c,barMaxWidth:d,barMinWidth:p,barGap:m,barCategoryGap:y,axisKey:dS(a),stackId:cS(r)})}));return bS(i)}function bS(r){var t={};V(r,(function(r,i){var n=r.axisKey;var a=r.bandWidth;var e=t[n]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}};var u=e.stacks;t[n]=e;var o=r.stackId;if(!u[o]){e.autoWidthCount++}u[o]=u[o]||{width:0,maxWidth:0};var v=r.barWidth;if(v&&!u[o].width){u[o].width=v;v=Math.min(e.remainedWidth,v);e.remainedWidth-=v}var s=r.barMaxWidth;s&&(u[o].maxWidth=s);var f=r.barMinWidth;f&&(u[o].minWidth=f);var l=r.barGap;l!=null&&(e.gap=l);var h=r.barCategoryGap;h!=null&&(e.categoryGap=h)}));var i={};V(t,(function(r,t){i[t]={};var n=r.stacks;var a=r.bandWidth;var e=r.categoryGap;if(e==null){var u=U(n).length;e=Math.max(35-u*4,15)+"%"}var o=Le(e,a);var v=Le(r.gap,1);var s=r.remainedWidth;var f=r.autoWidthCount;var l=(s-o)/(f+(f-1)*v);l=Math.max(l,0);V(n,(function(r){var t=r.maxWidth;var i=r.minWidth;if(!r.width){var n=l;if(t&&t<n){n=Math.min(t,s)}if(i&&i>n){n=i}if(n!==l){r.width=n;s-=n+v*n;f--}}else{var n=r.width;if(t){n=Math.min(n,t)}if(i){n=Math.max(n,i)}r.width=n;s-=n+v*n;f--}}));l=(s-o)/(f+(f-1)*v);l=Math.max(l,0);var h=0;var c;V(n,(function(r,t){if(!r.width){r.width=l}c=r;h+=r.width*(1+v)}));if(c){h-=c.width*v}var d=-h/2;V(n,(function(r,n){i[t][n]=i[t][n]||{bandWidth:a,offset:d,width:r.width};d+=r.width*(1+v)}))}));return i}function wS(r,t,i){if(r&&t){var n=r[dS(t)];if(n!=null&&i!=null){return n[cS(i)]}return n}}function xS(r,t){var i=mS(r,t);var n=gS(i);V(i,(function(r){var t=r.getData();var i=r.coordinateSystem;var a=i.getBaseAxis();var e=cS(r);var u=n[dS(a)][e];var o=u.offset;var v=u.width;t.setLayout({bandWidth:u.bandWidth,offset:o,size:v})}))}function MS(r){return{seriesType:r,plan:ug(),reset:function(r){if(!SS(r)){return}var t=r.getData();var i=r.coordinateSystem;var n=i.getBaseAxis();var a=i.getOtherAxis(n);var e=t.getDimensionIndex(t.mapDimension(a.dim));var u=t.getDimensionIndex(t.mapDimension(n.dim));var o=r.get("showBackground",true);var v=t.mapDimension(a.dim);var s=t.getCalculationInfo("stackResultDimension");var f=WM(t,v)&&!!t.getCalculationInfo("stackedOnSeries");var l=a.isHorizontal();var h=NS(n,a);var c=kS(r);var d=r.get("barMinHeight")||0;var p=s&&t.getDimensionIndex(s);var m=t.getLayout("size");var y=t.getLayout("offset");return{progress:function(r,t){var n=r.count;var a=c&&lS(n*3);var v=c&&o&&lS(n*3);var s=c&&lS(n);var g=i.master.getRect();var b=l?g.width:g.height;var w;var x=t.getStore();var M=0;while((w=r.next())!=null){var S=x.get(f?p:e,w);var k=x.get(u,w);var N=h;var A=void 0;if(f){A=+S-x.get(e,w)}var I=void 0;var C=void 0;var T=void 0;var z=void 0;if(l){var L=i.dataToPoint([S,k]);if(f){var O=i.dataToPoint([A,k]);N=O[0]}I=N;C=L[1]+y;T=L[0]-N;z=m;if(Math.abs(T)<d){T=(T<0?-1:1)*d}}else{var L=i.dataToPoint([k,S]);if(f){var O=i.dataToPoint([k,A]);N=O[1]}I=L[0]+y;C=N;T=m;z=L[1]-N;if(Math.abs(z)<d){z=(z<=0?-1:1)*d}}if(!c){t.setItemLayout(w,{x:I,y:C,width:T,height:z})}else{a[M]=I;a[M+1]=C;a[M+2]=l?T:z;if(v){v[M]=l?g.x:I;v[M+1]=l?C:g.y;v[M+2]=b}s[w]=w}M+=3}if(c){t.setLayout({largePoints:a,largeDataIndices:s,largeBackgroundPoints:v,valueAxisHorizontal:l})}}}}}}function SS(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function kS(r){return r.pipelineContext&&r.pipelineContext.large}function NS(r,t){return t.toGlobalCoord(t.dataToCoord(t.type==="log"?1:0))}var AS=function(r,t,i,n){while(i<n){var a=i+n>>>1;if(r[a][1]<t){i=a+1}else{n=a}}return i};var IS=function(r){a(t,r);function t(t){var i=r.call(this,t)||this;i.type="time";return i}t.prototype.getLabel=function(r){var t=this.getSetting("useUTC");return qc(r.value,Hc[jc(Uc(this._minLevelUnit))]||Hc.second,t,this.getSetting("locale"))};t.prototype.getFormattedLabel=function(r,t,i){var n=this.getSetting("useUTC");var a=this.getSetting("locale");return Kc(r,t,i,a,n)};t.prototype.getTicks=function(){var r=this._interval;var t=this._extent;var i=[];if(!r){return i}i.push({value:t[0],level:0});var n=this.getSetting("useUTC");var a=BS(this._minLevelUnit,this._approxInterval,n,t);i=i.concat(a);i.push({value:t[1],level:0});return i};t.prototype.calcNiceExtent=function(r){var t=this._extent;if(t[0]===t[1]){t[0]-=Ec;t[1]+=Ec}if(t[1]===-Infinity&&t[0]===Infinity){var i=new Date;t[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate());t[0]=t[1]-Ec}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)};t.prototype.calcNiceTicks=function(r,t,i){r=r||10;var n=this._extent;var a=n[1]-n[0];this._approxInterval=a/r;if(t!=null&&this._approxInterval<t){this._approxInterval=t}if(i!=null&&this._approxInterval>i){this._approxInterval=i}var e=CS.length;var u=Math.min(AS(CS,this._approxInterval,0,e),e-1);this._interval=CS[u][1];this._minLevelUnit=CS[Math.max(u-1,0)][0]};t.prototype.parse=function(r){return rr(r)?r:+Ye(r)};t.prototype.contain=function(r){return nS(this.parse(r),this._extent)};t.prototype.normalize=function(r){return aS(this.parse(r),this._extent)};t.prototype.scale=function(r){return eS(r,this._extent)};t.type="time";return t}(vS);var CS=[["second",Fc],["minute",Bc],["hour",_c],["quarter-day",_c*6],["half-day",_c*12],["day",Ec*1.2],["half-week",Ec*3.5],["week",Ec*7],["month",Ec*31],["quarter",Ec*95],["half-year",Pc/2],["year",Pc]];function TS(r,t,i,n){var a=Ye(t);var e=Ye(i);var u=function(r){return $c(a,r,n)===$c(e,r,n)};var o=function(){return u("year")};var v=function(){return o()&&u("month")};var s=function(){return v()&&u("day")};var f=function(){return s()&&u("hour")};var l=function(){return f()&&u("minute")};var h=function(){return l()&&u("second")};var c=function(){return h()&&u("millisecond")};switch(r){case"year":return o();case"month":return v();case"day":return s();case"hour":return f();case"minute":return l();case"second":return h();case"millisecond":return c()}}function zS(r,t){r/=Ec;return r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function LS(r){var t=30*Ec;r/=t;return r>6?6:r>3?3:r>2?2:1}function OS(r){r/=_c;return r>12?12:r>6?6:r>3.5?4:r>2?2:1}function DS(r,t){r/=t?Bc:Fc;return r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function RS(r){return Ue(r,true)}function FS(r,t,i){var n=new Date(r);switch(Uc(t)){case"year":case"month":n[od(i)](0);case"day":n[vd(i)](1);case"hour":n[sd(i)](0);case"minute":n[fd(i)](0);case"second":n[ld(i)](0);n[hd(i)](0)}return n.getTime()}function BS(r,t,i,n){var a=1e4;var e=Xc;var u=0;function o(r,t,i,a,e,u,o){var v=new Date(t);var s=t;var f=v[a]();while(s<i&&s<=n[1]){o.push({value:s});f+=r;v[e](f);s=v.getTime()}o.push({value:s,notAdd:true})}function v(r,a,e){var u=[];var v=!a.length;if(TS(Uc(r),n[0],n[1],i)){return}if(v){a=[{value:FS(new Date(n[0]),r,i)},{value:n[1]}]}for(var s=0;s<a.length-1;s++){var f=a[s].value;var l=a[s+1].value;if(f===l){continue}var h=void 0;var c=void 0;var d=void 0;var p=false;switch(r){case"year":h=Math.max(1,Math.round(t/Ec/365));c=Qc(i);d=ud(i);break;case"half-year":case"quarter":case"month":h=LS(t);c=rd(i);d=od(i);break;case"week":case"half-week":case"day":h=zS(t);c=td(i);d=vd(i);p=true;break;case"half-day":case"quarter-day":case"hour":h=OS(t);c=id(i);d=sd(i);break;case"minute":h=DS(t,true);c=nd(i);d=fd(i);break;case"second":h=DS(t,false);c=ad(i);d=ld(i);break;case"millisecond":h=RS(t);c=ed(i);d=hd(i);break}o(h,f,l,c,d,p,u);if(r==="year"&&e.length>1&&s===0){e.unshift({value:e[0].value-h})}}for(var s=0;s<u.length;s++){e.push(u[s])}return u}var s=[];var f=[];var l=0;var h=0;for(var c=0;c<e.length&&u++<a;++c){var d=Uc(e[c]);if(!Zc(e[c])){continue}v(e[c],s[s.length-1]||[],f);var p=e[c+1]?Uc(e[c+1]):null;if(d!==p){if(f.length){h=l;f.sort((function(r,t){return r.value-t.value}));var m=[];for(var y=0;y<f.length;++y){var g=f[y].value;if(y===0||f[y-1].value!==g){m.push(f[y]);if(g>=n[0]&&g<=n[1]){l++}}}var b=(n[1]-n[0])/t;if(l>b*1.5&&h>b/1.5){break}s.push(m);if(l>b||r===e[c]){break}}f=[]}}var w=X(H(s,(function(r){return X(r,(function(r){return r.value>=n[0]&&r.value<=n[1]&&!r.notAdd}))})),(function(r){return r.length>0}));var x=[];var M=w.length-1;for(var c=0;c<w.length;++c){var S=w[c];for(var k=0;k<S.length;++k){x.push({value:S[k].value,level:M-c})}}x.sort((function(r,t){return r.value-t.value}));var N=[];for(var c=0;c<x.length;++c){if(c===0||x[c].value!==x[c-1].value){N.push(x[c])}}return N}ZM.registerClass(IS);var _S=ZM.prototype;var ES=vS.prototype;var PS=Oe;var WS=Math.floor;var VS=Math.ceil;var HS=Math.pow;var YS=Math.log;var XS=function(r){a(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t.type="log";t.base=10;t._originalScale=new vS;t._interval=0;return t}t.prototype.getTicks=function(r){var t=this._originalScale;var i=this._extent;var n=t.getExtent();var a=ES.getTicks.call(this,r);return H(a,(function(r){var t=r.value;var a=Oe(HS(this.base,t));a=t===i[0]&&this._fixMin?US(a,n[0]):a;a=t===i[1]&&this._fixMax?US(a,n[1]):a;return{value:a}}),this)};t.prototype.setExtent=function(r,t){var i=YS(this.base);r=YS(Math.max(0,r))/i;t=YS(Math.max(0,t))/i;ES.setExtent.call(this,r,t)};t.prototype.getExtent=function(){var r=this.base;var t=_S.getExtent.call(this);t[0]=HS(r,t[0]);t[1]=HS(r,t[1]);var i=this._originalScale;var n=i.getExtent();this._fixMin&&(t[0]=US(t[0],n[0]));this._fixMax&&(t[1]=US(t[1],n[1]));return t};t.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var t=this.base;r[0]=YS(r[0])/YS(t);r[1]=YS(r[1])/YS(t);_S.unionExtent.call(this,r)};t.prototype.unionExtentFromData=function(r,t){this.unionExtent(r.getApproximateExtent(t))};t.prototype.calcNiceTicks=function(r){r=r||10;var t=this._extent;var i=t[1]-t[0];if(i===Infinity||i<=0){return}var n=Xe(i);var a=r/i*n;if(a<=.5){n*=10}while(!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0){n*=10}var e=[Oe(VS(t[0]/n)*n),Oe(WS(t[1]/n)*n)];this._interval=n;this._niceExtent=e};t.prototype.calcNiceExtent=function(r){ES.calcNiceExtent.call(this,r);this._fixMin=r.fixMin;this._fixMax=r.fixMax};t.prototype.parse=function(r){return r};t.prototype.contain=function(r){r=YS(r)/YS(this.base);return nS(r,this._extent)};t.prototype.normalize=function(r){r=YS(r)/YS(this.base);return aS(r,this._extent)};t.prototype.scale=function(r){r=eS(r,this._extent);return HS(this.base,r)};t.type="log";return t}(ZM);var GS=XS.prototype;GS.getMinorTicks=ES.getMinorTicks;GS.getLabel=ES.getLabel;function US(r,t){return PS(r,Re(t))}ZM.registerClass(XS);var ZS=function(){function r(r,t,i){this._prepareParams(r,t,i)}r.prototype._prepareParams=function(r,t,i){if(i[1]<i[0]){i=[NaN,NaN]}this._dataMin=i[0];this._dataMax=i[1];var n=this._isOrdinal=r.type==="ordinal";this._needCrossZero=r.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=this._modelMinRaw=t.get("min",true);if(J(a)){this._modelMinNum=JS(r,a({min:i[0],max:i[1]}))}else if(a!=="dataMin"){this._modelMinNum=JS(r,a)}var e=this._modelMaxRaw=t.get("max",true);if(J(e)){this._modelMaxNum=JS(r,e({min:i[0],max:i[1]}))}else if(e!=="dataMax"){this._modelMaxNum=JS(r,e)}if(n){this._axisDataLen=t.getCategories().length}else{var u=t.get("boundaryGap");var o=K(u)?u:[u||0,u||0];if(typeof o[0]==="boolean"||typeof o[1]==="boolean"){this._boundaryGapInner=[0,0]}else{this._boundaryGapInner=[ue(o[0],1),ue(o[1],1)]}}};r.prototype.calculate=function(){var r=this._isOrdinal;var t=this._dataMin;var i=this._dataMax;var n=this._axisDataLen;var a=this._boundaryGapInner;var e=!r?i-t||Math.abs(t):null;var u=this._modelMinRaw==="dataMin"?t:this._modelMinNum;var o=this._modelMaxRaw==="dataMax"?i:this._modelMaxNum;var v=u!=null;var s=o!=null;if(u==null){u=r?n?0:NaN:t-a[0]*e}if(o==null){o=r?n?n-1:NaN:i+a[1]*e}(u==null||!isFinite(u))&&(u=NaN);(o==null||!isFinite(o))&&(o=NaN);var f=vr(u)||vr(o)||r&&!n;if(this._needCrossZero){if(u>0&&o>0&&!v){u=0}if(u<0&&o<0&&!s){o=0}}var l=this._determinedMin;var h=this._determinedMax;if(l!=null){u=l;v=true}if(h!=null){o=h;s=true}return{min:u,max:o,minFixed:v,maxFixed:s,isBlank:f}};r.prototype.modifyDataMinMax=function(r,t){this[qS[r]]=t};r.prototype.setDeterminedMinMax=function(r,t){var i=jS[r];this[i]=t};r.prototype.freeze=function(){this.frozen=true};return r}();var jS={min:"_determinedMin",max:"_determinedMax"};var qS={min:"_dataMin",max:"_dataMax"};function KS(r,t,i){var n=r.rawExtentInfo;if(n){return n}n=new ZS(r,t,i);r.rawExtentInfo=n;return n}function JS(r,t){return t==null?null:vr(t)?NaN:r.parse(t)}function $S(r,t){var i=r.type;var n=KS(r,t,r.getExtent()).calculate();r.setBlank(n.isBlank);var a=n.min;var e=n.max;var u=t.ecModel;if(u&&i==="time"){var o=mS("bar",u);var v=false;V(o,(function(r){v=v||r.getBaseAxis()===t.axis}));if(v){var s=gS(o);var f=QS(a,e,t,s);a=f.min;e=f.max}}return{extent:[a,e],fixMin:n.minFixed,fixMax:n.maxFixed}}function QS(r,t,i,n){var a=i.axis.getExtent();var e=a[1]-a[0];var u=wS(n,i.axis);if(u===undefined){return{min:r,max:t}}var o=Infinity;V(u,(function(r){o=Math.min(r.offset,o)}));var v=-Infinity;V(u,(function(r){v=Math.max(r.offset+r.width,v)}));o=Math.abs(o);v=Math.abs(v);var s=o+v;var f=t-r;var l=1-(o+v)/e;var h=f/l-f;t+=h*(v/s);r-=h*(o/s);return{min:r,max:t}}function rk(r,t){var i=t;var n=$S(r,i);var a=n.extent;var e=i.get("splitNumber");if(r instanceof XS){r.base=i.get("logBase")}var u=r.type;var o=i.get("interval");var v=u==="interval"||u==="time";r.setExtent(a[0],a[1]);r.calcNiceExtent({splitNumber:e,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:v?i.get("minInterval"):null,maxInterval:v?i.get("maxInterval"):null});if(o!=null){r.setInterval&&r.setInterval(o)}}function tk(r,t){t=t||r.get("type");if(t){switch(t){case"category":return new uS({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[Infinity,-Infinity]});case"time":return new IS({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(ZM.getClass(t)||vS)}}}function ik(r){var t=r.scale.getExtent();var i=t[0];var n=t[1];return!(i>0&&n>0||i<0&&n<0)}function nk(r){var t=r.getLabelModel().get("formatter");var i=r.type==="category"?r.scale.getExtent()[0]:null;if(r.scale.type==="time"){return function(t){return function(i,n){return r.scale.getFormattedLabel(i,n,t)}}(t)}else if($(t)){return function(t){return function(i){var n=r.scale.getLabel(i);var a=t.replace("{value}",n!=null?n:"");return a}}(t)}else if(J(t)){return function(t){return function(n,a){if(i!=null){a=n.value-i}return t(ak(r,n),a,n.level!=null?{level:n.level}:null)}}(t)}else{return function(t){return r.scale.getLabel(t)}}}function ak(r,t){return r.type==="category"?r.scale.getLabel(t):t.value}function ek(r){var t=r.model;var i=r.scale;if(!t.get(["axisLabel","show"])||i.isBlank()){return}var n;var a;var e=i.getExtent();if(i instanceof uS){a=i.count()}else{n=i.getTicks();a=n.length}var u=r.getLabelModel();var o=nk(r);var v;var s=1;if(a>40){s=Math.ceil(a/40)}for(var f=0;f<a;f+=s){var l=n?n[f]:{value:e[0]+f};var h=o(l,f);var c=u.getTextRect(h);var d=uk(c,u.get("rotate")||0);v?v.union(d):v=d}return v}function uk(r,t){var i=t*Math.PI/180;var n=r.width;var a=r.height;var e=n*Math.abs(Math.cos(i))+Math.abs(a*Math.sin(i));var u=n*Math.abs(Math.sin(i))+Math.abs(a*Math.cos(i));var o=new Zt(r.x,r.y,e,u);return o}function ok(r){var t=r.get("interval");return t==null?"auto":t}function vk(r){return r.type==="category"&&ok(r.getLabelModel())===0}function sk(r,t){var i={};V(r.mapDimensionsAll(t),(function(t){i[VM(r,t)]=true}));return U(i)}function fk(r,t,i){if(t){V(sk(t,i),(function(i){var n=t.getApproximateExtent(i);n[0]<r[0]&&(r[0]=n[0]);n[1]>r[1]&&(r[1]=n[1])}))}}var lk=function(){function r(){}r.prototype.getNeedCrossZero=function(){var r=this.option;return!r.scale};r.prototype.getCoordSysModel=function(){return};return r}();var hk=1e-8;function ck(r,t){return Math.abs(r-t)<hk}function dk(r,t,i){var n=0;var a=r[0];if(!a){return false}for(var e=1;e<r.length;e++){var u=r[e];n+=kv(a[0],a[1],u[0],u[1],t,i);a=u}var o=r[0];if(!ck(a[0],o[0])||!ck(a[1],o[1])){n+=kv(a[0],a[1],o[0],o[1],t,i)}return n!==0}var pk=[];function mk(r,t){for(var i=0;i<r.length;i++){jr(r[i],r[i],t)}}function yk(r,t,i,n){for(var a=0;a<r.length;a++){var e=r[a];if(n){e=n.project(e)}if(e&&isFinite(e[0])&&isFinite(e[1])){qr(t,t,e);Kr(i,i,e)}}}function gk(r){var t=0;var i=0;var n=0;var a=r.length;var e=r[a-1][0];var u=r[a-1][1];for(var o=0;o<a;o++){var v=r[o][0];var s=r[o][1];var f=e*s-v*u;t+=f;i+=(e+v)*f;n+=(u+s)*f;e=v;u=s}return t?[i/t/3,n/t/3,t]:[r[0][0]||0,r[0][1]||0]}var bk=function(){function r(r){this.name=r}r.prototype.setCenter=function(r){this._center=r};r.prototype.getCenter=function(){var r=this._center;if(!r){r=this._center=this.calcCenter()}return r};return r}();var wk=function(){function r(r,t){this.type="polygon";this.exterior=r;this.interiors=t}return r}();var xk=function(){function r(r){this.type="linestring";this.points=r}return r}();var Mk=function(r){a(t,r);function t(t,i,n){var a=r.call(this,t)||this;a.type="geoJSON";a.geometries=i;a._center=n&&[n[0],n[1]];return a}t.prototype.calcCenter=function(){var r=this.geometries;var t;var i=0;for(var n=0;n<r.length;n++){var a=r[n];var e=a.exterior;var u=e&&e.length;if(u>i){t=a;i=u}}if(t){return gk(t.exterior)}var o=this.getBoundingRect();return[o.x+o.width/2,o.y+o.height/2]};t.prototype.getBoundingRect=function(r){var t=this._rect;if(t&&!r){return t}var i=[Infinity,Infinity];var n=[-Infinity,-Infinity];var a=this.geometries;V(a,(function(t){if(t.type==="polygon"){yk(t.exterior,i,n,r)}else{V(t.points,(function(t){yk(t,i,n,r)}))}}));if(!(isFinite(i[0])&&isFinite(i[1])&&isFinite(n[0])&&isFinite(n[1]))){i[0]=i[1]=n[0]=n[1]=0}t=new Zt(i[0],i[1],n[0]-i[0],n[1]-i[1]);if(!r){this._rect=t}return t};t.prototype.contain=function(r){var t=this.getBoundingRect();var i=this.geometries;if(!t.contain(r[0],r[1])){return false}r:for(var n=0,a=i.length;n<a;n++){var e=i[n];if(e.type!=="polygon"){continue}var u=e.exterior;var o=e.interiors;if(dk(u,r[0],r[1])){for(var v=0;v<(o?o.length:0);v++){if(dk(o[v],r[0],r[1])){continue r}}return true}}return false};t.prototype.transformTo=function(r,t,i,n){var a=this.getBoundingRect();var e=a.width/a.height;if(!i){i=e*n}else if(!n){n=i/e}var u=new Zt(r,t,i,n);var o=a.calculateTransform(u);var v=this.geometries;for(var s=0;s<v.length;s++){var f=v[s];if(f.type==="polygon"){mk(f.exterior,o);V(f.interiors,(function(r){mk(r,o)}))}else{V(f.points,(function(r){mk(r,o)}))}}a=this._rect;a.copy(u);this._center=[a.x+a.width/2,a.y+a.height/2]};t.prototype.cloneShallow=function(r){r==null&&(r=this.name);var i=new t(r,this.geometries,this._center);i._rect=this._rect;i.transformTo=null;return i};return t}(bk);var Sk=function(r){a(t,r);function t(t,i){var n=r.call(this,t)||this;n.type="geoSVG";n._elOnlyForCalculate=i;return n}t.prototype.calcCenter=function(){var r=this._elOnlyForCalculate;var t=r.getBoundingRect();var i=[t.x+t.width/2,t.y+t.height/2];var n=zt(pk);var a=r;while(a&&!a.isGeoSVGGraphicRoot){Ot(n,a.getLocalTransform(),n);a=a.parent}Bt(n,n);jr(i,i,n);return i};return t}(bk);function kk(r){if(!r.UTF8Encoding){return r}var t=r;var i=t.UTF8Scale;if(i==null){i=1024}var n=t.features;V(n,(function(r){var t=r.geometry;var n=t.encodeOffsets;var a=t.coordinates;if(!n){return}switch(t.type){case"LineString":t.coordinates=Ak(a,n,i);break;case"Polygon":Nk(a,n,i);break;case"MultiLineString":Nk(a,n,i);break;case"MultiPolygon":V(a,(function(r,t){return Nk(r,n[t],i)}))}}));t.UTF8Encoding=false;return t}function Nk(r,t,i){for(var n=0;n<r.length;n++){r[n]=Ak(r[n],t[n],i)}}function Ak(r,t,i){var n=[];var a=t[0];var e=t[1];for(var u=0;u<r.length;u+=2){var o=r.charCodeAt(u)-64;var v=r.charCodeAt(u+1)-64;o=o>>1^-(o&1);v=v>>1^-(v&1);o+=a;v+=e;a=o;e=v;n.push([o/i,v/i])}return n}function Ik(r,t){r=kk(r);return H(X(r.features,(function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0})),(function(r){var i=r.properties;var n=r.geometry;var a=[];switch(n.type){case"Polygon":var e=n.coordinates;a.push(new wk(e[0],e.slice(1)));break;case"MultiPolygon":V(n.coordinates,(function(r){if(r[0]){a.push(new wk(r[0],r.slice(1)))}}));break;case"LineString":a.push(new xk([n.coordinates]));break;case"MultiLineString":a.push(new xk(n.coordinates))}var u=new Mk(i[t||"name"],a,i.cp);u.properties=i;return u}))}var Ck=Lu();function Tk(r){return r.type==="category"?Lk(r):Rk(r)}function zk(r,t){return r.type==="category"?Dk(r,t):{ticks:H(r.scale.getTicks(),(function(r){return r.value}))}}function Lk(r){var t=r.getLabelModel();var i=Ok(r,t);return!t.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}function Ok(r,t){var i=Fk(r,"labels");var n=ok(t);var a=Bk(i,n);if(a){return a}var e;var u;if(J(n)){e=Hk(r,n)}else{u=n==="auto"?Ek(r):n;e=Vk(r,u)}return _k(i,n,{labels:e,labelCategoryInterval:u})}function Dk(r,t){var i=Fk(r,"ticks");var n=ok(t);var a=Bk(i,n);if(a){return a}var e;var u;if(!t.get("show")||r.scale.isBlank()){e=[]}if(J(n)){e=Hk(r,n,true)}else if(n==="auto"){var o=Ok(r,r.getLabelModel());u=o.labelCategoryInterval;e=H(o.labels,(function(r){return r.tickValue}))}else{u=n;e=Vk(r,u,true)}return _k(i,n,{ticks:e,tickCategoryInterval:u})}function Rk(r){var t=r.scale.getTicks();var i=nk(r);return{labels:H(t,(function(t,n){return{level:t.level,formattedLabel:i(t,n),rawLabel:r.scale.getLabel(t),tickValue:t.value}}))}}function Fk(r,t){return Ck(r)[t]||(Ck(r)[t]=[])}function Bk(r,t){for(var i=0;i<r.length;i++){if(r[i].key===t){return r[i].value}}}function _k(r,t,i){r.push({key:t,value:i});return i}function Ek(r){var t=Ck(r).autoInterval;return t!=null?t:Ck(r).autoInterval=r.calculateCategoryInterval()}function Pk(r){var t=Wk(r);var i=nk(r);var n=(t.axisRotate-t.labelRotate)/180*Math.PI;var a=r.scale;var e=a.getExtent();var u=a.count();if(e[1]-e[0]<1){return 0}var o=1;if(u>40){o=Math.max(1,Math.floor(u/40))}var v=e[0];var s=r.dataToCoord(v+1)-r.dataToCoord(v);var f=Math.abs(s*Math.cos(n));var l=Math.abs(s*Math.sin(n));var h=0;var c=0;for(;v<=e[1];v+=o){var d=0;var p=0;var m=ie(i({value:v}),t.font,"center","top");d=m.width*1.3;p=m.height*1.3;h=Math.max(h,d,7);c=Math.max(c,p,7)}var y=h/f;var g=c/l;isNaN(y)&&(y=Infinity);isNaN(g)&&(g=Infinity);var b=Math.max(0,Math.floor(Math.min(y,g)));var w=Ck(r.model);var x=r.getExtent();var M=w.lastAutoInterval;var S=w.lastTickCount;if(M!=null&&S!=null&&Math.abs(M-b)<=1&&Math.abs(S-u)<=1&&M>b&&w.axisExtent0===x[0]&&w.axisExtent1===x[1]){b=M}else{w.lastTickCount=u;w.lastAutoInterval=b;w.axisExtent0=x[0];w.axisExtent1=x[1]}return b}function Wk(r){var t=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function Vk(r,t,i){var n=nk(r);var a=r.scale;var e=a.getExtent();var u=r.getLabelModel();var o=[];var v=Math.max((t||0)+1,1);var s=e[0];var f=a.count();if(s!==0&&v>1&&f/v>2){s=Math.round(Math.ceil(s/v)*v)}var l=vk(r);var h=u.get("showMinLabel")||l;var c=u.get("showMaxLabel")||l;if(h&&s!==e[0]){p(e[0])}var d=s;for(;d<=e[1];d+=v){p(d)}if(c&&d-v!==e[1]){p(e[1])}function p(r){var t={value:r};o.push(i?r:{formattedLabel:n(t),rawLabel:a.getLabel(t),tickValue:r})}return o}function Hk(r,t,i){var n=r.scale;var a=nk(r);var e=[];V(n.getTicks(),(function(r){var u=n.getLabel(r);var o=r.value;if(t(r.value,u)){e.push(i?o:{formattedLabel:a(r),rawLabel:u,tickValue:o})}}));return e}var Yk=[0,1];var Xk=function(){function r(r,t,i){this.onBand=false;this.inverse=false;this.dim=r;this.scale=t;this._extent=i||[0,0]}r.prototype.contain=function(r){var t=this._extent;var i=Math.min(t[0],t[1]);var n=Math.max(t[0],t[1]);return r>=i&&r<=n};r.prototype.containData=function(r){return this.scale.contain(r)};r.prototype.getExtent=function(){return this._extent.slice()};r.prototype.getPixelPrecision=function(r){return Be(r||this.scale.getExtent(),this._extent)};r.prototype.setExtent=function(r,t){var i=this._extent;i[0]=r;i[1]=t};r.prototype.dataToCoord=function(r,t){var i=this._extent;var n=this.scale;r=n.normalize(r);if(this.onBand&&n.type==="ordinal"){i=i.slice();Gk(i,n.count())}return ze(r,Yk,i,t)};r.prototype.coordToData=function(r,t){var i=this._extent;var n=this.scale;if(this.onBand&&n.type==="ordinal"){i=i.slice();Gk(i,n.count())}var a=ze(r,i,Yk,t);return this.scale.scale(a)};r.prototype.pointToData=function(r,t){return};r.prototype.getTicksCoords=function(r){r=r||{};var t=r.tickModel||this.getTickModel();var i=zk(this,t);var n=i.ticks;var a=H(n,(function(r){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(r):r),tickValue:r}}),this);var e=t.get("alignWithLabel");Uk(this,a,e,r.clamp);return a};r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal"){return[]}var r=this.model.getModel("minorTick");var t=r.get("splitNumber");if(!(t>0&&t<100)){t=5}var i=this.scale.getMinorTicks(t);var n=H(i,(function(r){return H(r,(function(r){return{coord:this.dataToCoord(r),tickValue:r}}),this)}),this);return n};r.prototype.getViewLabels=function(){return Tk(this).labels};r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")};r.prototype.getTickModel=function(){return this.model.getModel("axisTick")};r.prototype.getBandWidth=function(){var r=this._extent;var t=this.scale.getExtent();var i=t[1]-t[0]+(this.onBand?1:0);i===0&&(i=1);var n=Math.abs(r[1]-r[0]);return Math.abs(n)/i};r.prototype.calculateCategoryInterval=function(){return Pk(this)};return r}();function Gk(r,t){var i=r[1]-r[0];var n=t;var a=i/n/2;r[0]+=a;r[1]-=a}function Uk(r,t,i,n){var a=t.length;if(!r.onBand||i||!a){return}var e=r.getExtent();var u;var o;if(a===1){t[0].coord=e[0];u=t[1]={coord:e[1]}}else{var v=t[a-1].tickValue-t[0].tickValue;var s=(t[a-1].coord-t[0].coord)/v;V(t,(function(r){r.coord-=s/2}));var f=r.scale.getExtent();o=1+f[1]-t[a-1].tickValue;u={coord:t[a-1].coord+s*o};t.push(u)}var l=e[0]>e[1];if(h(t[0].coord,e[0])){n?t[0].coord=e[0]:t.shift()}if(n&&h(e[0],t[0].coord)){t.unshift({coord:e[0]})}if(h(e[1],u.coord)){n?u.coord=e[1]:t.pop()}if(n&&h(u.coord,e[1])){t.push({coord:e[1]})}function h(r,t){r=Oe(r);t=Oe(t);return l?r>t:r<t}}var Zk=Math.PI*2;var jk=mv.CMD;var qk=["top","right","bottom","left"];function Kk(r,t,i,n,a){var e=i.width;var u=i.height;switch(r){case"top":n.set(i.x+e/2,i.y-t);a.set(0,-1);break;case"bottom":n.set(i.x+e/2,i.y+u+t);a.set(0,1);break;case"left":n.set(i.x-t,i.y+u/2);a.set(-1,0);break;case"right":n.set(i.x+e+t,i.y+u/2);a.set(1,0);break}}function Jk(r,t,i,n,a,e,u,o,v){u-=r;o-=t;var s=Math.sqrt(u*u+o*o);u/=s;o/=s;var f=u*i+r;var l=o*i+t;if(Math.abs(n-a)%Zk<1e-4){v[0]=f;v[1]=l;return s-i}if(e){var h=n;n=xv(a);a=xv(h)}else{n=xv(n);a=xv(a)}if(n>a){a+=Zk}var c=Math.atan2(o,u);if(c<0){c+=Zk}if(c>=n&&c<=a||c+Zk>=n&&c+Zk<=a){v[0]=f;v[1]=l;return s-i}var d=i*Math.cos(n)+r;var p=i*Math.sin(n)+t;var m=i*Math.cos(a)+r;var y=i*Math.sin(a)+t;var g=(d-u)*(d-u)+(p-o)*(p-o);var b=(m-u)*(m-u)+(y-o)*(y-o);if(g<b){v[0]=d;v[1]=p;return Math.sqrt(g)}else{v[0]=m;v[1]=y;return Math.sqrt(b)}}function $k(r,t,i,n,a,e,u,o){var v=a-r;var s=e-t;var f=i-r;var l=n-t;var h=Math.sqrt(f*f+l*l);f/=h;l/=h;var c=v*f+s*l;var d=c/h;if(o){d=Math.min(Math.max(d,0),1)}d*=h;var p=u[0]=r+d*f;var m=u[1]=t+d*l;return Math.sqrt((p-a)*(p-a)+(m-e)*(m-e))}function Qk(r,t,i,n,a,e,u){if(i<0){r=r+i;i=-i}if(n<0){t=t+n;n=-n}var o=r+i;var v=t+n;var s=u[0]=Math.min(Math.max(a,r),o);var f=u[1]=Math.min(Math.max(e,t),v);return Math.sqrt((s-a)*(s-a)+(f-e)*(f-e))}var rN=[];function tN(r,t,i){var n=Qk(t.x,t.y,t.width,t.height,r.x,r.y,rN);i.set(rN[0],rN[1]);return n}function iN(r,t,i){var n=0;var a=0;var e=0;var u=0;var o;var v;var s=Infinity;var f=t.data;var l=r.x;var h=r.y;for(var c=0;c<f.length;){var d=f[c++];if(c===1){n=f[c];a=f[c+1];e=n;u=a}var p=s;switch(d){case jk.M:e=f[c++];u=f[c++];n=e;a=u;break;case jk.L:p=$k(n,a,f[c],f[c+1],l,h,rN,true);n=f[c++];a=f[c++];break;case jk.C:p=Vi(n,a,f[c++],f[c++],f[c++],f[c++],f[c],f[c+1],l,h,rN);n=f[c++];a=f[c++];break;case jk.Q:p=ji(n,a,f[c++],f[c++],f[c],f[c+1],l,h,rN);n=f[c++];a=f[c++];break;case jk.A:var m=f[c++];var y=f[c++];var g=f[c++];var b=f[c++];var w=f[c++];var x=f[c++];c+=1;var M=!!(1-f[c++]);o=Math.cos(w)*g+m;v=Math.sin(w)*b+y;if(c<=1){e=o;u=v}var S=(l-m)*b/g+m;p=Jk(m,y,b,w,w+x,M,S,h,rN);n=Math.cos(w+x)*g+m;a=Math.sin(w+x)*b+y;break;case jk.R:e=n=f[c++];u=a=f[c++];var k=f[c++];var N=f[c++];p=Qk(e,u,k,N,l,h,rN);break;case jk.Z:p=$k(n,a,e,u,l,h,rN,true);n=e;a=u;break}if(p<s){s=p;i.set(rN[0],rN[1])}}return s}var nN=new Et;var aN=new Et;var eN=new Et;var uN=new Et;var oN=new Et;function vN(r,t){if(!r){return}var i=r.getTextGuideLine();var n=r.getTextContent();if(!(n&&i)){return}var a=r.textGuideLineConfig||{};var e=[[0,0],[0,0],[0,0]];var u=a.candidates||qk;var o=n.getBoundingRect().clone();o.applyTransform(n.getComputedTransform());var v=Infinity;var s=a.anchor;var f=r.getComputedTransform();var l=f&&Bt([],f);var h=t.get("length2")||0;if(s){eN.copy(s)}for(var c=0;c<u.length;c++){var d=u[c];Kk(d,0,o,nN,uN);Et.scaleAndAdd(aN,nN,uN,h);aN.transform(l);var p=r.getBoundingRect();var m=s?s.distance(aN):r instanceof Vv?iN(aN,r.path,eN):tN(aN,p,eN);if(m<v){v=m;aN.transform(f);eN.transform(f);eN.toArray(e[0]);aN.toArray(e[1]);nN.toArray(e[2])}}lN(e,t.get("minTurnAngle"));i.setShape({points:e})}var sN=[];var fN=new Et;function lN(r,t){if(!(t<=180&&t>0)){return}t=t/180*Math.PI;nN.fromArray(r[0]);aN.fromArray(r[1]);eN.fromArray(r[2]);Et.sub(uN,nN,aN);Et.sub(oN,eN,aN);var i=uN.len();var n=oN.len();if(i<.001||n<.001){return}uN.scale(1/i);oN.scale(1/n);var a=uN.dot(oN);var e=Math.cos(t);if(e<a){var u=$k(aN.x,aN.y,eN.x,eN.y,nN.x,nN.y,sN,false);fN.fromArray(sN);fN.scaleAndAdd(oN,u/Math.tan(Math.PI-t));var o=eN.x!==aN.x?(fN.x-aN.x)/(eN.x-aN.x):(fN.y-aN.y)/(eN.y-aN.y);if(isNaN(o)){return}if(o<0){Et.copy(fN,aN)}else if(o>1){Et.copy(fN,eN)}fN.toArray(r[1])}}function hN(r,t,i){if(!(i<=180&&i>0)){return}i=i/180*Math.PI;nN.fromArray(r[0]);aN.fromArray(r[1]);eN.fromArray(r[2]);Et.sub(uN,aN,nN);Et.sub(oN,eN,aN);var n=uN.len();var a=oN.len();if(n<.001||a<.001){return}uN.scale(1/n);oN.scale(1/a);var e=uN.dot(t);var u=Math.cos(i);if(e<u){var o=$k(aN.x,aN.y,eN.x,eN.y,nN.x,nN.y,sN,false);fN.fromArray(sN);var v=Math.PI/2;var s=Math.acos(oN.dot(t));var f=v+s-i;if(f>=v){Et.copy(fN,eN)}else{fN.scaleAndAdd(oN,o/Math.tan(Math.PI/2-f));var l=eN.x!==aN.x?(fN.x-aN.x)/(eN.x-aN.x):(fN.y-aN.y)/(eN.y-aN.y);if(isNaN(l)){return}if(l<0){Et.copy(fN,aN)}else if(l>1){Et.copy(fN,eN)}}fN.toArray(r[1])}}function cN(r,t,i,n){var a=i==="normal";var e=a?r:r.ensureState(i);e.ignore=t;var u=n.get("smooth");if(u&&u===true){u=.3}e.shape=e.shape||{};if(u>0){e.shape.smooth=u}var o=n.getModel("lineStyle").getLineStyle();a?r.useStyle(o):e.style=o}function dN(r,t){var i=t.smooth;var n=t.points;if(!n){return}r.moveTo(n[0][0],n[0][1]);if(i>0&&n.length>=3){var a=Xr(n[0],n[1]);var e=Xr(n[1],n[2]);if(!a||!e){r.lineTo(n[1][0],n[1][1]);r.lineTo(n[2][0],n[2][1]);return}var u=Math.min(a,e)*i;var o=Zr([],n[1],n[0],u/a);var v=Zr([],n[1],n[2],u/e);var s=Zr([],o,v,.5);r.bezierCurveTo(o[0],o[1],o[0],o[1],s[0],s[1]);r.bezierCurveTo(v[0],v[1],v[0],v[1],n[2][0],n[2][1])}else{for(var f=1;f<n.length;f++){r.lineTo(n[f][0],n[f][1])}}}function pN(r,t,i){var n=r.getTextGuideLine();var a=r.getTextContent();if(!a){if(n){r.removeTextGuideLine()}return}var e=t.normal;var u=e.get("show");var o=a.ignore;for(var v=0;v<Ts.length;v++){var s=Ts[v];var f=t[s];var l=s==="normal";if(f){var h=f.get("show");var c=l?o:fr(a.states[s]&&a.states[s].ignore,o);if(c||!fr(h,u)){var d=l?n:n&&n.states[s];if(d){d.ignore=true}continue}if(!n){n=new Dl;r.setTextGuideLine(n);if(!l&&(o||!u)){cN(n,true,"normal",t.normal)}if(r.stateProxy){n.stateProxy=r.stateProxy}}cN(n,false,s,f)}}if(n){B(n.style,i);n.style.fill=null;var p=e.get("showAbove");var m=r.textGuideLineConfig=r.textGuideLineConfig||{};m.showAbove=p||false;n.buildPath=dN}}function mN(r,t){t=t||"labelLine";var i={normal:r.getModel(t)};for(var n=0;n<Cs.length;n++){var a=Cs[n];i[a]=r.getModel([a,t])}return i}function yN(r){var t=[];for(var i=0;i<r.length;i++){var n=r[i];if(n.defaultAttr.ignore){continue}var a=n.label;var e=a.getComputedTransform();var u=a.getBoundingRect();var o=!e||e[1]<1e-5&&e[2]<1e-5;var v=a.style.margin||0;var s=u.clone();s.applyTransform(e);s.x-=v/2;s.y-=v/2;s.width+=v;s.height+=v;var f=o?new Jl(u,e):null;t.push({label:a,labelLine:n.labelLine,rect:s,localRect:u,obb:f,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:o,transform:e})}return t}function gN(r,t,i,n,a,e){var u=r.length;if(u<2){return}r.sort((function(r,i){return r.rect[t]-i.rect[t]}));var o=0;var v;var s=false;var f=0;for(var l=0;l<u;l++){var h=r[l];var c=h.rect;v=c[t]-o;if(v<0){c[t]-=v;h.label[t]-=v;s=true}var d=Math.max(-v,0);f+=d;o=c[t]+c[i]}if(f>0&&e){x(-f/u,0,u)}var p=r[0];var m=r[u-1];var y;var g;b();y<0&&M(-y,.8);g<0&&M(g,.8);b();w(y,g,1);w(g,y,-1);b();if(y<0){S(-y)}if(g<0){S(g)}function b(){y=p.rect[t]-n;g=a-m.rect[t]-m.rect[i]}function w(r,t,i){if(r<0){var n=Math.min(t,-r);if(n>0){x(n*i,0,u);var a=n+r;if(a<0){M(-a*i,1)}}else{M(-r*i,1)}}}function x(i,n,a){if(i!==0){s=true}for(var e=n;e<a;e++){var u=r[e];var o=u.rect;o[t]+=i;u.label[t]+=i}}function M(n,a){var e=[];var o=0;for(var v=1;v<u;v++){var s=r[v-1].rect;var f=Math.max(r[v].rect[t]-s[t]-s[i],0);e.push(f);o+=f}if(!o){return}var l=Math.min(Math.abs(n)/o,a);if(n>0){for(var v=0;v<u-1;v++){var h=e[v]*l;x(h,0,v+1)}}else{for(var v=u-1;v>0;v--){var h=e[v-1]*l;x(-h,v,u)}}}function S(r){var t=r<0?-1:1;r=Math.abs(r);var i=Math.ceil(r/(u-1));for(var n=0;n<u-1;n++){if(t>0){x(i,0,n+1)}else{x(-i,u-n-1,u)}r-=i;if(r<=0){return}}}return s}function bN(r,t,i,n){return gN(r,"x","width",t,i,n)}function wN(r,t,i,n){return gN(r,"y","height",t,i,n)}function xN(r){var t=[];r.sort((function(r,t){return t.priority-r.priority}));var i=new Zt(0,0,0,0);function n(r){if(!r.ignore){var t=r.ensureState("emphasis");if(t.ignore==null){t.ignore=false}}r.ignore=true}for(var a=0;a<r.length;a++){var e=r[a];var u=e.axisAligned;var o=e.localRect;var v=e.transform;var s=e.label;var f=e.labelLine;i.copy(e.rect);i.width-=.1;i.height-=.1;i.x+=.05;i.y+=.05;var l=e.obb;var h=false;for(var c=0;c<t.length;c++){var d=t[c];if(!i.intersect(d.rect)){continue}if(u&&d.axisAligned){h=true;break}if(!d.obb){d.obb=new Jl(d.localRect,d.transform)}if(!l){l=new Jl(o,v)}if(l.intersect(d.obb)){h=true;break}}if(h){n(s);f&&n(f)}else{s.attr("ignore",e.defaultAttr.ignore);f&&f.attr("ignore",e.defaultAttr.labelGuideIgnore);t.push(e)}}}function MN(r){if(r){var t=[];for(var i=0;i<r.length;i++){t.push(r[i].slice())}return t}}function SN(r,t){var i=r.label;var n=t&&t.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:i.style.align,verticalAlign:i.style.verticalAlign,labelLinePoints:MN(n&&n.shape.points)}}var kN=["align","verticalAlign","width","height","fontSize"];var NN=new Ka;var AN=Lu();var IN=Lu();function CN(r,t,i){for(var n=0;n<i.length;n++){var a=i[n];if(t[a]!=null){r[a]=t[a]}}}var TN=["x","y","rotation"];var zN=function(){function r(){this._labelList=[];this._chartViewList=[]}r.prototype.clearLabels=function(){this._labelList=[];this._chartViewList=[]};r.prototype._addLabel=function(r,t,i,n,a){var e=n.style;var u=n.__hostTarget;var o=u.textConfig||{};var v=n.getComputedTransform();var s=n.getBoundingRect().plain();Zt.applyTransform(s,s,v);if(v){NN.setLocalTransform(v)}else{NN.x=NN.y=NN.rotation=NN.originX=NN.originY=0;NN.scaleX=NN.scaleY=1}NN.rotation=xv(NN.rotation);var f=n.__hostTarget;var l;if(f){l=f.getBoundingRect().plain();var h=f.getComputedTransform();Zt.applyTransform(l,l,h)}var c=l&&f.getTextGuideLine();this._labelList.push({label:n,labelLine:c,seriesModel:i,dataIndex:r,dataType:t,layoutOption:a,computedLayoutOption:null,rect:s,hostRect:l,priority:l?l.width*l.height:0,defaultAttr:{ignore:n.ignore,labelGuideIgnore:c&&c.ignore,x:NN.x,y:NN.y,scaleX:NN.scaleX,scaleY:NN.scaleY,rotation:NN.rotation,style:{x:e.x,y:e.y,align:e.align,verticalAlign:e.verticalAlign,width:e.width,height:e.height,fontSize:e.fontSize},cursor:n.cursor,attachedPos:o.position,attachedRot:o.rotation}})};r.prototype.addLabelsOfSeries=function(r){var t=this;this._chartViewList.push(r);var i=r.__model;var n=i.get("labelLayout");if(!(J(n)||U(n).length)){return}r.group.traverse((function(r){if(r.ignore){return true}var a=r.getTextContent();var e=bs(r);if(a&&!a.disableLabelLayout){t._addLabel(e.dataIndex,e.dataType,i,a,n)}}))};r.prototype.updateLayoutConfig=function(r){var t=r.getWidth();var i=r.getHeight();function n(r,t){return function(){vN(r,t)}}for(var a=0;a<this._labelList.length;a++){var e=this._labelList[a];var u=e.label;var o=u.__hostTarget;var v=e.defaultAttr;var s=void 0;if(J(e.layoutOption)){s=e.layoutOption(SN(e,o))}else{s=e.layoutOption}s=s||{};e.computedLayoutOption=s;var f=Math.PI/180;if(o){o.setTextConfig({local:false,position:s.x!=null||s.y!=null?null:v.attachedPos,rotation:s.rotate!=null?s.rotate*f:v.attachedRot,offset:[s.dx||0,s.dy||0]})}var l=false;if(s.x!=null){u.x=Le(s.x,t);u.setStyle("x",0);l=true}else{u.x=v.x;u.setStyle("x",v.style.x)}if(s.y!=null){u.y=Le(s.y,i);u.setStyle("y",0);l=true}else{u.y=v.y;u.setStyle("y",v.style.y)}if(s.labelLinePoints){var h=o.getTextGuideLine();if(h){h.setShape({points:s.labelLinePoints});l=false}}var c=AN(u);c.needsUpdateLabelLine=l;u.rotation=s.rotate!=null?s.rotate*f:v.rotation;u.scaleX=v.scaleX;u.scaleY=v.scaleY;for(var d=0;d<kN.length;d++){var p=kN[d];u.setStyle(p,s[p]!=null?s[p]:v.style[p])}if(s.draggable){u.draggable=true;u.cursor="move";if(o){var m=e.seriesModel;if(e.dataIndex!=null){var y=e.seriesModel.getData(e.dataType);m=y.getItemModel(e.dataIndex)}u.on("drag",n(o,m.getModel("labelLine")))}}else{u.off("drag");u.cursor=v.cursor}}};r.prototype.layout=function(r){var t=r.getWidth();var i=r.getHeight();var n=yN(this._labelList);var a=X(n,(function(r){return r.layoutOption.moveOverlap==="shiftX"}));var e=X(n,(function(r){return r.layoutOption.moveOverlap==="shiftY"}));bN(a,0,t);wN(e,0,i);var u=X(n,(function(r){return r.layoutOption.hideOverlap}));xN(u)};r.prototype.processLabelsOverall=function(){var r=this;V(this._chartViewList,(function(t){var i=t.__model;var n=t.ignoreLabelLineUpdate;var a=i.isAnimationEnabled();t.group.traverse((function(t){if(t.ignore&&!t.forceLabelAnimation){return true}var e=!n;var u=t.getTextContent();if(!e&&u){e=AN(u).needsUpdateLabelLine}if(e){r._updateLabelLine(t,i)}if(a){r._animateLabels(t,i)}}))}))};r.prototype._updateLabelLine=function(r,t){var i=r.getTextContent();var n=bs(r);var a=n.dataIndex;if(i&&a!=null){var e=t.getData(n.dataType);var u=e.getItemModel(a);var o={};var v=e.getItemVisual(a,"style");if(v){var s=e.getVisual("drawType");o.stroke=v[s]}var f=u.getModel("labelLine");pN(r,mN(u),o);vN(r,f)}};r.prototype._animateLabels=function(r,t){var i=r.getTextContent();var n=r.getTextGuideLine();if(i&&(r.forceLabelAnimation||!i.ignore&&!i.invisible&&!r.disableLabelAnimation&&!eh(r))){var a=AN(i);var e=a.oldLayout;var u=bs(r);var o=u.dataIndex;var v={x:i.x,y:i.y,rotation:i.rotation};var s=t.getData(u.dataType);if(!e){i.attr(v);if(!ac(i).valueAnimation){var f=fr(i.style.opacity,1);i.style.opacity=0;ah(i,{style:{opacity:f}},t,o)}}else{i.attr(e);var l=r.prevStates;if(l){if(_(l,"select")>=0){i.attr(a.oldLayoutSelect)}if(_(l,"emphasis")>=0){i.attr(a.oldLayoutEmphasis)}}nh(i,v,t,o)}a.oldLayout=v;if(i.states.select){var h=a.oldLayoutSelect={};CN(h,v,TN);CN(h,i.states.select,TN)}if(i.states.emphasis){var c=a.oldLayoutEmphasis={};CN(c,v,TN);CN(c,i.states.emphasis,TN)}uc(i,o,s,t,t)}if(n&&!n.ignore&&!n.invisible){var a=IN(n);var e=a.oldLayout;var d={points:n.shape.points};if(!e){n.setShape(d);n.style.strokePercent=0;ah(n,{style:{strokePercent:1}},t)}else{n.attr({shape:e});nh(n,{shape:d},t)}a.oldLayout=d}};return r}();var LN=Lu();function ON(r){r.registerUpdateLifecycle("series:beforeupdate",(function(r,t,i){var n=LN(t).labelManager;if(!n){n=LN(t).labelManager=new zN}n.clearLabels()}));r.registerUpdateLifecycle("series:layoutlabels",(function(r,t,i){var n=LN(t).labelManager;i.updatedSeries.forEach((function(r){n.addLabelsOfSeries(t.getViewOfSeriesModel(r))}));n.updateLayoutConfig(t);n.layout(t);n.processLabelsOverall()}))}var DN=Math.sin;var RN=Math.cos;var FN=Math.PI;var BN=Math.PI*2;var _N=180/FN;var EN=function(){function r(){}r.prototype.reset=function(r){this._start=true;this._d=[];this._str="";this._p=Math.pow(10,r||4)};r.prototype.moveTo=function(r,t){this._add("M",r,t)};r.prototype.lineTo=function(r,t){this._add("L",r,t)};r.prototype.bezierCurveTo=function(r,t,i,n,a,e){this._add("C",r,t,i,n,a,e)};r.prototype.quadraticCurveTo=function(r,t,i,n){this._add("Q",r,t,i,n)};r.prototype.arc=function(r,t,i,n,a,e){this.ellipse(r,t,i,i,0,n,a,e)};r.prototype.ellipse=function(r,t,i,n,a,e,u,o){var v=u-e;var s=!o;var f=Math.abs(v);var l=Tn(f-BN)||(s?v>=BN:-v>=BN);var h=v>0?v%BN:v%BN+BN;var c=false;if(l){c=true}else if(Tn(f)){c=false}else{c=h>=FN===!!s}var d=r+i*RN(e);var p=t+n*DN(e);if(this._start){this._add("M",d,p)}var m=Math.round(a*_N);if(l){var y=1/this._p;var g=(s?1:-1)*(BN-y);this._add("A",i,n,m,1,+s,r+i*RN(e+g),t+n*DN(e+g));if(y>.01){this._add("A",i,n,m,0,+s,d,p)}}else{var b=r+i*RN(u);var w=t+n*DN(u);this._add("A",i,n,m,+c,+s,b,w)}};r.prototype.rect=function(r,t,i,n){this._add("M",r,t);this._add("l",i,0);this._add("l",0,n);this._add("l",-i,0);this._add("Z")};r.prototype.closePath=function(){if(this._d.length>0){this._add("Z")}};r.prototype._add=function(r,t,i,n,a,e,u,o,v){var s=[];var f=this._p;for(var l=1;l<arguments.length;l++){var h=arguments[l];if(isNaN(h)){this._invalid=true;return}s.push(Math.round(h*f)/f)}this._d.push(r+s.join(" "));this._start=r==="Z"};r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join("");this._d=[]};r.prototype.getStr=function(){return this._str};return r}();var PN="none";var WN=Math.round;function VN(r){var t=r.fill;return t!=null&&t!==PN}function HN(r){var t=r.stroke;return t!=null&&t!==PN}var YN=["lineCap","miterLimit","lineJoin"];var XN=H(YN,(function(r){return"stroke-"+r.toLowerCase()}));function GN(r,t,i,n){var a=t.opacity==null?1:t.opacity;if(i instanceof Zv){r("opacity",a);return}if(VN(t)){var e=In(t.fill);r("fill",e.color);var u=t.fillOpacity!=null?t.fillOpacity*e.opacity*a:e.opacity*a;if(n||u<1){r("fill-opacity",u)}}else{r("fill",PN)}if(HN(t)){var o=In(t.stroke);r("stroke",o.color);var v=t.strokeNoScale?i.getLineScale():1;var s=v?(t.lineWidth||0)/v:0;var f=t.strokeOpacity!=null?t.strokeOpacity*o.opacity*a:o.opacity*a;var l=t.strokeFirst;if(n||s!==1){r("stroke-width",s)}if(n||l){r("paint-order",l?"stroke":"fill")}if(n||f<1){r("stroke-opacity",f)}if(t.lineDash){var h=Fb(i),c=h[0],d=h[1];if(c){d=WN(d||0);r("stroke-dasharray",c.join(","));if(d||n){r("stroke-dashoffset",d)}}}else if(n){r("stroke-dasharray",PN)}for(var p=0;p<YN.length;p++){var m=YN[p];if(n||t[m]!==Ev[m]){var y=t[m]||Ev[m];y&&r(XN[p],y)}}}else if(n){r("stroke",PN)}}var UN="http://www.w3.org/2000/svg";var ZN="http://www.w3.org/1999/xlink";var jN="http://www.w3.org/2000/xmlns/";var qN="http://www.w3.org/XML/1998/namespace";function KN(r){return document.createElementNS(UN,r)}function JN(r,t,i,n,a){return{tag:r,attrs:i||{},children:n,text:a,key:t}}function $N(r,t){var i=[];if(t){for(var n in t){var a=t[n];var e=n;if(a===false){continue}else if(a!==true&&a!=null){e+='="'+a+'"'}i.push(e)}}return"<"+r+" "+i.join(" ")+">"}function QN(r){return"</"+r+">"}function rA(r,t){t=t||{};var i=t.newline?"\n":"";function n(r){var t=r.children,a=r.tag,e=r.attrs,u=r.text;return $N(a,e)+(a!=="style"?ht(u):u||"")+(t?""+i+H(t,(function(r){return n(r)})).join(i)+i:"")+QN(a)}return n(r)}function tA(r,t,i){i=i||{};var n=i.newline?"\n":"";var a=" {"+n;var e=n+"}";var u=H(U(r),(function(t){return t+a+H(U(r[t]),(function(i){return i+":"+r[t][i]+";"})).join(n)+e})).join(n);var o=H(U(t),(function(r){return"@keyframes "+r+a+H(U(t[r]),(function(i){return i+a+H(U(t[r][i]),(function(n){var a=t[r][i][n];if(n==="d"){a='path("'+a+'")'}return n+":"+a+";"})).join(n)+e})).join(n)+e})).join(n);if(!u&&!o){return""}return["<![CDATA[",u,o,"]]>"].join(n)}function iA(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function nA(r,t,i,n){return JN("svg","root",{width:r,height:t,xmlns:UN,"xmlns:xlink":ZN,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+r+" "+t:false},i)}var aA={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"};var eA="transform-origin";function uA(r,t,i){var n=F({},r.shape);F(n,t);r.buildPath(i,n);var a=new EN;a.reset(Xn(r));i.rebuildPath(a,1);a.generateStr();return a.getStr()}function oA(r,t){var i=t.originX,n=t.originY;if(i||n){r[eA]=i+"px "+n+"px"}}var vA={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function sA(r,t){var i=t.zrId+"-ani-"+t.cssAnimIdx++;t.cssAnims[i]=r;return i}function fA(r,t,i){var n=r.shape.paths;var a={};var e;var u;V(n,(function(r){var t=iA(i.zrId);t.animation=true;hA(r,{},t,true);var n=t.cssAnims;var o=t.cssNodes;var v=U(n);var s=v.length;if(!s){return}u=v[s-1];var f=n[u];for(var l in f){var h=f[l];a[l]=a[l]||{d:""};a[l].d+=h.d||""}for(var c in o){var d=o[c].animation;if(d.indexOf(u)>=0){e=d}}}));if(!e){return}t.d=false;var o=sA(a,i);return e.replace(u,o)}function lA(r){return $(r)?aA[r]?"cubic-bezier("+aA[r]+")":Ji(r)?r:"":""}function hA(r,t,i,n){var a=r.animators;var e=a.length;var u=[];if(r instanceof Yl){var o=fA(r,t,i);if(o){u.push(o)}else if(!e){return}}else if(!e){return}var v={};for(var s=0;s<e;s++){var f=a[s];var l=[f.getMaxTime()/1e3+"s"];var h=lA(f.getClip().easing);var c=f.getDelay();if(h){l.push(h)}else{l.push("linear")}if(c){l.push(c/1e3+"s")}if(f.getLoop()){l.push("infinite")}var d=l.join(" ");v[d]=v[d]||[d,[]];v[d][1].push(f)}function p(a){var e=a[1];var u=e.length;var o={};var v={};var s={};var f="animation-timing-function";function l(r,t,i){var n=r.getTracks();var a=r.getMaxTime();for(var e=0;e<n.length;e++){var u=n[e];if(u.needsAnimate()){var o=u.keyframes;var v=u.propName;i&&(v=i(v));if(v){for(var s=0;s<o.length;s++){var l=o[s];var h=Math.round(l.time/a*100)+"%";var c=lA(l.easing);var d=l.rawValue;if($(d)||rr(d)){t[h]=t[h]||{};t[h][v]=l.rawValue;if(c){t[h][f]=c}}}}}}}for(var h=0;h<u;h++){var c=e[h];var d=c.targetName;if(!d){!n&&l(c,o)}else if(d==="shape"){l(c,v)}}for(var p in o){var m={};$a(m,r);F(m,o[p]);var y=Gn(m);var g=o[p][f];s[p]=y?{transform:y}:{};oA(s[p],m);if(g){s[p][f]=g}}var b;var w=true;for(var p in v){s[p]=s[p]||{};var x=!b;var g=v[p][f];if(x){b=new mv}var M=b.len();b.reset();s[p].d=uA(r,v[p],b);var S=b.len();if(!x&&M!==S){w=false;break}if(g){s[p][f]=g}}if(!w){for(var p in s){delete s[p].d}}if(!n){for(var h=0;h<u;h++){var c=e[h];var d=c.targetName;if(d==="style"){l(c,s,(function(r){return vA[r]}))}}}var k=U(s);var N=true;var A;for(var h=1;h<k.length;h++){var I=k[h-1];var C=k[h];if(s[I][eA]!==s[C][eA]){N=false;break}A=s[I][eA]}if(N&&A){for(var p in s){if(s[p][eA]){delete s[p][eA]}}t[eA]=A}if(X(k,(function(r){return U(s[r]).length>0})).length){var T=sA(s,i);return T+" "+a[0]+" both"}}for(var m in v){var o=p(v[m]);if(o){u.push(o)}}if(u.length){var y=i.zrId+"-cls-"+i.cssClassIdx++;i.cssNodes["."+y]={animation:u.join(",")};t["class"]=y}}var cA=Math.round;function dA(r){return r&&$(r.src)}function pA(r){return r&&J(r.toDataURL)}function mA(r,t,i,n){GN((function(a,e){var u=a==="fill"||a==="stroke";if(u&&Hn(e)){zA(t,r,a,n)}else if(u&&Pn(e)){LA(i,r,a,n)}else{r[a]=e}}),t,i,false);TA(i,r,n)}function yA(r){return Tn(r[0]-1)&&Tn(r[1])&&Tn(r[2])&&Tn(r[3]-1)}function gA(r){return Tn(r[4])&&Tn(r[5])}function bA(r,t,i){if(t&&!(gA(t)&&yA(t))){var n=i?10:1e4;r.transform=yA(t)?"translate("+cA(t[4]*n)/n+" "+cA(t[5]*n)/n+")":On(t)}}function wA(r,t,i){var n=r.points;var a=[];for(var e=0;e<n.length;e++){a.push(cA(n[e][0]*i)/i);a.push(cA(n[e][1]*i)/i)}t.points=a.join(" ")}function xA(r){return!r.smooth}function MA(r){var t=H(r,(function(r){return typeof r==="string"?[r,r]:r}));return function(r,i,n){for(var a=0;a<t.length;a++){var e=t[a];var u=r[e[0]];if(u!=null){i[e[1]]=cA(u*n)/n}}}}var SA={circle:[MA(["cx","cy","r"])],polyline:[wA,xA],polygon:[wA,xA]};function kA(r){var t=r.animators;for(var i=0;i<t.length;i++){if(t[i].targetName==="shape"){return true}}return false}function NA(r,t){var i=r.style;var n=r.shape;var a=SA[r.type];var e={};var u=t.animation;var o="path";var v=r.style.strokePercent;var s=t.compress&&Xn(r)||4;if(a&&!t.willUpdate&&!(a[1]&&!a[1](n))&&!(u&&kA(r))&&!(v<1)){o=r.type;var f=Math.pow(10,s);a[0](n,e,f)}else{var l=!r.path||r.shapeChanged();if(!r.path){r.createPathProxy()}var h=r.path;if(l){h.beginPath();r.buildPath(h,r.shape);r.pathUpdated()}var c=h.getVersion();var d=r;var p=d.__svgPathBuilder;if(d.__svgPathVersion!==c||!p||v!==d.__svgPathStrokePercent){if(!p){p=d.__svgPathBuilder=new EN}p.reset(s);h.rebuildPath(p,v);p.generateStr();d.__svgPathVersion=c;d.__svgPathStrokePercent=v}e.d=p.getStr()}bA(e,r.transform);mA(e,i,r,t);t.animation&&hA(r,e,t);return JN(o,r.id+"",e)}function AA(r,t){var i=r.style;var n=i.image;if(n&&!$(n)){if(dA(n)){n=n.src}else if(pA(n)){n=n.toDataURL()}}if(!n){return}var a=i.x||0;var e=i.y||0;var u=i.width;var o=i.height;var v={href:n,width:u,height:o};if(a){v.x=a}if(e){v.y=e}bA(v,r.transform);mA(v,i,r,t);t.animation&&hA(r,v,t);return JN("image",r.id+"",v)}function IA(r,t){var i=r.style;var n=i.text;n!=null&&(n+="");if(!n||isNaN(i.x)||isNaN(i.y)){return}var a=i.font||l;var e=i.x||0;var u=Rn(i.y||0,ee(a),i.textBaseline);var o=Dn[i.textAlign]||i.textAlign;var v={"dominant-baseline":"central","text-anchor":o};if(ls(i)){var s="";var h=i.fontStyle;var c=ss(i.fontSize);if(!parseFloat(c)){return}var d=i.fontFamily||f;var p=i.fontWeight;s+="font-size:"+c+";font-family:"+d+";";if(h&&h!=="normal"){s+="font-style:"+h+";"}if(p&&p!=="normal"){s+="font-weight:"+p+";"}v.style=s}else{v.style="font: "+a}if(n.match(/\s/)){v["xml:space"]="preserve"}if(e){v.x=e}if(u){v.y=u}bA(v,r.transform);mA(v,i,r,t);t.animation&&hA(r,v,t);return JN("text",r.id+"",v,undefined,n)}function CA(r,t){if(r instanceof Vv){return NA(r,t)}else if(r instanceof Zv){return AA(r,t)}else if(r instanceof Yv){return IA(r,t)}}function TA(r,t,i){var n=r.style;if(Fn(n)){var a=Bn(r);var e=i.shadowCache;var u=e[a];if(!u){var o=r.getGlobalScale();var v=o[0];var s=o[1];if(!v||!s){return}var f=n.shadowOffsetX||0;var l=n.shadowOffsetY||0;var h=n.shadowBlur;var c=In(n.shadowColor),d=c.opacity,p=c.color;var m=h/2/v;var y=h/2/s;var g=m+" "+y;u=i.zrId+"-s"+i.shadowIdx++;i.defs[u]=JN("filter",u,{id:u,x:"-100%",y:"-100%",width:"300%",height:"300%"},[JN("feDropShadow","",{dx:f/v,dy:l/s,stdDeviation:g,"flood-color":p,"flood-opacity":d})]);e[a]=u}t.filter=Yn(u)}}function zA(r,t,i,n){var a=r[i];var e;var u={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(Wn(a)){e="linearGradient";u.x1=a.x;u.y1=a.y;u.x2=a.x2;u.y2=a.y2}else if(Vn(a)){e="radialGradient";u.cx=fr(a.x,.5);u.cy=fr(a.y,.5);u.r=fr(a.r,.5)}else{return}var o=a.colorStops;var v=[];for(var s=0,f=o.length;s<f;++s){var l=Ln(o[s].offset)*100+"%";var h=o[s].color;var c=In(h),d=c.color,p=c.opacity;var m={offset:l};m["stop-color"]=d;if(p<1){m["stop-opacity"]=p}v.push(JN("stop",s+"",m))}var y=JN(e,"",u,v);var g=rA(y);var b=n.gradientCache;var w=b[g];if(!w){w=n.zrId+"-g"+n.gradientIdx++;b[g]=w;u.id=w;n.defs[w]=JN(e,w,u,v)}t[i]=Yn(w)}function LA(r,t,i,n){var a=r.style[i];var e=r.getBoundingRect();var u={};var o=a.repeat;var v=o==="no-repeat";var s=o==="repeat-x";var f=o==="repeat-y";var l;if(_n(a)){var h=a.imageWidth;var c=a.imageHeight;var d=void 0;var p=a.image;if($(p)){d=p}else if(dA(p)){d=p.src}else if(pA(p)){d=p.toDataURL()}if(typeof Image==="undefined"){var m="Image width/height must been given explictly in svg-ssr renderer.";dr(h,m);dr(c,m)}else if(h==null||c==null){var y=function(r,t){if(r){var i=r.elm;var n=h||t.width;var a=c||t.height;if(r.tag==="pattern"){if(s){a=1;n/=e.width}else if(f){n=1;a/=e.height}}r.attrs.width=n;r.attrs.height=a;if(i){i.setAttribute("width",n);i.setAttribute("height",a)}}};var g=so(d,null,r,(function(r){v||y(M,r);y(l,r)}));if(g&&g.width&&g.height){h=h||g.width;c=c||g.height}}l=JN("image","img",{href:d,width:h,height:c});u.width=h;u.height=c}else if(a.svgElement){l=O(a.svgElement);u.width=a.svgWidth;u.height=a.svgHeight}if(!l){return}var b;var w;if(v){b=w=1}else if(s){w=1;b=u.width/e.width}else if(f){b=1;w=u.height/e.height}else{u.patternUnits="userSpaceOnUse"}if(b!=null&&!isNaN(b)){u.width=b}if(w!=null&&!isNaN(w)){u.height=w}var x=Gn(a);x&&(u.patternTransform=x);var M=JN("pattern","",u,[l]);var S=rA(M);var k=n.patternCache;var N=k[S];if(!N){N=n.zrId+"-p"+n.patternIdx++;k[S]=N;u.id=N;M=n.defs[N]=JN("pattern",N,u,[l])}t[i]=Yn(N)}function OA(r,t,i){var n=i.clipPathCache,a=i.defs;var e=n[r.id];if(!e){e=i.zrId+"-c"+i.clipPathIdx++;var u={id:e};n[r.id]=e;a[e]=JN("clipPath",e,u,[NA(r,i)])}t["clip-path"]=Yn(e)}function DA(r){return document.createTextNode(r)}function RA(r,t,i){r.insertBefore(t,i)}function FA(r,t){r.removeChild(t)}function BA(r,t){r.appendChild(t)}function _A(r){return r.parentNode}function EA(r){return r.nextSibling}function PA(r,t){r.textContent=t}var WA=58;var VA=120;var HA=JN("","");function YA(r){return r===undefined}function XA(r){return r!==undefined}function GA(r,t,i){var n={};for(var a=t;a<=i;++a){var e=r[a].key;if(e!==undefined){n[e]=a}}return n}function UA(r,t){var i=r.key===t.key;var n=r.tag===t.tag;return n&&i}function ZA(r){var t;var i=r.children;var n=r.tag;if(XA(n)){var a=r.elm=KN(n);KA(HA,r);if(K(i)){for(t=0;t<i.length;++t){var e=i[t];if(e!=null){BA(a,ZA(e))}}}else if(XA(r.text)&&!tr(r.text)){BA(a,DA(r.text))}}else{r.elm=DA(r.text)}return r.elm}function jA(r,t,i,n,a){for(;n<=a;++n){var e=i[n];if(e!=null){RA(r,ZA(e),t)}}}function qA(r,t,i,n){for(;i<=n;++i){var a=t[i];if(a!=null){if(XA(a.tag)){var e=_A(a.elm);FA(e,a.elm)}else{FA(r,a.elm)}}}}function KA(r,t){var i;var n=t.elm;var a=r&&r.attrs||{};var e=t.attrs||{};if(a===e){return}for(i in e){var u=e[i];var o=a[i];if(o!==u){if(u===true){n.setAttribute(i,"")}else if(u===false){n.removeAttribute(i)}else{if(i.charCodeAt(0)!==VA){n.setAttribute(i,u)}else if(i==="xmlns:xlink"||i==="xmlns"){n.setAttributeNS(jN,i,u)}else if(i.charCodeAt(3)===WA){n.setAttributeNS(qN,i,u)}else if(i.charCodeAt(5)===WA){n.setAttributeNS(ZN,i,u)}else{n.setAttribute(i,u)}}}}for(i in a){if(!(i in e)){n.removeAttribute(i)}}}function JA(r,t,i){var n=0;var a=0;var e=t.length-1;var u=t[0];var o=t[e];var v=i.length-1;var s=i[0];var f=i[v];var l;var h;var c;var d;while(n<=e&&a<=v){if(u==null){u=t[++n]}else if(o==null){o=t[--e]}else if(s==null){s=i[++a]}else if(f==null){f=i[--v]}else if(UA(u,s)){$A(u,s);u=t[++n];s=i[++a]}else if(UA(o,f)){$A(o,f);o=t[--e];f=i[--v]}else if(UA(u,f)){$A(u,f);RA(r,u.elm,EA(o.elm));u=t[++n];f=i[--v]}else if(UA(o,s)){$A(o,s);RA(r,o.elm,u.elm);o=t[--e];s=i[++a]}else{if(YA(l)){l=GA(t,n,e)}h=l[s.key];if(YA(h)){RA(r,ZA(s),u.elm)}else{c=t[h];if(c.tag!==s.tag){RA(r,ZA(s),u.elm)}else{$A(c,s);t[h]=undefined;RA(r,c.elm,u.elm)}}s=i[++a]}}if(n<=e||a<=v){if(n>e){d=i[v+1]==null?null:i[v+1].elm;jA(r,d,i,a,v)}else{qA(r,t,n,e)}}}function $A(r,t){var i=t.elm=r.elm;var n=r.children;var a=t.children;if(r===t){return}KA(r,t);if(YA(t.text)){if(XA(n)&&XA(a)){if(n!==a){JA(i,n,a)}}else if(XA(a)){if(XA(r.text)){PA(i,"")}jA(i,null,a,0,a.length-1)}else if(XA(n)){qA(i,n,0,n.length-1)}else if(XA(r.text)){PA(i,"")}}else if(r.text!==t.text){if(XA(n)){qA(i,n,0,n.length-1)}PA(i,t.text)}}function QA(r,t){if(UA(r,t)){$A(r,t)}else{var i=r.elm;var n=_A(i);ZA(t);if(n!==null){RA(n,t.elm,EA(i));qA(n,[r],0,0)}}return t}var rI=0;var tI=function(){function r(r,t,i){this.type="svg";this.refreshHover=iI();this.configLayer=iI();this.storage=t;this._opts=i=F({},i);this.root=r;this._id="zr"+rI++;this._oldVNode=nA(i.width,i.height);if(r&&!i.ssr){var n=this._viewport=document.createElement("div");n.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=KN("svg");KA(null,this._oldVNode);n.appendChild(a);r.appendChild(n)}this.resize(i.width,i.height)}r.prototype.getType=function(){return this.type};r.prototype.getViewportRoot=function(){return this._viewport};r.prototype.getViewportRootOffset=function(){var r=this.getViewportRoot();if(r){return{offsetLeft:r.offsetLeft||0,offsetTop:r.offsetTop||0}}};r.prototype.getSvgDom=function(){return this._svgDom};r.prototype.refresh=function(){if(this.root){var r=this.renderToVNode({willUpdate:true});r.attrs.style="position:absolute;left:0;top:0;user-select:none";QA(this._oldVNode,r);this._oldVNode=r}};r.prototype.renderOneToVNode=function(r){return CA(r,iA(this._id))};r.prototype.renderToVNode=function(r){r=r||{};var t=this.storage.getDisplayList(true);var i=this._width;var n=this._height;var a=iA(this._id);a.animation=r.animation;a.willUpdate=r.willUpdate;a.compress=r.compress;var e=[];var u=this._bgVNode=nI(i,n,this._backgroundColor,a);u&&e.push(u);var o=!r.compress?this._mainVNode=JN("g","main",{},[]):null;this._paintList(t,a,o?o.children:e);o&&e.push(o);var v=H(U(a.defs),(function(r){return a.defs[r]}));if(v.length){e.push(JN("defs","defs",{},v))}if(r.animation){var s=tA(a.cssNodes,a.cssAnims,{newline:true});if(s){var f=JN("style","stl",{},[],s);e.push(f)}}return nA(i,n,e,r.useViewBox)};r.prototype.renderToString=function(r){r=r||{};return rA(this.renderToVNode({animation:fr(r.cssAnimation,true),willUpdate:false,compress:true,useViewBox:fr(r.useViewBox,true)}),{newline:true})};r.prototype.setBackgroundColor=function(r){this._backgroundColor=r};r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm};r.prototype._paintList=function(r,t,i){var n=r.length;var a=[];var e=0;var u;var o;var v=0;for(var s=0;s<n;s++){var f=r[s];if(!f.invisible){var l=f.__clipPaths;var h=l&&l.length||0;var c=o&&o.length||0;var d=void 0;for(d=Math.max(h-1,c-1);d>=0;d--){if(l&&o&&l[d]===o[d]){break}}for(var p=c-1;p>d;p--){e--;u=a[e-1]}for(var m=d+1;m<h;m++){var y={};OA(l[m],y,t);var g=JN("g","clip-g-"+v++,y,[]);(u?u.children:i).push(g);a[e++]=g;u=g}o=l;var b=CA(f,t);if(b){(u?u.children:i).push(b)}}}};r.prototype.resize=function(r,t){var i=this._opts;var n=this.root;var a=this._viewport;r!=null&&(i.width=r);t!=null&&(i.height=t);if(n&&a){a.style.display="none";r=Db(n,0,i);t=Db(n,1,i);a.style.display=""}if(this._width!==r||this._height!==t){this._width=r;this._height=t;if(a){var e=a.style;e.width=r+"px";e.height=t+"px"}if(!Pn(this._backgroundColor)){var u=this._svgDom;if(u){u.setAttribute("width",r);u.setAttribute("height",t)}var o=this._bgVNode&&this._bgVNode.elm;if(o){o.setAttribute("width",r);o.setAttribute("height",t)}}else{this.refresh()}}};r.prototype.getWidth=function(){return this._width};r.prototype.getHeight=function(){return this._height};r.prototype.dispose=function(){if(this.root){this.root.innerHTML=""}this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null};r.prototype.clear=function(){if(this._svgDom){this._svgDom.innerHTML=null}this._oldVNode=null};r.prototype.toDataURL=function(r){var t=this.renderToString();var i="data:image/svg+xml;";if(r){t=Un(t);return t&&i+"base64,"+t}return i+"charset=UTF-8,"+encodeURIComponent(t)};return r}();function iI(r){return function(){}}function nI(r,t,i,n){var a;if(i&&i!=="none"){a=JN("rect","bg",{width:r,height:t,x:"0",y:"0",id:"0"});if(Hn(i)){zA({fill:i},a.attrs,"fill",n)}else if(Pn(i)){LA({style:{fill:i},dirty:Cr,getBoundingRect:function(){return{width:r,height:t}}},a.attrs,"fill",n)}else{var e=In(i),u=e.color,o=e.opacity;a.attrs.fill=u;o<1&&(a.attrs["fill-opacity"]=o)}}return a}function aI(r){r.registerPainter("svg",tI)}function eI(r,t,i){var n=y.createCanvas();var a=t.getWidth();var e=t.getHeight();var u=n.style;if(u){u.position="absolute";u.left="0";u.top="0";u.width=a+"px";u.height=e+"px";n.setAttribute("data-zr-dom-id",r)}n.width=a*i;n.height=e*i;return n}var uI=function(r){Lr(t,r);function t(t,i,n){var a=r.call(this)||this;a.motionBlur=false;a.lastFrameAlpha=.7;a.dpr=1;a.virtual=false;a.config={};a.incremental=false;a.zlevel=0;a.maxRepaintRectCount=5;a.__dirty=true;a.__firstTimePaint=true;a.__used=false;a.__drawIndex=0;a.__startIndex=0;a.__endIndex=0;a.__prevStartIndex=null;a.__prevEndIndex=null;var e;n=n||Ea;if(typeof t==="string"){e=eI(t,i,n)}else if(tr(t)){e=t;t=e.id}a.id=t;a.dom=e;var u=e.style;if(u){Ar(e);e.onselectstart=function(){return false};u.padding="0";u.margin="0";u.borderWidth="0"}a.painter=i;a.dpr=n;return a}t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex};t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex;this.__prevEndIndex=this.__endIndex};t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr};t.prototype.setUnpainted=function(){this.__firstTimePaint=true};t.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=eI("back-"+this.id,this.painter,r);this.ctxBack=this.domBack.getContext("2d");if(r!==1){this.ctxBack.scale(r,r)}};t.prototype.createRepaintRects=function(r,t,i,n){if(this.__firstTimePaint){this.__firstTimePaint=false;return null}var a=[];var e=this.maxRepaintRectCount;var u=false;var o=new Zt(0,0,0,0);function v(r){if(!r.isFinite()||r.isZero()){return}if(a.length===0){var t=new Zt(0,0,0,0);t.copy(r);a.push(t)}else{var i=false;var n=Infinity;var v=0;for(var s=0;s<a.length;++s){var f=a[s];if(f.intersect(r)){var l=new Zt(0,0,0,0);l.copy(f);l.union(r);a[s]=l;i=true;break}else if(u){o.copy(r);o.union(f);var h=r.width*r.height;var c=f.width*f.height;var d=o.width*o.height;var p=d-h-c;if(p<n){n=p;v=s}}}if(u){a[v].union(r);i=true}if(!i){var t=new Zt(0,0,0,0);t.copy(r);a.push(t)}if(!u){u=a.length>=e}}}for(var s=this.__startIndex;s<this.__endIndex;++s){var f=r[s];if(f){var l=f.shouldBePainted(i,n,true,true);var h=f.__isRendered&&(f.__dirty&pi||!l)?f.getPrevPaintRect():null;if(h){v(h)}var c=l&&(f.__dirty&pi||!f.__isRendered)?f.getPaintRect():null;if(c){v(c)}}}for(var s=this.__prevStartIndex;s<this.__prevEndIndex;++s){var f=t[s];var l=f.shouldBePainted(i,n,true,true);if(f&&(!l||!f.__zr)&&f.__isRendered){var h=f.getPrevPaintRect();if(h){v(h)}}}var d;do{d=false;for(var s=0;s<a.length;){if(a[s].isZero()){a.splice(s,1);continue}for(var p=s+1;p<a.length;){if(a[s].intersect(a[p])){d=true;a[s].union(a[p]);a.splice(p,1)}else{p++}}s++}}while(d);this._paintRects=a;return a};t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()};t.prototype.resize=function(r,t){var i=this.dpr;var n=this.dom;var a=n.style;var e=this.domBack;if(a){a.width=r+"px";a.height=t+"px"}n.width=r*i;n.height=t*i;if(e){e.width=r*i;e.height=t*i;if(i!==1){this.ctxBack.scale(i,i)}}};t.prototype.clear=function(r,t,i){var n=this.dom;var a=this.ctx;var e=n.width;var u=n.height;t=t||this.clearColor;var o=this.motionBlur&&!r;var v=this.lastFrameAlpha;var s=this.dpr;var f=this;if(o){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(n,0,0,e/s,u/s)}var l=this.domBack;function h(r,i,n,e){a.clearRect(r,i,n,e);if(t&&t!=="transparent"){var u=void 0;if(er(t)){var h=t.global||t.__width===n&&t.__height===e;u=h&&t.__canvasGradient||zb(a,t,{x:0,y:0,width:n,height:e});t.__canvasGradient=u;t.__width=n;t.__height=e}else if(ur(t)){t.scaleX=t.scaleX||s;t.scaleY=t.scaleY||s;u=Hb(a,t,{dirty:function(){f.setUnpainted();f.__painter.refresh()}})}a.save();a.fillStyle=u||t;a.fillRect(r,i,n,e);a.restore()}if(o){a.save();a.globalAlpha=v;a.drawImage(l,r,i,n,e);a.restore()}}if(!i||o){h(0,0,e,u)}else if(i.length){V(i,(function(r){h(r.x*s,r.y*s,r.width*s,r.height*s)}))}};return t}(Qr);var oI=1e5;var vI=314159;var sI=.01;var fI=.001;function lI(r){if(!r){return false}if(r.__builtin__){return true}if(typeof r.resize!=="function"||typeof r.refresh!=="function"){return false}return true}function hI(r,t){var i=document.createElement("div");i.style.cssText=["position:relative","width:"+r+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";";return i}var cI=function(){function r(r,t,i,n){this.type="canvas";this._zlevelList=[];this._prevDisplayList=[];this._layers={};this._layerConfig={};this._needsManuallyCompositing=false;this.type="canvas";var a=!r.nodeName||r.nodeName.toUpperCase()==="CANVAS";this._opts=i=F({},i||{});this.dpr=i.devicePixelRatio||Ea;this._singleCanvas=a;this.root=r;var e=r.style;if(e){Ar(r);r.innerHTML=""}this.storage=t;var u=this._zlevelList;this._prevDisplayList=[];var o=this._layers;if(!a){this._width=Db(r,0,i);this._height=Db(r,1,i);var v=this._domRoot=hI(this._width,this._height);r.appendChild(v)}else{var s=r;var f=s.width;var l=s.height;if(i.width!=null){f=i.width}if(i.height!=null){l=i.height}this.dpr=i.devicePixelRatio||1;s.width=f*this.dpr;s.height=l*this.dpr;this._width=f;this._height=l;var h=new uI(s,this,this.dpr);h.__builtin__=true;h.initContext();o[vI]=h;h.zlevel=vI;u.push(vI);this._domRoot=r}}r.prototype.getType=function(){return"canvas"};r.prototype.isSingleCanvas=function(){return this._singleCanvas};r.prototype.getViewportRoot=function(){return this._domRoot};r.prototype.getViewportRootOffset=function(){var r=this.getViewportRoot();if(r){return{offsetLeft:r.offsetLeft||0,offsetTop:r.offsetTop||0}}};r.prototype.refresh=function(r){var t=this.storage.getDisplayList(true);var i=this._prevDisplayList;var n=this._zlevelList;this._redrawId=Math.random();this._paintList(t,i,r,this._redrawId);for(var a=0;a<n.length;a++){var e=n[a];var u=this._layers[e];if(!u.__builtin__&&u.refresh){var o=a===0?this._backgroundColor:null;u.refresh(o)}}if(this._opts.useDirtyRect){this._prevDisplayList=t.slice()}return this};r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(false))};r.prototype._paintHoverList=function(r){var t=r.length;var i=this._hoverlayer;i&&i.clear();if(!t){return}var n={inHover:true,viewWidth:this._width,viewHeight:this._height};var a;for(var e=0;e<t;e++){var u=r[e];if(u.__inHover){if(!i){i=this._hoverlayer=this.getLayer(oI)}if(!a){a=i.ctx;a.save()}vw(a,u,n,e===t-1)}}if(a){a.restore()}};r.prototype.getHoverLayer=function(){return this.getLayer(oI)};r.prototype.paintOne=function(r,t){ow(r,t)};r.prototype._paintList=function(r,t,i,n){if(this._redrawId!==n){return}i=i||false;this._updateLayerStatus(r);var a=this._doPaintList(r,t,i),e=a.finished,u=a.needsRefreshHover;if(this._needsManuallyCompositing){this._compositeManually()}if(u){this._paintHoverList(r)}if(!e){var o=this;Si((function(){o._paintList(r,t,i,n)}))}else{this.eachLayer((function(r){r.afterBrush&&r.afterBrush()}))}};r.prototype._compositeManually=function(){var r=this.getLayer(vI).ctx;var t=this._domRoot.width;var i=this._domRoot.height;r.clearRect(0,0,t,i);this.eachBuiltinLayer((function(n){if(n.virtual){r.drawImage(n.dom,0,0,t,i)}}))};r.prototype._doPaintList=function(r,t,i){var n=this;var a=[];var e=this._opts.useDirtyRect;for(var u=0;u<this._zlevelList.length;u++){var v=this._zlevelList[u];var s=this._layers[v];if(s.__builtin__&&s!==this._hoverlayer&&(s.__dirty||i)){a.push(s)}}var f=true;var l=false;var h=function(u){var o=a[u];var v=o.ctx;var s=e&&o.createRepaintRects(r,t,c._width,c._height);var h=i?o.__startIndex:o.__drawIndex;var d=!i&&o.incremental&&Date.now;var p=d&&Date.now();var m=o.zlevel===c._zlevelList[0]?c._backgroundColor:null;if(o.__startIndex===o.__endIndex){o.clear(false,m,s)}else if(h===o.__startIndex){var y=r[h];if(!y.incremental||!y.notClear||i){o.clear(false,m,s)}}if(h===-1){console.error("For some unknown reason. drawIndex is -1");h=o.__startIndex}var g;var b=function(t){var i={inHover:false,allClipped:false,prevEl:null,viewWidth:n._width,viewHeight:n._height};for(g=h;g<o.__endIndex;g++){var a=r[g];if(a.__inHover){l=true}n._doPaintEl(a,o,e,t,i,g===o.__endIndex-1);if(d){var u=Date.now()-p;if(u>15){break}}}if(i.prevElClipPaths){v.restore()}};if(s){if(s.length===0){g=o.__endIndex}else{var w=c.dpr;for(var x=0;x<s.length;++x){var M=s[x];v.save();v.beginPath();v.rect(M.x*w,M.y*w,M.width*w,M.height*w);v.clip();b(M);v.restore()}}}else{v.save();b();v.restore()}o.__drawIndex=g;if(o.__drawIndex<o.__endIndex){f=false}};var c=this;for(var d=0;d<a.length;d++){h(d)}if(o.wxa){V(this._layers,(function(r){if(r&&r.ctx&&r.ctx.draw){r.ctx.draw()}}))}return{finished:f,needsRefreshHover:l}};r.prototype._doPaintEl=function(r,t,i,n,a,e){var u=t.ctx;if(i){var o=r.getPaintRect();if(!n||o&&o.intersect(n)){vw(u,r,a,e);r.setPrevPaintRect(o)}}else{vw(u,r,a,e)}};r.prototype.getLayer=function(r,t){if(this._singleCanvas&&!this._needsManuallyCompositing){r=vI}var i=this._layers[r];if(!i){i=new uI("zr_"+r,this,this.dpr);i.zlevel=r;i.__builtin__=true;if(this._layerConfig[r]){D(i,this._layerConfig[r],true)}else if(this._layerConfig[r-sI]){D(i,this._layerConfig[r-sI],true)}if(t){i.virtual=t}this.insertLayer(r,i);i.initContext()}return i};r.prototype.insertLayer=function(r,t){var i=this._layers;var n=this._zlevelList;var a=n.length;var e=this._domRoot;var u=null;var o=-1;if(i[r]){return}if(!lI(t)){return}if(a>0&&r>n[0]){for(o=0;o<a-1;o++){if(n[o]<r&&n[o+1]>r){break}}u=i[n[o]]}n.splice(o+1,0,r);i[r]=t;if(!t.virtual){if(u){var v=u.dom;if(v.nextSibling){e.insertBefore(t.dom,v.nextSibling)}else{e.appendChild(t.dom)}}else{if(e.firstChild){e.insertBefore(t.dom,e.firstChild)}else{e.appendChild(t.dom)}}}t.__painter=this};r.prototype.eachLayer=function(r,t){var i=this._zlevelList;for(var n=0;n<i.length;n++){var a=i[n];r.call(t,this._layers[a],a)}};r.prototype.eachBuiltinLayer=function(r,t){var i=this._zlevelList;for(var n=0;n<i.length;n++){var a=i[n];var e=this._layers[a];if(e.__builtin__){r.call(t,e,a)}}};r.prototype.eachOtherLayer=function(r,t){var i=this._zlevelList;for(var n=0;n<i.length;n++){var a=i[n];var e=this._layers[a];if(!e.__builtin__){r.call(t,e,a)}}};r.prototype.getLayers=function(){return this._layers};r.prototype._updateLayerStatus=function(r){this.eachBuiltinLayer((function(r,t){r.__dirty=r.__used=false}));function t(r){if(a){if(a.__endIndex!==r){a.__dirty=true}a.__endIndex=r}}if(this._singleCanvas){for(var i=1;i<r.length;i++){var n=r[i];if(n.zlevel!==r[i-1].zlevel||n.incremental){this._needsManuallyCompositing=true;break}}}var a=null;var e=0;var u;var o;for(o=0;o<r.length;o++){var n=r[o];var v=n.zlevel;var s=void 0;if(u!==v){u=v;e=0}if(n.incremental){s=this.getLayer(v+fI,this._needsManuallyCompositing);s.incremental=true;e=1}else{s=this.getLayer(v+(e>0?sI:0),this._needsManuallyCompositing)}if(!s.__builtin__){L("ZLevel "+v+" has been used by unkown layer "+s.id)}if(s!==a){s.__used=true;if(s.__startIndex!==o){s.__dirty=true}s.__startIndex=o;if(!s.incremental){s.__drawIndex=o}else{s.__drawIndex=-1}t(o);a=s}if(n.__dirty&pi&&!n.__inHover){s.__dirty=true;if(s.incremental&&s.__drawIndex<0){s.__drawIndex=o}}}t(o);this.eachBuiltinLayer((function(r,t){if(!r.__used&&r.getElementCount()>0){r.__dirty=true;r.__startIndex=r.__endIndex=r.__drawIndex=0}if(r.__dirty&&r.__drawIndex<0){r.__drawIndex=r.__startIndex}}))};r.prototype.clear=function(){this.eachBuiltinLayer(this._clearLayer);return this};r.prototype._clearLayer=function(r){r.clear()};r.prototype.setBackgroundColor=function(r){this._backgroundColor=r;V(this._layers,(function(r){r.setUnpainted()}))};r.prototype.configLayer=function(r,t){if(t){var i=this._layerConfig;if(!i[r]){i[r]=t}else{D(i[r],t,true)}for(var n=0;n<this._zlevelList.length;n++){var a=this._zlevelList[n];if(a===r||a===r+sI){var e=this._layers[a];D(e,i[r],true)}}}};r.prototype.delLayer=function(r){var t=this._layers;var i=this._zlevelList;var n=t[r];if(!n){return}n.dom.parentNode.removeChild(n.dom);delete t[r];i.splice(_(i,r),1)};r.prototype.resize=function(r,t){if(!this._domRoot.style){if(r==null||t==null){return}this._width=r;this._height=t;this.getLayer(vI).resize(r,t)}else{var i=this._domRoot;i.style.display="none";var n=this._opts;var a=this.root;r!=null&&(n.width=r);t!=null&&(n.height=t);r=Db(a,0,n);t=Db(a,1,n);i.style.display="";if(this._width!==r||t!==this._height){i.style.width=r+"px";i.style.height=t+"px";for(var e in this._layers){if(this._layers.hasOwnProperty(e)){this._layers[e].resize(r,t)}}this.refresh(true)}this._width=r;this._height=t}return this};r.prototype.clearLayer=function(r){var t=this._layers[r];if(t){t.clear()}};r.prototype.dispose=function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null};r.prototype.getRenderedCanvas=function(r){r=r||{};if(this._singleCanvas&&!this._compositeManually){return this._layers[vI].dom}var t=new uI("image",this,r.pixelRatio||this.dpr);t.initContext();t.clear(false,r.backgroundColor||this._backgroundColor);var i=t.ctx;if(r.pixelRatio<=this.dpr){this.refresh();var n=t.dom.width;var a=t.dom.height;this.eachLayer((function(r){if(r.__builtin__){i.drawImage(r.dom,0,0,n,a)}else if(r.renderToCanvas){i.save();r.renderToCanvas(i);i.restore()}}))}else{var e={inHover:false,viewWidth:this._width,viewHeight:this._height};var u=this.storage.getDisplayList(true);for(var o=0,v=u.length;o<v;o++){var s=u[o];vw(i,s,e,o===v-1)}}return t.dom};r.prototype.getWidth=function(){return this._width};r.prototype.getHeight=function(){return this._height};return r}();function dI(r){r.registerPainter("canvas",cI)}var pI=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.hasSymbolVisual=true;return i}t.prototype.getInitialData=function(r){return XM(null,this,{useEncodeDefaulter:true})};t.prototype.getLegendIcon=function(r){var t=new xe;var i=kb("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,false);t.add(i);i.setStyle(r.lineStyle);var n=this.getData().getVisual("symbol");var a=this.getData().getVisual("symbolRotate");var e=n==="none"?"circle":n;var u=r.itemHeight*.8;var o=kb(e,(r.itemWidth-u)/2,(r.itemHeight-u)/2,u,u,r.itemStyle.fill);t.add(o);o.setStyle(r.itemStyle);var v=r.iconRotate==="inherit"?a:r.iconRotate||0;o.rotation=v*Math.PI/180;o.setOrigin([r.itemWidth/2,r.itemHeight/2]);if(e.indexOf("empty")>-1){o.style.stroke=o.style.fill;o.style.fill="#fff";o.style.lineWidth=2}return t};t.type="series.line";t.dependencies=["grid","polar"];t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:true,clip:true,label:{position:"top"},endLabel:{show:false,valueAnimation:true,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:true},step:false,smooth:false,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:true,showAllSymbol:"auto",connectNulls:false,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity,universalTransition:{divideShape:"clone"},triggerLineEvent:false};return t}(Ky);function mI(r,t){var i=r.mapDimensionsAll("defaultedLabel");var n=i.length;if(n===1){var a=_m(r,t,i[0]);return a!=null?a+"":null}else if(n){var e=[];for(var u=0;u<i.length;u++){e.push(_m(r,t,i[u]))}return e.join(" ")}}function yI(r,t){var i=r.mapDimensionsAll("defaultedLabel");if(!K(t)){return t+""}var n=[];for(var a=0;a<i.length;a++){var e=r.getDimensionIndex(i[a]);if(e>=0){n.push(t[e])}}return n.join(" ")}var gI=function(r){a(t,r);function t(t,i,n,a){var e=r.call(this)||this;e.updateData(t,i,n,a);return e}t.prototype._createSymbol=function(r,t,i,n,a){this.removeAll();var e=kb(r,-1,-1,2,2,null,a);e.attr({z2:100,culling:true,scaleX:n[0]/2,scaleY:n[1]/2});e.drift=bI;this._symbolType=r;this.add(e)};t.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)};t.prototype.getSymbolType=function(){return this._symbolType};t.prototype.getSymbolPath=function(){return this.childAt(0)};t.prototype.highlight=function(){ef(this.childAt(0))};t.prototype.downplay=function(){uf(this.childAt(0))};t.prototype.setZ=function(r,t){var i=this.childAt(0);i.zlevel=r;i.z=t};t.prototype.setDraggable=function(r,t){var i=this.childAt(0);i.draggable=r;i.cursor=!t&&r?"move":i.cursor};t.prototype.updateData=function(r,i,n,a){this.silent=false;var e=r.getItemVisual(i,"symbol")||"circle";var u=r.hostModel;var o=t.getSymbolSize(r,i);var v=e!==this._symbolType;var s=a&&a.disableAnimation;if(v){var f=r.getItemVisual(i,"symbolKeepAspect");this._createSymbol(e,r,i,o,f)}else{var l=this.childAt(0);l.silent=false;var h={scaleX:o[0]/2,scaleY:o[1]/2};s?l.attr(h):nh(l,h,u,i);sh(l)}this._updateCommon(r,i,o,n,a);if(v){var l=this.childAt(0);if(!s){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:l.style.opacity}};l.scaleX=l.scaleY=0;l.style.opacity=0;ah(l,h,u,i)}}if(s){this.childAt(0).stopAnimation("leave")}};t.prototype._updateCommon=function(r,t,i,n,a){var e=this.childAt(0);var u=r.hostModel;var o;var v;var s;var f;var l;var h;var c;var d;var p;if(n){o=n.emphasisItemStyle;v=n.blurItemStyle;s=n.selectItemStyle;f=n.focus;l=n.blurScope;c=n.labelStatesModels;d=n.hoverScale;p=n.cursorStyle;h=n.emphasisDisabled}if(!n||r.hasItemOption){var m=n&&n.itemModel?n.itemModel:r.getItemModel(t);var y=m.getModel("emphasis");o=y.getModel("itemStyle").getItemStyle();s=m.getModel(["select","itemStyle"]).getItemStyle();v=m.getModel(["blur","itemStyle"]).getItemStyle();f=y.get("focus");l=y.get("blurScope");h=y.get("disabled");c=jh(m);d=y.getShallow("scale");p=m.getShallow("cursor")}var g=r.getItemVisual(t,"symbolRotate");e.attr("rotation",(g||0)*Math.PI/180||0);var b=Ab(r.getItemVisual(t,"symbolOffset"),i);if(b){e.x=b[0];e.y=b[1]}p&&e.attr("cursor",p);var w=r.getItemVisual(t,"style");var x=w.fill;if(e instanceof Zv){var M=e.style;e.useStyle(F({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},w))}else{if(e.__isEmptyBrush){e.useStyle(F({},w))}else{e.useStyle(w)}e.style.decal=null;e.setColor(x,a&&a.symbolInnerColor);e.style.strokeNoScale=true}var S=r.getItemVisual(t,"liftZ");var k=this._z2;if(S!=null){if(k==null){this._z2=e.z2;e.z2+=S}}else if(k!=null){e.z2=k;this._z2=null}var N=a&&a.useNameLabel;Zh(e,c,{labelFetcher:u,labelDataIndex:t,defaultText:A,inheritColor:x,defaultOpacity:w.opacity});function A(t){return N?r.getName(t):mI(r,t)}this._sizeX=i[0]/2;this._sizeY=i[1]/2;var I=e.ensureState("emphasis");I.style=o;e.ensureState("select").style=s;e.ensureState("blur").style=v;var C=d==null||d===true?Math.max(1.1,3/this._sizeY):isFinite(d)&&d>0?+d:1;I.scaleX=this._sizeX*C;I.scaleY=this._sizeY*C;this.setSymbolScale(1);kf(this,f,l,h)};t.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r};t.prototype.fadeOut=function(r,t,i){var n=this.childAt(0);var a=bs(this).dataIndex;var e=i&&i.animation;this.silent=n.silent=true;if(i&&i.fadeLabel){var u=n.getTextContent();if(u){uh(u,{style:{opacity:0}},t,{dataIndex:a,removeOpt:e,cb:function(){n.removeTextContent()}})}}else{n.removeTextContent()}uh(n,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:a,cb:r,removeOpt:e})};t.getSymbolSize=function(r,t){return Nb(r.getItemVisual(t,"symbolSize"))};return t}(xe);function bI(r,t){this.parent.drift(r,t)}function wI(r,t,i,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(i))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&r.getItemVisual(i,"symbol")!=="none"}function xI(r){if(r!=null&&!tr(r)){r={isIgnore:r}}return r||{}}function MI(r){var t=r.hostModel;var i=t.getModel("emphasis");return{emphasisItemStyle:i.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:i.get("focus"),blurScope:i.get("blurScope"),emphasisDisabled:i.get("disabled"),hoverScale:i.get("scale"),labelStatesModels:jh(t),cursorStyle:t.get("cursor")}}var SI=function(){function r(r){this.group=new xe;this._SymbolCtor=r||gI}r.prototype.updateData=function(r,t){this._progressiveEls=null;t=xI(t);var i=this.group;var n=r.hostModel;var a=this._data;var e=this._SymbolCtor;var u=t.disableAnimation;var o=MI(r);var v={disableAnimation:u};var s=t.getSymbolPoint||function(t){return r.getItemLayout(t)};if(!a){i.removeAll()}r.diff(a).add((function(n){var a=s(n);if(wI(r,a,n,t)){var u=new e(r,n,o,v);u.setPosition(a);r.setItemGraphicEl(n,u);i.add(u)}})).update((function(f,l){var h=a.getItemGraphicEl(l);var c=s(f);if(!wI(r,c,f,t)){i.remove(h);return}var d=r.getItemVisual(f,"symbol")||"circle";var p=h&&h.getSymbolType&&h.getSymbolType();if(!h||p&&p!==d){i.remove(h);h=new e(r,f,o,v);h.setPosition(c)}else{h.updateData(r,f,o,v);var m={x:c[0],y:c[1]};u?h.attr(m):nh(h,m,n)}i.add(h);r.setItemGraphicEl(f,h)})).remove((function(r){var t=a.getItemGraphicEl(r);t&&t.fadeOut((function(){i.remove(t)}),n)})).execute();this._getSymbolPoint=s;this._data=r};r.prototype.updateLayout=function(){var r=this;var t=this._data;if(t){t.eachItemGraphicEl((function(t,i){var n=r._getSymbolPoint(i);t.setPosition(n);t.markRedraw()}))}};r.prototype.incrementalPrepareUpdate=function(r){this._seriesScope=MI(r);this._data=null;this.group.removeAll()};r.prototype.incrementalUpdate=function(r,t,i){this._progressiveEls=[];i=xI(i);function n(r){if(!r.isGroup){r.incremental=true;r.ensureState("emphasis").hoverLayer=true}}for(var a=r.start;a<r.end;a++){var e=t.getItemLayout(a);if(wI(t,e,a,i)){var u=new this._SymbolCtor(t,a,this._seriesScope);u.traverse(n);u.setPosition(e);this.group.add(u);t.setItemGraphicEl(a,u);this._progressiveEls.push(u)}}};r.prototype.eachRendered=function(r){Hh(this._progressiveEls||this.group,r)};r.prototype.remove=function(r){var t=this.group;var i=this._data;if(i&&r){i.eachItemGraphicEl((function(r){r.fadeOut((function(){t.remove(r)}),i.hostModel)}))}else{t.removeAll()}};return r}();function kI(r,t,i){var n=r.getBaseAxis();var a=r.getOtherAxis(n);var e=NI(a,i);var u=n.dim;var o=a.dim;var v=t.mapDimension(o);var s=t.mapDimension(u);var f=o==="x"||o==="radius"?1:0;var l=H(r.dimensions,(function(r){return t.mapDimension(r)}));var h=false;var c=t.getCalculationInfo("stackResultDimension");if(WM(t,l[0])){h=true;l[0]=c}if(WM(t,l[1])){h=true;l[1]=c}return{dataDimsForPoint:l,valueStart:e,valueAxisDim:o,baseAxisDim:u,stacked:!!h,valueDim:v,baseDim:s,baseDataOffset:f,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function NI(r,t){var i=0;var n=r.scale.getExtent();if(t==="start"){i=n[0]}else if(t==="end"){i=n[1]}else if(rr(t)&&!isNaN(t)){i=t}else{if(n[0]>0){i=n[0]}else if(n[1]<0){i=n[1]}}return i}function AI(r,t,i,n){var a=NaN;if(r.stacked){a=i.get(i.getCalculationInfo("stackedOverDimension"),n)}if(isNaN(a)){a=r.valueStart}var e=r.baseDataOffset;var u=[];u[e]=i.get(r.baseDim,n);u[1-e]=a;return t.dataToPoint(u)}function II(r,t){var i=[];t.diff(r).add((function(r){i.push({cmd:"+",idx:r})})).update((function(r,t){i.push({cmd:"=",idx:t,idx1:r})})).remove((function(r){i.push({cmd:"-",idx:r})})).execute();return i}function CI(r,t,i,n,a,e,u,o){var v=II(r,t);var s=[];var f=[];var l=[];var h=[];var c=[];var d=[];var p=[];var m=kI(a,t,u);var y=r.getLayout("points")||[];var g=t.getLayout("points")||[];for(var b=0;b<v.length;b++){var w=v[b];var x=true;var M=void 0;var S=void 0;switch(w.cmd){case"=":M=w.idx*2;S=w.idx1*2;var k=y[M];var N=y[M+1];var A=g[S];var I=g[S+1];if(isNaN(k)||isNaN(N)){k=A;N=I}s.push(k,N);f.push(A,I);l.push(i[M],i[M+1]);h.push(n[S],n[S+1]);p.push(t.getRawIndex(w.idx1));break;case"+":var C=w.idx;var T=m.dataDimsForPoint;var z=a.dataToPoint([t.get(T[0],C),t.get(T[1],C)]);S=C*2;s.push(z[0],z[1]);f.push(g[S],g[S+1]);var L=AI(m,a,t,C);l.push(L[0],L[1]);h.push(n[S],n[S+1]);p.push(t.getRawIndex(C));break;case"-":x=false}if(x){c.push(w);d.push(d.length)}}d.sort((function(r,t){return p[r]-p[t]}));var O=s.length;var D=lS(O);var R=lS(O);var F=lS(O);var B=lS(O);var _=[];for(var b=0;b<d.length;b++){var E=d[b];var P=b*2;var W=E*2;D[P]=s[W];D[P+1]=s[W+1];R[P]=f[W];R[P+1]=f[W+1];F[P]=l[W];F[P+1]=l[W+1];B[P]=h[W];B[P+1]=h[W+1];_[b]=c[E]}return{current:D,next:R,stackedOnCurrent:F,stackedOnNext:B,status:_}}var TI=Math.min;var zI=Math.max;function LI(r,t){return isNaN(r)||isNaN(t)}function OI(r,t,i,n,a,e,u,o,v){var s;var f;var l;var h;var c;var d;var p=i;var m=0;for(;m<n;m++){var y=t[p*2];var g=t[p*2+1];if(p>=a||p<0){break}if(LI(y,g)){if(v){p+=e;continue}break}if(p===i){r[e>0?"moveTo":"lineTo"](y,g);l=y;h=g}else{var b=y-s;var w=g-f;if(b*b+w*w<.5){p+=e;continue}if(u>0){var x=p+e;var M=t[x*2];var S=t[x*2+1];while(M===y&&S===g&&m<n){m++;x+=e;p+=e;M=t[x*2];S=t[x*2+1];y=t[p*2];g=t[p*2+1];b=y-s;w=g-f}var k=m+1;if(v){while(LI(M,S)&&k<n){k++;x+=e;M=t[x*2];S=t[x*2+1]}}var N=.5;var A=0;var I=0;var C=void 0;var T=void 0;if(k>=n||LI(M,S)){c=y;d=g}else{A=M-s;I=S-f;var z=y-s;var L=M-y;var O=g-f;var D=S-g;var R=void 0;var F=void 0;if(o==="x"){R=Math.abs(z);F=Math.abs(L);var B=A>0?1:-1;c=y-B*R*u;d=g;C=y+B*F*u;T=g}else if(o==="y"){R=Math.abs(O);F=Math.abs(D);var _=I>0?1:-1;c=y;d=g-_*R*u;C=y;T=g+_*F*u}else{R=Math.sqrt(z*z+O*O);F=Math.sqrt(L*L+D*D);N=F/(F+R);c=y-A*u*(1-N);d=g-I*u*(1-N);C=y+A*u*N;T=g+I*u*N;C=TI(C,zI(M,y));T=TI(T,zI(S,g));C=zI(C,TI(M,y));T=zI(T,TI(S,g));A=C-y;I=T-g;c=y-A*R/F;d=g-I*R/F;c=TI(c,zI(s,y));d=TI(d,zI(f,g));c=zI(c,TI(s,y));d=zI(d,TI(f,g));A=y-c;I=g-d;C=y+A*F/R;T=g+I*F/R}}r.bezierCurveTo(l,h,c,d,y,g);l=C;h=T}else{r.lineTo(y,g)}}s=y;f=g;p+=e}return m}var DI=function(){function r(){this.smooth=0;this.smoothConstraint=true}return r}();var RI=function(r){a(t,r);function t(t){var i=r.call(this,t)||this;i.type="ec-polyline";return i}t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};t.prototype.getDefaultShape=function(){return new DI};t.prototype.buildPath=function(r,t){var i=t.points;var n=0;var a=i.length/2;if(t.connectNulls){for(;a>0;a--){if(!LI(i[a*2-2],i[a*2-1])){break}}for(;n<a;n++){if(!LI(i[n*2],i[n*2+1])){break}}}while(n<a){n+=OI(r,i,n,a,a,1,t.smooth,t.smoothMonotone,t.connectNulls)+1}};t.prototype.getPointOn=function(r,t){if(!this.path){this.createPathProxy();this.buildPath(this.path,this.shape)}var i=this.path;var n=i.data;var a=mv.CMD;var e;var u;var o=t==="x";var v=[];for(var s=0;s<n.length;){var f=n[s++];var l=void 0;var h=void 0;var c=void 0;var d=void 0;var p=void 0;var m=void 0;var y=void 0;switch(f){case a.M:e=n[s++];u=n[s++];break;case a.L:l=n[s++];h=n[s++];y=o?(r-e)/(l-e):(r-u)/(h-u);if(y<=1&&y>=0){var g=o?(h-u)*y+u:(l-e)*y+e;return o?[r,g]:[g,r]}e=l;u=h;break;case a.C:l=n[s++];h=n[s++];c=n[s++];d=n[s++];p=n[s++];m=n[s++];var b=o?Ei(e,l,c,p,r,v):Ei(u,h,d,m,r,v);if(b>0){for(var w=0;w<b;w++){var x=v[w];if(x<=1&&x>=0){var g=o?Bi(u,h,d,m,x):Bi(e,l,c,p,x);return o?[r,g]:[g,r]}}}e=p;u=m;break}}};return t}(Vv);var FI=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(DI);var BI=function(r){a(t,r);function t(t){var i=r.call(this,t)||this;i.type="ec-polygon";return i}t.prototype.getDefaultShape=function(){return new FI};t.prototype.buildPath=function(r,t){var i=t.points;var n=t.stackedOnPoints;var a=0;var e=i.length/2;var u=t.smoothMonotone;if(t.connectNulls){for(;e>0;e--){if(!LI(i[e*2-2],i[e*2-1])){break}}for(;a<e;a++){if(!LI(i[a*2],i[a*2+1])){break}}}while(a<e){var o=OI(r,i,a,e,e,1,t.smooth,u,t.connectNulls);OI(r,n,a+o-1,o,e,-1,t.stackedOnSmooth,u,t.connectNulls);a+=o+1;r.closePath()}};return t}(Vv);function _I(r,t,i,n,a){var e=r.getArea();var u=e.x;var o=e.y;var v=e.width;var s=e.height;var f=i.get(["lineStyle","width"])||2;u-=f/2;o-=f/2;v+=f;s+=f;u=Math.floor(u);v=Math.round(v);var l=new ts({shape:{x:u,y:o,width:v,height:s}});if(t){var h=r.getBaseAxis();var c=h.isHorizontal();var d=h.inverse;if(c){if(d){l.shape.x+=v}l.shape.width=0}else{if(!d){l.shape.y+=s}l.shape.height=0}var p=J(a)?function(r){a(r,l)}:null;ah(l,{shape:{width:v,height:s,x:u,y:o}},i,null,n,p)}return l}function EI(r,t,i){var n=r.getArea();var a=Oe(n.r0,1);var e=Oe(n.r,1);var u=new Nl({shape:{cx:Oe(r.cx,1),cy:Oe(r.cy,1),r0:a,r:e,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var o=r.getBaseAxis().dim==="angle";if(o){u.shape.endAngle=n.startAngle}else{u.shape.r=a}ah(u,{shape:{endAngle:n.endAngle,r:e}},i)}return u}function PI(r,t,i,n,a){if(!r){return null}else if(r.type==="polar"){return EI(r,t,i)}else if(r.type==="cartesian2d"){return _I(r,t,i,n,a)}return null}function WI(r,t){return r.type===t}function VI(r,t){if(r.length!==t.length){return}for(var i=0;i<r.length;i++){if(r[i]!==t[i]){return}}return true}function HI(r){var t=Infinity;var i=Infinity;var n=-Infinity;var a=-Infinity;for(var e=0;e<r.length;){var u=r[e++];var o=r[e++];if(!isNaN(u)){t=Math.min(u,t);n=Math.max(u,n)}if(!isNaN(o)){i=Math.min(o,i);a=Math.max(o,a)}}return[[t,i],[n,a]]}function YI(r,t){var i=HI(r),n=i[0],a=i[1];var e=HI(t),u=e[0],o=e[1];return Math.max(Math.abs(n[0]-u[0]),Math.abs(n[1]-u[1]),Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]))}function XI(r){return rr(r)?r:r?.5:0}function GI(r,t,i){if(!i.valueDim){return[]}var n=t.count();var a=lS(n*2);for(var e=0;e<n;e++){var u=AI(i,r,t,e);a[e*2]=u[0];a[e*2+1]=u[1]}return a}function UI(r,t,i,n){var a=t.getBaseAxis();var e=a.dim==="x"||a.dim==="radius"?0:1;var u=[];var o=0;var v=[];var s=[];var f=[];var l=[];if(n){for(o=0;o<r.length;o+=2){if(!isNaN(r[o])&&!isNaN(r[o+1])){l.push(r[o],r[o+1])}}r=l}for(o=0;o<r.length-2;o+=2){f[0]=r[o+2];f[1]=r[o+3];s[0]=r[o];s[1]=r[o+1];u.push(s[0],s[1]);switch(i){case"end":v[e]=f[e];v[1-e]=s[1-e];u.push(v[0],v[1]);break;case"middle":var h=(s[e]+f[e])/2;var c=[];v[e]=c[e]=h;v[1-e]=s[1-e];c[1-e]=f[1-e];u.push(v[0],v[1]);u.push(c[0],c[1]);break;default:v[e]=s[e];v[1-e]=f[1-e];u.push(v[0],v[1])}}u.push(r[o++],r[o++]);return u}function ZI(r,t){var i=[];var n=r.length;var a;var e;function u(r,t,i){var n=r.coord;var a=(i-n)/(t.coord-n);var e=xn(a,[r.color,t.color]);return{coord:i,color:e}}for(var o=0;o<n;o++){var v=r[o];var s=v.coord;if(s<0){a=v}else if(s>t){if(e){i.push(u(e,v,t))}else if(a){i.push(u(a,v,0),u(a,v,t))}break}else{if(a){i.push(u(a,v,0));a=null}i.push(v);e=v}}return i}function jI(r,t,i){var n=r.getVisual("visualMeta");if(!n||!n.length||!r.count()){return}if(t.type!=="cartesian2d"){return}var a;var e;for(var u=n.length-1;u>=0;u--){var o=r.getDimensionInfo(n[u].dimension);a=o&&o.coordDim;if(a==="x"||a==="y"){e=n[u];break}}if(!e){return}var v=t.getAxis(a);var s=H(e.stops,(function(r){return{coord:v.toGlobalCoord(v.dataToCoord(r.value)),color:r.color}}));var f=s.length;var l=e.outerColors.slice();if(f&&s[0].coord>s[f-1].coord){s.reverse();l.reverse()}var h=ZI(s,a==="x"?i.getWidth():i.getHeight());var c=h.length;if(!c&&f){return s[0].coord<0?l[1]?l[1]:s[f-1].color:l[0]?l[0]:s[0].color}var d=10;var p=h[0].coord-d;var m=h[c-1].coord+d;var y=m-p;if(y<.001){return"transparent"}V(h,(function(r){r.offset=(r.coord-p)/y}));h.push({offset:c?h[c-1].offset:.5,color:l[1]||"transparent"});h.unshift({offset:c?h[0].offset:.5,color:l[0]||"transparent"});var g=new Gl(0,0,0,0,h,true);g[a]=p;g[a+"2"]=m;return g}function qI(r,t,i){var n=r.get("showAllSymbol");var a=n==="auto";if(n&&!a){return}var e=i.getAxesByScale("ordinal")[0];if(!e){return}if(a&&KI(e,t)){return}var u=t.mapDimension(e.dim);var o={};V(e.getViewLabels(),(function(r){var t=e.scale.getRawOrdinalNumber(r.tickValue);o[t]=1}));return function(r){return!o.hasOwnProperty(t.get(u,r))}}function KI(r,t){var i=r.getExtent();var n=Math.abs(i[1]-i[0])/r.scale.count();isNaN(n)&&(n=0);var a=t.count();var e=Math.max(1,Math.round(a/5));for(var u=0;u<a;u+=e){if(gI.getSymbolSize(t,u)[r.isHorizontal()?1:0]*1.5>n){return false}}return true}function JI(r,t){return isNaN(r)||isNaN(t)}function $I(r){var t=r.length/2;for(;t>0;t--){if(!JI(r[t*2-2],r[t*2-1])){break}}return t-1}function QI(r,t){return[r[t*2],r[t*2+1]]}function rC(r,t,i){var n=r.length/2;var a=i==="x"?0:1;var e;var u;var o=0;var v=-1;for(var s=0;s<n;s++){u=r[s*2+a];if(isNaN(u)||isNaN(r[s*2+1-a])){continue}if(s===0){e=u;continue}if(e<=t&&u>=t||e>=t&&u<=t){v=s;break}o=s;e=u}return{range:[o,v],t:(t-e)/(u-e)}}function tC(r){if(r.get(["endLabel","show"])){return true}for(var t=0;t<Cs.length;t++){if(r.get([Cs[t],"endLabel","show"])){return true}}return false}function iC(r,t,i,n){if(WI(t,"cartesian2d")){var a=n.getModel("endLabel");var e=a.get("valueAnimation");var u=n.getData();var o={lastFrameIndex:0};var v=tC(n)?function(i,n){r._endLabelOnDuring(i,n,u,o,e,a,t)}:null;var s=t.getBaseAxis().isHorizontal();var f=_I(t,i,n,(function(){var t=r._endLabel;if(t&&i){if(o.originalX!=null){t.attr({x:o.originalX,y:o.originalY})}}}),v);if(!n.get("clip",true)){var l=f.shape;var h=Math.max(l.width,l.height);if(s){l.y-=h;l.height+=h*2}else{l.x-=h;l.width+=h*2}}if(v){v(1,f)}return f}else{return EI(t,i,n)}}function nC(r,t){var i=t.getBaseAxis();var n=i.isHorizontal();var a=i.inverse;var e=n?a?"right":"left":"center";var u=n?"middle":a?"top":"bottom";return{normal:{align:r.get("align")||e,verticalAlign:r.get("verticalAlign")||u}}}var aC=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.init=function(){var r=new xe;var t=new SI;this.group.add(t.group);this._symbolDraw=t;this._lineGroup=r};t.prototype.render=function(r,t,i){var n=this;var a=r.coordinateSystem;var e=this.group;var u=r.getData();var o=r.getModel("lineStyle");var v=r.getModel("areaStyle");var s=u.getLayout("points")||[];var f=a.type==="polar";var l=this._coordSys;var h=this._symbolDraw;var c=this._polyline;var d=this._polygon;var p=this._lineGroup;var m=!t.ssr&&r.isAnimationEnabled();var y=!v.isEmpty();var g=v.get("origin");var b=kI(a,u,g);var w=y&&GI(a,u,b);var x=r.get("showSymbol");var M=r.get("connectNulls");var S=x&&!f&&qI(r,u,a);var k=this._data;k&&k.eachItemGraphicEl((function(r,t){if(r.__temp){e.remove(r);k.setItemGraphicEl(t,null)}}));if(!x){h.remove()}e.add(p);var N=!f?r.get("step"):false;var A;if(a&&a.getArea&&r.get("clip",true)){A=a.getArea();if(A.width!=null){A.x-=.1;A.y-=.1;A.width+=.2;A.height+=.2}else if(A.r0){A.r0-=.5;A.r+=.5}}this._clipShapeForSymbol=A;var I=jI(u,a,i)||u.getVisual("style")[u.getVisual("drawType")];if(!(c&&l.type===a.type&&N===this._step)){x&&h.updateData(u,{isIgnore:S,clipShape:A,disableAnimation:true,getSymbolPoint:function(r){return[s[r*2],s[r*2+1]]}});m&&this._initSymbolLabelAnimation(u,a,A);if(N){s=UI(s,a,N,M);if(w){w=UI(w,a,N,M)}}c=this._newPolyline(s);if(y){d=this._newPolygon(s,w)}else if(d){p.remove(d);d=this._polygon=null}if(!f){this._initOrUpdateEndLabel(r,a,Md(I))}p.setClipPath(iC(this,a,true,r))}else{if(y&&!d){d=this._newPolygon(s,w)}else if(d&&!y){p.remove(d);d=this._polygon=null}if(!f){this._initOrUpdateEndLabel(r,a,Md(I))}var C=p.getClipPath();if(C){var T=iC(this,a,false,r);ah(C,{shape:T.shape},r)}else{p.setClipPath(iC(this,a,true,r))}x&&h.updateData(u,{isIgnore:S,clipShape:A,disableAnimation:true,getSymbolPoint:function(r){return[s[r*2],s[r*2+1]]}});if(!VI(this._stackedOnPoints,w)||!VI(this._points,s)){if(m){this._doUpdateAnimation(u,w,a,i,N,g,M)}else{if(N){s=UI(s,a,N,M);if(w){w=UI(w,a,N,M)}}c.setShape({points:s});d&&d.setShape({points:s,stackedOnPoints:w})}}}var z=r.getModel("emphasis");var L=z.get("focus");var O=z.get("blurScope");var D=z.get("disabled");c.useStyle(B(o.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"}));Cf(c,r,"lineStyle");if(c.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var R=c.getState("emphasis").style;R.lineWidth=+c.style.lineWidth+1}bs(c).seriesIndex=r.seriesIndex;kf(c,L,O,D);var F=XI(r.get("smooth"));var _=r.get("smoothMonotone");c.setShape({smooth:F,smoothMonotone:_,connectNulls:M});if(d){var E=u.getCalculationInfo("stackedOnSeries");var P=0;d.useStyle(B(v.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal}));if(E){P=XI(E.get("smooth"))}d.setShape({smooth:F,stackedOnSmooth:P,smoothMonotone:_,connectNulls:M});Cf(d,r,"areaStyle");bs(d).seriesIndex=r.seriesIndex;kf(d,L,O,D)}var W=function(r){n._changePolyState(r)};u.eachItemGraphicEl((function(r){r&&(r.onHoverStateChange=W)}));this._polyline.onHoverStateChange=W;this._data=u;this._coordSys=a;this._stackedOnPoints=w;this._points=s;this._step=N;this._valueOrigin=g;if(r.get("triggerLineEvent")){this.packEventData(r,c);d&&this.packEventData(r,d)}};t.prototype.packEventData=function(r,t){bs(t).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}};t.prototype.highlight=function(r,t,i,n){var a=r.getData();var e=zu(a,n);this._changePolyState("emphasis");if(!(e instanceof Array)&&e!=null&&e>=0){var u=a.getLayout("points");var o=a.getItemGraphicEl(e);if(!o){var v=u[e*2];var s=u[e*2+1];if(isNaN(v)||isNaN(s)){return}if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(v,s)){return}var f=r.get("zlevel")||0;var l=r.get("z")||0;o=new gI(a,e);o.x=v;o.y=s;o.setZ(f,l);var h=o.getSymbolPath().getTextContent();if(h){h.zlevel=f;h.z=l;h.z2=this._polyline.z2+1}o.__temp=true;a.setItemGraphicEl(e,o);o.stopSymbolAnimation(true);this.group.add(o)}o.highlight()}else{sg.prototype.highlight.call(this,r,t,i,n)}};t.prototype.downplay=function(r,t,i,n){var a=r.getData();var e=zu(a,n);this._changePolyState("normal");if(e!=null&&e>=0){var u=a.getItemGraphicEl(e);if(u){if(u.__temp){a.setItemGraphicEl(e,null);this.group.remove(u)}else{u.downplay()}}}else{sg.prototype.downplay.call(this,r,t,i,n)}};t.prototype._changePolyState=function(r){var t=this._polygon;qs(this._polyline,r);t&&qs(t,r)};t.prototype._newPolyline=function(r){var t=this._polyline;if(t){this._lineGroup.remove(t)}t=new RI({shape:{points:r},segmentIgnoreThreshold:2,z2:10});this._lineGroup.add(t);this._polyline=t;return t};t.prototype._newPolygon=function(r,t){var i=this._polygon;if(i){this._lineGroup.remove(i)}i=new BI({shape:{points:r,stackedOnPoints:t},segmentIgnoreThreshold:2});this._lineGroup.add(i);this._polygon=i;return i};t.prototype._initSymbolLabelAnimation=function(r,t,i){var n;var a;var e=t.getBaseAxis();var u=e.inverse;if(t.type==="cartesian2d"){n=e.isHorizontal();a=false}else if(t.type==="polar"){n=e.dim==="angle";a=true}var o=r.hostModel;var v=o.get("animationDuration");if(J(v)){v=v(null)}var s=o.get("animationDelay")||0;var f=J(s)?s(null):s;r.eachItemGraphicEl((function(r,e){var o=r;if(o){var l=[r.x,r.y];var h=void 0;var c=void 0;var d=void 0;if(i){if(a){var p=i;var m=t.pointToCoord(l);if(n){h=p.startAngle;c=p.endAngle;d=-m[1]/180*Math.PI}else{h=p.r0;c=p.r;d=m[0]}}else{var y=i;if(n){h=y.x;c=y.x+y.width;d=r.x}else{h=y.y+y.height;c=y.y;d=r.y}}}var g=c===h?0:(d-h)/(c-h);if(u){g=1-g}var b=J(s)?s(e):v*g+f;var w=o.getSymbolPath();var x=w.getTextContent();o.attr({scaleX:0,scaleY:0});o.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:true,delay:b});if(x){x.animateFrom({style:{opacity:0}},{duration:300,delay:b})}w.disableLabelAnimation=true}}))};t.prototype._initOrUpdateEndLabel=function(r,t,i){var n=r.getModel("endLabel");if(tC(r)){var a=r.getData();var e=this._polyline;var u=a.getLayout("points");if(!u){e.removeTextContent();this._endLabel=null;return}var o=this._endLabel;if(!o){o=this._endLabel=new es({z2:200});o.ignoreClip=true;e.setTextContent(this._endLabel);e.disableLabelAnimation=true}var v=$I(u);if(v>=0){Zh(e,jh(r,"endLabel"),{inheritColor:i,labelFetcher:r,labelDataIndex:v,defaultText:function(r,t,i){return i!=null?yI(a,i):mI(a,r)},enableTextSetter:true},nC(n,t));e.textConfig.position=null}}else if(this._endLabel){this._polyline.removeTextContent();this._endLabel=null}};t.prototype._endLabelOnDuring=function(r,t,i,n,a,e,u){var o=this._endLabel;var v=this._polyline;if(o){if(r<1&&n.originalX==null){n.originalX=o.x;n.originalY=o.y}var s=i.getLayout("points");var f=i.hostModel;var l=f.get("connectNulls");var h=e.get("precision");var c=e.get("distance")||0;var d=u.getBaseAxis();var p=d.isHorizontal();var m=d.inverse;var y=t.shape;var g=m?p?y.x:y.y+y.height:p?y.x+y.width:y.y;var b=(p?c:0)*(m?-1:1);var w=(p?0:-c)*(m?-1:1);var x=p?"x":"y";var M=rC(s,g,x);var S=M.range;var k=S[1]-S[0];var N=void 0;if(k>=1){if(k>1&&!l){var A=QI(s,S[0]);o.attr({x:A[0]+b,y:A[1]+w});a&&(N=f.getRawValue(S[0]))}else{var A=v.getPointOn(g,x);A&&o.attr({x:A[0]+b,y:A[1]+w});var I=f.getRawValue(S[0]);var C=f.getRawValue(S[1]);a&&(N=Hu(i,h,I,C,M.t))}n.lastFrameIndex=S[0]}else{var T=r===1||n.lastFrameIndex>0?S[0]:0;var A=QI(s,T);a&&(N=f.getRawValue(T));o.attr({x:A[0]+b,y:A[1]+w})}if(a){var z=ac(o);if(typeof z.setLabelText==="function"){z.setLabelText(N)}}}};t.prototype._doUpdateAnimation=function(r,t,i,n,a,e,u){var o=this._polyline;var v=this._polygon;var s=r.hostModel;var f=CI(this._data,r,this._stackedOnPoints,t,this._coordSys,i,this._valueOrigin);var l=f.current;var h=f.stackedOnCurrent;var c=f.next;var d=f.stackedOnNext;if(a){l=UI(f.current,i,a,u);h=UI(f.stackedOnCurrent,i,a,u);c=UI(f.next,i,a,u);d=UI(f.stackedOnNext,i,a,u)}if(YI(l,c)>3e3||v&&YI(h,d)>3e3){o.stopAnimation();o.setShape({points:c});if(v){v.stopAnimation();v.setShape({points:c,stackedOnPoints:d})}return}o.shape.__points=f.current;o.shape.points=l;var p={shape:{points:c}};if(f.current!==l){p.shape.__points=f.next}o.stopAnimation();nh(o,p,s);if(v){v.setShape({points:l,stackedOnPoints:h});v.stopAnimation();nh(v,{shape:{stackedOnPoints:d}},s);if(o.shape.points!==v.shape.points){v.shape.points=o.shape.points}}var m=[];var y=f.status;for(var g=0;g<y.length;g++){var b=y[g].cmd;if(b==="="){var w=r.getItemGraphicEl(y[g].idx1);if(w){m.push({el:w,ptIdx:g})}}}if(o.animators&&o.animators.length){o.animators[0].during((function(){v&&v.dirtyShape();var r=o.shape.__points;for(var t=0;t<m.length;t++){var i=m[t].el;var n=m[t].ptIdx*2;i.x=r[n];i.y=r[n+1];i.markRedraw()}}))}};t.prototype.remove=function(r){var t=this.group;var i=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(true);i&&i.eachItemGraphicEl((function(r,n){if(r.__temp){t.remove(r);i.setItemGraphicEl(n,null)}}));this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null};t.type="line";return t}(sg);function eC(r,t){return{seriesType:r,plan:ug(),reset:function(r){var i=r.getData();var n=r.coordinateSystem;var a=r.pipelineContext;var e=t||a.large;if(!n){return}var u=H(n.dimensions,(function(r){return i.mapDimension(r)})).slice(0,2);var o=u.length;var v=i.getCalculationInfo("stackResultDimension");if(WM(i,u[0])){u[0]=v}if(WM(i,u[1])){u[1]=v}var s=i.getStore();var f=i.getDimensionIndex(u[0]);var l=i.getDimensionIndex(u[1]);return o&&{progress:function(r,t){var i=r.end-r.start;var a=e&&lS(i*o);var u=[];var v=[];for(var h=r.start,c=0;h<r.end;h++){var d=void 0;if(o===1){var p=s.get(f,h);d=n.dataToPoint(p,null,v)}else{u[0]=s.get(f,h);u[1]=s.get(l,h);d=n.dataToPoint(u,null,v)}if(e){a[c++]=d[0];a[c++]=d[1]}else{t.setItemLayout(h,d.slice())}}e&&t.setLayout("points",a)}}}}}var uC={average:function(r){var t=0;var i=0;for(var n=0;n<r.length;n++){if(!isNaN(r[n])){t+=r[n];i++}}return i===0?NaN:t/i},sum:function(r){var t=0;for(var i=0;i<r.length;i++){t+=r[i]||0}return t},max:function(r){var t=-Infinity;for(var i=0;i<r.length;i++){r[i]>t&&(t=r[i])}return isFinite(t)?t:NaN},min:function(r){var t=Infinity;for(var i=0;i<r.length;i++){r[i]<t&&(t=r[i])}return isFinite(t)?t:NaN},nearest:function(r){return r[0]}};var oC=function(r){return Math.round(r.length/2)};function vC(r){return{seriesType:r,reset:function(r,t,i){var n=r.getData();var a=r.get("sampling");var e=r.coordinateSystem;var u=n.count();if(u>10&&e.type==="cartesian2d"&&a){var o=e.getBaseAxis();var v=e.getOtherAxis(o);var s=o.getExtent();var f=i.getDevicePixelRatio();var l=Math.abs(s[1]-s[0])*(f||1);var h=Math.round(u/l);if(isFinite(h)&&h>1){if(a==="lttb"){r.setData(n.lttbDownSample(n.mapDimension(v.dim),1/h))}var c=void 0;if($(a)){c=uC[a]}else if(J(a)){c=a}if(c){r.setData(n.downSample(n.mapDimension(v.dim),1/h,c,oC))}}}}}}function sC(r){r.registerChartView(aC);r.registerSeriesModel(pI);r.registerLayout(eC("line",true));r.registerVisual({seriesType:"line",reset:function(r){var t=r.getData();var i=r.getModel("lineStyle").getLineStyle();if(i&&!i.stroke){i.stroke=t.getVisual("style").fill}t.setVisual("legendLineStyle",i)}});r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,vC("line"))}var fC=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.getInitialData=function(r,t){return XM(null,this,{useEncodeDefaulter:true})};t.prototype.getMarkerPosition=function(r,t,i){var n=this.coordinateSystem;if(n&&n.clampData){var a=n.clampData(r);var e=n.dataToPoint(a);if(i){V(n.getAxes(),(function(r,i){if(r.type==="category"&&t!=null){var n=r.getTicksCoords();var u=a[i];var o=t[i]==="x1"||t[i]==="y1";if(o){u+=1}if(n.length<2){return}else if(n.length===2){e[i]=r.toGlobalCoord(r.getExtent()[o?1:0]);return}var v=void 0;var s=void 0;var f=1;for(var l=0;l<n.length;l++){var h=n[l].coord;var c=l===n.length-1?n[l-1].tickValue+f:n[l].tickValue;if(c===u){s=h;break}else if(c<u){v=h}else if(v!=null&&c>u){s=(h+v)/2;break}if(l===1){f=c-n[0].tickValue}}if(s==null){if(!v){s=n[0].coord}else if(v){s=n[n.length-1].coord}}e[i]=r.toGlobalCoord(s)}}))}else{var u=this.getData();var o=u.getLayout("offset");var v=u.getLayout("size");var s=n.getBaseAxis().isHorizontal()?0:1;e[s]+=o+v/2}return e}return[NaN,NaN]};t.type="series.__base_bar__";t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,barMinHeight:0,barMinAngle:0,large:false,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"};return t}(Ky);Ky.registerClass(fC);var lC=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.getInitialData=function(){return XM(null,this,{useEncodeDefaulter:true,createInvertedIndices:!!this.get("realtimeSort",true)||null})};t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):false};t.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold");var t=this.get("largeThreshold");if(t>r){r=t}return r};t.prototype.brushSelector=function(r,t,i){return i.rect(t.getItemLayout(r))};t.type="series.bar";t.dependencies=["grid","polar"];t.defaultOption=Mc(fC.defaultOption,{clip:true,roundCap:false,showBackground:false,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:false});return t}(fC);var hC=function(){function r(){this.cx=0;this.cy=0;this.r0=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true}return r}();var cC=function(r){a(t,r);function t(t){var i=r.call(this,t)||this;i.type="sausage";return i}t.prototype.getDefaultShape=function(){return new hC};t.prototype.buildPath=function(r,t){var i=t.cx;var n=t.cy;var a=Math.max(t.r0||0,0);var e=Math.max(t.r,0);var u=(e-a)*.5;var o=a+u;var v=t.startAngle;var s=t.endAngle;var f=t.clockwise;var l=Math.PI*2;var h=f?s-v<l:v-s<l;if(!h){v=s-(f?l:-l)}var c=Math.cos(v);var d=Math.sin(v);var p=Math.cos(s);var m=Math.sin(s);if(h){r.moveTo(c*a+i,d*a+n);r.arc(c*o+i,d*o+n,u,-Math.PI+v,v,!f)}else{r.moveTo(c*e+i,d*e+n)}r.arc(i,n,e,v,s,!f);r.arc(p*o+i,m*o+n,u,s-Math.PI*2,s-Math.PI,!f);if(a!==0){r.arc(i,n,a,s,v,f)}};return t}(Vv);function dC(r,t){t=t||{};var i=t.isRoundCap;return function(t,n,a){var e=n.position;if(!e||e instanceof Array){return oe(t,n,a)}var u=r(e);var o=n.distance!=null?n.distance:5;var v=this.shape;var s=v.cx;var f=v.cy;var l=v.r;var h=v.r0;var c=(l+h)/2;var d=v.startAngle;var p=v.endAngle;var m=(d+p)/2;var y=i?Math.abs(l-h)/2:0;var g=Math.cos;var b=Math.sin;var w=s+l*g(d);var x=f+l*b(d);var M="left";var S="top";switch(u){case"startArc":w=s+(h-o)*g(m);x=f+(h-o)*b(m);M="center";S="top";break;case"insideStartArc":w=s+(h+o)*g(m);x=f+(h+o)*b(m);M="center";S="bottom";break;case"startAngle":w=s+c*g(d)+mC(d,o+y,false);x=f+c*b(d)+yC(d,o+y,false);M="right";S="middle";break;case"insideStartAngle":w=s+c*g(d)+mC(d,-o+y,false);x=f+c*b(d)+yC(d,-o+y,false);M="left";S="middle";break;case"middle":w=s+c*g(m);x=f+c*b(m);M="center";S="middle";break;case"endArc":w=s+(l+o)*g(m);x=f+(l+o)*b(m);M="center";S="bottom";break;case"insideEndArc":w=s+(l-o)*g(m);x=f+(l-o)*b(m);M="center";S="top";break;case"endAngle":w=s+c*g(p)+mC(p,o+y,true);x=f+c*b(p)+yC(p,o+y,true);M="left";S="middle";break;case"insideEndAngle":w=s+c*g(p)+mC(p,-o+y,true);x=f+c*b(p)+yC(p,-o+y,true);M="right";S="middle";break;default:return oe(t,n,a)}t=t||{};t.x=w;t.y=x;t.align=M;t.verticalAlign=S;return t}}function pC(r,t,i,n){if(rr(n)){r.setTextConfig({rotation:n});return}else if(K(t)){r.setTextConfig({rotation:0});return}var a=r.shape;var e=a.clockwise?a.startAngle:a.endAngle;var u=a.clockwise?a.endAngle:a.startAngle;var o=(e+u)/2;var v;var s=i(t);switch(s){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":v=o;break;case"startAngle":case"insideStartAngle":v=e;break;case"endAngle":case"insideEndAngle":v=u;break;default:r.setTextConfig({rotation:0});return}var f=Math.PI*1.5-v;if(s==="middle"&&f>Math.PI/2&&f<Math.PI*1.5){f-=Math.PI}r.setTextConfig({rotation:f})}function mC(r,t,i){return t*Math.sin(r)*(i?-1:1)}function yC(r,t,i){return t*Math.cos(r)*(i?1:-1)}function gC(r,t,i){var n=r.get("borderRadius");if(n==null){return i?{cornerRadius:0}:null}if(!K(n)){n=[n,n,n,n]}var a=Math.abs(t.r||0-t.r0||0);return{cornerRadius:H(n,(function(r){return ue(r,a)}))}}var bC=Math.max;var wC=Math.min;function xC(r,t){var i=r.getArea&&r.getArea();if(WI(r,"cartesian2d")){var n=r.getBaseAxis();if(n.type!=="category"||!n.onBand){var a=t.getLayout("bandWidth");if(n.isHorizontal()){i.x-=a;i.width+=a*2}else{i.y-=a;i.height+=a*2}}}return i}var MC=function(r){a(t,r);function t(){var i=r.call(this)||this;i.type=t.type;i._isFirstFrame=true;return i}t.prototype.render=function(r,t,i,n){this._model=r;this._removeOnRenderedListener(i);this._updateDrawMode(r);var a=r.get("coordinateSystem");if(a==="cartesian2d"||a==="polar"){this._progressiveEls=null;this._isLargeDraw?this._renderLarge(r,t,i):this._renderNormal(r,t,i,n)}};t.prototype.incrementalPrepareRender=function(r){this._clear();this._updateDrawMode(r);this._updateLargeClip(r)};t.prototype.incrementalRender=function(r,t){this._progressiveEls=[];this._incrementalRenderLarge(r,t)};t.prototype.eachRendered=function(r){Hh(this._progressiveEls||this.group,r)};t.prototype._updateDrawMode=function(r){var t=r.pipelineContext.large;if(this._isLargeDraw==null||t!==this._isLargeDraw){this._isLargeDraw=t;this._clear()}};t.prototype._renderNormal=function(r,t,i,n){var a=this.group;var e=r.getData();var u=this._data;var o=r.coordinateSystem;var v=o.getBaseAxis();var s;if(o.type==="cartesian2d"){s=v.isHorizontal()}else if(o.type==="polar"){s=v.dim==="angle"}var f=r.isAnimationEnabled()?r:null;var l=NC(r,o);if(l){this._enableRealtimeSort(l,e,i)}var h=r.get("clip",true)||l;var c=xC(o,e);a.removeClipPath();var d=r.get("roundCap",true);var p=r.get("showBackground",true);var m=r.getModel("backgroundStyle");var y=m.get("borderRadius")||0;var g=[];var b=this._backgroundEls;var w=n&&n.isInitSort;var x=n&&n.type==="changeAxisOrder";function M(r){var t=LC[o.type](e,r);var i=HC(o,s,t);i.useStyle(m.getItemStyle());if(o.type==="cartesian2d"){i.setShape("r",y)}else{i.setShape("cornerRadius",y)}g[r]=i;return i}e.diff(u).add((function(t){var i=e.getItemModel(t);var n=LC[o.type](e,t,i);if(p){M(t)}if(!e.hasValue(t)||!zC[o.type](n)){return}var u=false;if(h){u=SC[o.type](c,n)}var m=kC[o.type](r,e,t,n,s,f,v.model,false,d);if(l){m.forceLabelAnimation=true}RC(m,e,t,i,n,r,s,o.type==="polar");if(w){m.attr({shape:n})}else if(l){AC(l,f,m,n,t,s,false,false)}else{ah(m,{shape:n},r,t)}e.setItemGraphicEl(t,m);a.add(m);m.ignore=u})).update((function(t,i){var n=e.getItemModel(t);var S=LC[o.type](e,t,n);if(p){var k=void 0;if(b.length===0){k=M(i)}else{k=b[i];k.useStyle(m.getItemStyle());if(o.type==="cartesian2d"){k.setShape("r",y)}else{k.setShape("cornerRadius",y)}g[t]=k}var N=LC[o.type](e,t);var A=VC(s,N,o);nh(k,{shape:A},f,t)}var I=u.getItemGraphicEl(i);if(!e.hasValue(t)||!zC[o.type](S)){a.remove(I);return}var C=false;if(h){C=SC[o.type](c,S);if(C){a.remove(I)}}if(!I){I=kC[o.type](r,e,t,S,s,f,v.model,!!I,d)}else{sh(I)}if(l){I.forceLabelAnimation=true}if(x){var T=I.getTextContent();if(T){var z=ac(T);if(z.prevValue!=null){z.prevValue=z.value}}}else{RC(I,e,t,n,S,r,s,o.type==="polar")}if(w){I.attr({shape:S})}else if(l){AC(l,f,I,S,t,s,true,x)}else{nh(I,{shape:S},r,t,null)}e.setItemGraphicEl(t,I);I.ignore=C;a.add(I)})).remove((function(t){var i=u.getItemGraphicEl(t);i&&vh(i,r,t)})).execute();var S=this._backgroundGroup||(this._backgroundGroup=new xe);S.removeAll();for(var k=0;k<g.length;++k){S.add(g[k])}a.add(S);this._backgroundEls=g;this._data=e};t.prototype._renderLarge=function(r,t,i){this._clear();EC(r,this.group);this._updateLargeClip(r)};t.prototype._incrementalRenderLarge=function(r,t){this._removeBackground();EC(t,this.group,this._progressiveEls,true)};t.prototype._updateLargeClip=function(r){var t=r.get("clip",true)&&PI(r.coordinateSystem,false,r);var i=this.group;if(t){i.setClipPath(t)}else{i.removeClipPath()}};t.prototype._enableRealtimeSort=function(r,t,i){var n=this;if(!t.count()){return}var a=r.baseAxis;if(this._isFirstFrame){this._dispatchInitSort(t,r,i);this._isFirstFrame=false}else{var e=function(r){var i=t.getItemGraphicEl(r);var n=i&&i.shape;return n&&Math.abs(a.isHorizontal()?n.height:n.width)||0};this._onRendered=function(){n._updateSortWithinSameData(t,e,a,i)};i.getZr().on("rendered",this._onRendered)}};t.prototype._dataSort=function(r,t,i){var n=[];r.each(r.mapDimension(t.dim),(function(r,t){var a=i(t);a=a==null?NaN:a;n.push({dataIndex:t,mappedValue:a,ordinalNumber:r})}));n.sort((function(r,t){return t.mappedValue-r.mappedValue}));return{ordinalNumbers:H(n,(function(r){return r.ordinalNumber}))}};t.prototype._isOrderChangedWithinSameData=function(r,t,i){var n=i.scale;var a=r.mapDimension(i.dim);var e=Number.MAX_VALUE;for(var u=0,o=n.getOrdinalMeta().categories.length;u<o;++u){var v=r.rawIndexOf(a,n.getRawOrdinalNumber(u));var s=v<0?Number.MIN_VALUE:t(r.indexOfRawIndex(v));if(s>e){return true}e=s}return false};t.prototype._isOrderDifferentInView=function(r,t){var i=t.scale;var n=i.getExtent();var a=Math.max(0,n[0]);var e=Math.min(n[1],i.getOrdinalMeta().categories.length-1);for(;a<=e;++a){if(r.ordinalNumbers[a]!==i.getRawOrdinalNumber(a)){return true}}};t.prototype._updateSortWithinSameData=function(r,t,i,n){if(!this._isOrderChangedWithinSameData(r,t,i)){return}var a=this._dataSort(r,i,t);if(this._isOrderDifferentInView(a,i)){this._removeOnRenderedListener(n);n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:a})}};t.prototype._dispatchInitSort=function(r,t,i){var n=t.baseAxis;var a=this._dataSort(r,n,(function(i){return r.get(r.mapDimension(t.otherAxis.dim),i)}));i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",isInitSort:true,axisId:n.index,sortInfo:a})};t.prototype.remove=function(r,t){this._clear(this._model);this._removeOnRenderedListener(t)};t.prototype.dispose=function(r,t){this._removeOnRenderedListener(t)};t.prototype._removeOnRenderedListener=function(r){if(this._onRendered){r.getZr().off("rendered",this._onRendered);this._onRendered=null}};t.prototype._clear=function(r){var t=this.group;var i=this._data;if(r&&r.isAnimationEnabled()&&i&&!this._isLargeDraw){this._removeBackground();this._backgroundEls=[];i.eachItemGraphicEl((function(t){vh(t,r,bs(t).dataIndex)}))}else{t.removeAll()}this._data=null;this._isFirstFrame=true};t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup);this._backgroundGroup=null};t.type="bar";return t}(sg);var SC={cartesian2d:function(r,t){var i=t.width<0?-1:1;var n=t.height<0?-1:1;if(i<0){t.x+=t.width;t.width=-t.width}if(n<0){t.y+=t.height;t.height=-t.height}var a=r.x+r.width;var e=r.y+r.height;var u=bC(t.x,r.x);var o=wC(t.x+t.width,a);var v=bC(t.y,r.y);var s=wC(t.y+t.height,e);var f=o<u;var l=s<v;t.x=f&&u>a?o:u;t.y=l&&v>e?s:v;t.width=f?0:o-u;t.height=l?0:s-v;if(i<0){t.x+=t.width;t.width=-t.width}if(n<0){t.y+=t.height;t.height=-t.height}return f||l},polar:function(r,t){var i=t.r0<=t.r?1:-1;if(i<0){var n=t.r;t.r=t.r0;t.r0=n}var a=wC(t.r,r.r);var e=bC(t.r0,r.r0);t.r=a;t.r0=e;var u=a-e<0;if(i<0){var n=t.r;t.r=t.r0;t.r0=n}return u}};var kC={cartesian2d:function(r,t,i,n,a,e,u,o,v){var s=new ts({shape:F({},n),z2:1});s.__dataIndex=i;s.name="item";if(e){var f=s.shape;var l=a?"height":"width";f[l]=0}return s},polar:function(r,t,i,n,a,e,u,o,v){var s=!a&&v?cC:Nl;var f=new s({shape:n,z2:1});f.name="item";var l=DC(a);f.calculateTextPosition=dC(l,{isRoundCap:s===cC});if(e){var h=f.shape;var c=a?"r":"endAngle";var d={};h[c]=a?n.r0:n.startAngle;d[c]=n[c];(o?nh:ah)(f,{shape:d},e)}return f}};function NC(r,t){var i=r.get("realtimeSort",true);var n=t.getBaseAxis();if(i&&n.type==="category"&&t.type==="cartesian2d"){return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}}function AC(r,t,i,n,a,e,u,o){var v;var s;if(e){s={x:n.x,width:n.width};v={y:n.y,height:n.height}}else{s={y:n.y,height:n.height};v={x:n.x,width:n.width}}if(!o){(u?nh:ah)(i,{shape:v},t,a,null)}var f=t?r.baseAxis.model:null;(u?nh:ah)(i,{shape:s},f,a)}function IC(r,t){for(var i=0;i<t.length;i++){if(!isFinite(r[t[i]])){return true}}return false}var CC=["x","y","width","height"];var TC=["cx","cy","r","startAngle","endAngle"];var zC={cartesian2d:function(r){return!IC(r,CC)},polar:function(r){return!IC(r,TC)}};var LC={cartesian2d:function(r,t,i){var n=r.getItemLayout(t);var a=i?FC(i,n):0;var e=n.width>0?1:-1;var u=n.height>0?1:-1;return{x:n.x+e*a/2,y:n.y+u*a/2,width:n.width-e*a,height:n.height-u*a}},polar:function(r,t,i){var n=r.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function OC(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function DC(r){return function(r){var t=r?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+t;default:return r}}}(r)}function RC(r,t,i,n,a,e,u,o){var v=t.getItemVisual(i,"style");if(!o){var s=n.get(["itemStyle","borderRadius"])||0;r.setShape("r",s)}else if(!e.get("roundCap")){var f=r.shape;var l=gC(n.getModel("itemStyle"),f,true);F(f,l);r.setShape(f)}r.useStyle(v);var h=n.getShallow("cursor");h&&r.attr("cursor",h);var c=o?u?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":u?a.height>=0?"bottom":"top":a.width>=0?"right":"left";var d=jh(n);Zh(r,d,{labelFetcher:e,labelDataIndex:i,defaultText:mI(e.getData(),i),inheritColor:v.fill,defaultOpacity:v.opacity,defaultOutsidePosition:c});var p=r.getTextContent();if(o&&p){var m=n.get(["label","position"]);r.textConfig.inside=m==="middle"?true:null;pC(r,m==="outside"?c:m,DC(u),n.get(["label","rotate"]))}ec(p,d,e.getRawValue(i),(function(r){return yI(t,r)}));var y=n.getModel(["emphasis"]);kf(r,y.get("focus"),y.get("blurScope"),y.get("disabled"));Cf(r,n);if(OC(a)){r.style.fill="none";r.style.stroke="none";V(r.states,(function(r){if(r.style){r.style.fill=r.style.stroke="none"}}))}}function FC(r,t){var i=r.get(["itemStyle","borderColor"]);if(!i||i==="none"){return 0}var n=r.get(["itemStyle","borderWidth"])||0;var a=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width);var e=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,a,e)}var BC=function(){function r(){}return r}();var _C=function(r){a(t,r);function t(t){var i=r.call(this,t)||this;i.type="largeBar";return i}t.prototype.getDefaultShape=function(){return new BC};t.prototype.buildPath=function(r,t){var i=t.points;var n=this.baseDimIdx;var a=1-this.baseDimIdx;var e=[];var u=[];var o=this.barWidth;for(var v=0;v<i.length;v+=3){u[n]=o;u[a]=i[v+2];e[n]=i[v+n];e[a]=i[v+a];r.rect(e[0],e[1],u[0],u[1])}};return t}(Vv);function EC(r,t,i,n){var a=r.getData();var e=a.getLayout("valueAxisHorizontal")?1:0;var u=a.getLayout("largeDataIndices");var o=a.getLayout("size");var v=r.getModel("backgroundStyle");var s=a.getLayout("largeBackgroundPoints");if(s){var f=new _C({shape:{points:s},incremental:!!n,silent:true,z2:0});f.baseDimIdx=e;f.largeDataIndices=u;f.barWidth=o;f.useStyle(v.getItemStyle());t.add(f);i&&i.push(f)}var l=new _C({shape:{points:a.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:true,z2:1});l.baseDimIdx=e;l.largeDataIndices=u;l.barWidth=o;t.add(l);l.useStyle(a.getVisual("style"));bs(l).seriesIndex=r.seriesIndex;if(!r.get("silent")){l.on("mousedown",PC);l.on("mousemove",PC)}i&&i.push(l)}var PC=gg((function(r){var t=this;var i=WC(t,r.offsetX,r.offsetY);bs(t).dataIndex=i>=0?i:null}),30,false);function WC(r,t,i){var n=r.baseDimIdx;var a=1-n;var e=r.shape.points;var u=r.largeDataIndices;var o=[];var v=[];var s=r.barWidth;for(var f=0,l=e.length/3;f<l;f++){var h=f*3;v[n]=s;v[a]=e[h+2];o[n]=e[h+n];o[a]=e[h+a];if(v[a]<0){o[a]+=v[a];v[a]=-v[a]}if(t>=o[0]&&t<=o[0]+v[0]&&i>=o[1]&&i<=o[1]+v[1]){return u[f]}}return-1}function VC(r,t,i){if(WI(i,"cartesian2d")){var n=t;var a=i.getArea();return{x:r?n.x:a.x,y:r?a.y:n.y,width:r?n.width:a.width,height:r?a.height:n.height}}else{var a=i.getArea();var e=t;return{cx:a.cx,cy:a.cy,r0:r?a.r0:e.r0,r:r?a.r:e.r,startAngle:r?e.startAngle:0,endAngle:r?e.endAngle:Math.PI*2}}}function HC(r,t,i){var n=r.type==="polar"?Nl:ts;return new n({shape:VC(t,i,r),silent:true,z2:0})}function YC(r){r.registerChartView(MC);r.registerSeriesModel(lC);r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,q(xS,"bar"));r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,MS("bar"));r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,vC("bar"));r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(r,t){var i=r.componentType||"series";t.eachComponent({mainType:i,query:r},(function(t){if(r.sortInfo){t.axis.setCategorySortInfo(r.sortInfo)}}))}))}var XC=Math.PI*2;var GC=Math.PI/180;function UC(r,t){return zd(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function ZC(r,t){var i=UC(r,t);var n=r.get("center");var a=r.get("radius");if(!K(a)){a=[0,a]}var e=Le(i.width,t.getWidth());var u=Le(i.height,t.getHeight());var o=Math.min(e,u);var v=Le(a[0],o/2);var s=Le(a[1],o/2);var f;var l;var h=r.coordinateSystem;if(h){var c=h.dataToPoint(n);f=c[0]||0;l=c[1]||0}else{if(!K(n)){n=[n,n]}f=Le(n[0],e)+i.x;l=Le(n[1],u)+i.y}return{cx:f,cy:l,r0:v,r:s}}function jC(r,t,i){t.eachSeriesByType(r,(function(r){var t=r.getData();var n=t.mapDimension("value");var a=UC(r,i);var e=ZC(r,i),u=e.cx,o=e.cy,v=e.r,s=e.r0;var f=-r.get("startAngle")*GC;var l=r.get("minAngle")*GC;var h=0;t.each(n,(function(r){!isNaN(r)&&h++}));var c=t.getSum(n);var d=Math.PI/(c||h)*2;var p=r.get("clockwise");var m=r.get("roseType");var y=r.get("stillShowZeroSum");var g=t.getDataExtent(n);g[0]=0;var b=XC;var w=0;var x=f;var M=p?1:-1;t.setLayout({viewRect:a,r:v});t.each(n,(function(r,i){var n;if(isNaN(r)){t.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:p,cx:u,cy:o,r0:s,r:m?NaN:v});return}if(m!=="area"){n=c===0&&y?d:r*d}else{n=XC/h}if(n<l){n=l;b-=l}else{w+=r}var a=x+M*n;t.setItemLayout(i,{angle:n,startAngle:x,endAngle:a,clockwise:p,cx:u,cy:o,r0:s,r:m?ze(r,g,[s,v]):v});x=a}));if(b<XC&&h){if(b<=.001){var S=XC/h;t.each(n,(function(r,i){if(!isNaN(r)){var n=t.getItemLayout(i);n.angle=S;n.startAngle=f+M*i*S;n.endAngle=f+M*(i+1)*S}}))}else{d=b/w;x=f;t.each(n,(function(r,i){if(!isNaN(r)){var n=t.getItemLayout(i);var a=n.angle===l?l:r*d;n.startAngle=x;n.endAngle=x+M*a;x+=M*a}}))}}}))}function qC(r){return{seriesType:r,reset:function(r,t){var i=t.findComponents({mainType:"legend"});if(!i||!i.length){return}var n=r.getData();n.filterSelf((function(r){var t=n.getName(r);for(var a=0;a<i.length;a++){if(!i[a].isSelected(t)){return false}}return true}))}}}var KC=Math.PI/180;function JC(r,t,i,n,a,e,u,o,v,s){if(r.length<2){return}function f(r){var e=r.rB;var u=e*e;for(var o=0;o<r.list.length;o++){var v=r.list[o];var s=Math.abs(v.label.y-i);var f=n+v.len;var l=f*f;var h=Math.sqrt((1-Math.abs(s*s/u))*l);var c=t+(h+v.len2)*a;var d=c-v.label.x;var p=v.targetTextWidth-d*a;QC(v,p,true);v.label.x=c}}function l(r){var e={list:[],maxY:0};var u={list:[],maxY:0};for(var o=0;o<r.length;o++){if(r[o].labelAlignTo!=="none"){continue}var v=r[o];var s=v.label.y>i?u:e;var l=Math.abs(v.label.y-i);if(l>=s.maxY){var h=v.label.x-t-v.len2*a;var c=n+v.len;var d=Math.abs(h)<c?Math.sqrt(l*l/(1-h*h/c/c)):c;s.rB=d;s.maxY=l}s.list.push(v)}f(e);f(u)}var h=r.length;for(var c=0;c<h;c++){if(r[c].position==="outer"&&r[c].labelAlignTo==="labelLine"){var d=r[c].label.x-s;r[c].linePoints[1][0]+=d;r[c].label.x=s}}if(wN(r,v,v+u)){l(r)}}function $C(r,t,i,n,a,e,u,o){var v=[];var s=[];var f=Number.MAX_VALUE;var l=-Number.MAX_VALUE;for(var h=0;h<r.length;h++){var c=r[h].label;if(rT(r[h])){continue}if(c.x<t){f=Math.min(f,c.x);v.push(r[h])}else{l=Math.max(l,c.x);s.push(r[h])}}for(var h=0;h<r.length;h++){var d=r[h];if(!rT(d)&&d.linePoints){if(d.labelStyleWidth!=null){continue}var c=d.label;var p=d.linePoints;var m=void 0;if(d.labelAlignTo==="edge"){if(c.x<t){m=p[2][0]-d.labelDistance-u-d.edgeDistance}else{m=u+a-d.edgeDistance-p[2][0]-d.labelDistance}}else if(d.labelAlignTo==="labelLine"){if(c.x<t){m=f-u-d.bleedMargin}else{m=u+a-l-d.bleedMargin}}else{if(c.x<t){m=c.x-u-d.bleedMargin}else{m=u+a-c.x-d.bleedMargin}}d.targetTextWidth=m;QC(d,m)}}JC(s,t,i,n,1,a,e,u,o,l);JC(v,t,i,n,-1,a,e,u,o,f);for(var h=0;h<r.length;h++){var d=r[h];if(!rT(d)&&d.linePoints){var c=d.label;var p=d.linePoints;var y=d.labelAlignTo==="edge";var g=c.style.padding;var b=g?g[1]+g[3]:0;var w=c.style.backgroundColor?0:b;var x=d.rect.width+w;var M=p[1][0]-p[2][0];if(y){if(c.x<t){p[2][0]=u+d.edgeDistance+x+d.labelDistance}else{p[2][0]=u+a-d.edgeDistance-x-d.labelDistance}}else{if(c.x<t){p[2][0]=c.x+d.labelDistance}else{p[2][0]=c.x-d.labelDistance}p[1][0]=p[2][0]+M}p[1][1]=p[2][1]=c.y}}}function QC(r,t,i){if(i===void 0){i=false}if(r.labelStyleWidth!=null){return}var n=r.label;var a=n.style;var e=r.rect;var u=a.backgroundColor;var o=a.padding;var v=o?o[1]+o[3]:0;var s=a.overflow;var f=e.width+(u?0:v);if(t<f||i){var l=e.height;if(s&&s.match("break")){n.setStyle("backgroundColor",null);n.setStyle("width",t-v);var h=n.getBoundingRect();n.setStyle("width",Math.ceil(h.width));n.setStyle("backgroundColor",u)}else{var c=t-v;var d=t<f?c:i?c>r.unconstrainedWidth?null:c:null;n.setStyle("width",d)}var p=n.getBoundingRect();e.width=p.width;var m=(n.style.margin||0)+2.1;e.height=p.height+m;e.y-=(e.height-l)/2}}function rT(r){return r.position==="center"}function tT(r){var t=r.getData();var i=[];var n;var a;var e=false;var u=(r.get("minShowLabelAngle")||0)*KC;var o=t.getLayout("viewRect");var v=t.getLayout("r");var s=o.width;var f=o.x;var l=o.y;var h=o.height;function c(r){r.ignore=true}function d(r){if(!r.ignore){return true}for(var t in r.states){if(r.states[t].ignore===false){return true}}return false}t.each((function(r){var o=t.getItemGraphicEl(r);var l=o.shape;var h=o.getTextContent();var p=o.getTextGuideLine();var m=t.getItemModel(r);var y=m.getModel("label");var g=y.get("position")||m.get(["emphasis","label","position"]);var b=y.get("distanceToLabelLine");var w=y.get("alignTo");var x=Le(y.get("edgeDistance"),s);var M=y.get("bleedMargin");var S=m.getModel("labelLine");var k=S.get("length");k=Le(k,s);var N=S.get("length2");N=Le(N,s);if(Math.abs(l.endAngle-l.startAngle)<u){V(h.states,c);h.ignore=true;if(p){V(p.states,c);p.ignore=true}return}if(!d(h)){return}var A=(l.startAngle+l.endAngle)/2;var I=Math.cos(A);var C=Math.sin(A);var T;var z;var L;var O;n=l.cx;a=l.cy;var D=g==="inside"||g==="inner";if(g==="center"){T=l.cx;z=l.cy;O="center"}else{var R=(D?(l.r+l.r0)/2*I:l.r*I)+n;var F=(D?(l.r+l.r0)/2*C:l.r*C)+a;T=R+I*3;z=F+C*3;if(!D){var B=R+I*(k+v-l.r);var _=F+C*(k+v-l.r);var E=B+(I<0?-1:1)*N;var P=_;if(w==="edge"){T=I<0?f+x:f+s-x}else{T=E+(I<0?-b:b)}z=P;L=[[R,F],[B,_],[E,P]]}O=D?"center":w==="edge"?I>0?"right":"left":I>0?"left":"right"}var W=Math.PI;var H=0;var Y=y.get("rotate");if(rr(Y)){H=Y*(W/180)}else if(g==="center"){H=0}else if(Y==="radial"||Y===true){var X=I<0?-A+W:-A;H=X}else if(Y==="tangential"&&g!=="outside"&&g!=="outer"){var G=Math.atan2(I,C);if(G<0){G=W*2+G}var U=C>0;if(U){G=W+G}H=G-W}e=!!H;h.x=T;h.y=z;h.rotation=H;h.setStyle({verticalAlign:"middle"});if(!D){var Z=h.getBoundingRect().clone();Z.applyTransform(h.getComputedTransform());var j=(h.style.margin||0)+2.1;Z.y-=j/2;Z.height+=j;i.push({label:h,labelLine:p,position:g,len:k,len2:N,minTurnAngle:S.get("minTurnAngle"),maxSurfaceAngle:S.get("maxSurfaceAngle"),surfaceNormal:new Et(I,C),linePoints:L,textAlign:O,labelDistance:b,labelAlignTo:w,edgeDistance:x,bleedMargin:M,rect:Z,unconstrainedWidth:Z.width,labelStyleWidth:h.style.width})}else{h.setStyle({align:O});var q=h.states.select;if(q){q.x+=h.x;q.y+=h.y}}o.setTextConfig({inside:D})}));if(!e&&r.get("avoidLabelOverlap")){$C(i,n,a,v,s,h,f,l)}for(var p=0;p<i.length;p++){var m=i[p];var y=m.label;var g=m.labelLine;var b=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:m.textAlign});if(b){V(y.states,c);y.ignore=true}var w=y.states.select;if(w){w.x+=y.x;w.y+=y.y}}if(g){var x=m.linePoints;if(b||!x){V(g.states,c);g.ignore=true}else{lN(x,m.minTurnAngle);hN(x,m.surfaceNormal,m.maxSurfaceAngle);g.setShape({points:x});y.__hostTarget.textGuideLineConfig={anchor:new Et(x[0][0],x[0][1])}}}}}var iT=function(r){a(t,r);function t(t,i,n){var a=r.call(this)||this;a.z2=2;var e=new es;a.setTextContent(e);a.updateData(t,i,n,true);return a}t.prototype.updateData=function(r,t,i,n){var a=this;var e=r.hostModel;var u=r.getItemModel(t);var o=u.getModel("emphasis");var v=r.getItemLayout(t);var s=F(gC(u.getModel("itemStyle"),v,true),v);if(isNaN(s.startAngle)){a.setShape(s);return}if(n){a.setShape(s);var f=e.getShallow("animationType");if(e.ecModel.ssr){ah(a,{scaleX:0,scaleY:0},e,{dataIndex:t,isFrom:true});a.originX=s.cx;a.originY=s.cy}else if(f==="scale"){a.shape.r=v.r0;ah(a,{shape:{r:v.r}},e,t)}else{if(i!=null){a.setShape({startAngle:i,endAngle:i});ah(a,{shape:{startAngle:v.startAngle,endAngle:v.endAngle}},e,t)}else{a.shape.endAngle=v.startAngle;nh(a,{shape:{endAngle:v.endAngle}},e,t)}}}else{sh(a);nh(a,{shape:s},e,t)}a.useStyle(r.getItemVisual(t,"style"));Cf(a,u);var l=(v.startAngle+v.endAngle)/2;var h=e.get("selectedOffset");var c=Math.cos(l)*h;var d=Math.sin(l)*h;var p=u.getShallow("cursor");p&&a.attr("cursor",p);this._updateLabel(e,r,t);a.ensureState("emphasis").shape=F({r:v.r+(o.get("scale")?o.get("scaleSize")||0:0)},gC(o.getModel("itemStyle"),v));F(a.ensureState("select"),{x:c,y:d,shape:gC(u.getModel(["select","itemStyle"]),v)});F(a.ensureState("blur"),{shape:gC(u.getModel(["blur","itemStyle"]),v)});var m=a.getTextGuideLine();var y=a.getTextContent();m&&F(m.ensureState("select"),{x:c,y:d});F(y.ensureState("select"),{x:c,y:d});kf(this,o.get("focus"),o.get("blurScope"),o.get("disabled"))};t.prototype._updateLabel=function(r,t,i){var n=this;var a=t.getItemModel(i);var e=a.getModel("labelLine");var u=t.getItemVisual(i,"style");var o=u&&u.fill;var v=u&&u.opacity;Zh(n,jh(a),{labelFetcher:t.hostModel,labelDataIndex:i,inheritColor:o,defaultOpacity:v,defaultText:r.getFormattedLabel(i,"normal")||t.getName(i)});var s=n.getTextContent();n.setTextConfig({position:null,rotation:null});s.attr({z2:10});var f=r.get(["label","position"]);if(f!=="outside"&&f!=="outer"){n.removeTextGuideLine()}else{var l=this.getTextGuideLine();if(!l){l=new Dl;this.setTextGuideLine(l)}pN(this,mN(a),{stroke:o,opacity:lr(e.get(["lineStyle","opacity"]),v,1)})}};return t}(Nl);var nT=function(r){a(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t.ignoreLabelLineUpdate=true;return t}t.prototype.render=function(r,t,i,n){var a=r.getData();var e=this._data;var u=this.group;var o;if(!e&&a.count()>0){var v=a.getItemLayout(0);for(var s=1;isNaN(v&&v.startAngle)&&s<a.count();++s){v=a.getItemLayout(s)}if(v){o=v.startAngle}}if(this._emptyCircleSector){u.remove(this._emptyCircleSector)}if(a.count()===0&&r.get("showEmptyCircle")){var f=new Nl({shape:ZC(r,i)});f.useStyle(r.getModel("emptyCircleStyle").getItemStyle());this._emptyCircleSector=f;u.add(f)}a.diff(e).add((function(r){var t=new iT(a,r,o);a.setItemGraphicEl(r,t);u.add(t)})).update((function(r,t){var i=e.getItemGraphicEl(t);i.updateData(a,r,o);i.off("click");u.add(i);a.setItemGraphicEl(r,i)})).remove((function(t){var i=e.getItemGraphicEl(t);vh(i,r,t)})).execute();tT(r);if(r.get("animationTypeUpdate")!=="expansion"){this._data=a}};t.prototype.dispose=function(){};t.prototype.containPoint=function(r,t){var i=t.getData();var n=i.getItemLayout(0);if(n){var a=r[0]-n.cx;var e=r[1]-n.cy;var u=Math.sqrt(a*a+e*e);return u<=n.r&&u>=n.r0}};t.type="pie";return t}(sg);function aT(r,t,i){t=K(t)&&{coordDimensions:t}||F({encodeDefine:r.getEncode()},t);var n=r.getSource();var a=zM(n,t).dimensions;var e=new TM(a,r);e.initData(n,i);return e}var eT=function(){function r(r,t){this._getDataWithEncodedVisual=r;this._getRawData=t}r.prototype.getAllNames=function(){var r=this._getRawData();return r.mapArray(r.getName)};r.prototype.containName=function(r){var t=this._getRawData();return t.indexOfName(r)>=0};r.prototype.indexOfName=function(r){var t=this._getDataWithEncodedVisual();return t.indexOfName(r)};r.prototype.getItemVisual=function(r,t){var i=this._getDataWithEncodedVisual();return i.getItemVisual(r,t)};return r}();var uT=Lu();var oT=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.init=function(t){r.prototype.init.apply(this,arguments);this.legendVisualProvider=new eT(j(this.getData,this),j(this.getRawData,this));this._defaultLabelLine(t)};t.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)};t.prototype.getInitialData=function(){return aT(this,{coordDimensions:["value"],encodeDefaulter:q(ip,this)})};t.prototype.getDataParams=function(t){var i=this.getData();var n=uT(i);var a=n.seats;if(!a){var e=[];i.each(i.mapDimension("value"),(function(r){e.push(r)}));a=n.seats=_e(e,i.hostModel.get("percentPrecision"))}var u=r.prototype.getDataParams.call(this,t);u.percent=a[t]||0;u.$vars.push("percent");return u};t.prototype._defaultLabelLine=function(r){fu(r,"labelLine",["show"]);var t=r.labelLine;var i=r.emphasis.labelLine;t.show=t.show&&r.label.show;i.show=i.show&&r.emphasis.label.show};t.type="series.pie";t.defaultOption={z:2,legendHoverLink:true,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:true,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:true,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:true,length:15,length2:15,smooth:false,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:true,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:true},emphasis:{scale:true,scaleSize:5},avoidLabelOverlap:true,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"};return t}(Ky);function vT(r){return{seriesType:r,reset:function(r,t){var i=r.getData();i.filterSelf((function(r){var t=i.mapDimension("value");var n=i.get(t,r);if(rr(n)&&!isNaN(n)&&n<0){return false}return true}))}}}function sT(r){r.registerChartView(nT);r.registerSeriesModel(oT);vb("pie",r.registerAction);r.registerLayout(q(jC,"pie"));r.registerProcessor(qC("pie"));r.registerProcessor(vT("pie"))}var fT=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.hasSymbolVisual=true;return i}t.prototype.getInitialData=function(r,t){return XM(null,this,{useEncodeDefaulter:true})};t.prototype.getProgressive=function(){var r=this.option.progressive;if(r==null){return this.option.large?5e3:this.get("progressive")}return r};t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;if(r==null){return this.option.large?1e4:this.get("progressiveThreshold")}return r};t.prototype.brushSelector=function(r,t,i){return i.point(t.getItemLayout(r))};t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""};t.type="series.scatter";t.dependencies=["grid","polar","geo","singleAxis","calendar"];t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:true,symbolSize:10,large:false,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:true},clip:true,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}};return t}(Ky);var lT=4;var hT=function(){function r(){}return r}();var cT=function(r){a(t,r);function t(t){var i=r.call(this,t)||this;i._off=0;i.hoverDataIdx=-1;return i}t.prototype.getDefaultShape=function(){return new hT};t.prototype.reset=function(){this.notClear=false;this._off=0};t.prototype.buildPath=function(r,t){var i=t.points;var n=t.size;var a=this.symbolProxy;var e=a.shape;var u=r.getContext?r.getContext():r;var o=u&&n[0]<lT;var v=this.softClipShape;var s;if(o){this._ctx=u;return}this._ctx=null;for(s=this._off;s<i.length;){var f=i[s++];var l=i[s++];if(isNaN(f)||isNaN(l)){continue}if(v&&!v.contain(f,l)){continue}e.x=f-n[0]/2;e.y=l-n[1]/2;e.width=n[0];e.height=n[1];a.buildPath(r,e,true)}if(this.incremental){this._off=s;this.notClear=true}};t.prototype.afterBrush=function(){var r=this.shape;var t=r.points;var i=r.size;var n=this._ctx;var a=this.softClipShape;var e;if(!n){return}for(e=this._off;e<t.length;){var u=t[e++];var o=t[e++];if(isNaN(u)||isNaN(o)){continue}if(a&&!a.contain(u,o)){continue}n.fillRect(u-i[0]/2,o-i[1]/2,i[0],i[1])}if(this.incremental){this._off=e;this.notClear=true}};t.prototype.findDataIndex=function(r,t){var i=this.shape;var n=i.points;var a=i.size;var e=Math.max(a[0],4);var u=Math.max(a[1],4);for(var o=n.length/2-1;o>=0;o--){var v=o*2;var s=n[v]-e/2;var f=n[v+1]-u/2;if(r>=s&&t>=f&&r<=s+e&&t<=f+u){return o}}return-1};t.prototype.contain=function(r,t){var i=this.transformCoordToLocal(r,t);var n=this.getBoundingRect();r=i[0];t=i[1];if(n.contain(r,t)){var a=this.hoverDataIdx=this.findDataIndex(r,t);return a>=0}this.hoverDataIdx=-1;return false};t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){var t=this.shape;var i=t.points;var n=t.size;var a=n[0];var e=n[1];var u=Infinity;var o=Infinity;var v=-Infinity;var s=-Infinity;for(var f=0;f<i.length;){var l=i[f++];var h=i[f++];u=Math.min(l,u);v=Math.max(l,v);o=Math.min(h,o);s=Math.max(h,s)}r=this._rect=new Zt(u-a/2,o-e/2,v-u+a,s-o+e)}return r};return t}(Vv);var dT=function(){function r(){this.group=new xe}r.prototype.updateData=function(r,t){this._clear();var i=this._create();i.setShape({points:r.getLayout("points")});this._setCommon(i,r,t)};r.prototype.updateLayout=function(r){var t=r.getLayout("points");this.group.eachChild((function(r){if(r.startIndex!=null){var i=(r.endIndex-r.startIndex)*2;var n=r.startIndex*4*2;t=new Float32Array(t.buffer,n,i)}r.setShape("points",t);r.reset()}))};r.prototype.incrementalPrepareUpdate=function(r){this._clear()};r.prototype.incrementalUpdate=function(r,t,i){var n=this._newAdded[0];var a=t.getLayout("points");var e=n&&n.shape.points;if(e&&e.length<2e4){var u=e.length;var o=new Float32Array(u+a.length);o.set(e);o.set(a,u);n.endIndex=r.end;n.setShape({points:o})}else{this._newAdded=[];var v=this._create();v.startIndex=r.start;v.endIndex=r.end;v.incremental=true;v.setShape({points:a});this._setCommon(v,t,i)}};r.prototype.eachRendered=function(r){this._newAdded[0]&&r(this._newAdded[0])};r.prototype._create=function(){var r=new cT({cursor:"default"});r.ignoreCoarsePointer=true;this.group.add(r);this._newAdded.push(r);return r};r.prototype._setCommon=function(r,t,i){var n=t.hostModel;i=i||{};var a=t.getVisual("symbolSize");r.setShape("size",a instanceof Array?a:[a,a]);r.softClipShape=i.clipShape||null;r.symbolProxy=kb(t.getVisual("symbol"),0,0,0,0);r.setColor=r.symbolProxy.setColor;var e=r.shape.size[0]<lT;r.useStyle(n.getModel("itemStyle").getItemStyle(e?["color","shadowBlur","shadowColor"]:["color"]));var u=t.getVisual("style");var o=u&&u.fill;if(o){r.setColor(o)}var v=bs(r);v.seriesIndex=n.seriesIndex;r.on("mousemove",(function(t){v.dataIndex=null;var i=r.hoverDataIdx;if(i>=0){v.dataIndex=i+(r.startIndex||0)}}))};r.prototype.remove=function(){this._clear()};r.prototype._clear=function(){this._newAdded=[];this.group.removeAll()};return r}();var pT=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i){var n=r.getData();var a=this._updateSymbolDraw(n,r);a.updateData(n,{clipShape:this._getClipShape(r)});this._finished=true};t.prototype.incrementalPrepareRender=function(r,t,i){var n=r.getData();var a=this._updateSymbolDraw(n,r);a.incrementalPrepareUpdate(n);this._finished=false};t.prototype.incrementalRender=function(r,t,i){this._symbolDraw.incrementalUpdate(r,t.getData(),{clipShape:this._getClipShape(t)});this._finished=r.end===t.getData().count()};t.prototype.updateTransform=function(r,t,i){var n=r.getData();this.group.dirty();if(!this._finished||n.count()>1e4){return{update:true}}else{var a=eC("").reset(r,t,i);if(a.progress){a.progress({start:0,end:n.count(),count:n.count()},n)}this._symbolDraw.updateLayout(n)}};t.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)};t.prototype._getClipShape=function(r){var t=r.coordinateSystem;var i=t&&t.getArea&&t.getArea();return r.get("clip",true)?i:null};t.prototype._updateSymbolDraw=function(r,t){var i=this._symbolDraw;var n=t.pipelineContext;var a=n.large;if(!i||a!==this._isLargeDraw){i&&i.remove();i=this._symbolDraw=a?new dT:new SI;this._isLargeDraw=a;this.group.removeAll()}this.group.add(i.group);return i};t.prototype.remove=function(r,t){this._symbolDraw&&this._symbolDraw.remove(true);this._symbolDraw=null};t.prototype.dispose=function(){};t.type="scatter";return t}(sg);var mT=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.type="grid";t.dependencies=["xAxis","yAxis"];t.layoutMode="box";t.defaultOption={show:false,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:false,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};return t}(Ed);var yT=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Fu).models[0]};t.type="cartesian2dAxis";return t}(Ed);P(yT,lk);var gT={show:true,z:0,inverse:false,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:false,triggerEvent:false,tooltip:{show:false},axisPointer:{},axisLine:{show:true,onZero:true,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:true,inside:false,length:5,lineStyle:{width:1}},axisLabel:{show:true,inside:false,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:true,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}};var bT=D({boundaryGap:true,deduplication:null,splitLine:{show:false},axisTick:{alignWithLabel:false,interval:"auto"},axisLabel:{interval:"auto"}},gT);var wT=D({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:false,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:false,lineStyle:{color:"#F4F7FD",width:1}}},gT);var xT=D({splitNumber:6,axisLabel:{showMinLabel:false,showMaxLabel:false,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:false}},wT);var MT=B({logBase:10},wT);const ST={category:bT,value:wT,time:xT,log:MT};var kT={value:1,category:1,time:1,log:1};function NT(r,t,i,n){V(kT,(function(e,u){var o=D(D({},ST[u],true),n,true);var v=function(r){a(i,r);function i(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t+"Axis."+u;return i}i.prototype.mergeDefaultAndTheme=function(r,t){var i=Dd(this);var n=i?Fd(r):{};var a=t.getTheme();D(r,a.get(u+"Axis"));D(r,this.getDefaultOption());r.type=AT(r);if(i){Rd(r,n,i)}};i.prototype.optionUpdated=function(){var r=this.option;if(r.type==="category"){this.__ordinalMeta=qM.createByAxisModel(this)}};i.prototype.getCategories=function(r){var t=this.option;if(t.type==="category"){if(r){return t.data}return this.__ordinalMeta.categories}};i.prototype.getOrdinalMeta=function(){return this.__ordinalMeta};i.type=t+"Axis."+u;i.defaultOption=o;return i}(i);r.registerComponentModel(v)}));r.registerSubTypeDefaulter(t+"Axis",AT)}function AT(r){return r.type||(r.data?"category":"value")}var IT=function(){function r(r){this.type="cartesian";this._dimList=[];this._axes={};this.name=r||""}r.prototype.getAxis=function(r){return this._axes[r]};r.prototype.getAxes=function(){return H(this._dimList,(function(r){return this._axes[r]}),this)};r.prototype.getAxesByScale=function(r){r=r.toLowerCase();return X(this.getAxes(),(function(t){return t.scale.type===r}))};r.prototype.addAxis=function(r){var t=r.dim;this._axes[t]=r;this._dimList.push(t)};return r}();var CT=["x","y"];function TT(r){return r.type==="interval"||r.type==="time"}var zT=function(r){a(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t.type="cartesian2d";t.dimensions=CT;return t}t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale;var t=this.getAxis("y").scale;if(!TT(r)||!TT(t)){return}var i=r.getExtent();var n=t.getExtent();var a=this.dataToPoint([i[0],n[0]]);var e=this.dataToPoint([i[1],n[1]]);var u=i[1]-i[0];var o=n[1]-n[0];if(!u||!o){return}var v=(e[0]-a[0])/u;var s=(e[1]-a[1])/o;var f=a[0]-i[0]*v;var l=a[1]-n[0]*s;var h=this._transform=[v,0,0,s,f,l];this._invTransform=Bt([],h)};t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")};t.prototype.containPoint=function(r){var t=this.getAxis("x");var i=this.getAxis("y");return t.contain(t.toLocalCoord(r[0]))&&i.contain(i.toLocalCoord(r[1]))};t.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])};t.prototype.containZone=function(r,t){var i=this.dataToPoint(r);var n=this.dataToPoint(t);var a=this.getArea();var e=new Zt(i[0],i[1],n[0]-i[0],n[1]-i[1]);return a.intersect(e)};t.prototype.dataToPoint=function(r,t,i){i=i||[];var n=r[0];var a=r[1];if(this._transform&&n!=null&&isFinite(n)&&a!=null&&isFinite(a)){return jr(i,r,this._transform)}var e=this.getAxis("x");var u=this.getAxis("y");i[0]=e.toGlobalCoord(e.dataToCoord(n,t));i[1]=u.toGlobalCoord(u.dataToCoord(a,t));return i};t.prototype.clampData=function(r,t){var i=this.getAxis("x").scale;var n=this.getAxis("y").scale;var a=i.getExtent();var e=n.getExtent();var u=i.parse(r[0]);var o=n.parse(r[1]);t=t||[];t[0]=Math.min(Math.max(Math.min(a[0],a[1]),u),Math.max(a[0],a[1]));t[1]=Math.min(Math.max(Math.min(e[0],e[1]),o),Math.max(e[0],e[1]));return t};t.prototype.pointToData=function(r,t){var i=[];if(this._invTransform){return jr(i,r,this._invTransform)}var n=this.getAxis("x");var a=this.getAxis("y");i[0]=n.coordToData(n.toLocalCoord(r[0]),t);i[1]=a.coordToData(a.toLocalCoord(r[1]),t);return i};t.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")};t.prototype.getArea=function(){var r=this.getAxis("x").getGlobalExtent();var t=this.getAxis("y").getGlobalExtent();var i=Math.min(r[0],r[1]);var n=Math.min(t[0],t[1]);var a=Math.max(r[0],r[1])-i;var e=Math.max(t[0],t[1])-n;return new Zt(i,n,a,e)};return t}(IT);var LT=function(r){a(t,r);function t(t,i,n,a,e){var u=r.call(this,t,i,n)||this;u.index=0;u.type=a||"value";u.position=e||"bottom";return u}t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"};t.prototype.getGlobalExtent=function(r){var t=this.getExtent();t[0]=this.toGlobalCoord(t[0]);t[1]=this.toGlobalCoord(t[1]);r&&t[0]>t[1]&&t.reverse();return t};t.prototype.pointToData=function(r,t){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),t)};t.prototype.setCategorySortInfo=function(r){if(this.type!=="category"){return false}this.model.option.categorySortInfo=r;this.scale.setSortInfo(r)};return t}(Xk);function OT(r,t,i){i=i||{};var n=r.coordinateSystem;var a=t.axis;var e={};var u=a.getAxesOnZeroOf()[0];var o=a.position;var v=u?"onZero":o;var s=a.dim;var f=n.getRect();var l=[f.x,f.x+f.width,f.y,f.y+f.height];var h={left:0,right:1,top:0,bottom:1,onZero:2};var c=t.get("offset")||0;var d=s==="x"?[l[2]-c,l[3]+c]:[l[0]-c,l[1]+c];if(u){var p=u.toGlobalCoord(u.dataToCoord(0));d[h.onZero]=Math.max(Math.min(p,d[1]),d[0])}e.position=[s==="y"?d[h[v]]:l[0],s==="x"?d[h[v]]:l[3]];e.rotation=Math.PI/2*(s==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};e.labelDirection=e.tickDirection=e.nameDirection=m[o];e.labelOffset=u?d[h[o]]-d[h.onZero]:0;if(t.get(["axisTick","inside"])){e.tickDirection=-e.tickDirection}if(sr(i.labelInside,t.get(["axisLabel","inside"]))){e.labelDirection=-e.labelDirection}var y=t.get(["axisLabel","rotate"]);e.labelRotate=v==="top"?-y:y;e.z2=1;return e}function DT(r){return r.get("coordinateSystem")==="cartesian2d"}function RT(r){var t={xAxisModel:null,yAxisModel:null};V(t,(function(i,n){var a=n.replace(/Model$/,"");var e=r.getReferringComponents(a,Fu).models[0];t[n]=e}));return t}var FT=Math.log;function BT(r,t,i){var n=vS.prototype;var a=n.getTicks.call(i);var e=n.getTicks.call(i,true);var u=a.length-1;var o=n.getInterval.call(i);var v=$S(r,t);var s=v.extent;var f=v.fixMin;var l=v.fixMax;if(r.type==="log"){var h=FT(r.base);s=[FT(s[0])/h,FT(s[1])/h]}r.setExtent(s[0],s[1]);r.calcNiceExtent({splitNumber:u,fixMin:f,fixMax:l});var c=n.getExtent.call(r);if(f){s[0]=c[0]}if(l){s[1]=c[1]}var d=n.getInterval.call(r);var p=s[0];var m=s[1];if(f&&l){d=(m-p)/u}else if(f){m=s[0]+d*u;while(m<s[1]&&isFinite(m)&&isFinite(s[1])){d=QM(d);m=s[0]+d*u}}else if(l){p=s[1]-d*u;while(p>s[0]&&isFinite(p)&&isFinite(s[0])){d=QM(d);p=s[1]-d*u}}else{var y=r.getTicks().length-1;if(y>u){d=QM(d)}var g=d*u;m=Math.ceil(s[1]/d)*d;p=Oe(m-g);if(p<0&&s[0]>=0){p=0;m=Oe(g)}else if(m>0&&s[1]<=0){m=0;p=-Oe(g)}}var b=(a[0].value-e[0].value)/o;var w=(a[u].value-e[u].value)/o;n.setExtent.call(r,p+d*b,m+d*w);n.setInterval.call(r,d);if(b||w){n.setNiceExtent.call(r,p+d,m-d)}}var _T=function(){function r(r,t,i){this.type="grid";this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this.axisPointerEnabled=true;this.dimensions=CT;this._initCartesian(r,t,i);this.model=r}r.prototype.getRect=function(){return this._rect};r.prototype.update=function(r,t){var i=this._axesMap;this._updateScale(r,this.model);function n(r){var t;var i=U(r);var n=i.length;if(!n){return}var a=[];for(var e=n-1;e>=0;e--){var u=+i[e];var o=r[u];var v=o.model;var s=o.scale;if(JM(s)&&v.get("alignTicks")&&v.get("interval")==null){a.push(o)}else{rk(s,v);if(JM(s)){t=o}}}if(a.length){if(!t){t=a.pop();rk(t.scale,t.model)}V(a,(function(r){BT(r.scale,r.model,t.scale)}))}}n(i.x);n(i.y);var a={};V(i.x,(function(r){PT(i,"y",r,a)}));V(i.y,(function(r){PT(i,"x",r,a)}));this.resize(this.model,t)};r.prototype.resize=function(r,t,i){var n=r.getBoxLayoutParams();var a=!i&&r.get("containLabel");var e=zd(n,{width:t.getWidth(),height:t.getHeight()});this._rect=e;var u=this._axesList;o();if(a){V(u,(function(r){if(!r.model.get(["axisLabel","inside"])){var t=ek(r);if(t){var i=r.isHorizontal()?"height":"width";var n=r.model.get(["axisLabel","margin"]);e[i]-=t[i]+n;if(r.position==="top"){e.y+=t.height+n}else if(r.position==="left"){e.x+=t.width+n}}}}));o()}V(this._coordsList,(function(r){r.calcAffineTransform()}));function o(){V(u,(function(r){var t=r.isHorizontal();var i=t?[0,e.width]:[0,e.height];var n=r.inverse?1:0;r.setExtent(i[n],i[1-n]);VT(r,t?e.x:e.y)}))}};r.prototype.getAxis=function(r,t){var i=this._axesMap[r];if(i!=null){return i[t||0]}};r.prototype.getAxes=function(){return this._axesList.slice()};r.prototype.getCartesian=function(r,t){if(r!=null&&t!=null){var i="x"+r+"y"+t;return this._coordsMap[i]}if(tr(r)){t=r.yAxisIndex;r=r.xAxisIndex}for(var n=0,a=this._coordsList;n<a.length;n++){if(a[n].getAxis("x").index===r||a[n].getAxis("y").index===t){return a[n]}}};r.prototype.getCartesians=function(){return this._coordsList.slice()};r.prototype.convertToPixel=function(r,t,i){var n=this._findConvertTarget(t);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null};r.prototype.convertFromPixel=function(r,t,i){var n=this._findConvertTarget(t);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null};r.prototype._findConvertTarget=function(r){var t=r.seriesModel;var i=r.xAxisModel||t&&t.getReferringComponents("xAxis",Fu).models[0];var n=r.yAxisModel||t&&t.getReferringComponents("yAxis",Fu).models[0];var a=r.gridModel;var e=this._coordsList;var u;var o;if(t){u=t.coordinateSystem;_(e,u)<0&&(u=null)}else if(i&&n){u=this.getCartesian(i.componentIndex,n.componentIndex)}else if(i){o=this.getAxis("x",i.componentIndex)}else if(n){o=this.getAxis("y",n.componentIndex)}else if(a){var v=a.coordinateSystem;if(v===this){u=this._coordsList[0]}}return{cartesian:u,axis:o}};r.prototype.containPoint=function(r){var t=this._coordsList[0];if(t){return t.containPoint(r)}};r.prototype._initCartesian=function(r,t,i){var n=this;var a=this;var e={left:false,right:false,top:false,bottom:false};var u={x:{},y:{}};var o={x:0,y:0};t.eachComponent("xAxis",v("x"),this);t.eachComponent("yAxis",v("y"),this);if(!o.x||!o.y){this._axesMap={};this._axesList=[];return}this._axesMap=u;V(u.x,(function(t,i){V(u.y,(function(a,e){var u="x"+i+"y"+e;var o=new zT(u);o.master=n;o.model=r;n._coordsMap[u]=o;n._coordsList.push(o);o.addAxis(t);o.addAxis(a)}))}));function v(t){return function(i,n){if(!ET(i,r)){return}var v=i.get("position");if(t==="x"){if(v!=="top"&&v!=="bottom"){v=e.bottom?"top":"bottom"}}else{if(v!=="left"&&v!=="right"){v=e.left?"right":"left"}}e[v]=true;var s=new LT(t,tk(i),[0,0],i.get("type"),v);var f=s.type==="category";s.onBand=f&&i.get("boundaryGap");s.inverse=i.get("inverse");i.axis=s;s.model=i;s.grid=a;s.index=n;a._axesList.push(s);u[t][n]=s;o[t]++}}};r.prototype._updateScale=function(r,t){V(this._axesList,(function(r){r.scale.setExtent(Infinity,-Infinity);if(r.type==="category"){var t=r.model.get("categorySortInfo");r.scale.setSortInfo(t)}}));r.eachSeries((function(r){if(DT(r)){var n=RT(r);var a=n.xAxisModel;var e=n.yAxisModel;if(!ET(a,t)||!ET(e,t)){return}var u=this.getCartesian(a.componentIndex,e.componentIndex);var o=r.getData();var v=u.getAxis("x");var s=u.getAxis("y");i(o,v);i(o,s)}}),this);function i(r,t){V(sk(r,t.dim),(function(i){t.scale.unionExtentFromData(r,i)}))}};r.prototype.getTooltipAxes=function(r){var t=[];var i=[];V(this.getCartesians(),(function(n){var a=r!=null&&r!=="auto"?n.getAxis(r):n.getBaseAxis();var e=n.getOtherAxis(a);_(t,a)<0&&t.push(a);_(i,e)<0&&i.push(e)}));return{baseAxes:t,otherAxes:i}};r.create=function(t,i){var n=[];t.eachComponent("grid",(function(a,e){var u=new r(a,t,i);u.name="grid_"+e;u.resize(a,i,true);a.coordinateSystem=u;n.push(u)}));t.eachSeries((function(r){if(!DT(r)){return}var t=RT(r);var i=t.xAxisModel;var n=t.yAxisModel;var a=i.getCoordSysModel();var e=a.coordinateSystem;r.coordinateSystem=e.getCartesian(i.componentIndex,n.componentIndex)}));return n};r.dimensions=CT;return r}();function ET(r,t){return r.getCoordSysModel()===t}function PT(r,t,i,n){i.getAxesOnZeroOf=function(){return e?[e]:[]};var a=r[t];var e;var u=i.model;var o=u.get(["axisLine","onZero"]);var v=u.get(["axisLine","onZeroAxisIndex"]);if(!o){return}if(v!=null){if(WT(a[v])){e=a[v]}}else{for(var s in a){if(a.hasOwnProperty(s)&&WT(a[s])&&!n[f(a[s])]){e=a[s];break}}}if(e){n[f(e)]=true}function f(r){return r.dim+"_"+r.index}}function WT(r){return r&&r.type!=="category"&&r.type!=="time"&&ik(r)}function VT(r,t){var i=r.getExtent();var n=i[0]+i[1];r.toGlobalCoord=r.dim==="x"?function(r){return r+t}:function(r){return n-r+t};r.toLocalCoord=r.dim==="x"?function(r){return r-t}:function(r){return n-r+t}}var HT=Math.PI;var YT=function(){function r(r,t){this.group=new xe;this.opt=t;this.axisModel=r;B(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:true,handleAutoShown:function(){return true}});var i=new xe({x:t.position[0],y:t.position[1],rotation:t.rotation});i.updateTransform();this._transformGroup=i}r.prototype.hasBuilder=function(r){return!!XT[r]};r.prototype.add=function(r){XT[r](this.opt,this.axisModel,this.group,this._transformGroup)};r.prototype.getGroup=function(){return this.group};r.innerTextLayout=function(r,t,i){var n=We(t-r);var a;var e;if(Ve(n)){e=i>0?"top":"bottom";a="center"}else if(Ve(n-HT)){e=i>0?"bottom":"top";a="center"}else{e="middle";if(n>0&&n<HT){a=i>0?"right":"left"}else{a=i>0?"left":"right"}}return{rotation:n,textAlign:a,textVerticalAlign:e}};r.makeAxisEventDataBase=function(r){var t={componentType:r.mainType,componentIndex:r.componentIndex};t[r.mainType+"Index"]=r.componentIndex;return t};r.isLabelSilent=function(r){var t=r.get("tooltip");return r.get("silent")||!(r.get("triggerEvent")||t&&t.show)};return r}();var XT={axisLine:function(r,t,i,n){var a=t.get(["axisLine","show"]);if(a==="auto"&&r.handleAutoShown){a=r.handleAutoShown("axisLine")}if(!a){return}var e=t.axis.getExtent();var u=n.transform;var o=[e[0],0];var v=[e[1],0];var s=o[0]>v[0];if(u){jr(o,o,u);jr(v,v,u)}var f=F({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle());var l=new Bl({shape:{x1:o[0],y1:o[1],x2:v[0],y2:v[1]},style:f,strokeContainThreshold:r.strokeContainThreshold||5,silent:true,z2:1});kh(l.shape,l.style.lineWidth);l.anid="line";i.add(l);var h=t.get(["axisLine","symbol"]);if(h!=null){var c=t.get(["axisLine","symbolSize"]);if($(h)){h=[h,h]}if($(c)||rr(c)){c=[c,c]}var d=Ab(t.get(["axisLine","symbolOffset"])||0,c);var p=c[0];var m=c[1];V([{rotate:r.rotation+Math.PI/2,offset:d[0],r:0},{rotate:r.rotation-Math.PI/2,offset:d[1],r:Math.sqrt((o[0]-v[0])*(o[0]-v[0])+(o[1]-v[1])*(o[1]-v[1]))}],(function(t,n){if(h[n]!=="none"&&h[n]!=null){var a=kb(h[n],-p/2,-m/2,p,m,f.stroke,true);var e=t.r+t.offset;var u=s?v:o;a.attr({rotation:t.rotate,x:u[0]+e*Math.cos(r.rotation),y:u[1]-e*Math.sin(r.rotation),silent:true,z2:11});i.add(a)}}))}},axisTickLabel:function(r,t,i,n){var a=JT(i,n,t,r);var e=QT(i,n,t,r);UT(t,e,a);$T(i,n,t,r.tickDirection);if(t.get(["axisLabel","hideOverlap"])){var u=yN(H(e,(function(r){return{label:r,priority:r.z2,defaultAttr:{ignore:r.ignore}}})));xN(u)}},axisName:function(r,t,i,n){var a=sr(r.axisName,t.get("name"));if(!a){return}var e=t.get("nameLocation");var u=r.nameDirection;var o=t.getModel("nameTextStyle");var v=t.get("nameGap")||0;var s=t.axis.getExtent();var f=s[0]>s[1]?-1:1;var l=[e==="start"?s[0]-f*v:e==="end"?s[1]+f*v:(s[0]+s[1])/2,qT(e)?r.labelOffset+u*v:0];var h;var c=t.get("nameRotate");if(c!=null){c=c*HT/180}var d;if(qT(e)){h=YT.innerTextLayout(r.rotation,c!=null?c:r.rotation,u)}else{h=GT(r.rotation,e,c||0,s);d=r.axisNameAvailableWidth;if(d!=null){d=Math.abs(d/Math.sin(h.rotation));!isFinite(d)&&(d=null)}}var p=o.getFont();var m=t.get("nameTruncate",true)||{};var y=m.ellipsis;var g=sr(r.nameTruncateMaxWidth,m.maxWidth,d);var b=new es({x:l[0],y:l[1],rotation:h.rotation,silent:YT.isLabelSilent(t),style:qh(o,{text:a,font:p,overflow:"truncate",width:g,ellipsis:y,fill:o.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:o.get("align")||h.textAlign,verticalAlign:o.get("verticalAlign")||h.textVerticalAlign}),z2:1});Wh({el:b,componentModel:t,itemName:a});b.__fullText=a;b.anid="name";if(t.get("triggerEvent")){var w=YT.makeAxisEventDataBase(t);w.targetType="axisName";w.name=a;bs(b).eventData=w}n.add(b);b.updateTransform();i.add(b);b.decomposeTransform()}};function GT(r,t,i,n){var a=We(i-r);var e;var u;var o=n[0]>n[1];var v=t==="start"&&!o||t!=="start"&&o;if(Ve(a-HT/2)){u=v?"bottom":"top";e="center"}else if(Ve(a-HT*1.5)){u=v?"top":"bottom";e="center"}else{u="middle";if(a<HT*1.5&&a>HT/2){e=v?"left":"right"}else{e=v?"right":"left"}}return{rotation:a,textAlign:e,textVerticalAlign:u}}function UT(r,t,i){if(vk(r.axis)){return}var n=r.get(["axisLabel","showMinLabel"]);var a=r.get(["axisLabel","showMaxLabel"]);t=t||[];i=i||[];var e=t[0];var u=t[1];var o=t[t.length-1];var v=t[t.length-2];var s=i[0];var f=i[1];var l=i[i.length-1];var h=i[i.length-2];if(n===false){ZT(e);ZT(s)}else if(jT(e,u)){if(n){ZT(u);ZT(f)}else{ZT(e);ZT(s)}}if(a===false){ZT(o);ZT(l)}else if(jT(v,o)){if(a){ZT(v);ZT(h)}else{ZT(o);ZT(l)}}}function ZT(r){r&&(r.ignore=true)}function jT(r,t){var i=r&&r.getBoundingRect().clone();var n=t&&t.getBoundingRect().clone();if(!i||!n){return}var a=zt([]);Rt(a,a,-r.rotation);i.applyTransform(Ot([],a,r.getLocalTransform()));n.applyTransform(Ot([],a,t.getLocalTransform()));return i.intersect(n)}function qT(r){return r==="middle"||r==="center"}function KT(r,t,i,n,a){var e=[];var u=[];var o=[];for(var v=0;v<r.length;v++){var s=r[v].coord;u[0]=s;u[1]=0;o[0]=s;o[1]=i;if(t){jr(u,u,t);jr(o,o,t)}var f=new Bl({shape:{x1:u[0],y1:u[1],x2:o[0],y2:o[1]},style:n,z2:2,autoBatch:true,silent:true});kh(f.shape,f.style.lineWidth);f.anid=a+"_"+r[v].tickValue;e.push(f)}return e}function JT(r,t,i,n){var a=i.axis;var e=i.getModel("axisTick");var u=e.get("show");if(u==="auto"&&n.handleAutoShown){u=n.handleAutoShown("axisTick")}if(!u||a.scale.isBlank()){return}var o=e.getModel("lineStyle");var v=n.tickDirection*e.get("length");var s=a.getTicksCoords();var f=KT(s,t.transform,v,B(o.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks");for(var l=0;l<f.length;l++){r.add(f[l])}return f}function $T(r,t,i,n){var a=i.axis;var e=i.getModel("minorTick");if(!e.get("show")||a.scale.isBlank()){return}var u=a.getMinorTicksCoords();if(!u.length){return}var o=e.getModel("lineStyle");var v=n*e.get("length");var s=B(o.getLineStyle(),B(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}));for(var f=0;f<u.length;f++){var l=KT(u[f],t.transform,v,s,"minorticks_"+f);for(var h=0;h<l.length;h++){r.add(l[h])}}}function QT(r,t,i,n){var a=i.axis;var e=sr(n.axisLabelShow,i.get(["axisLabel","show"]));if(!e||a.scale.isBlank()){return}var u=i.getModel("axisLabel");var o=u.get("margin");var v=a.getViewLabels();var s=(sr(n.labelRotate,u.get("rotate"))||0)*HT/180;var f=YT.innerTextLayout(n.rotation,s,n.labelDirection);var l=i.getCategories&&i.getCategories(true);var h=[];var c=YT.isLabelSilent(i);var d=i.get("triggerEvent");V(v,(function(e,v){var s=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(e.tickValue):e.tickValue;var p=e.formattedLabel;var m=e.rawLabel;var y=u;if(l&&l[s]){var g=l[s];if(tr(g)&&g.textStyle){y=new yc(g.textStyle,u,i.ecModel)}}var b=y.getTextColor()||i.get(["axisLine","lineStyle","color"]);var w=a.dataToCoord(s);var x=new es({x:w,y:n.labelOffset+n.labelDirection*o,rotation:f.rotation,silent:c,z2:10+(e.level||0),style:qh(y,{text:p,align:y.getShallow("align",true)||f.textAlign,verticalAlign:y.getShallow("verticalAlign",true)||y.getShallow("baseline",true)||f.textVerticalAlign,fill:J(b)?b(a.type==="category"?m:a.type==="value"?s+"":s,v):b})});x.anid="label_"+s;if(d){var M=YT.makeAxisEventDataBase(i);M.targetType="axisLabel";M.value=m;M.tickIndex=v;if(a.type==="category"){M.dataIndex=s}bs(x).eventData=M}t.add(x);x.updateTransform();h.push(x);r.add(x);x.decomposeTransform()}));return h}function rz(r,t){var i={axesInfo:{},seriesInvolved:false,coordSysAxesInfo:{},coordSysMap:{}};tz(i,r,t);i.seriesInvolved&&nz(i,r);return i}function tz(r,t,i){var n=t.getComponent("tooltip");var a=t.getComponent("axisPointer");var e=a.get("link",true)||[];var u=[];V(i.getCoordinateSystems(),(function(i){if(!i.axisPointerEnabled){return}var o=fz(i.model);var v=r.coordSysAxesInfo[o]={};r.coordSysMap[o]=i;var s=i.model;var f=s.getModel("tooltip",n);V(i.getAxes(),q(d,false,null));if(i.getTooltipAxes&&n&&f.get("show")){var l=f.get("trigger")==="axis";var h=f.get(["axisPointer","type"])==="cross";var c=i.getTooltipAxes(f.get(["axisPointer","axis"]));if(l||h){V(c.baseAxes,q(d,h?"cross":true,l))}if(h){V(c.otherAxes,q(d,"cross",false))}}function d(n,o,s){var l=s.model.getModel("axisPointer",a);var h=l.get("show");if(!h||h==="auto"&&!n&&!sz(l)){return}if(o==null){o=l.get("triggerTooltip")}l=n?iz(s,f,a,t,n,o):l;var c=l.get("snap");var d=l.get("triggerEmphasis");var p=fz(s.model);var m=o||c||s.type==="category";var y=r.axesInfo[p]={key:p,axis:s,coordSys:i,axisPointerModel:l,triggerTooltip:o,triggerEmphasis:d,involveSeries:m,snap:c,useHandle:sz(l),seriesModels:[],linkGroup:null};v[p]=y;r.seriesInvolved=r.seriesInvolved||m;var g=az(e,s);if(g!=null){var b=u[g]||(u[g]={axesInfo:{}});b.axesInfo[p]=y;b.mapper=e[g].mapper;y.linkGroup=b}}}))}function iz(r,t,i,n,a,e){var u=t.getModel("axisPointer");var o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"];var v={};V(o,(function(r){v[r]=O(u.get(r))}));v.snap=r.type!=="category"&&!!e;if(u.get("type")==="cross"){v.type="line"}var s=v.label||(v.label={});s.show==null&&(s.show=false);if(a==="cross"){var f=u.get(["label","show"]);s.show=f!=null?f:true;if(!e){var l=v.lineStyle=u.get("crossStyle");l&&B(s,l.textStyle)}}return r.model.getModel("axisPointer",new yc(v,i,n))}function nz(r,t){t.eachSeries((function(t){var i=t.coordinateSystem;var n=t.get(["tooltip","trigger"],true);var a=t.get(["tooltip","show"],true);if(!i||n==="none"||n===false||n==="item"||a===false||t.get(["axisPointer","show"],true)===false){return}V(r.coordSysAxesInfo[fz(i.model)],(function(r){var n=r.axis;if(i.getAxis(n.dim)===n){r.seriesModels.push(t);r.seriesDataCount==null&&(r.seriesDataCount=0);r.seriesDataCount+=t.getData().count()}}))}))}function az(r,t){var i=t.model;var n=t.dim;for(var a=0;a<r.length;a++){var e=r[a]||{};if(ez(e[n+"AxisId"],i.id)||ez(e[n+"AxisIndex"],i.componentIndex)||ez(e[n+"AxisName"],i.name)){return a}}}function ez(r,t){return r==="all"||K(r)&&_(r,t)>=0||r===t}function uz(r){var t=oz(r);if(!t){return}var i=t.axisPointerModel;var n=t.axis.scale;var a=i.option;var e=i.get("status");var u=i.get("value");if(u!=null){u=n.parse(u)}var o=sz(i);if(e==null){a.status=o?"show":"hide"}var v=n.getExtent().slice();v[0]>v[1]&&v.reverse();if(u==null||u>v[1]){u=v[1]}if(u<v[0]){u=v[0]}a.value=u;if(o){a.status=t.axis.scale.isBlank()?"hide":"show"}}function oz(r){var t=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[fz(r)]}function vz(r){var t=oz(r);return t&&t.axisPointerModel}function sz(r){return!!r.get(["handle","show"])}function fz(r){return r.type+"||"+r.id}var lz={};var hz=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(t,i,n,a){this.axisPointerClass&&uz(t);r.prototype.render.apply(this,arguments);this._doUpdateAxisPointerClass(t,n,true)};t.prototype.updateAxisPointer=function(r,t,i,n){this._doUpdateAxisPointerClass(r,i,false)};t.prototype.remove=function(r,t){var i=this._axisPointer;i&&i.remove(t)};t.prototype.dispose=function(t,i){this._disposeAxisPointer(i);r.prototype.dispose.apply(this,arguments)};t.prototype._doUpdateAxisPointerClass=function(r,i,n){var a=t.getAxisPointerClass(this.axisPointerClass);if(!a){return}var e=vz(r);e?(this._axisPointer||(this._axisPointer=new a)).render(r,e,i,n):this._disposeAxisPointer(i)};t.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r);this._axisPointer=null};t.registerAxisPointerClass=function(r,t){lz[r]=t};t.getAxisPointerClass=function(r){return r&&lz[r]};t.type="axis";return t}(eg);var cz=Lu();function dz(r,t,i,n){var a=i.axis;if(a.scale.isBlank()){return}var e=i.getModel("splitArea");var u=e.getModel("areaStyle");var o=u.get("color");var v=n.coordinateSystem.getRect();var s=a.getTicksCoords({tickModel:e,clamp:true});if(!s.length){return}var f=o.length;var l=cz(r).splitAreaColors;var h=Sr();var c=0;if(l){for(var d=0;d<s.length;d++){var p=l.get(s[d].tickValue);if(p!=null){c=(p+(f-1)*d)%f;break}}}var m=a.toGlobalCoord(s[0].coord);var y=u.getAreaStyle();o=K(o)?o:[o];for(var d=1;d<s.length;d++){var g=a.toGlobalCoord(s[d].coord);var b=void 0;var w=void 0;var x=void 0;var M=void 0;if(a.isHorizontal()){b=m;w=v.y;x=g-b;M=v.height;m=b+x}else{b=v.x;w=m;x=v.width;M=g-w;m=w+M}var S=s[d-1].tickValue;S!=null&&h.set(S,c);t.add(new ts({anid:S!=null?"area_"+S:null,shape:{x:b,y:w,width:x,height:M},style:B({fill:o[c]},y),autoBatch:true,silent:true}));c=(c+1)%f}cz(r).splitAreaColors=h}function pz(r){cz(r).splitAreaColors=null}var mz=["axisLine","axisTickLabel","axisName"];var yz=["splitArea","splitLine","minorSplitLine"];var gz=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.axisPointerClass="CartesianAxisPointer";return i}t.prototype.render=function(t,i,n,a){this.group.removeAll();var e=this._axisGroup;this._axisGroup=new xe;this.group.add(this._axisGroup);if(!t.get("show")){return}var u=t.getCoordSysModel();var o=OT(u,t);var v=new YT(t,F({handleAutoShown:function(r){var i=u.coordinateSystem.getCartesians();for(var n=0;n<i.length;n++){if(JM(i[n].getOtherAxis(t.axis).scale)){return true}}return false}},o));V(mz,v.add,v);this._axisGroup.add(v.getGroup());V(yz,(function(r){if(t.get([r,"show"])){bz[r](this,this._axisGroup,t,u)}}),this);var s=a&&a.type==="changeAxisOrder"&&a.isInitSort;if(!s){Oh(e,this._axisGroup,t)}r.prototype.render.call(this,t,i,n,a)};t.prototype.remove=function(){pz(this)};t.type="cartesianAxis";return t}(hz);var bz={splitLine:function(r,t,i,n){var a=i.axis;if(a.scale.isBlank()){return}var e=i.getModel("splitLine");var u=e.getModel("lineStyle");var o=u.get("color");o=K(o)?o:[o];var v=n.coordinateSystem.getRect();var s=a.isHorizontal();var f=0;var l=a.getTicksCoords({tickModel:e});var h=[];var c=[];var d=u.getLineStyle();for(var p=0;p<l.length;p++){var m=a.toGlobalCoord(l[p].coord);if(s){h[0]=m;h[1]=v.y;c[0]=m;c[1]=v.y+v.height}else{h[0]=v.x;h[1]=m;c[0]=v.x+v.width;c[1]=m}var y=f++%o.length;var g=l[p].tickValue;var b=new Bl({anid:g!=null?"line_"+l[p].tickValue:null,autoBatch:true,shape:{x1:h[0],y1:h[1],x2:c[0],y2:c[1]},style:B({stroke:o[y]},d),silent:true});kh(b.shape,d.lineWidth);t.add(b)}},minorSplitLine:function(r,t,i,n){var a=i.axis;var e=i.getModel("minorSplitLine");var u=e.getModel("lineStyle");var o=n.coordinateSystem.getRect();var v=a.isHorizontal();var s=a.getMinorTicksCoords();if(!s.length){return}var f=[];var l=[];var h=u.getLineStyle();for(var c=0;c<s.length;c++){for(var d=0;d<s[c].length;d++){var p=a.toGlobalCoord(s[c][d].coord);if(v){f[0]=p;f[1]=o.y;l[0]=p;l[1]=o.y+o.height}else{f[0]=o.x;f[1]=p;l[0]=o.x+o.width;l[1]=p}var m=new Bl({anid:"minor_line_"+s[c][d].tickValue,autoBatch:true,shape:{x1:f[0],y1:f[1],x2:l[0],y2:l[1]},style:h,silent:true});kh(m.shape,h.lineWidth);t.add(m)}}},splitArea:function(r,t,i,n){dz(r,t,i,n)}};var wz=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.type="xAxis";return t}(gz);var xz=function(r){a(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t.type=wz.type;return t}t.type="yAxis";return t}(gz);var Mz=function(r){a(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t.type="grid";return t}t.prototype.render=function(r,t){this.group.removeAll();if(r.get("show")){this.group.add(new ts({shape:r.coordinateSystem.getRect(),style:B({fill:r.get("backgroundColor")},r.getItemStyle()),silent:true,z2:-1}))}};t.type="grid";return t}(eg);var Sz={offset:0};function kz(r){r.registerComponentView(Mz);r.registerComponentModel(mT);r.registerCoordinateSystem("cartesian2d",_T);NT(r,"x",yT,Sz);NT(r,"y",yT,Sz);r.registerComponentView(wz);r.registerComponentView(xz);r.registerPreprocessor((function(r){if(r.xAxis&&r.yAxis&&!r.grid){r.grid={}}}))}function Nz(r){$x(kz);r.registerSeriesModel(fT);r.registerChartView(pT);r.registerLayout(eC("scatter"))}function Az(r){r.eachSeriesByType("radar",(function(r){var t=r.getData();var i=[];var n=r.coordinateSystem;if(!n){return}var a=n.getIndicatorAxes();V(a,(function(r,e){t.each(t.mapDimension(a[e].dim),(function(r,t){i[t]=i[t]||[];var a=n.dataToPoint(r,e);i[t][e]=Iz(a)?a:Cz(n)}))}));t.each((function(r){var a=G(i[r],(function(r){return Iz(r)}))||Cz(n);i[r].push(a.slice());t.setItemLayout(r,i[r])}))}))}function Iz(r){return!isNaN(r[0])&&!isNaN(r[1])}function Cz(r){return[r.cx,r.cy]}function Tz(r){var t=r.polar;if(t){if(!K(t)){t=[t]}var i=[];V(t,(function(t,n){if(t.indicator){if(t.type&&!t.shape){t.shape=t.type}r.radar=r.radar||[];if(!K(r.radar)){r.radar=[r.radar]}r.radar.push(t)}else{i.push(t)}}));r.polar=i}V(r.series,(function(r){if(r&&r.type==="radar"&&r.polarIndex){r.radarIndex=r.polarIndex}}))}var zz=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i){var n=r.coordinateSystem;var a=this.group;var e=r.getData();var u=this._data;function o(r,t){var i=r.getItemVisual(t,"symbol")||"circle";if(i==="none"){return}var n=Nb(r.getItemVisual(t,"symbolSize"));var a=kb(i,-1,-1,2,2);var e=r.getItemVisual(t,"symbolRotate")||0;a.attr({style:{strokeNoScale:true},z2:100,scaleX:n[0]/2,scaleY:n[1]/2,rotation:e*Math.PI/180||0});return a}function v(t,i,n,a,e,u){n.removeAll();for(var v=0;v<i.length-1;v++){var s=o(a,e);if(s){s.__dimIdx=v;if(t[v]){s.setPosition(t[v]);Yh[u?"initProps":"updateProps"](s,{x:i[v][0],y:i[v][1]},r,e)}else{s.setPosition(i[v])}n.add(s)}}}function s(r){return H(r,(function(r){return[n.cx,n.cy]}))}e.diff(u).add((function(t){var i=e.getItemLayout(t);if(!i){return}var n=new Ll;var a=new Dl;var u={shape:{points:i}};n.shape.points=s(i);a.shape.points=s(i);ah(n,u,r,t);ah(a,u,r,t);var o=new xe;var f=new xe;o.add(a);o.add(n);o.add(f);v(a.shape.points,i,f,e,t,true);e.setItemGraphicEl(t,o)})).update((function(t,i){var n=u.getItemGraphicEl(i);var a=n.childAt(0);var o=n.childAt(1);var s=n.childAt(2);var f={shape:{points:e.getItemLayout(t)}};if(!f.shape.points){return}v(a.shape.points,f.shape.points,s,e,t,false);sh(o);sh(a);nh(a,f,r);nh(o,f,r);e.setItemGraphicEl(t,n)})).remove((function(r){a.remove(u.getItemGraphicEl(r))})).execute();e.eachItemGraphicEl((function(r,t){var i=e.getItemModel(t);var n=r.childAt(0);var u=r.childAt(1);var o=r.childAt(2);var v=e.getItemVisual(t,"style");var s=v.fill;a.add(r);n.useStyle(B(i.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:s}));Cf(n,i,"lineStyle");Cf(u,i,"areaStyle");var f=i.getModel("areaStyle");var l=f.isEmpty()&&f.parentModel.isEmpty();u.ignore=l;V(["emphasis","select","blur"],(function(r){var t=i.getModel([r,"areaStyle"]);var n=t.isEmpty()&&t.parentModel.isEmpty();u.ensureState(r).ignore=n&&l}));u.useStyle(B(f.getAreaStyle(),{fill:s,opacity:.7,decal:v.decal}));var h=i.getModel("emphasis");var c=h.getModel("itemStyle").getItemStyle();o.eachChild((function(r){if(r instanceof Zv){var n=r.style;r.useStyle(F({image:n.image,x:n.x,y:n.y,width:n.width,height:n.height},v))}else{r.useStyle(v);r.setColor(s);r.style.strokeNoScale=true}var a=r.ensureState("emphasis");a.style=O(c);var u=e.getStore().get(e.getDimensionIndex(r.__dimIdx),t);(u==null||isNaN(u))&&(u="");Zh(r,jh(i),{labelFetcher:e.hostModel,labelDataIndex:t,labelDimIndex:r.__dimIdx,defaultText:u,inheritColor:s,defaultOpacity:v.opacity})}));kf(r,h.get("focus"),h.get("blurScope"),h.get("disabled"))}));this._data=e};t.prototype.remove=function(){this.group.removeAll();this._data=null};t.type="radar";return t}(sg);var Lz=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.hasSymbolVisual=true;return i}t.prototype.init=function(t){r.prototype.init.apply(this,arguments);this.legendVisualProvider=new eT(j(this.getData,this),j(this.getRawData,this))};t.prototype.getInitialData=function(r,t){return aT(this,{generateCoord:"indicator_",generateCoordCount:Infinity})};t.prototype.formatTooltip=function(r,t,i){var n=this.getData();var a=this.coordinateSystem;var e=a.getIndicatorAxes();var u=this.getData().getName(r);var o=u===""?this.name:u;var v=Hy(this,r);return Ty("section",{header:o,sortBlocks:true,blocks:H(e,(function(t){var i=n.get(n.mapDimension(t.dim),r);return Ty("nameValue",{markerType:"subItem",markerColor:v,name:t.name,value:i,sortParam:i})}))})};t.prototype.getTooltipPosition=function(r){if(r!=null){var t=this.getData();var i=this.coordinateSystem;var n=t.getValues(H(i.dimensions,(function(r){return t.mapDimension(r)})),r);for(var a=0,e=n.length;a<e;a++){if(!isNaN(n[a])){var u=i.getIndicatorAxes();return i.coordToPoint(u[a].dataToCoord(n[a]),a)}}}};t.type="series.radar";t.dependencies=["radar"];t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:true,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8};return t}(Ky);var Oz=ST.value;function Dz(r,t){return B({show:t},r)}var Rz=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.optionUpdated=function(){var r=this.get("boundaryGap");var t=this.get("splitNumber");var i=this.get("scale");var n=this.get("axisLine");var a=this.get("axisTick");var e=this.get("axisLabel");var u=this.get("axisName");var o=this.get(["axisName","show"]);var v=this.get(["axisName","formatter"]);var s=this.get("axisNameGap");var f=this.get("triggerEvent");var l=H(this.get("indicator")||[],(function(l){if(l.max!=null&&l.max>0&&!l.min){l.min=0}else if(l.min!=null&&l.min<0&&!l.max){l.max=0}var h=u;if(l.color!=null){h=B({color:l.color},u)}var c=D(O(l),{boundaryGap:r,splitNumber:t,scale:i,axisLine:n,axisTick:a,axisLabel:e,name:l.text,showName:o,nameLocation:"end",nameGap:s,nameTextStyle:h,triggerEvent:f},false);if($(v)){var d=c.name;c.name=v.replace("{value}",d!=null?d:"")}else if(J(v)){c.name=v(c.name,c)}var p=new yc(c,null,this.ecModel);P(p,lk.prototype);p.mainType="radar";p.componentIndex=this.componentIndex;return p}),this);this._indicatorModels=l};t.prototype.getIndicatorModels=function(){return this._indicatorModels};t.type="radar";t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:true},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:false,shape:"polygon",axisLine:D({lineStyle:{color:"#bbb"}},Oz.axisLine),axisLabel:Dz(Oz.axisLabel,false),axisTick:Dz(Oz.axisTick,false),splitLine:Dz(Oz.splitLine,true),splitArea:Dz(Oz.splitArea,true),indicator:[]};return t}(Ed);var Fz=["axisLine","axisTickLabel","axisName"];var Bz=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i){var n=this.group;n.removeAll();this._buildAxes(r);this._buildSplitLineAndArea(r)};t.prototype._buildAxes=function(r){var t=r.coordinateSystem;var i=t.getIndicatorAxes();var n=H(i,(function(r){var i=r.model.get("showName")?r.name:"";var n=new YT(r.model,{axisName:i,position:[t.cx,t.cy],rotation:r.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return n}));V(n,(function(r){V(Fz,r.add,r);this.group.add(r.getGroup())}),this)};t.prototype._buildSplitLineAndArea=function(r){var t=r.coordinateSystem;var i=t.getIndicatorAxes();if(!i.length){return}var n=r.get("shape");var a=r.getModel("splitLine");var e=r.getModel("splitArea");var u=a.getModel("lineStyle");var o=e.getModel("areaStyle");var v=a.get("show");var s=e.get("show");var f=u.get("color");var l=o.get("color");var h=K(f)?f:[f];var c=K(l)?l:[l];var d=[];var p=[];function m(r,t,i){var n=i%t.length;r[n]=r[n]||[];return n}if(n==="circle"){var y=i[0].getTicksCoords();var g=t.cx;var b=t.cy;for(var w=0;w<y.length;w++){if(v){var x=m(d,h,w);d[x].push(new ul({shape:{cx:g,cy:b,r:y[w].coord}}))}if(s&&w<y.length-1){var x=m(p,c,w);p[x].push(new Il({shape:{cx:g,cy:b,r0:y[w].coord,r:y[w+1].coord}}))}}}else{var M;var S=H(i,(function(r,i){var n=r.getTicksCoords();M=M==null?n.length-1:Math.min(n.length-1,M);return H(n,(function(r){return t.coordToPoint(r.coord,i)}))}));var k=[];for(var w=0;w<=M;w++){var N=[];for(var A=0;A<i.length;A++){N.push(S[A][w])}if(N[0]){N.push(N[0].slice())}if(v){var x=m(d,h,w);d[x].push(new Dl({shape:{points:N}}))}if(s&&k){var x=m(p,c,w-1);p[x].push(new Ll({shape:{points:N.concat(k)}}))}k=N.slice().reverse()}}var I=u.getLineStyle();var C=o.getAreaStyle();V(p,(function(r,t){this.group.add(Mh(r,{style:B({stroke:"none",fill:c[t%c.length]},C),silent:true}))}),this);V(d,(function(r,t){this.group.add(Mh(r,{style:B({fill:"none",stroke:h[t%h.length]},I),silent:true}))}),this)};t.type="radar";return t}(eg);var _z=function(r){a(t,r);function t(t,i,n){var a=r.call(this,t,i,n)||this;a.type="value";a.angle=0;a.name="";return a}return t}(Xk);var Ez=function(){function r(r,t,i){this.dimensions=[];this._model=r;this._indicatorAxes=H(r.getIndicatorModels(),(function(r,t){var i="indicator_"+t;var n=new _z(i,new vS);n.name=r.get("name");n.model=r;r.axis=n;this.dimensions.push(i);return n}),this);this.resize(r,i)}r.prototype.getIndicatorAxes=function(){return this._indicatorAxes};r.prototype.dataToPoint=function(r,t){var i=this._indicatorAxes[t];return this.coordToPoint(i.dataToCoord(r),t)};r.prototype.coordToPoint=function(r,t){var i=this._indicatorAxes[t];var n=i.angle;var a=this.cx+r*Math.cos(n);var e=this.cy-r*Math.sin(n);return[a,e]};r.prototype.pointToData=function(r){var t=r[0]-this.cx;var i=r[1]-this.cy;var n=Math.sqrt(t*t+i*i);t/=n;i/=n;var a=Math.atan2(-i,t);var e=Infinity;var u;var o=-1;for(var v=0;v<this._indicatorAxes.length;v++){var s=this._indicatorAxes[v];var f=Math.abs(a-s.angle);if(f<e){u=s;o=v;e=f}}return[o,+(u&&u.coordToData(n))]};r.prototype.resize=function(r,t){var i=r.get("center");var n=t.getWidth();var a=t.getHeight();var e=Math.min(n,a)/2;this.cx=Le(i[0],n);this.cy=Le(i[1],a);this.startAngle=r.get("startAngle")*Math.PI/180;var u=r.get("radius");if($(u)||rr(u)){u=[0,u]}this.r0=Le(u[0],e);this.r=Le(u[1],e);V(this._indicatorAxes,(function(r,t){r.setExtent(this.r0,this.r);var i=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i));r.angle=i}),this)};r.prototype.update=function(r,t){var i=this._indicatorAxes;var n=this._model;V(i,(function(r){r.scale.setExtent(Infinity,-Infinity)}));r.eachSeriesByType("radar",(function(t,a){if(t.get("coordinateSystem")!=="radar"||r.getComponent("radar",t.get("radarIndex"))!==n){return}var e=t.getData();V(i,(function(r){r.scale.unionExtentFromData(e,e.mapDimension(r.dim))}))}),this);var a=n.get("splitNumber");var e=new vS;e.setExtent(0,a);e.setInterval(1);V(i,(function(r,t){BT(r.scale,r.model,e)}))};r.prototype.convertToPixel=function(r,t,i){console.warn("Not implemented.");return null};r.prototype.convertFromPixel=function(r,t,i){console.warn("Not implemented.");return null};r.prototype.containPoint=function(r){console.warn("Not implemented.");return false};r.create=function(t,i){var n=[];t.eachComponent("radar",(function(a){var e=new r(a,t,i);n.push(e);a.coordinateSystem=e}));t.eachSeriesByType("radar",(function(r){if(r.get("coordinateSystem")==="radar"){r.coordinateSystem=n[r.get("radarIndex")||0]}}));return n};r.dimensions=[];return r}();function Pz(r){r.registerCoordinateSystem("radar",Ez);r.registerComponentModel(Rz);r.registerComponentView(Bz);r.registerVisual({seriesType:"radar",reset:function(r){var t=r.getData();t.each((function(r){t.setItemVisual(r,"legendIcon","roundRect")}));t.setVisual("legendIcon","roundRect")}})}function Wz(r){$x(Pz);r.registerChartView(zz);r.registerSeriesModel(Lz);r.registerLayout(Az);r.registerProcessor(qC("radar"));r.registerPreprocessor(Tz)}var Vz="\0_ec_interaction_mutex";function Hz(r,t,i){var n=Gz(r);n[t]=i}function Yz(r,t,i){var n=Gz(r);var a=n[t];if(a===i){n[t]=null}}function Xz(r,t){return!!Gz(r)[t]}function Gz(r){return r[Vz]||(r[Vz]={})}Vx({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Cr);var Uz=function(r){a(t,r);function t(t){var i=r.call(this)||this;i._zr=t;var n=j(i._mousedownHandler,i);var a=j(i._mousemoveHandler,i);var e=j(i._mouseupHandler,i);var u=j(i._mousewheelHandler,i);var o=j(i._pinchHandler,i);i.enable=function(r,i){this.disable();this._opt=B(O(i)||{},{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true});if(r==null){r=true}if(r===true||r==="move"||r==="pan"){t.on("mousedown",n);t.on("mousemove",a);t.on("mouseup",e)}if(r===true||r==="scale"||r==="zoom"){t.on("mousewheel",u);t.on("pinch",o)}};i.disable=function(){t.off("mousedown",n);t.off("mousemove",a);t.off("mouseup",e);t.off("mousewheel",u);t.off("pinch",o)};return i}t.prototype.isDragging=function(){return this._dragging};t.prototype.isPinching=function(){return this._pinching};t.prototype.setPointerChecker=function(r){this.pointerChecker=r};t.prototype.dispose=function(){this.disable()};t.prototype._mousedownHandler=function(r){if(kt(r)){return}var t=r.target;while(t){if(t.draggable){return}t=t.__hostTarget||t.parent}var i=r.offsetX;var n=r.offsetY;if(this.pointerChecker&&this.pointerChecker(r,i,n)){this._x=i;this._y=n;this._dragging=true}};t.prototype._mousemoveHandler=function(r){if(!this._dragging||!qz("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||Xz(this._zr,"globalPan")){return}var t=r.offsetX;var i=r.offsetY;var n=this._x;var a=this._y;var e=t-n;var u=i-a;this._x=t;this._y=i;this._opt.preventDefaultMouseMove&&St(r.event);jz(this,"pan","moveOnMouseMove",r,{dx:e,dy:u,oldX:n,oldY:a,newX:t,newY:i,isAvailableBehavior:null})};t.prototype._mouseupHandler=function(r){if(!kt(r)){this._dragging=false}};t.prototype._mousewheelHandler=function(r){var t=qz("zoomOnMouseWheel",r,this._opt);var i=qz("moveOnMouseWheel",r,this._opt);var n=r.wheelDelta;var a=Math.abs(n);var e=r.offsetX;var u=r.offsetY;if(n===0||!t&&!i){return}if(t){var o=a>3?1.4:a>1?1.2:1.1;var v=n>0?o:1/o;Zz(this,"zoom","zoomOnMouseWheel",r,{scale:v,originX:e,originY:u,isAvailableBehavior:null})}if(i){var s=Math.abs(n);var f=(n>0?1:-1)*(s>3?.4:s>1?.15:.05);Zz(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:f,originX:e,originY:u,isAvailableBehavior:null})}};t.prototype._pinchHandler=function(r){if(Xz(this._zr,"globalPan")){return}var t=r.pinchScale>1?1.1:1/1.1;Zz(this,"zoom",null,r,{scale:t,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})};return t}(Qr);function Zz(r,t,i,n,a){if(r.pointerChecker&&r.pointerChecker(n,a.originX,a.originY)){St(n.event);jz(r,t,i,n,a)}}function jz(r,t,i,n,a){a.isAvailableBehavior=j(qz,null,i,n);r.trigger(t,a)}function qz(r,t,i){var n=i[r];return!r||n&&(!$(n)||t.event[n+"Key"])}function Kz(r,t,i){var n=r.target;n.x+=t;n.y+=i;n.dirty()}function Jz(r,t,i,n){var a=r.target;var e=r.zoomLimit;var u=r.zoom=r.zoom||1;u*=t;if(e){var o=e.min||0;var v=e.max||Infinity;u=Math.max(Math.min(v,u),o)}var s=u/r.zoom;r.zoom=u;a.x-=(i-a.x)*(s-1);a.y-=(n-a.y)*(s-1);a.scaleX*=s;a.scaleY*=s;a.dirty()}var $z={axisPointer:1,tooltip:1,brush:1};function Qz(r,t,i){var n=t.getComponentByElement(r.topTarget);var a=n&&n.coordinateSystem;return n&&n!==i&&!$z.hasOwnProperty(n.mainType)&&a&&a.model!==i}function rL(r){if($(r)){var t=new DOMParser;r=t.parseFromString(r,"text/xml")}var i=r;if(i.nodeType===9){i=i.firstChild}while(i.nodeName.toLowerCase()!=="svg"||i.nodeType!==1){i=i.nextSibling}return i}var tL;var iL={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"};var nL=U(iL);var aL={"alignment-baseline":"textBaseline","stop-color":"stopColor"};var eL=U(aL);var uL=function(){function r(){this._defs={};this._root=null}r.prototype.parse=function(r,t){t=t||{};var i=rL(r);this._defsUsePending=[];var n=new xe;this._root=n;var a=[];var e=i.getAttribute("viewBox")||"";var u=parseFloat(i.getAttribute("width")||t.width);var o=parseFloat(i.getAttribute("height")||t.height);isNaN(u)&&(u=null);isNaN(o)&&(o=null);hL(i,n,null,true,false);var v=i.firstChild;while(v){this._parseNode(v,n,a,null,false,false);v=v.nextSibling}mL(this._defs,this._defsUsePending);this._defsUsePending=[];var s;var f;if(e){var l=gL(e);if(l.length>=4){s={x:parseFloat(l[0]||0),y:parseFloat(l[1]||0),width:parseFloat(l[2]),height:parseFloat(l[3])}}}if(s&&u!=null&&o!=null){f=NL(s,{x:0,y:0,width:u,height:o});if(!t.ignoreViewBox){var h=n;n=new xe;n.add(h);h.scaleX=h.scaleY=f.scale;h.x=f.x;h.y=f.y}}if(!t.ignoreRootClip&&u!=null&&o!=null){n.setClipPath(new ts({shape:{x:0,y:0,width:u,height:o}}))}return{root:n,width:u,height:o,viewBoxRect:s,viewBoxTransform:f,named:a}};r.prototype._parseNode=function(r,t,i,n,a,e){var u=r.nodeName.toLowerCase();var o;var v=n;if(u==="defs"){a=true}if(u==="text"){e=true}if(u==="defs"||u==="switch"){o=t}else{if(!a){var s=tL[u];if(s&&Ir(tL,u)){o=s.call(this,r,t);var f=r.getAttribute("name");if(f){var l={name:f,namedFrom:null,svgNodeTagLower:u,el:o};i.push(l);if(u==="g"){v=l}}else if(n){i.push({name:n.name,namedFrom:n,svgNodeTagLower:u,el:o})}t.add(o)}}var h=oL[u];if(h&&Ir(oL,u)){var c=h.call(this,r);var d=r.getAttribute("id");if(d){this._defs[d]=c}}}if(o&&o.isGroup){var p=r.firstChild;while(p){if(p.nodeType===1){this._parseNode(p,o,i,v,a,e)}else if(p.nodeType===3&&e){this._parseText(p,o)}p=p.nextSibling}}};r.prototype._parseText=function(r,t){var i=new Yv({style:{text:r.textContent},silent:true,x:this._textX||0,y:this._textY||0});fL(t,i);hL(r,i,this._defsUsePending,false,false);cL(i,t);var n=i.style;var a=n.fontSize;if(a&&a<9){n.fontSize=9;i.scaleX*=a/9;i.scaleY*=a/9}var e=(n.fontSize||n.fontFamily)&&[n.fontStyle,n.fontWeight,(n.fontSize||12)+"px",n.fontFamily||"sans-serif"].join(" ");n.font=e;var u=i.getBoundingRect();this._textX+=u.width;t.add(i);return i};r.internalField=function(){tL={g:function(r,t){var i=new xe;fL(t,i);hL(r,i,this._defsUsePending,false,false);return i},rect:function(r,t){var i=new ts;fL(t,i);hL(r,i,this._defsUsePending,false,false);i.setShape({x:parseFloat(r.getAttribute("x")||"0"),y:parseFloat(r.getAttribute("y")||"0"),width:parseFloat(r.getAttribute("width")||"0"),height:parseFloat(r.getAttribute("height")||"0")});i.silent=true;return i},circle:function(r,t){var i=new ul;fL(t,i);hL(r,i,this._defsUsePending,false,false);i.setShape({cx:parseFloat(r.getAttribute("cx")||"0"),cy:parseFloat(r.getAttribute("cy")||"0"),r:parseFloat(r.getAttribute("r")||"0")});i.silent=true;return i},line:function(r,t){var i=new Bl;fL(t,i);hL(r,i,this._defsUsePending,false,false);i.setShape({x1:parseFloat(r.getAttribute("x1")||"0"),y1:parseFloat(r.getAttribute("y1")||"0"),x2:parseFloat(r.getAttribute("x2")||"0"),y2:parseFloat(r.getAttribute("y2")||"0")});i.silent=true;return i},ellipse:function(r,t){var i=new vl;fL(t,i);hL(r,i,this._defsUsePending,false,false);i.setShape({cx:parseFloat(r.getAttribute("cx")||"0"),cy:parseFloat(r.getAttribute("cy")||"0"),rx:parseFloat(r.getAttribute("rx")||"0"),ry:parseFloat(r.getAttribute("ry")||"0")});i.silent=true;return i},polygon:function(r,t){var i=r.getAttribute("points");var n;if(i){n=lL(i)}var a=new Ll({shape:{points:n||[]},silent:true});fL(t,a);hL(r,a,this._defsUsePending,false,false);return a},polyline:function(r,t){var i=r.getAttribute("points");var n;if(i){n=lL(i)}var a=new Dl({shape:{points:n||[]},silent:true});fL(t,a);hL(r,a,this._defsUsePending,false,false);return a},image:function(r,t){var i=new Zv;fL(t,i);hL(r,i,this._defsUsePending,false,false);i.setStyle({image:r.getAttribute("xlink:href")||r.getAttribute("href"),x:+r.getAttribute("x"),y:+r.getAttribute("y"),width:+r.getAttribute("width"),height:+r.getAttribute("height")});i.silent=true;return i},text:function(r,t){var i=r.getAttribute("x")||"0";var n=r.getAttribute("y")||"0";var a=r.getAttribute("dx")||"0";var e=r.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(a);this._textY=parseFloat(n)+parseFloat(e);var u=new xe;fL(t,u);hL(r,u,this._defsUsePending,false,true);return u},tspan:function(r,t){var i=r.getAttribute("x");var n=r.getAttribute("y");if(i!=null){this._textX=parseFloat(i)}if(n!=null){this._textY=parseFloat(n)}var a=r.getAttribute("dx")||"0";var e=r.getAttribute("dy")||"0";var u=new xe;fL(t,u);hL(r,u,this._defsUsePending,false,true);this._textX+=parseFloat(a);this._textY+=parseFloat(e);return u},path:function(r,t){var i=r.getAttribute("d")||"";var n=tl(i);fL(t,n);hL(r,n,this._defsUsePending,false,false);n.silent=true;return n}}}();return r}();var oL={lineargradient:function(r){var t=parseInt(r.getAttribute("x1")||"0",10);var i=parseInt(r.getAttribute("y1")||"0",10);var n=parseInt(r.getAttribute("x2")||"10",10);var a=parseInt(r.getAttribute("y2")||"0",10);var e=new Gl(t,i,n,a);vL(r,e);sL(r,e);return e},radialgradient:function(r){var t=parseInt(r.getAttribute("cx")||"0",10);var i=parseInt(r.getAttribute("cy")||"0",10);var n=parseInt(r.getAttribute("r")||"0",10);var a=new Ul(t,i,n);vL(r,a);sL(r,a);return a}};function vL(r,t){var i=r.getAttribute("gradientUnits");if(i==="userSpaceOnUse"){t.global=true}}function sL(r,t){var i=r.firstChild;while(i){if(i.nodeType===1&&i.nodeName.toLocaleLowerCase()==="stop"){var n=i.getAttribute("offset");var a=void 0;if(n&&n.indexOf("%")>0){a=parseInt(n,10)/100}else if(n){a=parseFloat(n)}else{a=0}var e={};SL(i,e,e);var u=e.stopColor||i.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:a,color:u})}i=i.nextSibling}}function fL(r,t){if(r&&r.__inheritedStyle){if(!t.__inheritedStyle){t.__inheritedStyle={}}B(t.__inheritedStyle,r.__inheritedStyle)}}function lL(r){var t=gL(r);var i=[];for(var n=0;n<t.length;n+=2){var a=parseFloat(t[n]);var e=parseFloat(t[n+1]);i.push([a,e])}return i}function hL(r,t,i,n,a){var e=t;var u=e.__inheritedStyle=e.__inheritedStyle||{};var o={};if(r.nodeType===1){xL(r,t);SL(r,u,o);if(!n){kL(r,u,o)}}e.style=e.style||{};if(u.fill!=null){e.style.fill=pL(e,"fill",u.fill,i)}if(u.stroke!=null){e.style.stroke=pL(e,"stroke",u.stroke,i)}V(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(r){if(u[r]!=null){e.style[r]=parseFloat(u[r])}}));V(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(r){if(u[r]!=null){e.style[r]=u[r]}}));if(a){e.__selfStyle=o}if(u.lineDash){e.style.lineDash=H(gL(u.lineDash),(function(r){return parseFloat(r)}))}if(u.visibility==="hidden"||u.visibility==="collapse"){e.invisible=true}if(u.display==="none"){e.ignore=true}}function cL(r,t){var i=t.__selfStyle;if(i){var n=i.textBaseline;var a=n;if(!n||n==="auto"){a="alphabetic"}else if(n==="baseline"){a="alphabetic"}else if(n==="before-edge"||n==="text-before-edge"){a="top"}else if(n==="after-edge"||n==="text-after-edge"){a="bottom"}else if(n==="central"||n==="mathematical"){a="middle"}r.style.textBaseline=a}var e=t.__inheritedStyle;if(e){var u=e.textAlign;var o=u;if(u){if(u==="middle"){o="center"}r.style.textAlign=o}}}var dL=/^url\(\s*#(.*?)\)/;function pL(r,t,i,n){var a=i&&i.match(dL);if(a){var e=pr(a[1]);n.push([r,t,e]);return}if(i==="none"){i=null}return i}function mL(r,t){for(var i=0;i<t.length;i++){var n=t[i];n[0].style[n[1]]=r[n[2]]}}var yL=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function gL(r){return r.match(yL)||[]}var bL=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g;var wL=Math.PI/180;function xL(r,t){var i=r.getAttribute("transform");if(i){i=i.replace(/,/g," ");var n=[];var a=null;i.replace(bL,(function(r,t,i){n.push(t,i);return""}));for(var e=n.length-1;e>0;e-=2){var u=n[e];var o=n[e-1];var v=gL(u);a=a||Tt();switch(o){case"translate":Dt(a,a,[parseFloat(v[0]),parseFloat(v[1]||"0")]);break;case"scale":Ft(a,a,[parseFloat(v[0]),parseFloat(v[1]||v[0])]);break;case"rotate":Rt(a,a,-parseFloat(v[0])*wL);break;case"skewX":var s=Math.tan(parseFloat(v[0])*wL);Ot(a,[1,0,s,1,0,0],a);break;case"skewY":var f=Math.tan(parseFloat(v[0])*wL);Ot(a,[1,f,0,1,0,0],a);break;case"matrix":a[0]=parseFloat(v[0]);a[1]=parseFloat(v[1]);a[2]=parseFloat(v[2]);a[3]=parseFloat(v[3]);a[4]=parseFloat(v[4]);a[5]=parseFloat(v[5]);break}}t.setLocalTransform(a)}}var ML=/([^\s:;]+)\s*:\s*([^:;]+)/g;function SL(r,t,i){var n=r.getAttribute("style");if(!n){return}ML.lastIndex=0;var a;while((a=ML.exec(n))!=null){var e=a[1];var u=Ir(iL,e)?iL[e]:null;if(u){t[u]=a[2]}var o=Ir(aL,e)?aL[e]:null;if(o){i[o]=a[2]}}}function kL(r,t,i){for(var n=0;n<nL.length;n++){var a=nL[n];var e=r.getAttribute(a);if(e!=null){t[iL[a]]=e}}for(var n=0;n<eL.length;n++){var a=eL[n];var e=r.getAttribute(a);if(e!=null){i[aL[a]]=e}}}function NL(r,t){var i=t.width/r.width;var n=t.height/r.height;var a=Math.min(i,n);return{scale:a,x:-(r.x+r.width/2)*a+(t.x+t.width/2),y:-(r.y+r.height/2)*a+(t.y+t.height/2)}}function AL(r,t){var i=new uL;return i.parse(r,t)}var IL=Sr(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]);var CL=function(){function r(r,t){this.type="geoSVG";this._usedGraphicMap=Sr();this._freedGraphics=[];this._mapName=r;this._parsedXML=rL(t)}r.prototype.load=function(){var r=this._firstGraphic;if(!r){r=this._firstGraphic=this._buildGraphic(this._parsedXML);this._freedGraphics.push(r);this._boundingRect=this._firstGraphic.boundingRect.clone();var t=zL(r.named),i=t.regions,n=t.regionsMap;this._regions=i;this._regionsMap=n}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}};r.prototype._buildGraphic=function(r){var t;var i;try{t=r&&AL(r,{ignoreViewBox:true,ignoreRootClip:true})||{};i=t.root;dr(i!=null)}catch(r){throw new Error("Invalid svg format\n"+r.message)}var n=new xe;n.add(i);n.isGeoSVGGraphicRoot=true;var a=t.width;var e=t.height;var u=t.viewBoxRect;var o=this._boundingRect;if(!o){var v=void 0;var s=void 0;var f=void 0;var l=void 0;if(a!=null){v=0;f=a}else if(u){v=u.x;f=u.width}if(e!=null){s=0;l=e}else if(u){s=u.y;l=u.height}if(v==null||s==null){var h=i.getBoundingRect();if(v==null){v=h.x;f=h.width}if(s==null){s=h.y;l=h.height}}o=this._boundingRect=new Zt(v,s,f,l)}if(u){var c=NL(u,o);i.scaleX=i.scaleY=c.scale;i.x=c.x;i.y=c.y}n.setClipPath(new ts({shape:o.plain()}));var d=[];V(t.named,(function(r){if(IL.get(r.svgNodeTagLower)!=null){d.push(r);TL(r.el)}}));return{root:n,boundingRect:o,named:d}};r.prototype.useGraphic=function(r){var t=this._usedGraphicMap;var i=t.get(r);if(i){return i}i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML);t.set(r,i);return i};r.prototype.freeGraphic=function(r){var t=this._usedGraphicMap;var i=t.get(r);if(i){t.removeKey(r);this._freedGraphics.push(i)}};return r}();function TL(r){r.silent=false;if(r.isGroup){r.traverse((function(r){r.silent=false}))}}function zL(r){var t=[];var i=Sr();V(r,(function(r){if(r.namedFrom!=null){return}var n=new Sk(r.name,r.el);t.push(n);i.set(r.name,n)}));return{regions:t,regionsMap:i}}var LL=[126,25];var OL="";var DL=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var RL=0;RL<DL.length;RL++){for(var FL=0;FL<DL[RL].length;FL++){DL[RL][FL][0]/=10.5;DL[RL][FL][1]/=-10.5/.75;DL[RL][FL][0]+=LL[0];DL[RL][FL][1]+=LL[1]}}function BL(r,t){if(r==="china"){for(var i=0;i<t.length;i++){if(t[i].name===OL){return}}t.push(new Mk(OL,H(DL,(function(r){return{type:"polygon",exterior:r}})),LL))}}var _L={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function EL(r,t){if(r==="china"){var i=_L[t.name];if(i){var n=t.getCenter();n[0]+=i[0]/10.5;n[1]+=-i[1]/(10.5/.75);t.setCenter(n)}}}var PL=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function WL(r,t){if(r==="china"&&t.name===""){t.geometries.push({type:"polygon",exterior:PL[0]})}}var VL="name";var HL=function(){function r(r,t,i){this.type="geoJSON";this._parsedMap=Sr();this._mapName=r;this._specialAreas=i;this._geoJSON=XL(t)}r.prototype.load=function(r,t){t=t||VL;var i=this._parsedMap.get(t);if(!i){var n=this._parseToRegions(t);i=this._parsedMap.set(t,{regions:n,boundingRect:YL(n)})}var a=Sr();var e=[];V(i.regions,(function(t){var i=t.name;if(r&&Ir(r,i)){t=t.cloneShallow(i=r[i])}e.push(t);a.set(i,t)}));return{regions:e,boundingRect:i.boundingRect||new Zt(0,0,0,0),regionsMap:a}};r.prototype._parseToRegions=function(r){var t=this._mapName;var i=this._geoJSON;var n;try{n=i?Ik(i,r):[]}catch(r){throw new Error("Invalid geoJson format\n"+r.message)}BL(t,n);V(n,(function(r){var i=r.name;EL(t,r);WL(t,r);var n=this._specialAreas&&this._specialAreas[i];if(n){r.transformTo(n.left,n.top,n.width,n.height)}}),this);return n};r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}};return r}();function YL(r){var t;for(var i=0;i<r.length;i++){var n=r[i].getBoundingRect();t=t||n.clone();t.union(n)}return t}function XL(r){return!$(r)?r:typeof JSON!=="undefined"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")()}var GL=Sr();const UL={registerMap:function(r,t,i){if(t.svg){var n=new CL(r,t.svg);GL.set(r,n)}else{var a=t.geoJson||t.geoJSON;if(a&&!t.features){i=t.specialAreas}else{a=t}var n=new HL(r,a,i);GL.set(r,n)}},getGeoResource:function(r){return GL.get(r)},getMapForUser:function(r){var t=GL.get(r);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(r,t,i){var n=GL.get(r);if(!n){return}return n.load(t,i)}};var ZL=["rect","circle","line","ellipse","polygon","polyline","path"];var jL=Sr(ZL);var qL=Sr(ZL.concat(["g"]));var KL=Sr(ZL.concat(["g"]));var JL=Lu();function $L(r){var t=r.getItemStyle();var i=r.get("areaColor");if(i!=null){t.fill=i}return t}function QL(r){var t=r.style;if(t){t.stroke=t.stroke||t.fill;t.fill=null}}var rO=function(){function r(r){var t=new xe;this.uid=bc("ec_map_draw");this._controller=new Uz(r.getZr());this._controllerHost={target:t};this.group=t;t.add(this._regionsGroup=new xe);t.add(this._svgGroup=new xe)}r.prototype.draw=function(r,t,i,n,a){var e=r.mainType==="geo";var u=r.getData&&r.getData();e&&t.eachComponent({mainType:"series",subType:"map"},(function(t){if(!u&&t.getHostGeoModel()===r){u=t.getData()}}));var o=r.coordinateSystem;var v=this._regionsGroup;var s=this.group;var f=o.getTransformInfo();var l=f.raw;var h=f.roam;var c=!v.childAt(0)||a;if(c){s.x=h.x;s.y=h.y;s.scaleX=h.scaleX;s.scaleY=h.scaleY;s.dirty()}else{nh(s,h,r)}var d=u&&u.getVisual("visualMeta")&&u.getVisual("visualMeta").length>0;var p={api:i,geo:o,mapOrGeoModel:r,data:u,isVisualEncodedByVisualMap:d,isGeo:e,transformInfoRaw:l};if(o.resourceType==="geoJSON"){this._buildGeoJSON(p)}else if(o.resourceType==="geoSVG"){this._buildSVG(p)}this._updateController(r,t,i);this._updateMapSelectHandler(r,v,i,n)};r.prototype._buildGeoJSON=function(r){var t=this._regionsGroupByName=Sr();var i=Sr();var n=this._regionsGroup;var a=r.transformInfoRaw;var e=r.mapOrGeoModel;var u=r.data;var o=r.geo.projection;var v=o&&o.stream;function s(r,t){if(t){r=t(r)}return r&&[r[0]*a.scaleX+a.x,r[1]*a.scaleY+a.y]}function f(r){var t=[];var i=!v&&o&&o.project;for(var n=0;n<r.length;++n){var a=s(r[n],i);a&&t.push(a)}return t}function l(r){return{shape:{points:f(r)}}}n.removeAll();V(r.geo.regions,(function(a){var f=a.name;var h=t.get(f);var c=i.get(f)||{},d=c.dataIdx,p=c.regionModel;if(!h){h=t.set(f,new xe);n.add(h);d=u?u.indexOfName(f):null;p=r.isGeo?e.getRegionModel(f):u?u.getItemModel(d):null;i.set(f,{dataIdx:d,regionModel:p})}var m=[];var y=[];V(a.geometries,(function(r){if(r.type==="polygon"){var t=[r.exterior].concat(r.interiors||[]);if(v){t=uO(t,v)}V(t,(function(r){m.push(new Ll(l(r)))}))}else{var i=r.points;if(v){i=uO(i,v,true)}V(i,(function(r){y.push(new Dl(l(r)))}))}}));var g=s(a.getCenter(),o&&o.project);function b(t,i){if(!t.length){return}var n=new Yl({culling:true,segmentIgnoreThreshold:1,shape:{paths:t}});h.add(n);tO(r,n,d,p);iO(r,n,f,p,e,d,g);if(i){QL(n);V(n.states,QL)}}b(m);b(y,true)}));t.each((function(t,n){var a=i.get(n),u=a.dataIdx,o=a.regionModel;nO(r,t,n,o,e,u);aO(r,t,n,o,e);eO(r,t,n,o,e)}),this)};r.prototype._buildSVG=function(r){var t=r.geo.map;var i=r.transformInfoRaw;this._svgGroup.x=i.x;this._svgGroup.y=i.y;this._svgGroup.scaleX=i.scaleX;this._svgGroup.scaleY=i.scaleY;if(this._svgResourceChanged(t)){this._freeSVG();this._useSVG(t)}var n=this._svgDispatcherMap=Sr();var a=false;V(this._svgGraphicRecord.named,(function(t){var i=t.name;var e=r.mapOrGeoModel;var u=r.data;var o=t.svgNodeTagLower;var v=t.el;var s=u?u.indexOfName(i):null;var f=e.getRegionModel(i);if(jL.get(o)!=null&&v instanceof Do){tO(r,v,s,f)}if(v instanceof Do){v.culling=true}v.z2EmphasisLift=0;if(!t.namedFrom){if(KL.get(o)!=null){iO(r,v,i,f,e,s,null)}nO(r,v,i,f,e,s);aO(r,v,i,f,e);if(qL.get(o)!=null){var l=eO(r,v,i,f,e);if(l==="self"){a=true}var h=n.get(i)||n.set(i,[]);h.push(v)}}}),this);this._enableBlurEntireSVG(a,r)};r.prototype._enableBlurEntireSVG=function(r,t){if(r&&t.isGeo){var i=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle();var n=i.opacity;this._svgGraphicRecord.root.traverse((function(r){if(!r.isGroup){tf(r);var t=r.ensureState("blur").style||{};if(t.opacity==null&&n!=null){t.opacity=n}r.ensureState("emphasis")}}))}};r.prototype.remove=function(){this._regionsGroup.removeAll();this._regionsGroupByName=null;this._svgGroup.removeAll();this._freeSVG();this._controller.dispose();this._controllerHost=null};r.prototype.findHighDownDispatchers=function(r,t){if(r==null){return[]}var i=t.coordinateSystem;if(i.resourceType==="geoJSON"){var n=this._regionsGroupByName;if(n){var a=n.get(r);return a?[a]:[]}}else if(i.resourceType==="geoSVG"){return this._svgDispatcherMap&&this._svgDispatcherMap.get(r)||[]}};r.prototype._svgResourceChanged=function(r){return this._svgMapName!==r};r.prototype._useSVG=function(r){var t=UL.getGeoResource(r);if(t&&t.type==="geoSVG"){var i=t.useGraphic(this.uid);this._svgGroup.add(i.root);this._svgGraphicRecord=i;this._svgMapName=r}};r.prototype._freeSVG=function(){var r=this._svgMapName;if(r==null){return}var t=UL.getGeoResource(r);if(t&&t.type==="geoSVG"){t.freeGraphic(this.uid)}this._svgGraphicRecord=null;this._svgDispatcherMap=null;this._svgGroup.removeAll();this._svgMapName=null};r.prototype._updateController=function(r,t,i){var n=r.coordinateSystem;var a=this._controller;var e=this._controllerHost;e.zoomLimit=r.get("scaleLimit");e.zoom=n.getZoom();a.enable(r.get("roam")||false);var u=r.mainType;function o(){var t={type:"geoRoam",componentType:u};t[u+"Id"]=r.id;return t}a.off("pan").on("pan",(function(r){this._mouseDownFlag=false;Kz(e,r.dx,r.dy);i.dispatchAction(F(o(),{dx:r.dx,dy:r.dy,animation:{duration:0}}))}),this);a.off("zoom").on("zoom",(function(r){this._mouseDownFlag=false;Jz(e,r.scale,r.originX,r.originY);i.dispatchAction(F(o(),{zoom:r.scale,originX:r.originX,originY:r.originY,animation:{duration:0}}))}),this);a.setPointerChecker((function(t,a,e){return n.containPoint([a,e])&&!Qz(t,i,r)}))};r.prototype.resetForLabelLayout=function(){this.group.traverse((function(r){var t=r.getTextContent();if(t){t.ignore=JL(t).ignore}}))};r.prototype._updateMapSelectHandler=function(r,t,i,n){var a=this;t.off("mousedown");t.off("click");if(r.get("selectedMode")){t.on("mousedown",(function(){a._mouseDownFlag=true}));t.on("click",(function(r){if(!a._mouseDownFlag){return}a._mouseDownFlag=false}))}};return r}();function tO(r,t,i,n){var a=n.getModel("itemStyle");var e=n.getModel(["emphasis","itemStyle"]);var u=n.getModel(["blur","itemStyle"]);var o=n.getModel(["select","itemStyle"]);var v=$L(a);var s=$L(e);var f=$L(o);var l=$L(u);var h=r.data;if(h){var c=h.getItemVisual(i,"style");var d=h.getItemVisual(i,"decal");if(r.isVisualEncodedByVisualMap&&c.fill){v.fill=c.fill}if(d){v.decal=cw(d,r.api)}}t.setStyle(v);t.style.strokeNoScale=true;t.ensureState("emphasis").style=s;t.ensureState("select").style=f;t.ensureState("blur").style=l;tf(t)}function iO(r,t,i,n,a,e,u){var o=r.data;var v=r.isGeo;var s=o&&isNaN(o.get(o.mapDimension("value"),e));var f=o&&o.getItemLayout(e);if(v||s||f&&f.showLabel){var l=!v?e:i;var h=void 0;if(!o||e>=0){h=a}var c=u?{normal:{align:"center",verticalAlign:"middle"}}:null;Zh(t,jh(n),{labelFetcher:h,labelDataIndex:l,defaultText:i},c);var d=t.getTextContent();if(d){JL(d).ignore=d.ignore;if(t.textConfig&&u){var p=t.getBoundingRect().clone();t.textConfig.layoutRect=p;t.textConfig.position=[(u[0]-p.x)/p.width*100+"%",(u[1]-p.y)/p.height*100+"%"]}}t.disableLabelAnimation=true}else{t.removeTextContent();t.removeTextConfig();t.disableLabelAnimation=null}}function nO(r,t,i,n,a,e){if(r.data){r.data.setItemGraphicEl(e,t)}else{bs(t).eventData={componentType:"geo",componentIndex:a.componentIndex,geoIndex:a.componentIndex,name:i,region:n&&n.option||{}}}}function aO(r,t,i,n,a){if(!r.data){Wh({el:t,componentModel:a,itemName:i,itemTooltipOption:n.get("tooltip")})}}function eO(r,t,i,n,a){t.highDownSilentOnTouch=!!a.get("selectedMode");var e=n.getModel("emphasis");var u=e.get("focus");kf(t,u,e.get("blurScope"),e.get("disabled"));if(r.isGeo){Lf(t,a,i)}return u}function uO(r,t,i){var n=[];var a;function e(){a=[]}function u(){if(a.length){n.push(a);a=[]}}var o=t({polygonStart:e,polygonEnd:u,lineStart:e,lineEnd:u,point:function(r,t){if(isFinite(r)&&isFinite(t)){a.push([r,t])}},sphere:function(){}});!i&&o.polygonStart();V(r,(function(r){o.lineStart();for(var t=0;t<r.length;t++){o.point(r[t][0],r[t][1])}o.lineEnd()}));!i&&o.polygonEnd();return n}var oO=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i,n){if(n&&n.type==="mapToggleSelect"&&n.from===this.uid){return}var a=this.group;a.removeAll();if(r.getHostGeoModel()){return}if(this._mapDraw&&n&&n.type==="geoRoam"){this._mapDraw.resetForLabelLayout()}if(!(n&&n.type==="geoRoam"&&n.componentType==="series"&&n.seriesId===r.id)){if(r.needsDrawMap){var e=this._mapDraw||new rO(i);a.add(e.group);e.draw(r,t,i,this,n);this._mapDraw=e}else{this._mapDraw&&this._mapDraw.remove();this._mapDraw=null}}else{var e=this._mapDraw;e&&a.add(e.group)}r.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(r,t,i)};t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()};t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null};t.prototype._renderSymbols=function(r,t,i){var n=r.originalData;var a=this.group;n.each(n.mapDimension("value"),(function(t,i){if(isNaN(t)){return}var e=n.getItemLayout(i);if(!e||!e.point){return}var u=e.point;var o=e.offset;var v=new ul({style:{fill:r.getData().getVisual("style").fill},shape:{cx:u[0]+o*9,cy:u[1],r:3},silent:true,z2:8+(!o?zs+1:0)});if(!o){var s=r.mainSeries.getData();var f=n.getName(i);var l=s.indexOfName(f);var h=n.getItemModel(i);var c=h.getModel("label");var d=s.getItemGraphicEl(l);Zh(v,jh(h),{labelFetcher:{getFormattedLabel:function(t,i){return r.getFormattedLabel(l,i)}},defaultText:f});v.disableLabelAnimation=true;if(!c.get("position")){v.setTextConfig({position:"bottom"})}d.onHoverStateChange=function(r){qs(v,r)}}a.add(v)}))};t.type="map";return t}(sg);var vO=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.needsDrawMap=false;i.seriesGroup=[];i.getTooltipPosition=function(r){if(r!=null){var t=this.getData().getName(r);var i=this.coordinateSystem;var n=i.getRegion(t);return n&&i.dataToPoint(n.getCenter())}};return i}t.prototype.getInitialData=function(r){var t=aT(this,{coordDimensions:["value"],encodeDefaulter:q(ip,this)});var i=Sr();var n=[];for(var a=0,e=t.count();a<e;a++){var u=t.getName(a);i.set(u,true)}var o=UL.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);V(o.regions,(function(r){var t=r.name;if(!i.get(t)){n.push(t)}}));t.appendValues([],n);return t};t.prototype.getHostGeoModel=function(){var r=this.option.geoIndex;return r!=null?this.ecModel.getComponent("geo",r):null};t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map};t.prototype.getRawValue=function(r){var t=this.getData();return t.get(t.mapDimension("value"),r)};t.prototype.getRegionModel=function(r){var t=this.getData();return t.getItemModel(t.indexOfName(r))};t.prototype.formatTooltip=function(r,t,i){var n=this.getData();var a=this.getRawValue(r);var e=n.getName(r);var u=this.seriesGroup;var o=[];for(var v=0;v<u.length;v++){var s=u[v].originalData.indexOfName(e);var f=n.mapDimension("value");if(!isNaN(u[v].originalData.get(f,s))){o.push(u[v].name)}}return Ty("section",{header:o.join(", "),noHeader:!o.length,blocks:[Ty("nameValue",{name:e,value:a})]})};t.prototype.setZoom=function(r){this.option.zoom=r};t.prototype.setCenter=function(r){this.option.center=r};t.prototype.getLegendIcon=function(r){var t=r.icon||"roundRect";var i=kb(t,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);i.setStyle(r.itemStyle);i.style.stroke="none";if(t.indexOf("empty")>-1){i.style.stroke=i.style.fill;i.style.fill="#fff";i.style.lineWidth=2}return i};t.type="series.map";t.dependencies=["geo"];t.layoutMode="box";t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:true,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:true,label:{show:false,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"};return t}(Ky);function sO(r,t){var i={};V(r,(function(r){r.each(r.mapDimension("value"),(function(t,n){var a="ec-"+r.getName(n);i[a]=i[a]||[];if(!isNaN(t)){i[a].push(t)}}))}));return r[0].map(r[0].mapDimension("value"),(function(n,a){var e="ec-"+r[0].getName(a);var u=0;var o=Infinity;var v=-Infinity;var s=i[e].length;for(var f=0;f<s;f++){o=Math.min(o,i[e][f]);v=Math.max(v,i[e][f]);u+=i[e][f]}var l;if(t==="min"){l=o}else if(t==="max"){l=v}else if(t==="average"){l=u/s}else{l=u}return s===0?NaN:l}))}function fO(r){var t={};r.eachSeriesByType("map",(function(r){var i=r.getHostGeoModel();var n=i?"o"+i.id:"i"+r.getMapType();(t[n]=t[n]||[]).push(r)}));V(t,(function(r,t){var i=sO(H(r,(function(r){return r.getData()})),r[0].get("mapValueCalculation"));for(var n=0;n<r.length;n++){r[n].originalData=r[n].getData()}for(var n=0;n<r.length;n++){r[n].seriesGroup=r;r[n].needsDrawMap=n===0&&!r[n].getHostGeoModel();r[n].setData(i.cloneShallow());r[n].mainSeries=r[0]}}))}function lO(r){var t={};r.eachSeriesByType("map",(function(i){var n=i.getMapType();if(i.getHostGeoModel()||t[n]){return}var a={};V(i.seriesGroup,(function(t){var i=t.coordinateSystem;var n=t.originalData;if(t.get("showLegendSymbol")&&r.getComponent("legend")){n.each(n.mapDimension("value"),(function(r,t){var e=n.getName(t);var u=i.getRegion(e);if(!u||isNaN(r)){return}var o=a[e]||0;var v=i.dataToPoint(u.getCenter());a[e]=o+1;n.setItemLayout(t,{point:v,offset:o})}))}}));var e=i.getData();e.each((function(r){var t=e.getName(r);var i=e.getItemLayout(r)||{};i.showLabel=!a[t];e.setItemLayout(r,i)}));t[n]=true}))}var hO=jr;var cO=function(r){a(t,r);function t(t){var i=r.call(this)||this;i.type="view";i.dimensions=["x","y"];i._roamTransformable=new Ka;i._rawTransformable=new Ka;i.name=t;return i}t.prototype.setBoundingRect=function(r,t,i,n){this._rect=new Zt(r,t,i,n);return this._rect};t.prototype.getBoundingRect=function(){return this._rect};t.prototype.setViewRect=function(r,t,i,n){this._transformTo(r,t,i,n);this._viewRect=new Zt(r,t,i,n)};t.prototype._transformTo=function(r,t,i,n){var a=this.getBoundingRect();var e=this._rawTransformable;e.transform=a.calculateTransform(new Zt(r,t,i,n));var u=e.parent;e.parent=null;e.decomposeTransform();e.parent=u;this._updateTransform()};t.prototype.setCenter=function(r,t){if(!r){return}this._center=[Le(r[0],t.getWidth()),Le(r[1],t.getHeight())];this._updateCenterAndZoom()};t.prototype.setZoom=function(r){r=r||1;var t=this.zoomLimit;if(t){if(t.max!=null){r=Math.min(t.max,r)}if(t.min!=null){r=Math.max(t.min,r)}}this._zoom=r;this._updateCenterAndZoom()};t.prototype.getDefaultCenter=function(){var r=this.getBoundingRect();var t=r.x+r.width/2;var i=r.y+r.height/2;return[t,i]};t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()};t.prototype.getZoom=function(){return this._zoom||1};t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()};t.prototype._updateCenterAndZoom=function(){var r=this._rawTransformable.getLocalTransform();var t=this._roamTransformable;var i=this.getDefaultCenter();var n=this.getCenter();var a=this.getZoom();n=jr([],n,r);i=jr([],i,r);t.originX=n[0];t.originY=n[1];t.x=i[0]-n[0];t.y=i[1]-n[1];t.scaleX=t.scaleY=a;this._updateTransform()};t.prototype._updateTransform=function(){var r=this._roamTransformable;var t=this._rawTransformable;t.parent=r;r.updateTransform();t.updateTransform();Lt(this.transform||(this.transform=[]),t.transform||Tt());this._rawTransform=t.getLocalTransform();this.invTransform=this.invTransform||[];Bt(this.invTransform,this.transform);this.decomposeTransform()};t.prototype.getTransformInfo=function(){var r=this._rawTransformable;var t=this._roamTransformable;var i=new Ka;i.transform=t.transform;i.decomposeTransform();return{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}};t.prototype.getViewRect=function(){return this._viewRect};t.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();r.applyTransform(this.transform);return r};t.prototype.dataToPoint=function(r,t,i){var n=t?this._rawTransform:this.transform;i=i||[];return n?hO(i,r,n):Dr(i,r)};t.prototype.pointToData=function(r){var t=this.invTransform;return t?hO([],r,t):[r[0],r[1]]};t.prototype.convertToPixel=function(r,t,i){var n=dO(t);return n===this?n.dataToPoint(i):null};t.prototype.convertFromPixel=function(r,t,i){var n=dO(t);return n===this?n.pointToData(i):null};t.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])};t.dimensions=["x","y"];return t}(Ka);function dO(r){var t=r.seriesModel;return t?t.coordinateSystem:null}var pO={geoJSON:{aspectScale:.75,invertLongitute:true},geoSVG:{aspectScale:1,invertLongitute:false}};var mO=["lng","lat"];var yO=function(r){a(t,r);function t(t,i,n){var a=r.call(this,t)||this;a.dimensions=mO;a.type="geo";a._nameCoordMap=Sr();a.map=i;var e=n.projection;var u=UL.load(i,n.nameMap,n.nameProperty);var o=UL.getGeoResource(i);a.resourceType=o?o.type:null;var v=a.regions=u.regions;var s=pO[o.type];a._regionsMap=u.regionsMap;a.regions=u.regions;a.projection=e;var f;if(e){for(var l=0;l<v.length;l++){var h=v[l].getBoundingRect(e);f=f||h.clone();f.union(h)}}else{f=u.boundingRect}a.setBoundingRect(f.x,f.y,f.width,f.height);a.aspectScale=e?1:fr(n.aspectScale,s.aspectScale);a._invertLongitute=e?false:s.invertLongitute;return a}t.prototype._transformTo=function(r,t,i,n){var a=this.getBoundingRect();var e=this._invertLongitute;a=a.clone();if(e){a.y=-a.y-a.height}var u=this._rawTransformable;u.transform=a.calculateTransform(new Zt(r,t,i,n));var o=u.parent;u.parent=null;u.decomposeTransform();u.parent=o;if(e){u.scaleY=-u.scaleY}this._updateTransform()};t.prototype.getRegion=function(r){return this._regionsMap.get(r)};t.prototype.getRegionByCoord=function(r){var t=this.regions;for(var i=0;i<t.length;i++){var n=t[i];if(n.type==="geoJSON"&&n.contain(r)){return t[i]}}};t.prototype.addGeoCoord=function(r,t){this._nameCoordMap.set(r,t)};t.prototype.getGeoCoord=function(r){var t=this._regionsMap.get(r);return this._nameCoordMap.get(r)||t&&t.getCenter()};t.prototype.dataToPoint=function(r,t,i){if($(r)){r=this.getGeoCoord(r)}if(r){var n=this.projection;if(n){r=n.project(r)}return r&&this.projectedToPoint(r,t,i)}};t.prototype.pointToData=function(r){var t=this.projection;if(t){r=t.unproject(r)}return r&&this.pointToProjected(r)};t.prototype.pointToProjected=function(t){return r.prototype.pointToData.call(this,t)};t.prototype.projectedToPoint=function(t,i,n){return r.prototype.dataToPoint.call(this,t,i,n)};t.prototype.convertToPixel=function(r,t,i){var n=gO(t);return n===this?n.dataToPoint(i):null};t.prototype.convertFromPixel=function(r,t,i){var n=gO(t);return n===this?n.pointToData(i):null};return t}(cO);P(yO,cO);function gO(r){var t=r.geoModel;var i=r.seriesModel;return t?t.coordinateSystem:i?i.coordinateSystem||(i.getReferringComponents("geo",Fu).models[0]||{}).coordinateSystem:null}function bO(r,t){var i=r.get("boundingCoords");if(i!=null){var n=i[0];var a=i[1];if(!(isFinite(n[0])&&isFinite(n[1])&&isFinite(a[0])&&isFinite(a[1])));else{var e=this.projection;if(e){var u=n[0];var o=n[1];var v=a[0];var s=a[1];n=[Infinity,Infinity];a=[-Infinity,-Infinity];var f=function(r,t,i,u){var o=i-r;var v=u-t;for(var s=0;s<=100;s++){var f=s/100;var l=e.project([r+o*f,t+v*f]);qr(n,n,l);Kr(a,a,l)}};f(u,o,v,o);f(v,o,v,s);f(v,s,u,s);f(u,s,v,o)}this.setBoundingRect(n[0],n[1],a[0]-n[0],a[1]-n[1])}}var l=this.getBoundingRect();var h=r.get("layoutCenter");var c=r.get("layoutSize");var d=t.getWidth();var p=t.getHeight();var m=l.width/l.height*this.aspectScale;var y=false;var g;var b;if(h&&c){g=[Le(h[0],d),Le(h[1],p)];b=Le(c,Math.min(d,p));if(!isNaN(g[0])&&!isNaN(g[1])&&!isNaN(b)){y=true}}var w;if(y){w={};if(m>1){w.width=b;w.height=b/m}else{w.height=b;w.width=b*m}w.y=g[1]-w.height/2;w.x=g[0]-w.width/2}else{var x=r.getBoxLayoutParams();x.aspect=m;w=zd(x,{width:d,height:p})}this.setViewRect(w.x,w.y,w.width,w.height);this.setCenter(r.get("center"),t);this.setZoom(r.get("zoom"))}function wO(r,t){V(t.get("geoCoord"),(function(t,i){r.addGeoCoord(i,t)}))}var xO=function(){function r(){this.dimensions=mO}r.prototype.create=function(r,t){var i=[];function n(r){return{nameProperty:r.get("nameProperty"),aspectScale:r.get("aspectScale"),projection:r.get("projection")}}r.eachComponent("geo",(function(r,a){var e=r.get("map");var u=new yO(e+a,e,F({nameMap:r.get("nameMap")},n(r)));u.zoomLimit=r.get("scaleLimit");i.push(u);r.coordinateSystem=u;u.model=r;u.resize=bO;u.resize(r,t)}));r.eachSeries((function(r){var t=r.get("coordinateSystem");if(t==="geo"){var n=r.get("geoIndex")||0;r.coordinateSystem=i[n]}}));var a={};r.eachSeriesByType("map",(function(r){if(!r.getHostGeoModel()){var t=r.getMapType();a[t]=a[t]||[];a[t].push(r)}}));V(a,(function(r,a){var e=H(r,(function(r){return r.get("nameMap")}));var u=new yO(a,a,F({nameMap:R(e)},n(r[0])));u.zoomLimit=sr.apply(null,H(r,(function(r){return r.get("scaleLimit")})));i.push(u);u.resize=bO;u.resize(r[0],t);V(r,(function(r){r.coordinateSystem=u;wO(u,r)}))}));return i};r.prototype.getFilledRegions=function(r,t,i,n){var a=(r||[]).slice();var e=Sr();for(var u=0;u<a.length;u++){e.set(a[u].name,a[u])}var o=UL.load(t,i,n);V(o.regions,(function(r){var t=r.name;!e.get(t)&&a.push({name:t})}));return a};return r}();var MO=new xO;var SO=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.init=function(r,t,i){var n=UL.getGeoResource(r.map);if(n&&n.type==="geoJSON"){var a=r.itemStyle=r.itemStyle||{};if(!("color"in a)){a.color="#eee"}}this.mergeDefaultAndTheme(r,i);fu(r,"label",["show"])};t.prototype.optionUpdated=function(){var r=this;var t=this.option;t.regions=MO.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var i={};this._optionModelMap=Y(t.regions||[],(function(t,n){var a=n.name;if(a){t.set(a,new yc(n,r,r.ecModel));if(n.selected){i[a]=true}}return t}),Sr());if(!t.selectedMap){t.selectedMap=i}};t.prototype.getRegionModel=function(r){return this._optionModelMap.get(r)||new yc(null,this,this.ecModel)};t.prototype.getFormattedLabel=function(r,t){var i=this.getRegionModel(r);var n=t==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]);var a={name:r};if(J(n)){a.status=t;return n(a)}else if($(n)){return n.replace("{a}",r!=null?r:"")}};t.prototype.setZoom=function(r){this.option.zoom=r};t.prototype.setCenter=function(r){this.option.center=r};t.prototype.select=function(r){var t=this.option;var i=t.selectedMode;if(!i){return}if(i!=="multiple"){t.selectedMap=null}var n=t.selectedMap||(t.selectedMap={});n[r]=true};t.prototype.unSelect=function(r){var t=this.option.selectedMap;if(t){t[r]=false}};t.prototype.toggleSelected=function(r){this[this.isSelected(r)?"unSelect":"select"](r)};t.prototype.isSelected=function(r){var t=this.option.selectedMap;return!!(t&&t[r])};t.type="geo";t.layoutMode="box";t.defaultOption={z:0,show:true,left:"center",top:"center",aspectScale:null,silent:false,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:false,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]};return t}(Ed);function kO(r,t){return r.pointToProjected?r.pointToProjected(t):r.pointToData(t)}function NO(r,t,i,n){var a=r.getZoom();var e=r.getCenter();var u=t.zoom;var o=r.projectedToPoint?r.projectedToPoint(e):r.dataToPoint(e);if(t.dx!=null&&t.dy!=null){o[0]-=t.dx;o[1]-=t.dy;r.setCenter(kO(r,o),n)}if(u!=null){if(i){var v=i.min||0;var s=i.max||Infinity;u=Math.max(Math.min(a*u,s),v)/a}r.scaleX*=u;r.scaleY*=u;var f=(t.originX-r.x)*(u-1);var l=(t.originY-r.y)*(u-1);r.x-=f;r.y-=l;r.updateTransform();r.setCenter(kO(r,o),n);r.setZoom(u*a)}return{center:r.getCenter(),zoom:r.getZoom()}}var AO=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.focusBlurEnabled=true;return i}t.prototype.init=function(r,t){this._api=t};t.prototype.render=function(r,t,i,n){this._model=r;if(!r.get("show")){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;return}if(!this._mapDraw){this._mapDraw=new rO(i)}var a=this._mapDraw;a.draw(r,t,i,this,n);a.group.on("click",this._handleRegionClick,this);a.group.silent=r.get("silent");this.group.add(a.group);this.updateSelectStatus(r,t,i)};t.prototype._handleRegionClick=function(r){var t;lb(r.target,(function(r){return(t=bs(r).eventData)!=null}),true);if(t){this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})}};t.prototype.updateSelectStatus=function(r,t,i){var n=this;this._mapDraw.group.traverse((function(r){var t=bs(r).eventData;if(t){n._model.isSelected(t.name)?i.enterSelect(r):i.leaveSelect(r);return true}}))};t.prototype.findHighDownDispatchers=function(r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(r,this._model)};t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()};t.type="geo";return t}(eg);function IO(r,t,i){UL.registerMap(r,t,i)}function CO(r){r.registerCoordinateSystem("geo",MO);r.registerComponentModel(SO);r.registerComponentView(AO);r.registerImpl("registerMap",IO);r.registerImpl("getMap",(function(r){return UL.getMapForUser(r)}));function t(t,i){i.update="geo:updateSelectStatus";r.registerAction(i,(function(r,i){var n={};var a=[];i.eachComponent({mainType:"geo",query:r},(function(i){i[t](r.name);var e=i.coordinateSystem;V(e.regions,(function(r){n[r.name]=i.isSelected(r.name)||false}));var u=[];V(n,(function(r,t){n[t]&&u.push(t)}));a.push({geoIndex:i.componentIndex,name:u})}));return{selected:n,allSelected:a,name:r.name}}))}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});t("select",{type:"geoSelect",event:"geoselected"});t("unSelect",{type:"geoUnSelect",event:"geounselected"});r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(r,t,i){var n=r.componentType||"series";t.eachComponent({mainType:n,query:r},(function(t){var a=t.coordinateSystem;if(a.type!=="geo"){return}var e=NO(a,r,t.get("scaleLimit"),i);t.setCenter&&t.setCenter(e.center);t.setZoom&&t.setZoom(e.zoom);if(n==="series"){V(t.seriesGroup,(function(r){r.setCenter(e.center);r.setZoom(e.zoom)}))}}))}))}function TO(r){$x(CO);r.registerChartView(oO);r.registerSeriesModel(vO);r.registerLayout(lO);r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,fO);vb("map",r.registerAction)}function zO(r){var t=r;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var i=[t];var n;var a;while(n=i.pop()){a=n.children;if(n.isExpand&&a.length){var e=a.length;for(var u=e-1;u>=0;u--){var o=a[u];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:u,thread:null};i.push(o)}}}}function LO(r,t){var i=r.isExpand?r.children:[];var n=r.parentNode.children;var a=r.hierNode.i?n[r.hierNode.i-1]:null;if(i.length){BO(r);var e=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;if(a){r.hierNode.prelim=a.hierNode.prelim+t(r,a);r.hierNode.modifier=r.hierNode.prelim-e}else{r.hierNode.prelim=e}}else if(a){r.hierNode.prelim=a.hierNode.prelim+t(r,a)}r.parentNode.hierNode.defaultAncestor=_O(r,a,r.parentNode.hierNode.defaultAncestor||n[0],t)}function OO(r){var t=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:t},true);r.hierNode.modifier+=r.parentNode.hierNode.modifier}function DO(r){return arguments.length?r:HO}function RO(r,t){r-=Math.PI/2;return{x:t*Math.cos(r),y:t*Math.sin(r)}}function FO(r,t){return zd(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function BO(r){var t=r.children;var i=t.length;var n=0;var a=0;while(--i>=0){var e=t[i];e.hierNode.prelim+=n;e.hierNode.modifier+=n;a+=e.hierNode.change;n+=e.hierNode.shift+a}}function _O(r,t,i,n){if(t){var a=r;var e=r;var u=e.parentNode.children[0];var o=t;var v=a.hierNode.modifier;var s=e.hierNode.modifier;var f=u.hierNode.modifier;var l=o.hierNode.modifier;while(o=EO(o),e=PO(e),o&&e){a=EO(a);u=PO(u);a.hierNode.ancestor=r;var h=o.hierNode.prelim+l-e.hierNode.prelim-s+n(o,e);if(h>0){VO(WO(o,r,i),r,h);s+=h;v+=h}l+=o.hierNode.modifier;s+=e.hierNode.modifier;v+=a.hierNode.modifier;f+=u.hierNode.modifier}if(o&&!EO(a)){a.hierNode.thread=o;a.hierNode.modifier+=l-v}if(e&&!PO(u)){u.hierNode.thread=e;u.hierNode.modifier+=s-f;i=r}}return i}function EO(r){var t=r.children;return t.length&&r.isExpand?t[t.length-1]:r.hierNode.thread}function PO(r){var t=r.children;return t.length&&r.isExpand?t[0]:r.hierNode.thread}function WO(r,t,i){return r.hierNode.ancestor.parentNode===t.parentNode?r.hierNode.ancestor:i}function VO(r,t,i){var n=i/(t.hierNode.i-r.hierNode.i);t.hierNode.change-=n;t.hierNode.shift+=i;t.hierNode.modifier+=i;t.hierNode.prelim+=i;r.hierNode.change+=n}function HO(r,t){return r.parentNode===t.parentNode?1:2}var YO=function(){function r(){this.parentPoint=[];this.childPoints=[]}return r}();var XO=function(r){a(t,r);function t(t){return r.call(this,t)||this}t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};t.prototype.getDefaultShape=function(){return new YO};t.prototype.buildPath=function(r,t){var i=t.childPoints;var n=i.length;var a=t.parentPoint;var e=i[0];var u=i[n-1];if(n===1){r.moveTo(a[0],a[1]);r.lineTo(e[0],e[1]);return}var o=t.orient;var v=o==="TB"||o==="BT"?0:1;var s=1-v;var f=Le(t.forkPosition,1);var l=[];l[v]=a[v];l[s]=a[s]+(u[s]-a[s])*f;r.moveTo(a[0],a[1]);r.lineTo(l[0],l[1]);r.moveTo(e[0],e[1]);l[v]=e[v];r.lineTo(l[0],l[1]);l[v]=u[v];r.lineTo(l[0],l[1]);r.lineTo(u[0],u[1]);for(var h=1;h<n-1;h++){var c=i[h];r.moveTo(c[0],c[1]);l[v]=c[v];r.lineTo(l[0],l[1])}};return t}(Vv);var GO=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i._mainGroup=new xe;return i}t.prototype.init=function(r,t){this._controller=new Uz(t.getZr());this._controllerHost={target:this.group};this.group.add(this._mainGroup)};t.prototype.render=function(r,t,i){var n=r.getData();var a=r.layoutInfo;var e=this._mainGroup;var u=r.get("layout");if(u==="radial"){e.x=a.x+a.width/2;e.y=a.y+a.height/2}else{e.x=a.x;e.y=a.y}this._updateViewCoordSys(r,i);this._updateController(r,t,i);var o=this._data;n.diff(o).add((function(t){if(UO(n,t)){ZO(n,t,null,e,r)}})).update((function(t,i){var a=o.getItemGraphicEl(i);if(!UO(n,t)){a&&JO(o,i,a,e,r);return}ZO(n,t,a,e,r)})).remove((function(t){var i=o.getItemGraphicEl(t);if(i){JO(o,t,i,e,r)}})).execute();this._nodeScaleRatio=r.get("nodeScaleRatio");this._updateNodeAndLinkScale(r);if(r.get("expandAndCollapse")===true){n.eachItemGraphicEl((function(t,n){t.off("click").on("click",(function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:n})}))}))}this._data=n};t.prototype._updateViewCoordSys=function(r,t){var i=r.getData();var n=[];i.each((function(r){var t=i.getItemLayout(r);if(t&&!isNaN(t.x)&&!isNaN(t.y)){n.push([+t.x,+t.y])}}));var a=[];var e=[];Go(n,a,e);var u=this._min;var o=this._max;if(e[0]-a[0]===0){a[0]=u?u[0]:a[0]-1;e[0]=o?o[0]:e[0]+1}if(e[1]-a[1]===0){a[1]=u?u[1]:a[1]-1;e[1]=o?o[1]:e[1]+1}var v=r.coordinateSystem=new cO;v.zoomLimit=r.get("scaleLimit");v.setBoundingRect(a[0],a[1],e[0]-a[0],e[1]-a[1]);v.setCenter(r.get("center"),t);v.setZoom(r.get("zoom"));this.group.attr({x:v.x,y:v.y,scaleX:v.scaleX,scaleY:v.scaleY});this._min=a;this._max=e};t.prototype._updateController=function(r,t,i){var n=this;var a=this._controller;var e=this._controllerHost;var u=this.group;a.setPointerChecker((function(t,n,a){var e=u.getBoundingRect();e.applyTransform(u.transform);return e.contain(n,a)&&!Qz(t,i,r)}));a.enable(r.get("roam"));e.zoomLimit=r.get("scaleLimit");e.zoom=r.coordinateSystem.getZoom();a.off("pan").off("zoom").on("pan",(function(t){Kz(e,t.dx,t.dy);i.dispatchAction({seriesId:r.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){Jz(e,t.scale,t.originX,t.originY);i.dispatchAction({seriesId:r.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY});n._updateNodeAndLinkScale(r);i.updateLabelLayout()}))};t.prototype._updateNodeAndLinkScale=function(r){var t=r.getData();var i=this._getNodeGlobalScale(r);t.eachItemGraphicEl((function(r,t){r.setSymbolScale(i)}))};t.prototype._getNodeGlobalScale=function(r){var t=r.coordinateSystem;if(t.type!=="view"){return 1}var i=this._nodeScaleRatio;var n=t.scaleX||1;var a=t.getZoom();var e=(a-1)*i+1;return e/n};t.prototype.dispose=function(){this._controller&&this._controller.dispose();this._controllerHost=null};t.prototype.remove=function(){this._mainGroup.removeAll();this._data=null};t.type="tree";return t}(sg);function UO(r,t){var i=r.getItemLayout(t);return i&&!isNaN(i.x)&&!isNaN(i.y)}function ZO(r,t,i,n,a){var e=!i;var u=r.tree.getNodeByDataIndex(t);var o=u.getModel();var v=u.getVisual("style").fill;var s=u.isExpand===false&&u.children.length!==0?v:"#fff";var f=r.tree.root;var l=u.parentNode===f?u:u.parentNode||u;var h=r.getItemGraphicEl(l.dataIndex);var c=l.getLayout();var d=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:c;var p=u.getLayout();if(e){i=new gI(r,t,null,{symbolInnerColor:s,useNameLabel:true});i.x=d.x;i.y=d.y}else{i.updateData(r,t,null,{symbolInnerColor:s,useNameLabel:true})}i.__radialOldRawX=i.__radialRawX;i.__radialOldRawY=i.__radialRawY;i.__radialRawX=p.rawX;i.__radialRawY=p.rawY;n.add(i);r.setItemGraphicEl(t,i);i.__oldX=i.x;i.__oldY=i.y;nh(i,{x:p.x,y:p.y},a);var m=i.getSymbolPath();if(a.get("layout")==="radial"){var y=f.children[0];var g=y.getLayout();var b=y.children.length;var w=void 0;var x=void 0;if(p.x===g.x&&u.isExpand===true&&y.children.length){var M={x:(y.children[0].getLayout().x+y.children[b-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[b-1].getLayout().y)/2};w=Math.atan2(M.y-g.y,M.x-g.x);if(w<0){w=Math.PI*2+w}x=M.x<g.x;if(x){w=w-Math.PI}}else{w=Math.atan2(p.y-g.y,p.x-g.x);if(w<0){w=Math.PI*2+w}if(u.children.length===0||u.children.length!==0&&u.isExpand===false){x=p.x<g.x;if(x){w=w-Math.PI}}else{x=p.x>g.x;if(!x){w=w-Math.PI}}}var S=x?"left":"right";var k=o.getModel("label");var N=k.get("rotate");var A=N*(Math.PI/180);var I=m.getTextContent();if(I){m.setTextConfig({position:k.get("position")||S,rotation:N==null?-w:A,origin:"center"});I.setStyle("verticalAlign","middle")}}var C=o.get(["emphasis","focus"]);var T=C==="relative"?kr(u.getAncestorsIndices(),u.getDescendantIndices()):C==="ancestor"?u.getAncestorsIndices():C==="descendant"?u.getDescendantIndices():null;if(T){bs(i).focus=T}jO(a,u,f,i,d,c,p,n);if(i.__edge){i.onHoverStateChange=function(t){if(t!=="blur"){var n=u.parentNode&&r.getItemGraphicEl(u.parentNode.dataIndex);if(!(n&&n.hoverState===As)){qs(i.__edge,t)}}}}}function jO(r,t,i,n,a,e,u,o){var v=t.getModel();var s=r.get("edgeShape");var f=r.get("layout");var l=r.getOrient();var h=r.get(["lineStyle","curveness"]);var c=r.get("edgeForkPosition");var d=v.getModel("lineStyle").getLineStyle();var p=n.__edge;if(s==="curve"){if(t.parentNode&&t.parentNode!==i){if(!p){p=n.__edge=new Wl({shape:$O(f,l,h,a,a)})}nh(p,{shape:$O(f,l,h,e,u)},r)}}else if(s==="polyline"){if(f==="orthogonal"){if(t!==i&&t.children&&t.children.length!==0&&t.isExpand===true){var m=t.children;var y=[];for(var g=0;g<m.length;g++){var b=m[g].getLayout();y.push([b.x,b.y])}if(!p){p=n.__edge=new XO({shape:{parentPoint:[u.x,u.y],childPoints:[[u.x,u.y]],orient:l,forkPosition:c}})}nh(p,{shape:{parentPoint:[u.x,u.y],childPoints:y}},r)}}}if(p&&!(s==="polyline"&&!t.isExpand)){p.useStyle(B({strokeNoScale:true,fill:null},d));Cf(p,v,"lineStyle");tf(p);o.add(p)}}function qO(r,t,i,n,a){var e=t.tree.root;var u=KO(e,r),o=u.source,v=u.sourceLayout;var s=t.getItemGraphicEl(r.dataIndex);if(!s){return}var f=t.getItemGraphicEl(o.dataIndex);var l=f.__edge;var h=s.__edge||(o.isExpand===false||o.children.length===1?l:undefined);var c=n.get("edgeShape");var d=n.get("layout");var p=n.get("orient");var m=n.get(["lineStyle","curveness"]);if(h){if(c==="curve"){uh(h,{shape:$O(d,p,m,v,v),style:{opacity:0}},n,{cb:function(){i.remove(h)},removeOpt:a})}else if(c==="polyline"&&n.get("layout")==="orthogonal"){uh(h,{shape:{parentPoint:[v.x,v.y],childPoints:[[v.x,v.y]]},style:{opacity:0}},n,{cb:function(){i.remove(h)},removeOpt:a})}}}function KO(r,t){var i=t.parentNode===r?t:t.parentNode||t;var n;while(n=i.getLayout(),n==null){i=i.parentNode===r?i:i.parentNode||i}return{source:i,sourceLayout:n}}function JO(r,t,i,n,a){var e=r.tree.getNodeByDataIndex(t);var u=r.tree.root;var o=KO(u,e).sourceLayout;var v={duration:a.get("animationDurationUpdate"),easing:a.get("animationEasingUpdate")};uh(i,{x:o.x+1,y:o.y+1},a,{cb:function(){n.remove(i);r.setItemGraphicEl(t,null)},removeOpt:v});i.fadeOut(null,r.hostModel,{fadeLabel:true,animation:v});e.children.forEach((function(t){qO(t,r,n,a,v)}));qO(e,r,n,a,v)}function $O(r,t,i,n,a){var e;var u;var o;var v;var s;var f;var l;var h;if(r==="radial"){s=n.rawX;l=n.rawY;f=a.rawX;h=a.rawY;var c=RO(s,l);var d=RO(s,l+(h-l)*i);var p=RO(f,h+(l-h)*i);var m=RO(f,h);return{x1:c.x||0,y1:c.y||0,x2:m.x||0,y2:m.y||0,cpx1:d.x||0,cpy1:d.y||0,cpx2:p.x||0,cpy2:p.y||0}}else{s=n.x;l=n.y;f=a.x;h=a.y;if(t==="LR"||t==="RL"){e=s+(f-s)*i;u=l;o=f+(s-f)*i;v=h}if(t==="TB"||t==="BT"){e=s;u=l+(h-l)*i;o=f;v=h+(l-h)*i}}return{x1:s,y1:l,x2:f,y2:h,cpx1:e,cpy1:u,cpx2:o,cpy2:v}}var QO=Lu();function rD(r){var t=r.mainData;var i=r.datas;if(!i){i={main:t};r.datasAttr={main:"data"}}r.datas=r.mainData=null;oD(t,i,r);V(i,(function(i){V(t.TRANSFERABLE_METHODS,(function(t){i.wrapMethod(t,q(tD,r))}))}));t.wrapMethod("cloneShallow",q(nD,r));V(t.CHANGABLE_METHODS,(function(i){t.wrapMethod(i,q(iD,r))}));dr(i[t.dataType]===t)}function tD(r,t){if(uD(this)){var i=F({},QO(this).datas);i[this.dataType]=t;oD(t,i,r)}else{vD(t,this.dataType,QO(this).mainData,r)}return t}function iD(r,t){r.struct&&r.struct.update();return t}function nD(r,t){V(QO(t).datas,(function(i,n){i!==t&&vD(i.cloneShallow(),n,t,r)}));return t}function aD(r){var t=QO(this).mainData;return r==null||t==null?t:QO(t).datas[r]}function eD(){var r=QO(this).mainData;return r==null?[{data:r}]:H(U(QO(r).datas),(function(t){return{type:t,data:QO(r).datas[t]}}))}function uD(r){return QO(r).mainData===r}function oD(r,t,i){QO(r).datas={};V(t,(function(t,n){vD(t,n,r,i)}))}function vD(r,t,i,n){QO(i).datas[t]=r;QO(r).mainData=i;r.dataType=t;if(n.struct){r[n.structAttr]=n.struct;n.struct[n.datasAttr[t]]=r}r.getLinkedData=aD;r.getLinkedDataAll=eD}var sD=function(){function r(r,t){this.depth=0;this.height=0;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.isExpand=false;this.name=r||"";this.hostTree=t}r.prototype.isRemoved=function(){return this.dataIndex<0};r.prototype.eachNode=function(r,t,i){if(J(r)){i=t;t=r;r=null}r=r||{};if($(r)){r={order:r}}var n=r.order||"preorder";var a=this[r.attr||"children"];var e;n==="preorder"&&(e=t.call(i,this));for(var u=0;!e&&u<a.length;u++){a[u].eachNode(r,t,i)}n==="postorder"&&t.call(i,this)};r.prototype.updateDepthAndHeight=function(r){var t=0;this.depth=r;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(r+1);if(n.height>t){t=n.height}}this.height=t+1};r.prototype.getNodeById=function(r){if(this.getId()===r){return this}for(var t=0,i=this.children,n=i.length;t<n;t++){var a=i[t].getNodeById(r);if(a){return a}}};r.prototype.contains=function(r){if(r===this){return true}for(var t=0,i=this.children,n=i.length;t<n;t++){var a=i[t].contains(r);if(a){return a}}};r.prototype.getAncestors=function(r){var t=[];var i=r?this:this.parentNode;while(i){t.push(i);i=i.parentNode}t.reverse();return t};r.prototype.getAncestorsIndices=function(){var r=[];var t=this;while(t){r.push(t.dataIndex);t=t.parentNode}r.reverse();return r};r.prototype.getDescendantIndices=function(){var r=[];this.eachNode((function(t){r.push(t.dataIndex)}));return r};r.prototype.getValue=function(r){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(r||"value"),this.dataIndex)};r.prototype.setLayout=function(r,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,r,t)};r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)};r.prototype.getModel=function(r){if(this.dataIndex<0){return}var t=this.hostTree;var i=t.data.getItemModel(this.dataIndex);return i.getModel(r)};r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]};r.prototype.setVisual=function(r,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,r,t)};r.prototype.getVisual=function(r){return this.hostTree.data.getItemVisual(this.dataIndex,r)};r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)};r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)};r.prototype.getChildIndex=function(){if(this.parentNode){var r=this.parentNode.children;for(var t=0;t<r.length;++t){if(r[t]===this){return t}}return-1}return-1};r.prototype.isAncestorOf=function(r){var t=r.parentNode;while(t){if(t===this){return true}t=t.parentNode}return false};r.prototype.isDescendantOf=function(r){return r!==this&&r.isAncestorOf(this)};return r}();var fD=function(){function r(r){this.type="tree";this._nodes=[];this.hostModel=r}r.prototype.eachNode=function(r,t,i){this.root.eachNode(r,t,i)};r.prototype.getNodeByDataIndex=function(r){var t=this.data.getRawIndex(r);return this._nodes[t]};r.prototype.getNodeById=function(r){return this.root.getNodeById(r)};r.prototype.update=function(){var r=this.data;var t=this._nodes;for(var i=0,n=t.length;i<n;i++){t[i].dataIndex=-1}for(var i=0,n=r.count();i<n;i++){t[r.getRawIndex(i)].dataIndex=i}};r.prototype.clearLayouts=function(){this.data.clearItemLayouts()};r.createTree=function(t,i,n){var a=new r(i);var e=[];var u=1;o(t);function o(r,t){var i=r.value;u=Math.max(u,K(i)?i.length:1);e.push(r);var n=new sD(Su(r.name,""),a);t?lD(n,t):a.root=n;a._nodes.push(n);var v=r.children;if(v){for(var s=0;s<v.length;s++){o(v[s],n)}}}a.root.updateDepthAndHeight(0);var v=zM(e,{coordDimensions:["value"],dimensionsCount:u}).dimensions;var s=new TM(v,i);s.initData(e);n&&n(s);rD({mainData:s,struct:a,structAttr:"tree"});a.update();return a};return r}();function lD(r,t){var i=t.children;if(r.parentNode===t){return}i.push(r);r.parentNode=t}function hD(r,t,i){if(r&&_(t,r.type)>=0){var n=i.getData().tree.root;var a=r.targetNode;if($(a)){a=n.getNodeById(a)}if(a&&n.contains(a)){return{node:a}}var e=r.targetNodeId;if(e!=null&&(a=n.getNodeById(e))){return{node:a}}}}function cD(r){var t=[];while(r){r=r.parentNode;r&&t.push(r)}return t.reverse()}function dD(r,t){var i=cD(r);return _(i,t)>=0}function pD(r,t){var i=[];while(r){var n=r.dataIndex;i.push({name:r.name,dataIndex:n,value:t.getRawValue(n)});r=r.parentNode}i.reverse();return i}var mD=function(r){a(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t.hasSymbolVisual=true;t.ignoreStyleOnData=true;return t}t.prototype.getInitialData=function(r){var t={name:r.name,children:r.data};var i=r.leaves||{};var n=new yc(i,this,this.ecModel);var a=fD.createTree(t,this,e);function e(r){r.wrapMethod("getItemModel",(function(r,t){var i=a.getNodeByDataIndex(t);if(!(i&&i.children.length&&i.isExpand)){r.parentModel=n}return r}))}var u=0;a.eachNode("preorder",(function(r){if(r.depth>u){u=r.depth}}));var o=r.expandAndCollapse;var v=o&&r.initialTreeDepth>=0?r.initialTreeDepth:u;a.root.eachNode("preorder",(function(r){var t=r.hostTree.data.getRawDataItem(r.dataIndex);r.isExpand=t&&t.collapsed!=null?!t.collapsed:r.depth<=v}));return a.data};t.prototype.getOrient=function(){var r=this.get("orient");if(r==="horizontal"){r="LR"}else if(r==="vertical"){r="TB"}return r};t.prototype.setZoom=function(r){this.option.zoom=r};t.prototype.setCenter=function(r){this.option.center=r};t.prototype.formatTooltip=function(r,t,i){var n=this.getData().tree;var a=n.root.children[0];var e=n.getNodeByDataIndex(r);var u=e.getValue();var o=e.name;while(e&&e!==a){o=e.parentNode.name+"."+o;e=e.parentNode}return Ty("nameValue",{name:o,value:u,noValue:isNaN(u)||u==null})};t.prototype.getDataParams=function(t){var i=r.prototype.getDataParams.apply(this,arguments);var n=this.getData().tree.getNodeByDataIndex(t);i.treeAncestors=pD(n,this);i.collapsed=!n.isExpand;return i};t.type="series.tree";t.layoutMode="box";t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:false,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:true,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:true},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500};return t}(Ky);function yD(r,t,i){var n=[r];var a=[];var e;while(e=n.pop()){a.push(e);if(e.isExpand){var u=e.children;if(u.length){for(var o=0;o<u.length;o++){n.push(u[o])}}}}while(e=a.pop()){t(e,i)}}function gD(r,t){var i=[r];var n;while(n=i.pop()){t(n);if(n.isExpand){var a=n.children;if(a.length){for(var e=a.length-1;e>=0;e--){i.push(a[e])}}}}}function bD(r,t){r.eachSeriesByType("tree",(function(r){wD(r,t)}))}function wD(r,t){var i=FO(r,t);r.layoutInfo=i;var n=r.get("layout");var a=0;var e=0;var u=null;if(n==="radial"){a=2*Math.PI;e=Math.min(i.height,i.width)/2;u=DO((function(r,t){return(r.parentNode===t.parentNode?1:2)/r.depth}))}else{a=i.width;e=i.height;u=DO()}var o=r.getData().tree.root;var v=o.children[0];if(v){zO(o);yD(v,LO,u);o.hierNode.modifier=-v.hierNode.prelim;gD(v,OO);var s=v;var f=v;var l=v;gD(v,(function(r){var t=r.getLayout().x;if(t<s.getLayout().x){s=r}if(t>f.getLayout().x){f=r}if(r.depth>l.depth){l=r}}));var h=s===f?1:u(s,f)/2;var c=h-s.getLayout().x;var d=0;var p=0;var m=0;var y=0;if(n==="radial"){d=a/(f.getLayout().x+h+c);p=e/(l.depth-1||1);gD(v,(function(r){m=(r.getLayout().x+c)*d;y=(r.depth-1)*p;var t=RO(m,y);r.setLayout({x:t.x,y:t.y,rawX:m,rawY:y},true)}))}else{var g=r.getOrient();if(g==="RL"||g==="LR"){p=e/(f.getLayout().x+h+c);d=a/(l.depth-1||1);gD(v,(function(r){y=(r.getLayout().x+c)*p;m=g==="LR"?(r.depth-1)*d:a-(r.depth-1)*d;r.setLayout({x:m,y},true)}))}else if(g==="TB"||g==="BT"){d=a/(f.getLayout().x+h+c);p=e/(l.depth-1||1);gD(v,(function(r){m=(r.getLayout().x+c)*d;y=g==="TB"?(r.depth-1)*p:e-(r.depth-1)*p;r.setLayout({x:m,y},true)}))}}}}function xD(r){r.eachSeriesByType("tree",(function(r){var t=r.getData();var i=t.tree;i.eachNode((function(r){var i=r.getModel();var n=i.getModel("itemStyle").getItemStyle();var a=t.ensureUniqueItemVisual(r.dataIndex,"style");F(a,n)}))}))}function MD(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(r,t){t.eachComponent({mainType:"series",subType:"tree",query:r},(function(t){var i=r.dataIndex;var n=t.getData().tree;var a=n.getNodeByDataIndex(i);a.isExpand=!a.isExpand}))}));r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(r,t,i){t.eachComponent({mainType:"series",subType:"tree",query:r},(function(t){var n=t.coordinateSystem;var a=NO(n,r,undefined,i);t.setCenter&&t.setCenter(a.center);t.setZoom&&t.setZoom(a.zoom)}))}))}function SD(r){r.registerChartView(GO);r.registerSeriesModel(mD);r.registerLayout(bD);r.registerVisual(xD);MD(r)}var kD=["treemapZoomToNode","treemapRender","treemapMove"];function ND(r){for(var t=0;t<kD.length;t++){r.registerAction({type:kD[t],update:"updateView"},Cr)}r.registerAction({type:"treemapRootToNode",update:"updateView"},(function(r,t){t.eachComponent({mainType:"series",subType:"treemap",query:r},i);function i(t,i){var n=["treemapZoomToNode","treemapRootToNode"];var a=hD(r,n,t);if(a){var e=t.getViewRoot();if(e){r.direction=dD(e,a.node)?"rollUp":"drillDown"}t.resetViewRoot(a.node)}}}))}function AD(r){var t=r.getData();var i=t.tree;var n={};i.eachNode((function(t){var i=t;while(i&&i.depth>1){i=i.parentNode}var a=cp(r.ecModel,i.name||i.dataIndex+"",n);t.setVisual("decal",a)}))}var ID=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.preventUsingHoverLayer=true;return i}t.prototype.getInitialData=function(r,t){var i={name:r.name,children:r.data};CD(i);var n=r.levels||[];var a=this.designatedVisualItemStyle={};var e=new yc({itemStyle:a},this,t);n=r.levels=TD(n,t);var u=H(n||[],(function(r){return new yc(r,e,t)}),this);var o=fD.createTree(i,this,v);function v(r){r.wrapMethod("getItemModel",(function(r,t){var i=o.getNodeByDataIndex(t);var n=i?u[i.depth]:null;r.parentModel=n||e;return r}))}return o.data};t.prototype.optionUpdated=function(){this.resetViewRoot()};t.prototype.formatTooltip=function(r,t,i){var n=this.getData();var a=this.getRawValue(r);var e=n.getName(r);return Ty("nameValue",{name:e,value:a})};t.prototype.getDataParams=function(t){var i=r.prototype.getDataParams.apply(this,arguments);var n=this.getData().tree.getNodeByDataIndex(t);i.treeAncestors=pD(n,this);i.treePathInfo=i.treeAncestors;return i};t.prototype.setLayoutInfo=function(r){this.layoutInfo=this.layoutInfo||{};F(this.layoutInfo,r)};t.prototype.mapIdToIndex=function(r){var t=this._idIndexMap;if(!t){t=this._idIndexMap=Sr();this._idIndexMapCount=0}var i=t.get(r);if(i==null){t.set(r,i=this._idIndexMapCount++)}return i};t.prototype.getViewRoot=function(){return this._viewRoot};t.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var t=this.getRawData().tree.root;if(!r||r!==t&&!t.contains(r)){this._viewRoot=t}};t.prototype.enableAriaDecal=function(){AD(this)};t.type="series.treemap";t.layoutMode="box";t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:true,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,roam:true,nodeClick:"zoomToNode",animation:true,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:true,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:true,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:false,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:true,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]};return t}(Ky);function CD(r){var t=0;V(r.children,(function(r){CD(r);var i=r.value;K(i)&&(i=i[0]);t+=i}));var i=r.value;if(K(i)){i=i[0]}if(i==null||isNaN(i)){i=t}if(i<0){i=0}K(r.value)?r.value[0]=i:r.value=i}function TD(r,t){var i=su(t.get("color"));var n=su(t.get(["aria","decal","decals"]));if(!i){return}r=r||[];var a;var e;V(r,(function(r){var t=new yc(r);var i=t.get("color");var n=t.get("decal");if(t.get(["itemStyle","color"])||i&&i!=="none"){a=true}if(t.get(["itemStyle","decal"])||n&&n!=="none"){e=true}}));var u=r[0]||(r[0]={});if(!a){u.color=i.slice()}if(!e&&n){u.decal=n.slice()}return r}var zD=8;var LD=8;var OD=5;var DD=function(){function r(r){this.group=new xe;r.add(this.group)}r.prototype.render=function(r,t,i,n){var a=r.getModel("breadcrumb");var e=this.group;e.removeAll();if(!a.get("show")||!i){return}var u=a.getModel("itemStyle");var o=a.getModel("emphasis");var v=u.getModel("textStyle");var s=o.getModel(["itemStyle","textStyle"]);var f={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,f,v);this._renderContent(r,f,u,o,v,s,n);Ld(e,f.pos,f.box)};r.prototype._prepare=function(r,t,i){for(var n=r;n;n=n.parentNode){var a=Su(n.getModel().get("name"),"");var e=i.getTextRect(a);var u=Math.max(e.width+zD*2,t.emptyItemWidth);t.totalWidth+=u+LD;t.renderList.push({node:n,text:a,width:u})}};r.prototype._renderContent=function(r,t,i,n,a,e,u){var o=0;var v=t.emptyItemWidth;var s=r.get(["breadcrumb","height"]);var f=Td(t.pos,t.box);var l=t.totalWidth;var h=t.renderList;var c=n.getModel("itemStyle").getItemStyle();for(var d=h.length-1;d>=0;d--){var p=h[d];var m=p.node;var y=p.width;var g=p.text;if(l>f.width){l-=y-v;y=v;g=null}var b=new Ll({shape:{points:RD(o,0,y,s,d===h.length-1,d===0)},style:B(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new es({style:qh(a,{text:g})}),textConfig:{position:"inside"},z2:zs*1e4,onclick:q(u,m)});b.disableLabelAnimation=true;b.getTextContent().ensureState("emphasis").style=qh(e,{text:g});b.ensureState("emphasis").style=c;kf(b,n.get("focus"),n.get("blurScope"),n.get("disabled"));this.group.add(b);FD(b,r,m);o+=y+LD}};r.prototype.remove=function(){this.group.removeAll()};return r}();function RD(r,t,i,n,a,e){var u=[[a?r:r-OD,t],[r+i,t],[r+i,t+n],[a?r:r-OD,t+n]];!e&&u.splice(2,0,[r+i+OD,t+n/2]);!a&&u.push([r,t+n/2]);return u}function FD(r,t,i){bs(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&pD(i,t)}}var BD=function(){function r(){this._storage=[];this._elExistsMap={}}r.prototype.add=function(r,t,i,n,a){if(this._elExistsMap[r.id]){return false}this._elExistsMap[r.id]=true;this._storage.push({el:r,target:t,duration:i,delay:n,easing:a});return true};r.prototype.finished=function(r){this._finishedCallback=r;return this};r.prototype.start=function(){var r=this;var t=this._storage.length;var i=function(){t--;if(t<=0){r._storage.length=0;r._elExistsMap={};r._finishedCallback&&r._finishedCallback()}};for(var n=0,a=this._storage.length;n<a;n++){var e=this._storage[n];e.el.animateTo(e.target,{duration:e.duration,delay:e.delay,easing:e.easing,setToFinal:true,done:i,aborted:i})}return this};return r}();function _D(){return new BD}var ED=xe;var PD=ts;var WD=3;var VD="label";var HD="upperLabel";var YD=zs*10;var XD=zs*2;var GD=zs*3;var UD=no([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var ZD=function(r){var t=UD(r);t.stroke=t.fill=t.lineWidth=null;return t};var jD=Lu();var qD=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i._state="ready";i._storage=KD();return i}t.prototype.render=function(r,t,i,n){var a=t.findComponents({mainType:"series",subType:"treemap",query:n});if(_(a,r)<0){return}this.seriesModel=r;this.api=i;this.ecModel=t;var e=["treemapZoomToNode","treemapRootToNode"];var u=hD(n,e,r);var o=n&&n.type;var v=r.layoutInfo;var s=!this._oldTree;var f=this._storage;var l=o==="treemapRootToNode"&&u&&f?{rootNodeGroup:f.nodeGroup[u.node.getRawIndex()],direction:n.direction}:null;var h=this._giveContainerGroup(v);var c=r.get("animation");var d=this._doRender(h,r,l);c&&!s&&(!o||o==="treemapZoomToNode"||o==="treemapRootToNode")?this._doAnimation(h,d,r,l):d.renderFinally();this._resetController(i);this._renderBreadcrumb(r,i,u)};t.prototype._giveContainerGroup=function(r){var t=this._containerGroup;if(!t){t=this._containerGroup=new ED;this._initEvents(t);this.group.add(t)}t.x=r.x;t.y=r.y;return t};t.prototype._doRender=function(r,t,i){var n=t.getData().tree;var a=this._oldTree;var e=KD();var u=KD();var o=this._storage;var v=[];function s(r,n,a,s){return JD(t,u,o,i,e,v,r,n,a,s)}l(n.root?[n.root]:[],a&&a.root?[a.root]:[],r,n===a||!a,0);var f=h(o);this._oldTree=n;this._storage=u;return{lastsForAnimation:e,willDeleteEls:f,renderFinally:c};function l(r,t,i,n,a){if(n){t=r;V(r,(function(r,t){!r.isRemoved()&&u(t,t)}))}else{new tM(t,r,e,e).add(u).update(u).remove(q(u,null)).execute()}function e(r){return r.getId()}function u(e,u){var o=e!=null?r[e]:null;var v=u!=null?t[u]:null;var f=s(o,v,i,a);f&&l(o&&o.viewChildren||[],v&&v.viewChildren||[],f,n,a+1)}}function h(r){var t=KD();r&&V(r,(function(r,i){var n=t[i];V(r,(function(r){r&&(n.push(r),jD(r).willDelete=true)}))}));return t}function c(){V(f,(function(r){V(r,(function(r){r.parent&&r.parent.remove(r)}))}));V(v,(function(r){r.invisible=true;r.dirty()}))}};t.prototype._doAnimation=function(r,t,i,n){var a=i.get("animationDurationUpdate");var e=i.get("animationEasing");var u=(J(a)?0:a)||0;var o=(J(e)?null:e)||"cubicOut";var v=_D();V(t.willDeleteEls,(function(r,t){V(r,(function(r,i){if(r.invisible){return}var a=r.parent;var e;var s=jD(a);if(n&&n.direction==="drillDown"){e=a===n.rootNodeGroup?{shape:{x:0,y:0,width:s.nodeWidth,height:s.nodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var f=0;var l=0;if(!s.willDelete){f=s.nodeWidth/2;l=s.nodeHeight/2}e=t==="nodeGroup"?{x:f,y:l,style:{opacity:0}}:{shape:{x:f,y:l,width:0,height:0},style:{opacity:0}}}e&&v.add(r,e,u,0,o)}))}));V(this._storage,(function(r,i){V(r,(function(r,n){var a=t.lastsForAnimation[i][n];var e={};if(!a){return}if(r instanceof xe){if(a.oldX!=null){e.x=r.x;e.y=r.y;r.x=a.oldX;r.y=a.oldY}}else{if(a.oldShape){e.shape=F({},r.shape);r.setShape(a.oldShape)}if(a.fadein){r.setStyle("opacity",0);e.style={opacity:1}}else if(r.style.opacity!==1){e.style={opacity:1}}}v.add(r,e,u,0,o)}))}),this);this._state="animating";v.finished(j((function(){this._state="ready";t.renderFinally()}),this)).start()};t.prototype._resetController=function(r){var t=this._controller;if(!t){t=this._controller=new Uz(r.getZr());t.enable(this.seriesModel.get("roam"));t.on("pan",j(this._onPan,this));t.on("zoom",j(this._onZoom,this))}var i=new Zt(0,0,r.getWidth(),r.getHeight());t.setPointerChecker((function(r,t,n){return i.contain(t,n)}))};t.prototype._clearController=function(){var r=this._controller;if(r){r.dispose();r=null}};t.prototype._onPan=function(r){if(this._state!=="animating"&&(Math.abs(r.dx)>WD||Math.abs(r.dy)>WD)){var t=this.seriesModel.getData().tree.root;if(!t){return}var i=t.getLayout();if(!i){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+r.dx,y:i.y+r.dy,width:i.width,height:i.height}})}};t.prototype._onZoom=function(r){var t=r.originX;var i=r.originY;if(this._state!=="animating"){var n=this.seriesModel.getData().tree.root;if(!n){return}var a=n.getLayout();if(!a){return}var e=new Zt(a.x,a.y,a.width,a.height);var u=this.seriesModel.layoutInfo;t-=u.x;i-=u.y;var o=Tt();Dt(o,o,[-t,-i]);Ft(o,o,[r.scale,r.scale]);Dt(o,o,[t,i]);e.applyTransform(o);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:e.x,y:e.y,width:e.width,height:e.height}})}};t.prototype._initEvents=function(r){var t=this;r.on("click",(function(r){if(t._state!=="ready"){return}var i=t.seriesModel.get("nodeClick",true);if(!i){return}var n=t.findTarget(r.offsetX,r.offsetY);if(!n){return}var a=n.node;if(a.getLayout().isLeafRoot){t._rootToNode(n)}else{if(i==="zoomToNode"){t._zoomToNode(n)}else if(i==="link"){var e=a.hostTree.data.getItemModel(a.dataIndex);var u=e.get("link",true);var o=e.get("target",true)||"blank";u&&Sd(u,o)}}}),this)};t.prototype._renderBreadcrumb=function(r,t,i){var n=this;if(!i){i=r.get("leafDepth",true)!=null?{node:r.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2);if(!i){i={node:r.getData().tree.root}}}(this._breadcrumb||(this._breadcrumb=new DD(this.group))).render(r,t,i.node,(function(t){if(n._state!=="animating"){dD(r.getViewRoot(),t)?n._rootToNode({node:t}):n._zoomToNode({node:t})}}))};t.prototype.remove=function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=KD();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()};t.prototype.dispose=function(){this._clearController()};t.prototype._zoomToNode=function(r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})};t.prototype._rootToNode=function(r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})};t.prototype.findTarget=function(r,t){var i;var n=this.seriesModel.getViewRoot();n.eachNode({attr:"viewChildren",order:"preorder"},(function(n){var a=this._storage.background[n.getRawIndex()];if(a){var e=a.transformCoordToLocal(r,t);var u=a.shape;if(u.x<=e[0]&&e[0]<=u.x+u.width&&u.y<=e[1]&&e[1]<=u.y+u.height){i={node:n,offsetX:e[0],offsetY:e[1]}}else{return false}}}),this);return i};t.type="treemap";return t}(sg);function KD(){return{nodeGroup:[],background:[],content:[]}}function JD(r,t,i,n,a,e,u,o,v,s){if(!u){return}var f=u.getLayout();var l=r.getData();var h=u.getModel();l.setItemGraphicEl(u.dataIndex,null);if(!f||!f.isInView){return}var c=f.width;var d=f.height;var p=f.borderWidth;var m=f.invisible;var y=u.getRawIndex();var g=o&&o.getRawIndex();var b=u.viewChildren;var w=f.upperHeight;var x=b&&b.length;var M=h.getModel("itemStyle");var S=h.getModel(["emphasis","itemStyle"]);var k=h.getModel(["blur","itemStyle"]);var N=h.getModel(["select","itemStyle"]);var A=M.get("borderRadius")||0;var I=V("nodeGroup",ED);if(!I){return}v.add(I);I.x=f.x||0;I.y=f.y||0;I.markRedraw();jD(I).nodeWidth=c;jD(I).nodeHeight=d;if(f.isAboveViewRoot){return I}var C=V("background",PD,s,XD);C&&B(I,C,x&&f.upperLabelHeight);var T=h.getModel("emphasis");var z=T.get("focus");var L=T.get("blurScope");var O=T.get("disabled");var D=z==="ancestor"?u.getAncestorsIndices():z==="descendant"?u.getDescendantIndices():z;if(x){if(zf(I)){Tf(I,false)}if(C){Tf(C,!O);l.setItemGraphicEl(u.dataIndex,C);Nf(C,D,L)}}else{var R=V("content",PD,s,GD);R&&_(I,R);C.disableMorphing=true;if(C&&zf(C)){Tf(C,false)}Tf(I,!O);l.setItemGraphicEl(u.dataIndex,I);Nf(I,D,L)}return I;function B(t,i,n){var a=bs(i);a.dataIndex=u.dataIndex;a.seriesIndex=r.seriesIndex;i.setShape({x:0,y:0,width:c,height:d,r:A});if(m){E(i)}else{i.invisible=false;var e=u.getVisual("style");var o=e.stroke;var v=ZD(M);v.fill=o;var s=UD(S);s.fill=S.get("borderColor");var f=UD(k);f.fill=k.get("borderColor");var l=UD(N);l.fill=N.get("borderColor");if(n){var h=c-2*p;P(i,o,e.opacity,{x:p,y:0,width:h,height:w})}else{i.removeTextContent()}i.setStyle(v);i.ensureState("emphasis").style=s;i.ensureState("blur").style=f;i.ensureState("select").style=l;tf(i)}t.add(i)}function _(t,i){var n=bs(i);n.dataIndex=u.dataIndex;n.seriesIndex=r.seriesIndex;var a=Math.max(c-2*p,0);var e=Math.max(d-2*p,0);i.culling=true;i.setShape({x:p,y:p,width:a,height:e,r:A});if(m){E(i)}else{i.invisible=false;var o=u.getVisual("style");var v=o.fill;var s=ZD(M);s.fill=v;s.decal=o.decal;var f=UD(S);var l=UD(k);var h=UD(N);P(i,v,o.opacity,null);i.setStyle(s);i.ensureState("emphasis").style=f;i.ensureState("blur").style=l;i.ensureState("select").style=h;tf(i)}t.add(i)}function E(r){!r.invisible&&e.push(r)}function P(t,i,n,a){var e=h.getModel(a?HD:VD);var o=Su(h.get("name"),null);var v=e.getShallow("show");Zh(t,jh(h,a?HD:VD),{defaultText:v?o:null,inheritColor:i,defaultOpacity:n,labelFetcher:r,labelDataIndex:u.dataIndex});var s=t.getTextContent();if(!s){return}var l=s.style;var c=cr(l.padding||0);if(a){t.setTextConfig({layoutRect:a});s.disableLabelLayout=true}s.beforeUpdate=function(){var r=Math.max((a?a.width:t.shape.width)-c[1]-c[3],0);var i=Math.max((a?a.height:t.shape.height)-c[0]-c[2],0);if(l.width!==r||l.height!==i){s.setStyle({width:r,height:i})}};l.truncateMinChar=2;l.lineOverflow="truncate";W(l,a,f);var d=s.getState("emphasis");W(d?d.style:null,a,f)}function W(t,i,n){var a=t?t.text:null;if(!i&&n.isLeafRoot&&a!=null){var e=r.get("drillDownIcon",true);t.text=e?e+" "+a:a}}function V(r,n,e,u){var o=g!=null&&i[r][g];var v=a[r];if(o){i[r][g]=null;H(v,o)}else if(!m){o=new n;if(o instanceof Do){o.z2=$D(e,u)}Y(v,o)}return t[r][y]=o}function H(r,t){var i=r[y]={};if(t instanceof ED){i.oldX=t.x;i.oldY=t.y}else{i.oldShape=F({},t.shape)}}function Y(r,t){var i=r[y]={};var e=u.parentNode;var o=t instanceof xe;if(e&&(!n||n.direction==="drillDown")){var v=0;var s=0;var f=a.background[e.getRawIndex()];if(!n&&f&&f.oldShape){v=f.oldShape.width;s=f.oldShape.height}if(o){i.oldX=0;i.oldY=s}else{i.oldShape={x:v,y:s,width:0,height:0}}}i.fadein=!o}}function $D(r,t){return r*YD+t}var QD=V;var rR=tr;var tR=-1;var iR=function(){function r(t){var i=t.mappingMethod;var n=t.type;var a=this.option=O(t);this.type=n;this.mappingMethod=i;this._normalizeData=dR[i];var e=r.visualHandlers[n];this.applyVisual=e.applyVisual;this.getColorMapper=e.getColorMapper;this._normalizedToVisual=e._normalizedToVisual[i];if(i==="piecewise"){eR(a);nR(a)}else if(i==="category"){a.categories?aR(a):eR(a,true)}else{dr(i!=="linear"||a.dataExtent);eR(a)}}r.prototype.mapValueToVisual=function(r){var t=this._normalizeData(r);return this._normalizedToVisual(t,r)};r.prototype.getNormalizer=function(){return j(this._normalizeData,this)};r.listVisualTypes=function(){return U(r.visualHandlers)};r.isValidType=function(t){return r.visualHandlers.hasOwnProperty(t)};r.eachVisual=function(r,t,i){if(tr(r)){V(r,t,i)}else{t.call(i,r)}};r.mapVisual=function(t,i,n){var a;var e=K(t)?[]:tr(t)?{}:(a=true,null);r.eachVisual(t,(function(r,t){var u=i.call(n,r,t);a?e=u:e[t]=u}));return e};r.retrieveVisuals=function(t){var i={};var n;t&&QD(r.visualHandlers,(function(r,a){if(t.hasOwnProperty(a)){i[a]=t[a];n=true}}));return n?i:null};r.prepareVisualTypes=function(r){if(K(r)){r=r.slice()}else if(rR(r)){var t=[];QD(r,(function(r,i){t.push(i)}));r=t}else{return[]}r.sort((function(r,t){return t==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}));return r};r.dependsOn=function(r,t){return t==="color"?!!(r&&r.indexOf(t)===0):r===t};r.findPieceIndex=function(r,t,i){var n;var a=Infinity;for(var e=0,u=t.length;e<u;e++){var o=t[e].value;if(o!=null){if(o===r||$(o)&&o===r+""){return e}i&&l(o,e)}}for(var e=0,u=t.length;e<u;e++){var v=t[e];var s=v.interval;var f=v.close;if(s){if(s[0]===-Infinity){if(pR(f[1],r,s[1])){return e}}else if(s[1]===Infinity){if(pR(f[0],s[0],r)){return e}}else if(pR(f[0],s[0],r)&&pR(f[1],r,s[1])){return e}i&&l(s[0],e);i&&l(s[1],e)}}if(i){return r===Infinity?t.length-1:r===-Infinity?0:n}function l(t,i){var e=Math.abs(t-r);if(e<a){a=e;n=i}}};r.visualHandlers={color:{applyVisual:vR("color"),getColorMapper:function(){var r=this.option;return j(r.mappingMethod==="category"?function(r,t){!t&&(r=this._normalizeData(r));return sR.call(this,r)}:function(t,i,n){var a=!!n;!i&&(t=this._normalizeData(t));n=wn(t,r.parsedVisual,n);return a?n:kn(n,"rgba")},this)},_normalizedToVisual:{linear:function(r){return kn(wn(r,this.option.parsedVisual),"rgba")},category:sR,piecewise:function(r,t){var i=hR.call(this,t);if(i==null){i=kn(wn(r,this.option.parsedVisual),"rgba")}return i},fixed:fR}},colorHue:uR((function(r,t){return Mn(r,t)})),colorSaturation:uR((function(r,t){return Mn(r,null,t)})),colorLightness:uR((function(r,t){return Mn(r,null,null,t)})),colorAlpha:uR((function(r,t){return Sn(r,t)})),decal:{applyVisual:vR("decal"),_normalizedToVisual:{linear:null,category:sR,piecewise:null,fixed:null}},opacity:{applyVisual:vR("opacity"),_normalizedToVisual:lR([0,1])},liftZ:{applyVisual:vR("liftZ"),_normalizedToVisual:{linear:fR,category:fR,piecewise:fR,fixed:fR}},symbol:{applyVisual:function(r,t,i){var n=this.mapValueToVisual(r);i("symbol",n)},_normalizedToVisual:{linear:oR,category:sR,piecewise:function(r,t){var i=hR.call(this,t);if(i==null){i=oR.call(this,r)}return i},fixed:fR}},symbolSize:{applyVisual:vR("symbolSize"),_normalizedToVisual:lR([0,1])}};return r}();function nR(r){var t=r.pieceList;r.hasSpecialVisual=false;V(t,(function(t,i){t.originIndex=i;if(t.visual!=null){r.hasSpecialVisual=true}}))}function aR(r){var t=r.categories;var i=r.categoryMap={};var n=r.visual;QD(t,(function(r,t){i[r]=t}));if(!K(n)){var a=[];if(tr(n)){QD(n,(function(r,t){var n=i[t];a[n!=null?n:tR]=r}))}else{a[tR]=n}n=cR(r,a)}for(var e=t.length-1;e>=0;e--){if(n[e]==null){delete i[t[e]];t.pop()}}}function eR(r,t){var i=r.visual;var n=[];if(tr(i)){QD(i,(function(r){n.push(r)}))}else if(i!=null){n.push(i)}var a={color:1,symbol:1};if(!t&&n.length===1&&!a.hasOwnProperty(r.type)){n[1]=n[0]}cR(r,n)}function uR(r){return{applyVisual:function(t,i,n){var a=this.mapValueToVisual(t);n("color",r(i("color"),a))},_normalizedToVisual:lR([0,1])}}function oR(r){var t=this.option.visual;return t[Math.round(ze(r,[0,1],[0,t.length-1],true))]||{}}function vR(r){return function(t,i,n){n(r,this.mapValueToVisual(t))}}function sR(r){var t=this.option.visual;return t[this.option.loop&&r!==tR?r%t.length:r]}function fR(){return this.option.visual[0]}function lR(r){return{linear:function(t){return ze(t,r,this.option.visual,true)},category:sR,piecewise:function(t,i){var n=hR.call(this,i);if(n==null){n=ze(t,r,this.option.visual,true)}return n},fixed:fR}}function hR(r){var t=this.option;var i=t.pieceList;if(t.hasSpecialVisual){var n=iR.findPieceIndex(r,i);var a=i[n];if(a&&a.visual){return a.visual[this.type]}}}function cR(r,t){r.visual=t;if(r.type==="color"){r.parsedVisual=H(t,(function(r){var t=mn(r);if(!t&&"production"!=="production"){au("'"+r+"' is an illegal color, fallback to '#000000'",true)}return t||[0,0,0,1]}))}return t}var dR={linear:function(r){return ze(r,this.option.dataExtent,[0,1],true)},piecewise:function(r){var t=this.option.pieceList;var i=iR.findPieceIndex(r,t,true);if(i!=null){return ze(i,[0,t.length-1],[0,1],true)}},category:function(r){var t=this.option.categories?this.option.categoryMap[r]:r;return t==null?tR:t},fixed:Cr};function pR(r,t,i){return r?t<=i:t<i}var mR="itemStyle";var yR=Lu();const gR={seriesType:"treemap",reset:function(r){var t=r.getData().tree;var i=t.root;if(i.isRemoved()){return}bR(i,{},r.getViewRoot().getAncestors(),r)}};function bR(r,t,i,n){var a=r.getModel();var e=r.getLayout();var u=r.hostTree.data;if(!e||e.invisible||!e.isInView){return}var o=a.getModel(mR);var v=wR(o,t,n);var s=u.ensureUniqueItemVisual(r.dataIndex,"style");var f=o.get("borderColor");var l=o.get("borderColorSaturation");var h;if(l!=null){h=xR(v);f=MR(l,h)}s.stroke=f;var c=r.viewChildren;if(!c||!c.length){h=xR(v);s.fill=h}else{var d=kR(r,a,e,o,v,c);V(c,(function(r,t){if(r.depth>=i.length||r===i[r.depth]){var e=AR(a,v,r,t,d,n);bR(r,e,i,n)}}))}}function wR(r,t,i){var n=F({},t);var a=i.designatedVisualItemStyle;V(["color","colorAlpha","colorSaturation"],(function(i){a[i]=t[i];var e=r.get(i);a[i]=null;e!=null&&(n[i]=e)}));return n}function xR(r){var t=SR(r,"color");if(t){var i=SR(r,"colorAlpha");var n=SR(r,"colorSaturation");if(n){t=Mn(t,null,null,n)}if(i){t=Sn(t,i)}return t}}function MR(r,t){return t!=null?Mn(t,null,null,r):null}function SR(r,t){var i=r[t];if(i!=null&&i!=="none"){return i}}function kR(r,t,i,n,a,e){if(!e||!e.length){return}var u=NR(t,"color")||a.color!=null&&a.color!=="none"&&(NR(t,"colorAlpha")||NR(t,"colorSaturation"));if(!u){return}var o=t.get("visualMin");var v=t.get("visualMax");var s=i.dataExtent.slice();o!=null&&o<s[0]&&(s[0]=o);v!=null&&v>s[1]&&(s[1]=v);var f=t.get("colorMappingBy");var l={type:u.name,dataExtent:s,visual:u.range};if(l.type==="color"&&(f==="index"||f==="id")){l.mappingMethod="category";l.loop=true}else{l.mappingMethod="linear"}var h=new iR(l);yR(h).drColorMappingBy=f;return h}function NR(r,t){var i=r.get(t);return K(i)&&i.length?{name:t,range:i}:null}function AR(r,t,i,n,a,e){var u=F({},t);if(a){var o=a.type;var v=o==="color"&&yR(a).drColorMappingBy;var s=v==="index"?n:v==="id"?e.mapIdToIndex(i.getId()):i.getValue(r.get("visualDimension"));u[o]=a.mapValueToVisual(s)}return u}var IR=Math.max;var CR=Math.min;var TR=sr;var zR=V;var LR=["itemStyle","borderWidth"];var OR=["itemStyle","gapWidth"];var DR=["upperLabel","show"];var RR=["upperLabel","height"];const FR={seriesType:"treemap",reset:function(r,t,i,n){var a=i.getWidth();var e=i.getHeight();var u=r.option;var o=zd(r.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()});var v=u.size||[];var s=Le(TR(o.width,v[0]),a);var f=Le(TR(o.height,v[1]),e);var l=n&&n.type;var h=["treemapZoomToNode","treemapRootToNode"];var c=hD(n,h,r);var d=l==="treemapRender"||l==="treemapMove"?n.rootRect:null;var p=r.getViewRoot();var m=cD(p);if(l!=="treemapMove"){var y=l==="treemapZoomToNode"?YR(r,c,p,s,f):d?[d.width,d.height]:[s,f];var g=u.sort;if(g&&g!=="asc"&&g!=="desc"){g="desc"}var b={squareRatio:u.squareRatio,sort:g,leafDepth:u.leafDepth};p.hostTree.clearLayouts();var w={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};p.setLayout(w);BR(p,b,false,0);w=p.getLayout();zR(m,(function(r,t){var i=(m[t+1]||p).getValue();r.setLayout(F({dataExtent:[i,i],borderWidth:0,upperHeight:0},w))}))}var x=r.getData().tree.root;x.setLayout(XR(o,d,c),true);r.setLayoutInfo(o);GR(x,new Zt(-o.x,-o.y,a,e),m,p,0)}};function BR(r,t,i,n){var a;var e;if(r.isRemoved()){return}var u=r.getLayout();a=u.width;e=u.height;var o=r.getModel();var v=o.get(LR);var s=o.get(OR)/2;var f=UR(o);var l=Math.max(v,f);var h=v-s;var c=l-s;r.setLayout({borderWidth:v,upperHeight:l,upperLabelHeight:f},true);a=IR(a-2*h,0);e=IR(e-h-c,0);var d=a*e;var p=_R(r,o,d,t,i,n);if(!p.length){return}var m={x:h,y:c,width:a,height:e};var y=CR(a,e);var g=Infinity;var b=[];b.area=0;for(var w=0,x=p.length;w<x;){var M=p[w];b.push(M);b.area+=M.getLayout().area;var S=VR(b,y,t.squareRatio);if(S<=g){w++;g=S}else{b.area-=b.pop().getLayout().area;HR(b,y,m,s,false);y=CR(m.width,m.height);b.length=b.area=0;g=Infinity}}if(b.length){HR(b,y,m,s,true)}if(!i){var k=o.get("childrenVisibleMin");if(k!=null&&d<k){i=true}}for(var w=0,x=p.length;w<x;w++){BR(p[w],t,i,n+1)}}function _R(r,t,i,n,a,e){var u=r.children||[];var o=n.sort;o!=="asc"&&o!=="desc"&&(o=null);var v=n.leafDepth!=null&&n.leafDepth<=e;if(a&&!v){return r.viewChildren=[]}u=X(u,(function(r){return!r.isRemoved()}));PR(u,o);var s=WR(t,u,o);if(s.sum===0){return r.viewChildren=[]}s.sum=ER(t,i,s.sum,o,u);if(s.sum===0){return r.viewChildren=[]}for(var f=0,l=u.length;f<l;f++){var h=u[f].getValue()/s.sum*i;u[f].setLayout({area:h})}if(v){u.length&&r.setLayout({isLeafRoot:true},true);u.length=0}r.viewChildren=u;r.setLayout({dataExtent:s.dataExtent},true);return u}function ER(r,t,i,n,a){if(!n){return i}var e=r.get("visibleMin");var u=a.length;var o=u;for(var v=u-1;v>=0;v--){var s=a[n==="asc"?u-v-1:v].getValue();if(s/i*t<e){o=v;i-=s}}n==="asc"?a.splice(0,u-o):a.splice(o,u-o);return i}function PR(r,t){if(t){r.sort((function(r,i){var n=t==="asc"?r.getValue()-i.getValue():i.getValue()-r.getValue();return n===0?t==="asc"?r.dataIndex-i.dataIndex:i.dataIndex-r.dataIndex:n}))}return r}function WR(r,t,i){var n=0;for(var a=0,e=t.length;a<e;a++){n+=t[a].getValue()}var u=r.get("visualDimension");var o;if(!t||!t.length){o=[NaN,NaN]}else if(u==="value"&&i){o=[t[t.length-1].getValue(),t[0].getValue()];i==="asc"&&o.reverse()}else{o=[Infinity,-Infinity];zR(t,(function(r){var t=r.getValue(u);t<o[0]&&(o[0]=t);t>o[1]&&(o[1]=t)}))}return{sum:n,dataExtent:o}}function VR(r,t,i){var n=0;var a=Infinity;for(var e=0,u=void 0,o=r.length;e<o;e++){u=r[e].getLayout().area;if(u){u<a&&(a=u);u>n&&(n=u)}}var v=r.area*r.area;var s=t*t*i;return v?IR(s*n/v,v/(s*a)):Infinity}function HR(r,t,i,n,a){var e=t===i.width?0:1;var u=1-e;var o=["x","y"];var v=["width","height"];var s=i[o[e]];var f=t?r.area/t:0;if(a||f>i[v[u]]){f=i[v[u]]}for(var l=0,h=r.length;l<h;l++){var c=r[l];var d={};var p=f?c.getLayout().area/f:0;var m=d[v[u]]=IR(f-2*n,0);var y=i[o[e]]+i[v[e]]-s;var g=l===h-1||y<p?y:p;var b=d[v[e]]=IR(g-2*n,0);d[o[u]]=i[o[u]]+CR(n,m/2);d[o[e]]=s+CR(n,b/2);s+=g;c.setLayout(d,true)}i[o[u]]+=f;i[v[u]]-=f}function YR(r,t,i,n,a){var e=(t||{}).node;var u=[n,a];if(!e||e===i){return u}var o;var v=n*a;var s=v*r.option.zoomToNodeRatio;while(o=e.parentNode){var f=0;var l=o.children;for(var h=0,c=l.length;h<c;h++){f+=l[h].getValue()}var d=e.getValue();if(d===0){return u}s*=f/d;var p=o.getModel();var m=p.get(LR);var y=Math.max(m,UR(p));s+=4*m*m+(3*m+y)*Math.pow(s,.5);s>Pe&&(s=Pe);e=o}s<v&&(s=v);var g=Math.pow(s/v,.5);return[n*g,a*g]}function XR(r,t,i){if(t){return{x:t.x,y:t.y}}var n={x:0,y:0};if(!i){return n}var a=i.node;var e=a.getLayout();if(!e){return n}var u=[e.width/2,e.height/2];var o=a;while(o){var v=o.getLayout();u[0]+=v.x;u[1]+=v.y;o=o.parentNode}return{x:r.width/2-u[0],y:r.height/2-u[1]}}function GR(r,t,i,n,a){var e=r.getLayout();var u=i[a];var o=u&&u===r;if(u&&!o||a===i.length&&r!==n){return}r.setLayout({isInView:true,invisible:!o&&!t.intersect(e),isAboveViewRoot:o},true);var v=new Zt(t.x-e.x,t.y-e.y,t.width,t.height);zR(r.viewChildren||[],(function(r){GR(r,v,i,n,a+1)}))}function UR(r){return r.get(DR)?r.get(RR):0}function ZR(r){r.registerSeriesModel(ID);r.registerChartView(qD);r.registerVisual(gR);r.registerLayout(FR);ND(r)}function jR(r){var t=r.findComponents({mainType:"legend"});if(!t||!t.length){return}r.eachSeriesByType("graph",(function(r){var i=r.getCategoriesData();var n=r.getGraph();var a=n.data;var e=i.mapArray(i.getName);a.filterSelf((function(r){var i=a.getItemModel(r);var n=i.getShallow("category");if(n!=null){if(rr(n)){n=e[n]}for(var u=0;u<t.length;u++){if(!t[u].isSelected(n)){return false}}}return true}))}))}function qR(r){var t={};r.eachSeriesByType("graph",(function(r){var i=r.getCategoriesData();var n=r.getData();var a={};i.each((function(n){var e=i.getName(n);a["ec-"+e]=n;var u=i.getItemModel(n);var o=u.getModel("itemStyle").getItemStyle();if(!o.fill){o.fill=r.getColorFromPalette(e,t)}i.setItemVisual(n,"style",o);var v=["symbol","symbolSize","symbolKeepAspect"];for(var s=0;s<v.length;s++){var f=u.getShallow(v[s],true);if(f!=null){i.setItemVisual(n,v[s],f)}}}));if(i.count()){n.each((function(r){var t=n.getItemModel(r);var e=t.getShallow("category");if(e!=null){if($(e)){e=a["ec-"+e]}var u=i.getItemVisual(e,"style");var o=n.ensureUniqueItemVisual(r,"style");F(o,u);var v=["symbol","symbolSize","symbolKeepAspect"];for(var s=0;s<v.length;s++){n.setItemVisual(r,v[s],i.getItemVisual(e,v[s]))}}}))}}))}function KR(r){if(!(r instanceof Array)){r=[r,r]}return r}function JR(r){r.eachSeriesByType("graph",(function(r){var t=r.getGraph();var i=r.getEdgeData();var n=KR(r.get("edgeSymbol"));var a=KR(r.get("edgeSymbolSize"));i.setVisual("fromSymbol",n&&n[0]);i.setVisual("toSymbol",n&&n[1]);i.setVisual("fromSymbolSize",a&&a[0]);i.setVisual("toSymbolSize",a&&a[1]);i.setVisual("style",r.getModel("lineStyle").getLineStyle());i.each((function(r){var n=i.getItemModel(r);var a=t.getEdgeByIndex(r);var e=KR(n.getShallow("symbol",true));var u=KR(n.getShallow("symbolSize",true));var o=n.getModel("lineStyle").getLineStyle();var v=i.ensureUniqueItemVisual(r,"style");F(v,o);switch(v.stroke){case"source":{var s=a.node1.getVisual("style");v.stroke=s&&s.fill;break}case"target":{var s=a.node2.getVisual("style");v.stroke=s&&s.fill;break}}e[0]&&a.setVisual("fromSymbol",e[0]);e[1]&&a.setVisual("toSymbol",e[1]);u[0]&&a.setVisual("fromSymbolSize",u[0]);u[1]&&a.setVisual("toSymbolSize",u[1])}))}))}var $R="--\x3e";var QR=function(r){return r.get("autoCurveness")||null};var rF=function(r,t){var i=QR(r);var n=20;var a=[];if(rr(i)){n=i}else if(K(i)){r.__curvenessList=i;return}if(t>n){n=t}var e=n%2?n+2:n+3;a=[];for(var u=0;u<e;u++){a.push((u%2?u+1:u)/10*(u%2?-1:1))}r.__curvenessList=a};var tF=function(r,t,i){var n=[r.id,r.dataIndex].join(".");var a=[t.id,t.dataIndex].join(".");return[i.uid,n,a].join($R)};var iF=function(r){var t=r.split($R);return[t[0],t[2],t[1]].join($R)};var nF=function(r,t){var i=tF(r.node1,r.node2,t);return t.__edgeMap[i]};var aF=function(r,t){var i=eF(tF(r.node1,r.node2,t),t);var n=eF(tF(r.node2,r.node1,t),t);return i+n};var eF=function(r,t){var i=t.__edgeMap;return i[r]?i[r].length:0};function uF(r){if(!QR(r)){return}r.__curvenessList=[];r.__edgeMap={};rF(r)}function oF(r,t,i,n){if(!QR(i)){return}var a=tF(r,t,i);var e=i.__edgeMap;var u=e[iF(a)];if(e[a]&&!u){e[a].isForward=true}else if(u&&e[a]){u.isForward=true;e[a].isForward=false}e[a]=e[a]||[];e[a].push(n)}function vF(r,t,i,n){var a=QR(t);var e=K(a);if(!a){return null}var u=nF(r,t);if(!u){return null}var o=-1;for(var v=0;v<u.length;v++){if(u[v]===i){o=v;break}}var s=aF(r,t);rF(t,s);r.lineStyle=r.lineStyle||{};var f=tF(r.node1,r.node2,t);var l=t.__curvenessList;var h=e?0:s%2?0:1;if(!u.isForward){var c=iF(f);var d=eF(c,t);var p=l[o+d+h];if(n){if(e){if(a&&a[0]===0){return(d+h)%2?p:-p}else{return((d%2?0:1)+h)%2?p:-p}}else{return(d+h)%2?p:-p}}else{return l[o+d+h]}}else{return l[h+o]}}function sF(r){var t=r.coordinateSystem;if(t&&t.type!=="view"){return}var i=r.getGraph();i.eachNode((function(r){var t=r.getModel();r.setLayout([+t.get("x"),+t.get("y")])}));fF(i,r)}function fF(r,t){r.eachEdge((function(r,i){var n=lr(r.getModel().get(["lineStyle","curveness"]),-vF(r,t,i,true),0);var a=Rr(r.node1.getLayout());var e=Rr(r.node2.getLayout());var u=[a,e];if(+n){u.push([(a[0]+e[0])/2-(a[1]-e[1])*n,(a[1]+e[1])/2-(e[0]-a[0])*n])}r.setLayout(u)}))}function lF(r,t){r.eachSeriesByType("graph",(function(r){var t=r.get("layout");var i=r.coordinateSystem;if(i&&i.type!=="view"){var n=r.getData();var a=[];V(i.dimensions,(function(r){a=a.concat(n.mapDimensionsAll(r))}));for(var e=0;e<n.count();e++){var u=[];var o=false;for(var v=0;v<a.length;v++){var s=n.get(a[v],e);if(!isNaN(s)){o=true}u.push(s)}if(o){n.setItemLayout(e,i.dataToPoint(u))}else{n.setItemLayout(e,[NaN,NaN])}}fF(n.graph,r)}else if(!t||t==="none"){sF(r)}}))}function hF(r){var t=r.coordinateSystem;if(t.type!=="view"){return 1}var i=r.option.nodeScaleRatio;var n=t.scaleX;var a=t.getZoom();var e=(a-1)*i+1;return e/n}function cF(r){var t=r.getVisual("symbolSize");if(t instanceof Array){t=(t[0]+t[1])/2}return+t}var dF=Math.PI;var pF=[];function mF(r,t,i,n){var a=r.coordinateSystem;if(a&&a.type!=="view"){return}var e=a.getBoundingRect();var u=r.getData();var o=u.graph;var v=e.width/2+e.x;var s=e.height/2+e.y;var f=Math.min(e.width,e.height)/2;var l=u.count();u.setLayout({cx:v,cy:s});if(!l){return}if(i){var h=a.pointToData(n),c=h[0],d=h[1];var p=[c-v,d-s];Hr(p,p);Vr(p,p,f);i.setLayout([v+p[0],s+p[1]],true);var m=r.get(["circular","rotateLabel"]);gF(i,m,v,s)}yF[t](r,o,u,f,v,s,l);o.eachEdge((function(t,i){var n=lr(t.getModel().get(["lineStyle","curveness"]),vF(t,r,i),0);var a=Rr(t.node1.getLayout());var e=Rr(t.node2.getLayout());var u;var o=(a[0]+e[0])/2;var f=(a[1]+e[1])/2;if(+n){n*=3;u=[v*n+o*(1-n),s*n+f*(1-n)]}t.setLayout([a,e,u])}))}var yF={value:function(r,t,i,n,a,e,u){var o=0;var v=i.getSum("value");var s=Math.PI*2/(v||u);t.eachNode((function(r){var t=r.getValue("value");var i=s*(v?t:1)/2;o+=i;r.setLayout([n*Math.cos(o)+a,n*Math.sin(o)+e]);o+=i}))},symbolSize:function(r,t,i,n,a,e,u){var o=0;pF.length=u;var v=hF(r);t.eachNode((function(r){var t=cF(r);isNaN(t)&&(t=2);t<0&&(t=0);t*=v;var i=Math.asin(t/2/n);isNaN(i)&&(i=dF/2);pF[r.dataIndex]=i;o+=i*2}));var s=(2*dF-o)/u/2;var f=0;t.eachNode((function(r){var t=s+pF[r.dataIndex];f+=t;(!r.getLayout()||!r.getLayout().fixed)&&r.setLayout([n*Math.cos(f)+a,n*Math.sin(f)+e]);f+=t}))}};function gF(r,t,i,n){var a=r.getGraphicEl();if(!a){return}var e=r.getModel();var u=e.get(["label","rotate"])||0;var o=a.getSymbolPath();if(t){var v=r.getLayout();var s=Math.atan2(v[1]-n,v[0]-i);if(s<0){s=Math.PI*2+s}var f=v[0]<i;if(f){s=s-Math.PI}var l=f?"left":"right";o.setTextConfig({rotation:-s,position:l,origin:"center"});var h=o.ensureState("emphasis");F(h.textConfig||(h.textConfig={}),{position:l})}else{o.setTextConfig({rotation:u*=Math.PI/180})}}function bF(r){r.eachSeriesByType("graph",(function(r){if(r.get("layout")==="circular"){mF(r,"symbolSize")}}))}var wF=_r;function xF(r,t,i){var n=r;var a=t;var e=i.rect;var u=e.width;var o=e.height;var v=[e.x+u/2,e.y+o/2];var s=i.gravity==null?.1:i.gravity;for(var f=0;f<n.length;f++){var l=n[f];if(!l.p){l.p=Or(u*(Math.random()-.5)+v[0],o*(Math.random()-.5)+v[1])}l.pp=Rr(l.p);l.edges=null}var h=i.friction==null?.6:i.friction;var c=h;var d;var p;return{warmUp:function(){c=h*.8},setFixed:function(r){n[r].fixed=true},setUnfixed:function(r){n[r].fixed=false},beforeStep:function(r){d=r},afterStep:function(r){p=r},step:function(r){d&&d(n,a);var t=[];var i=n.length;for(var e=0;e<a.length;e++){var u=a[e];if(u.ignoreForceLayout){continue}var o=u.n1;var f=u.n2;Er(t,f.p,o.p);var l=Pr(t)-u.d;var h=f.w/(o.w+f.w);if(isNaN(h)){h=0}Hr(t,t);!o.fixed&&wF(o.p,o.p,t,h*l*c);!f.fixed&&wF(f.p,f.p,t,-(1-h)*l*c)}for(var e=0;e<i;e++){var m=n[e];if(!m.fixed){Er(t,v,m.p);wF(m.p,m.p,t,s*c)}}for(var e=0;e<i;e++){var o=n[e];for(var y=e+1;y<i;y++){var f=n[y];Er(t,f.p,o.p);var l=Pr(t);if(l===0){Fr(t,Math.random()-.5,Math.random()-.5);l=1}var g=(o.rep+f.rep)/l/l;!o.fixed&&wF(o.pp,o.pp,t,g);!f.fixed&&wF(f.pp,f.pp,t,-g)}}var b=[];for(var e=0;e<i;e++){var m=n[e];if(!m.fixed){Er(b,m.p,m.pp);wF(m.p,m.p,b,c);Dr(m.pp,m.p)}}c=c*.992;var w=c<.01;p&&p(n,a,w);r&&r(w)}}}function MF(r){r.eachSeriesByType("graph",(function(r){var t=r.coordinateSystem;if(t&&t.type!=="view"){return}if(r.get("layout")==="force"){var i=r.preservedPoints||{};var n=r.getGraph();var a=n.data;var e=n.edgeData;var u=r.getModel("force");var o=u.get("initLayout");if(r.preservedPoints){a.each((function(r){var t=a.getId(r);a.setItemLayout(r,i[t]||[NaN,NaN])}))}else if(!o||o==="none"){sF(r)}else if(o==="circular"){mF(r,"value")}var v=a.getDataExtent("value");var s=e.getDataExtent("value");var f=u.get("repulsion");var l=u.get("edgeLength");var h=K(f)?f:[f,f];var c=K(l)?l:[l,l];c=[c[1],c[0]];var d=a.mapArray("value",(function(r,t){var i=a.getItemLayout(t);var n=ze(r,v,h);if(isNaN(n)){n=(h[0]+h[1])/2}return{w:n,rep:n,fixed:a.getItemModel(t).get("fixed"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}));var p=e.mapArray("value",(function(t,i){var a=n.getEdgeByIndex(i);var e=ze(t,s,c);if(isNaN(e)){e=(c[0]+c[1])/2}var u=a.getModel();var o=lr(a.getModel().get(["lineStyle","curveness"]),-vF(a,r,i,true),0);return{n1:d[a.node1.dataIndex],n2:d[a.node2.dataIndex],d:e,curveness:o,ignoreForceLayout:u.get("ignoreForceLayout")}}));var m=t.getBoundingRect();var y=xF(d,p,{rect:m,gravity:u.get("gravity"),friction:u.get("friction")});y.beforeStep((function(r,t){for(var i=0,a=r.length;i<a;i++){if(r[i].fixed){Dr(r[i].p,n.getNodeByIndex(i).getLayout())}}}));y.afterStep((function(r,t,e){for(var u=0,o=r.length;u<o;u++){if(!r[u].fixed){n.getNodeByIndex(u).setLayout(r[u].p)}i[a.getId(u)]=r[u].p}for(var u=0,o=t.length;u<o;u++){var v=t[u];var s=n.getEdgeByIndex(u);var f=v.n1.p;var l=v.n2.p;var h=s.getLayout();h=h?h.slice():[];h[0]=h[0]||[];h[1]=h[1]||[];Dr(h[0],f);Dr(h[1],l);if(+v.curveness){h[2]=[(f[0]+l[0])/2-(f[1]-l[1])*v.curveness,(f[1]+l[1])/2-(l[0]-f[0])*v.curveness]}s.setLayout(h)}}));r.forceLayout=y;r.preservedPoints=i;y.step()}else{r.forceLayout=null}}))}function SF(r,t,i){var n=F(r.getBoxLayoutParams(),{aspect:i});return zd(n,{width:t.getWidth(),height:t.getHeight()})}function kF(r,t){var i=[];r.eachSeriesByType("graph",(function(r){var n=r.get("coordinateSystem");if(!n||n==="view"){var a=r.getData();var e=a.mapArray((function(r){var t=a.getItemModel(r);return[+t.get("x"),+t.get("y")]}));var u=[];var o=[];Go(e,u,o);if(o[0]-u[0]===0){o[0]+=1;u[0]-=1}if(o[1]-u[1]===0){o[1]+=1;u[1]-=1}var v=(o[0]-u[0])/(o[1]-u[1]);var s=SF(r,t,v);if(isNaN(v)){u=[s.x,s.y];o=[s.x+s.width,s.y+s.height]}var f=o[0]-u[0];var l=o[1]-u[1];var h=s.width;var c=s.height;var d=r.coordinateSystem=new cO;d.zoomLimit=r.get("scaleLimit");d.setBoundingRect(u[0],u[1],f,l);d.setViewRect(s.x,s.y,h,c);d.setCenter(r.get("center"),t);d.setZoom(r.get("zoom"));i.push(d)}}));return i}var NF=Bl.prototype;var AF=Wl.prototype;var IF=function(){function r(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.percent=1}return r}();(function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(IF);function CF(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var TF=function(r){a(t,r);function t(t){var i=r.call(this,t)||this;i.type="ec-line";return i}t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};t.prototype.getDefaultShape=function(){return new IF};t.prototype.buildPath=function(r,t){if(CF(t)){NF.buildPath.call(this,r,t)}else{AF.buildPath.call(this,r,t)}};t.prototype.pointAt=function(r){if(CF(this.shape)){return NF.pointAt.call(this,r)}else{return AF.pointAt.call(this,r)}};t.prototype.tangentAt=function(r){var t=this.shape;var i=CF(t)?[t.x2-t.x1,t.y2-t.y1]:AF.tangentAt.call(this,r);return Hr(i,i)};return t}(Vv);var zF=["fromSymbol","toSymbol"];function LF(r){return"_"+r+"Type"}function OF(r,t,i){var n=t.getItemVisual(i,r);if(!n||n==="none"){return n}var a=t.getItemVisual(i,r+"Size");var e=t.getItemVisual(i,r+"Rotate");var u=t.getItemVisual(i,r+"Offset");var o=t.getItemVisual(i,r+"KeepAspect");var v=Nb(a);var s=Ab(u||0,v);return n+v+s+(e||"")+(o||"")}function DF(r,t,i){var n=t.getItemVisual(i,r);if(!n||n==="none"){return}var a=t.getItemVisual(i,r+"Size");var e=t.getItemVisual(i,r+"Rotate");var u=t.getItemVisual(i,r+"Offset");var o=t.getItemVisual(i,r+"KeepAspect");var v=Nb(a);var s=Ab(u||0,v);var f=kb(n,-v[0]/2+s[0],-v[1]/2+s[1],v[0],v[1],null,o);f.__specifiedRotation=e==null||isNaN(e)?void 0:+e*Math.PI/180||0;f.name=r;return f}function RF(r){var t=new TF({name:"line",subPixelOptimize:true});FF(t.shape,r);return t}function FF(r,t){r.x1=t[0][0];r.y1=t[0][1];r.x2=t[1][0];r.y2=t[1][1];r.percent=1;var i=t[2];if(i){r.cpx1=i[0];r.cpy1=i[1]}else{r.cpx1=NaN;r.cpy1=NaN}}var BF=function(r){a(t,r);function t(t,i,n){var a=r.call(this)||this;a._createLine(t,i,n);return a}t.prototype._createLine=function(r,t,i){var n=r.hostModel;var a=r.getItemLayout(t);var e=RF(a);e.shape.percent=0;ah(e,{shape:{percent:1}},n,t);this.add(e);V(zF,(function(i){var n=DF(i,r,t);this.add(n);this[LF(i)]=OF(i,r,t)}),this);this._updateCommonStl(r,t,i)};t.prototype.updateData=function(r,t,i){var n=r.hostModel;var a=this.childOfName("line");var e=r.getItemLayout(t);var u={shape:{}};FF(u.shape,e);nh(a,u,n,t);V(zF,(function(i){var n=OF(i,r,t);var a=LF(i);if(this[a]!==n){this.remove(this.childOfName(i));var e=DF(i,r,t);this.add(e)}this[a]=n}),this);this._updateCommonStl(r,t,i)};t.prototype.getLinePath=function(){return this.childAt(0)};t.prototype._updateCommonStl=function(r,t,i){var n=r.hostModel;var a=this.childOfName("line");var e=i&&i.emphasisLineStyle;var u=i&&i.blurLineStyle;var o=i&&i.selectLineStyle;var v=i&&i.labelStatesModels;var s=i&&i.emphasisDisabled;var f=i&&i.focus;var l=i&&i.blurScope;if(!i||r.hasItemOption){var h=r.getItemModel(t);var c=h.getModel("emphasis");e=c.getModel("lineStyle").getLineStyle();u=h.getModel(["blur","lineStyle"]).getLineStyle();o=h.getModel(["select","lineStyle"]).getLineStyle();s=c.get("disabled");f=c.get("focus");l=c.get("blurScope");v=jh(h)}var d=r.getItemVisual(t,"style");var p=d.stroke;a.useStyle(d);a.style.fill=null;a.style.strokeNoScale=true;a.ensureState("emphasis").style=e;a.ensureState("blur").style=u;a.ensureState("select").style=o;V(zF,(function(r){var t=this.childOfName(r);if(t){t.setColor(p);t.style.opacity=d.opacity;for(var i=0;i<Cs.length;i++){var n=Cs[i];var e=a.getState(n);if(e){var u=e.style||{};var o=t.ensureState(n);var v=o.style||(o.style={});if(u.stroke!=null){v[t.__isEmptyBrush?"stroke":"fill"]=u.stroke}if(u.opacity!=null){v.opacity=u.opacity}}}t.markRedraw()}}),this);var m=n.getRawValue(t);Zh(this,v,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,i){return n.getFormattedLabel(t,i,r.dataType)}},inheritColor:p||"#000",defaultOpacity:d.opacity,defaultText:(m==null?r.getName(t):isFinite(m)?Oe(m):m)+""});var y=this.getTextContent();if(y){var g=v.normal;y.__align=y.style.align;y.__verticalAlign=y.style.verticalAlign;y.__position=g.get("position")||"middle";var b=g.get("distance");if(!K(b)){b=[b,b]}y.__labelDistance=b}this.setTextConfig({position:null,local:true,inside:false});kf(this,f,l,s)};t.prototype.highlight=function(){ef(this)};t.prototype.downplay=function(){uf(this)};t.prototype.updateLayout=function(r,t){this.setLinePoints(r.getItemLayout(t))};t.prototype.setLinePoints=function(r){var t=this.childOfName("line");FF(t.shape,r);t.dirty()};t.prototype.beforeUpdate=function(){var r=this;var t=r.childOfName("fromSymbol");var i=r.childOfName("toSymbol");var n=r.getTextContent();if(!t&&!i&&(!n||n.ignore)){return}var a=1;var e=this.parent;while(e){if(e.scaleX){a/=e.scaleX}e=e.parent}var u=r.childOfName("line");if(!this.__dirty&&!u.__dirty){return}var o=u.shape.percent;var v=u.pointAt(0);var s=u.pointAt(o);var f=Er([],s,v);Hr(f,f);function l(r,t){var i=r.__specifiedRotation;if(i==null){var n=u.tangentAt(t);r.attr("rotation",(t===1?-1:1)*Math.PI/2-Math.atan2(n[1],n[0]))}else{r.attr("rotation",i)}}if(t){t.setPosition(v);l(t,0);t.scaleX=t.scaleY=a*o;t.markRedraw()}if(i){i.setPosition(s);l(i,1);i.scaleX=i.scaleY=a*o;i.markRedraw()}if(n&&!n.ignore){n.x=n.y=0;n.originX=n.originY=0;var h=void 0;var c=void 0;var d=n.__labelDistance;var p=d[0]*a;var m=d[1]*a;var y=o/2;var g=u.tangentAt(y);var b=[g[1],-g[0]];var w=u.pointAt(y);if(b[1]>0){b[0]=-b[0];b[1]=-b[1]}var x=g[0]<0?-1:1;if(n.__position!=="start"&&n.__position!=="end"){var M=-Math.atan2(g[1],g[0]);if(s[0]<v[0]){M=Math.PI+M}n.rotation=M}var S=void 0;switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":S=-m;c="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":S=m;c="top";break;default:S=0;c="middle"}switch(n.__position){case"end":n.x=f[0]*p+s[0];n.y=f[1]*m+s[1];h=f[0]>.8?"left":f[0]<-.8?"right":"center";c=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":n.x=-f[0]*p+v[0];n.y=-f[1]*m+v[1];h=f[0]>.8?"right":f[0]<-.8?"left":"center";c=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":n.x=p*x+v[0];n.y=v[1]+S;h=g[0]<0?"right":"left";n.originX=-p*x;n.originY=-S;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":n.x=w[0];n.y=w[1]+S;h="center";n.originY=-S;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":n.x=-p*x+s[0];n.y=s[1]+S;h=g[0]>=0?"right":"left";n.originX=p*x;n.originY=-S;break}n.scaleX=n.scaleY=a;n.setStyle({verticalAlign:n.__verticalAlign||c,align:n.__align||h})}};return t}(xe);var _F=function(){function r(r){this.group=new xe;this._LineCtor=r||BF}r.prototype.updateData=function(r){var t=this;this._progressiveEls=null;var i=this;var n=i.group;var a=i._lineData;i._lineData=r;if(!a){n.removeAll()}var e=PF(r);r.diff(a).add((function(i){t._doAdd(r,i,e)})).update((function(i,n){t._doUpdate(a,r,n,i,e)})).remove((function(r){n.remove(a.getItemGraphicEl(r))})).execute()};r.prototype.updateLayout=function(){var r=this._lineData;if(!r){return}r.eachItemGraphicEl((function(t,i){t.updateLayout(r,i)}),this)};r.prototype.incrementalPrepareUpdate=function(r){this._seriesScope=PF(r);this._lineData=null;this.group.removeAll()};r.prototype.incrementalUpdate=function(r,t){this._progressiveEls=[];function i(r){if(!r.isGroup&&!EF(r)){r.incremental=true;r.ensureState("emphasis").hoverLayer=true}}for(var n=r.start;n<r.end;n++){var a=t.getItemLayout(n);if(VF(a)){var e=new this._LineCtor(t,n,this._seriesScope);e.traverse(i);this.group.add(e);t.setItemGraphicEl(n,e);this._progressiveEls.push(e)}}};r.prototype.remove=function(){this.group.removeAll()};r.prototype.eachRendered=function(r){Hh(this._progressiveEls||this.group,r)};r.prototype._doAdd=function(r,t,i){var n=r.getItemLayout(t);if(!VF(n)){return}var a=new this._LineCtor(r,t,i);r.setItemGraphicEl(t,a);this.group.add(a)};r.prototype._doUpdate=function(r,t,i,n,a){var e=r.getItemGraphicEl(i);if(!VF(t.getItemLayout(n))){this.group.remove(e);return}if(!e){e=new this._LineCtor(t,n,a)}else{e.updateData(t,n,a)}t.setItemGraphicEl(n,e);this.group.add(e)};return r}();function EF(r){return r.animators&&r.animators.length>0}function PF(r){var t=r.hostModel;var i=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:i.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:i.get("disabled"),blurScope:i.get("blurScope"),focus:i.get("focus"),labelStatesModels:jh(t)}}function WF(r){return isNaN(r[0])||isNaN(r[1])}function VF(r){return r&&!WF(r[0])&&!WF(r[1])}var HF=[];var YF=[];var XF=[];var GF=Yi;var UF=Ur;var ZF=Math.abs;function jF(r,t,i){var n=r[0];var a=r[1];var e=r[2];var u=Infinity;var o;var v=i*i;var s=.1;for(var f=.1;f<=.9;f+=.1){HF[0]=GF(n[0],a[0],e[0],f);HF[1]=GF(n[1],a[1],e[1],f);var l=ZF(UF(HF,t)-v);if(l<u){u=l;o=f}}for(var h=0;h<32;h++){var c=o+s;YF[0]=GF(n[0],a[0],e[0],o);YF[1]=GF(n[1],a[1],e[1],o);XF[0]=GF(n[0],a[0],e[0],c);XF[1]=GF(n[1],a[1],e[1],c);var l=UF(YF,t)-v;if(ZF(l)<.01){break}var d=UF(XF,t)-v;s/=2;if(l<0){if(d>=0){o=o+s}else{o=o-s}}else{if(d>=0){o=o-s}else{o=o+s}}}return o}function qF(r,t){var i=[];var n=Zi;var a=[[],[],[]];var e=[[],[]];var u=[];t/=2;r.eachEdge((function(r,o){var v=r.getLayout();var s=r.getVisual("fromSymbol");var f=r.getVisual("toSymbol");if(!v.__original){v.__original=[Rr(v[0]),Rr(v[1])];if(v[2]){v.__original.push(Rr(v[2]))}}var l=v.__original;if(v[2]!=null){Dr(a[0],l[0]);Dr(a[1],l[2]);Dr(a[2],l[1]);if(s&&s!=="none"){var h=cF(r.node1);var c=jF(a,l[0],h*t);n(a[0][0],a[1][0],a[2][0],c,i);a[0][0]=i[3];a[1][0]=i[4];n(a[0][1],a[1][1],a[2][1],c,i);a[0][1]=i[3];a[1][1]=i[4]}if(f&&f!=="none"){var h=cF(r.node2);var c=jF(a,l[1],h*t);n(a[0][0],a[1][0],a[2][0],c,i);a[1][0]=i[1];a[2][0]=i[2];n(a[0][1],a[1][1],a[2][1],c,i);a[1][1]=i[1];a[2][1]=i[2]}Dr(v[0],a[0]);Dr(v[1],a[2]);Dr(v[2],a[1])}else{Dr(e[0],l[0]);Dr(e[1],l[1]);Er(u,e[1],e[0]);Hr(u,u);if(s&&s!=="none"){var h=cF(r.node1);_r(e[0],e[0],u,h*t)}if(f&&f!=="none"){var h=cF(r.node2);_r(e[1],e[1],u,-h*t)}Dr(v[0],e[0]);Dr(v[1],e[1])}}))}function KF(r){return r.type==="view"}var JF=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.init=function(r,t){var i=new SI;var n=new _F;var a=this.group;this._controller=new Uz(t.getZr());this._controllerHost={target:a};a.add(i.group);a.add(n.group);this._symbolDraw=i;this._lineDraw=n;this._firstRender=true};t.prototype.render=function(r,t,i){var n=this;var a=r.coordinateSystem;this._model=r;var e=this._symbolDraw;var u=this._lineDraw;var o=this.group;if(KF(a)){var v={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};if(this._firstRender){o.attr(v)}else{nh(o,v,r)}}qF(r.getGraph(),hF(r));var s=r.getData();e.updateData(s);var f=r.getEdgeData();u.updateData(f);this._updateNodeAndLinkScale();this._updateController(r,t,i);clearTimeout(this._layoutTimeout);var l=r.forceLayout;var h=r.get(["force","layoutAnimation"]);if(l){this._startForceLayoutIteration(l,h)}var c=r.get("layout");s.graph.eachNode((function(t){var i=t.dataIndex;var a=t.getGraphicEl();var e=t.getModel();if(!a){return}a.off("drag").off("dragend");var u=e.get("draggable");if(u){a.on("drag",(function(e){switch(c){case"force":l.warmUp();!n._layouting&&n._startForceLayoutIteration(l,h);l.setFixed(i);s.setItemLayout(i,[a.x,a.y]);break;case"circular":s.setItemLayout(i,[a.x,a.y]);t.setLayout({fixed:true},true);mF(r,"symbolSize",t,[e.offsetX,e.offsetY]);n.updateLayout(r);break;case"none":default:s.setItemLayout(i,[a.x,a.y]);fF(r.getGraph(),r);n.updateLayout(r);break}})).on("dragend",(function(){if(l){l.setUnfixed(i)}}))}a.setDraggable(u,!!e.get("cursor"));var o=e.get(["emphasis","focus"]);if(o==="adjacency"){bs(a).focus=t.getAdjacentDataIndices()}}));s.graph.eachEdge((function(r){var t=r.getGraphicEl();var i=r.getModel().get(["emphasis","focus"]);if(!t){return}if(i==="adjacency"){bs(t).focus={edge:[r.dataIndex],node:[r.node1.dataIndex,r.node2.dataIndex]}}}));var d=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]);var p=s.getLayout("cx");var m=s.getLayout("cy");s.graph.eachNode((function(r){gF(r,d,p,m)}));this._firstRender=false};t.prototype.dispose=function(){this._controller&&this._controller.dispose();this._controllerHost=null};t.prototype._startForceLayoutIteration=function(r,t){var i=this;(function n(){r.step((function(r){i.updateLayout(i._model);(i._layouting=!r)&&(t?i._layoutTimeout=setTimeout(n,16):n())}))})()};t.prototype._updateController=function(r,t,i){var n=this;var a=this._controller;var e=this._controllerHost;var u=this.group;a.setPointerChecker((function(t,n,a){var e=u.getBoundingRect();e.applyTransform(u.transform);return e.contain(n,a)&&!Qz(t,i,r)}));if(!KF(r.coordinateSystem)){a.disable();return}a.enable(r.get("roam"));e.zoomLimit=r.get("scaleLimit");e.zoom=r.coordinateSystem.getZoom();a.off("pan").off("zoom").on("pan",(function(t){Kz(e,t.dx,t.dy);i.dispatchAction({seriesId:r.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){Jz(e,t.scale,t.originX,t.originY);i.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY});n._updateNodeAndLinkScale();qF(r.getGraph(),hF(r));n._lineDraw.updateLayout();i.updateLabelLayout()}))};t.prototype._updateNodeAndLinkScale=function(){var r=this._model;var t=r.getData();var i=hF(r);t.eachItemGraphicEl((function(r,t){r&&r.setSymbolScale(i)}))};t.prototype.updateLayout=function(r){qF(r.getGraph(),hF(r));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()};t.prototype.remove=function(r,t){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()};t.type="graph";return t}(sg);function $F(r){return"_EC_"+r}var QF=function(){function r(r){this.type="graph";this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this._directed=r||false}r.prototype.isDirected=function(){return this._directed};r.prototype.addNode=function(r,t){r=r==null?""+t:""+r;var i=this._nodesMap;if(i[$F(r)]){return}var n=new rB(r,t);n.hostGraph=this;this.nodes.push(n);i[$F(r)]=n;return n};r.prototype.getNodeByIndex=function(r){var t=this.data.getRawIndex(r);return this.nodes[t]};r.prototype.getNodeById=function(r){return this._nodesMap[$F(r)]};r.prototype.addEdge=function(r,t,i){var n=this._nodesMap;var a=this._edgesMap;if(rr(r)){r=this.nodes[r]}if(rr(t)){t=this.nodes[t]}if(!(r instanceof rB)){r=n[$F(r)]}if(!(t instanceof rB)){t=n[$F(t)]}if(!r||!t){return}var e=r.id+"-"+t.id;var u=new tB(r,t,i);u.hostGraph=this;if(this._directed){r.outEdges.push(u);t.inEdges.push(u)}r.edges.push(u);if(r!==t){t.edges.push(u)}this.edges.push(u);a[e]=u;return u};r.prototype.getEdgeByIndex=function(r){var t=this.edgeData.getRawIndex(r);return this.edges[t]};r.prototype.getEdge=function(r,t){if(r instanceof rB){r=r.id}if(t instanceof rB){t=t.id}var i=this._edgesMap;if(this._directed){return i[r+"-"+t]}else{return i[r+"-"+t]||i[t+"-"+r]}};r.prototype.eachNode=function(r,t){var i=this.nodes;var n=i.length;for(var a=0;a<n;a++){if(i[a].dataIndex>=0){r.call(t,i[a],a)}}};r.prototype.eachEdge=function(r,t){var i=this.edges;var n=i.length;for(var a=0;a<n;a++){if(i[a].dataIndex>=0&&i[a].node1.dataIndex>=0&&i[a].node2.dataIndex>=0){r.call(t,i[a],a)}}};r.prototype.breadthFirstTraverse=function(r,t,i,n){if(!(t instanceof rB)){t=this._nodesMap[$F(t)]}if(!t){return}var a=i==="out"?"outEdges":i==="in"?"inEdges":"edges";for(var e=0;e<this.nodes.length;e++){this.nodes[e].__visited=false}if(r.call(n,t,null)){return}var u=[t];while(u.length){var o=u.shift();var v=o[a];for(var e=0;e<v.length;e++){var s=v[e];var f=s.node1===o?s.node2:s.node1;if(!f.__visited){if(r.call(n,f,o)){return}u.push(f);f.__visited=true}}}};r.prototype.update=function(){var r=this.data;var t=this.edgeData;var i=this.nodes;var n=this.edges;for(var a=0,e=i.length;a<e;a++){i[a].dataIndex=-1}for(var a=0,e=r.count();a<e;a++){i[r.getRawIndex(a)].dataIndex=a}t.filterSelf((function(r){var i=n[t.getRawIndex(r)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0}));for(var a=0,e=n.length;a<e;a++){n[a].dataIndex=-1}for(var a=0,e=t.count();a<e;a++){n[t.getRawIndex(a)].dataIndex=a}};r.prototype.clone=function(){var t=new r(this._directed);var i=this.nodes;var n=this.edges;for(var a=0;a<i.length;a++){t.addNode(i[a].id,i[a].dataIndex)}for(var a=0;a<n.length;a++){var e=n[a];t.addEdge(e.node1.id,e.node2.id,e.dataIndex)}return t};return r}();var rB=function(){function r(r,t){this.inEdges=[];this.outEdges=[];this.edges=[];this.dataIndex=-1;this.id=r==null?"":r;this.dataIndex=t==null?-1:t}r.prototype.degree=function(){return this.edges.length};r.prototype.inDegree=function(){return this.inEdges.length};r.prototype.outDegree=function(){return this.outEdges.length};r.prototype.getModel=function(r){if(this.dataIndex<0){return}var t=this.hostGraph;var i=t.data.getItemModel(this.dataIndex);return i.getModel(r)};r.prototype.getAdjacentDataIndices=function(){var r={edge:[],node:[]};for(var t=0;t<this.edges.length;t++){var i=this.edges[t];if(i.dataIndex<0){continue}r.edge.push(i.dataIndex);r.node.push(i.node1.dataIndex,i.node2.dataIndex)}return r};r.prototype.getTrajectoryDataIndices=function(){var r=Sr();var t=Sr();for(var i=0;i<this.edges.length;i++){var n=this.edges[i];if(n.dataIndex<0){continue}r.set(n.dataIndex,true);var a=[n.node1];var e=[n.node2];var u=0;while(u<a.length){var o=a[u];u++;t.set(o.dataIndex,true);for(var v=0;v<o.inEdges.length;v++){r.set(o.inEdges[v].dataIndex,true);a.push(o.inEdges[v].node1)}}u=0;while(u<e.length){var s=e[u];u++;t.set(s.dataIndex,true);for(var v=0;v<s.outEdges.length;v++){r.set(s.outEdges[v].dataIndex,true);e.push(s.outEdges[v].node2)}}}return{edge:r.keys(),node:t.keys()}};return r}();var tB=function(){function r(r,t,i){this.dataIndex=-1;this.node1=r;this.node2=t;this.dataIndex=i==null?-1:i}r.prototype.getModel=function(r){if(this.dataIndex<0){return}var t=this.hostGraph;var i=t.edgeData.getItemModel(this.dataIndex);return i.getModel(r)};r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}};r.prototype.getTrajectoryDataIndices=function(){var r=Sr();var t=Sr();r.set(this.dataIndex,true);var i=[this.node1];var n=[this.node2];var a=0;while(a<i.length){var e=i[a];a++;t.set(e.dataIndex,true);for(var u=0;u<e.inEdges.length;u++){r.set(e.inEdges[u].dataIndex,true);i.push(e.inEdges[u].node1)}}a=0;while(a<n.length){var o=n[a];a++;t.set(o.dataIndex,true);for(var u=0;u<o.outEdges.length;u++){r.set(o.outEdges[u].dataIndex,true);n.push(o.outEdges[u].node2)}}return{edge:r.keys(),node:t.keys()}};return r}();function iB(r,t){return{getValue:function(i){var n=this[r][t];return n.getStore().get(n.getDimensionIndex(i||"value"),this.dataIndex)},setVisual:function(i,n){this.dataIndex>=0&&this[r][t].setItemVisual(this.dataIndex,i,n)},getVisual:function(i){return this[r][t].getItemVisual(this.dataIndex,i)},setLayout:function(i,n){this.dataIndex>=0&&this[r][t].setItemLayout(this.dataIndex,i,n)},getLayout:function(){return this[r][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][t].getRawIndex(this.dataIndex)}}}P(rB,iB("hostGraph","data"));P(tB,iB("hostGraph","edgeData"));function nB(r,t,i,n,a){var e=new QF(n);for(var u=0;u<r.length;u++){e.addNode(sr(r[u].id,r[u].name,u),u)}var o=[];var v=[];var s=0;for(var u=0;u<t.length;u++){var f=t[u];var l=f.source;var h=f.target;if(e.addEdge(l,h,s)){v.push(f);o.push(sr(Su(f.id,null),l+" > "+h));s++}}var c=i.get("coordinateSystem");var d;if(c==="cartesian2d"||c==="polar"){d=XM(r,i)}else{var p=Lp.get(c);var m=p?p.dimensions||[]:[];if(_(m,"value")<0){m.concat(["value"])}var y=zM(r,{coordDimensions:m,encodeDefine:i.getEncode()}).dimensions;d=new TM(y,i);d.initData(r)}var g=new TM(["value"],i);g.initData(v,o);a&&a(d,g);rD({mainData:d,struct:e,structAttr:"graph",datas:{node:d,edge:g},datasAttr:{node:"data",edge:"edgeData"}});e.update();return e}var aB=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.hasSymbolVisual=true;return i}t.prototype.init=function(t){r.prototype.init.apply(this,arguments);var i=this;function n(){return i._categoriesData}this.legendVisualProvider=new eT(n,n);this.fillDataTextStyle(t.edges||t.links);this._updateCategoriesData()};t.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments);this.fillDataTextStyle(t.edges||t.links);this._updateCategoriesData()};t.prototype.mergeDefaultAndTheme=function(t){r.prototype.mergeDefaultAndTheme.apply(this,arguments);fu(t,"edgeLabel",["show"])};t.prototype.getInitialData=function(r,t){var i=r.edges||r.links||[];var n=r.data||r.nodes||[];var a=this;if(n&&i){uF(this);var e=nB(n,i,this,true,u);V(e.edges,(function(r){oF(r.node1,r.node2,this,r.dataIndex)}),this);return e.data}function u(r,t){r.wrapMethod("getItemModel",(function(r){var t=a._categoriesModels;var i=r.getShallow("category");var n=t[i];if(n){n.parentModel=r.parentModel;r.parentModel=n}return r}));var i=yc.prototype.getModel;function n(r,t){var n=i.call(this,r,t);n.resolveParentPath=e;return n}t.wrapMethod("getItemModel",(function(r){r.resolveParentPath=e;r.getModel=n;return r}));function e(r){if(r&&(r[0]==="label"||r[1]==="label")){var t=r.slice();if(r[0]==="label"){t[0]="edgeLabel"}else if(r[1]==="label"){t[1]="edgeLabel"}return t}return r}}};t.prototype.getGraph=function(){return this.getData().graph};t.prototype.getEdgeData=function(){return this.getGraph().edgeData};t.prototype.getCategoriesData=function(){return this._categoriesData};t.prototype.formatTooltip=function(r,t,i){if(i==="edge"){var n=this.getData();var a=this.getDataParams(r,i);var e=n.graph.getEdgeByIndex(r);var u=n.getName(e.node1.dataIndex);var o=n.getName(e.node2.dataIndex);var v=[];u!=null&&v.push(u);o!=null&&v.push(o);return Ty("nameValue",{name:v.join(" > "),value:a.value,noValue:a.value==null})}var s=Gy({series:this,dataIndex:r,multipleSeries:t});return s};t.prototype._updateCategoriesData=function(){var r=H(this.option.categories||[],(function(r){return r.value!=null?r:F({value:0},r)}));var t=new TM(["value"],this);t.initData(r);this._categoriesData=t;this._categoriesModels=t.mapArray((function(r){return t.getItemModel(r)}))};t.prototype.setZoom=function(r){this.option.zoom=r};t.prototype.setCenter=function(r){this.option.center=r};t.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))};t.type="series.graph";t.dependencies=["grid","polar","geo","singleAxis","calendar"];t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:true,layout:null,circular:{rotateLabel:false},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:true},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:false,roam:false,center:null,zoom:1,nodeScaleRatio:.6,label:{show:false,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:true,label:{show:true}},select:{itemStyle:{borderColor:"#212121"}}};return t}(Ky);var eB={type:"graphRoam",event:"graphRoam",update:"none"};function uB(r){r.registerChartView(JF);r.registerSeriesModel(aB);r.registerProcessor(jR);r.registerVisual(qR);r.registerVisual(JR);r.registerLayout(lF);r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,bF);r.registerLayout(MF);r.registerCoordinateSystem("graphView",{dimensions:cO.dimensions,create:kF});r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Cr);r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Cr);r.registerAction(eB,(function(r,t,i){t.eachComponent({mainType:"series",query:r},(function(t){var n=t.coordinateSystem;var a=NO(n,r,undefined,i);t.setCenter&&t.setCenter(a.center);t.setZoom&&t.setZoom(a.zoom)}))}))}var oB=function(){function r(){this.angle=0;this.width=10;this.r=10;this.x=0;this.y=0}return r}();var vB=function(r){a(t,r);function t(t){var i=r.call(this,t)||this;i.type="pointer";return i}t.prototype.getDefaultShape=function(){return new oB};t.prototype.buildPath=function(r,t){var i=Math.cos;var n=Math.sin;var a=t.r;var e=t.width;var u=t.angle;var o=t.x-i(u)*e*(e>=a/3?1:2);var v=t.y-n(u)*e*(e>=a/3?1:2);u=t.angle-Math.PI/2;r.moveTo(o,v);r.lineTo(t.x+i(u)*e,t.y+n(u)*e);r.lineTo(t.x+i(t.angle)*a,t.y+n(t.angle)*a);r.lineTo(t.x-i(u)*e,t.y-n(u)*e);r.lineTo(o,v)};return t}(Vv);function sB(r,t){var i=r.get("center");var n=t.getWidth();var a=t.getHeight();var e=Math.min(n,a);var u=Le(i[0],t.getWidth());var o=Le(i[1],t.getHeight());var v=Le(r.get("radius"),e/2);return{cx:u,cy:o,r:v}}function fB(r,t){var i=r==null?"":r+"";if(t){if($(t)){i=t.replace("{value}",i)}else if(J(t)){i=t(r)}}return i}var lB=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i){this.group.removeAll();var n=r.get(["axisLine","lineStyle","color"]);var a=sB(r,i);this._renderMain(r,t,i,n,a);this._data=r.getData()};t.prototype.dispose=function(){};t.prototype._renderMain=function(r,t,i,n,a){var e=this.group;var u=r.get("clockwise");var o=-r.get("startAngle")/180*Math.PI;var v=-r.get("endAngle")/180*Math.PI;var s=r.getModel("axisLine");var f=s.get("roundCap");var l=f?cC:Nl;var h=s.get("show");var c=s.getModel("lineStyle");var d=c.get("width");var p=[o,v];pv(p,!u);o=p[0];v=p[1];var m=v-o;var y=o;var g=[];for(var b=0;h&&b<n.length;b++){var w=Math.min(Math.max(n[b][0],0),1);v=o+m*w;var x=new l({shape:{startAngle:y,endAngle:v,cx:a.cx,cy:a.cy,clockwise:u,r0:a.r-d,r:a.r},silent:true});x.setStyle({fill:n[b][1]});x.setStyle(c.getLineStyle(["color","width"]));g.push(x);y=v}g.reverse();V(g,(function(r){return e.add(r)}));var M=function(r){if(r<=0){return n[0][1]}var t;for(t=0;t<n.length;t++){if(n[t][0]>=r&&(t===0?0:n[t-1][0])<r){return n[t][1]}}return n[t-1][1]};this._renderTicks(r,t,i,M,a,o,v,u,d);this._renderTitleAndDetail(r,t,i,M,a);this._renderAnchor(r,a);this._renderPointer(r,t,i,M,a,o,v,u,d)};t.prototype._renderTicks=function(r,t,i,n,a,e,u,o,v){var s=this.group;var f=a.cx;var l=a.cy;var h=a.r;var c=+r.get("min");var d=+r.get("max");var p=r.getModel("splitLine");var m=r.getModel("axisTick");var y=r.getModel("axisLabel");var g=r.get("splitNumber");var b=m.get("splitNumber");var w=Le(p.get("length"),h);var x=Le(m.get("length"),h);var M=e;var S=(u-e)/g;var k=S/b;var N=p.getModel("lineStyle").getLineStyle();var A=m.getModel("lineStyle").getLineStyle();var I=p.get("distance");var C;var T;for(var z=0;z<=g;z++){C=Math.cos(M);T=Math.sin(M);if(p.get("show")){var L=I?I+v:v;var O=new Bl({shape:{x1:C*(h-L)+f,y1:T*(h-L)+l,x2:C*(h-w-L)+f,y2:T*(h-w-L)+l},style:N,silent:true});if(N.stroke==="auto"){O.setStyle({stroke:n(z/g)})}s.add(O)}if(y.get("show")){var L=y.get("distance")+I;var D=fB(Oe(z/g*(d-c)+c),y.get("formatter"));var R=n(z/g);var F=C*(h-w-L)+f;var B=T*(h-w-L)+l;var _=y.get("rotate");var E=0;if(_==="radial"){E=-M+2*Math.PI;if(E>Math.PI/2){E+=Math.PI}}else if(_==="tangential"){E=-M-Math.PI/2}else if(rr(_)){E=_*Math.PI/180}if(E===0){s.add(new es({style:qh(y,{text:D,x:F,y:B,verticalAlign:T<-.8?"top":T>.8?"bottom":"middle",align:C<-.4?"left":C>.4?"right":"center"},{inheritColor:R}),silent:true}))}else{s.add(new es({style:qh(y,{text:D,x:F,y:B,verticalAlign:"middle",align:"center"},{inheritColor:R}),silent:true,originX:F,originY:B,rotation:E}))}}if(m.get("show")&&z!==g){var L=m.get("distance");L=L?L+v:v;for(var P=0;P<=b;P++){C=Math.cos(M);T=Math.sin(M);var W=new Bl({shape:{x1:C*(h-L)+f,y1:T*(h-L)+l,x2:C*(h-x-L)+f,y2:T*(h-x-L)+l},silent:true,style:A});if(A.stroke==="auto"){W.setStyle({stroke:n((z+P/b)/g)})}s.add(W);M+=k}M-=k}else{M+=S}}};t.prototype._renderPointer=function(r,t,i,n,a,e,u,o,v){var s=this.group;var f=this._data;var l=this._progressEls;var h=[];var c=r.get(["pointer","show"]);var d=r.getModel("progress");var p=d.get("show");var m=r.getData();var y=m.mapDimension("value");var g=+r.get("min");var b=+r.get("max");var w=[g,b];var x=[e,u];function M(t,i){var n=m.getItemModel(t);var e=n.getModel("pointer");var u=Le(e.get("width"),a.r);var o=Le(e.get("length"),a.r);var v=r.get(["pointer","icon"]);var s=e.get("offsetCenter");var f=Le(s[0],a.r);var l=Le(s[1],a.r);var h=e.get("keepAspect");var c;if(v){c=kb(v,f-u/2,l-o,u,o,null,h)}else{c=new vB({shape:{angle:-Math.PI/2,width:u,r:o,x:f,y:l}})}c.rotation=-(i+Math.PI/2);c.x=a.cx;c.y=a.cy;return c}function S(r,t){var i=d.get("roundCap");var n=i?cC:Nl;var u=d.get("overlap");var s=u?d.get("width"):v/m.count();var f=u?a.r-s:a.r-(r+1)*s;var l=u?a.r:a.r-r*s;var h=new n({shape:{startAngle:e,endAngle:t,cx:a.cx,cy:a.cy,clockwise:o,r0:f,r:l}});u&&(h.z2=b-m.get(y,r)%b);return h}if(p||c){m.diff(f).add((function(t){var i=m.get(y,t);if(c){var n=M(t,e);ah(n,{rotation:-((isNaN(+i)?x[0]:ze(i,w,x,true))+Math.PI/2)},r);s.add(n);m.setItemGraphicEl(t,n)}if(p){var a=S(t,e);var u=d.get("clip");ah(a,{shape:{endAngle:ze(i,w,x,u)}},r);s.add(a);ws(r.seriesIndex,m.dataType,t,a);h[t]=a}})).update((function(t,i){var n=m.get(y,t);if(c){var a=f.getItemGraphicEl(i);var u=a?a.rotation:e;var o=M(t,u);o.rotation=u;nh(o,{rotation:-((isNaN(+n)?x[0]:ze(n,w,x,true))+Math.PI/2)},r);s.add(o);m.setItemGraphicEl(t,o)}if(p){var v=l[i];var g=v?v.shape.endAngle:e;var b=S(t,g);var k=d.get("clip");nh(b,{shape:{endAngle:ze(n,w,x,k)}},r);s.add(b);ws(r.seriesIndex,m.dataType,t,b);h[t]=b}})).execute();m.each((function(r){var t=m.getItemModel(r);var i=t.getModel("emphasis");var a=i.get("focus");var e=i.get("blurScope");var u=i.get("disabled");if(c){var o=m.getItemGraphicEl(r);var v=m.getItemVisual(r,"style");var s=v.fill;if(o instanceof Zv){var f=o.style;o.useStyle(F({image:f.image,x:f.x,y:f.y,width:f.width,height:f.height},v))}else{o.useStyle(v);o.type!=="pointer"&&o.setColor(s)}o.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle());if(o.style.fill==="auto"){o.setStyle("fill",n(ze(m.get(y,r),w,[0,1],true)))}o.z2EmphasisLift=0;Cf(o,t);kf(o,a,e,u)}if(p){var l=h[r];l.useStyle(m.getItemVisual(r,"style"));l.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle());l.z2EmphasisLift=0;Cf(l,t);kf(l,a,e,u)}}));this._progressEls=h}};t.prototype._renderAnchor=function(r,t){var i=r.getModel("anchor");var n=i.get("show");if(n){var a=i.get("size");var e=i.get("icon");var u=i.get("offsetCenter");var o=i.get("keepAspect");var v=kb(e,t.cx-a/2+Le(u[0],t.r),t.cy-a/2+Le(u[1],t.r),a,a,null,o);v.z2=i.get("showAbove")?1:0;v.setStyle(i.getModel("itemStyle").getItemStyle());this.group.add(v)}};t.prototype._renderTitleAndDetail=function(r,t,i,n,a){var e=this;var u=r.getData();var o=u.mapDimension("value");var v=+r.get("min");var s=+r.get("max");var f=new xe;var l=[];var h=[];var c=r.isAnimationEnabled();var d=r.get(["pointer","showAbove"]);u.diff(this._data).add((function(r){l[r]=new es({silent:true});h[r]=new es({silent:true})})).update((function(r,t){l[r]=e._titleEls[t];h[r]=e._detailEls[t]})).execute();u.each((function(t){var i=u.getItemModel(t);var e=u.get(o,t);var p=new xe;var m=n(ze(e,[v,s],[0,1],true));var y=i.getModel("title");if(y.get("show")){var g=y.get("offsetCenter");var b=a.cx+Le(g[0],a.r);var w=a.cy+Le(g[1],a.r);var x=l[t];x.attr({z2:d?0:2,style:qh(y,{x:b,y:w,text:u.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:m})});p.add(x)}var M=i.getModel("detail");if(M.get("show")){var S=M.get("offsetCenter");var k=a.cx+Le(S[0],a.r);var N=a.cy+Le(S[1],a.r);var A=Le(M.get("width"),a.r);var I=Le(M.get("height"),a.r);var C=r.get(["progress","show"])?u.getItemVisual(t,"style").fill:m;var x=h[t];var T=M.get("formatter");x.attr({z2:d?0:2,style:qh(M,{x:k,y:N,text:fB(e,T),width:isNaN(A)?null:A,height:isNaN(I)?null:I,align:"center",verticalAlign:"middle"},{inheritColor:C})});ec(x,{normal:M},e,(function(r){return fB(r,T)}));c&&uc(x,t,u,r,{getFormattedLabel:function(r,t,i,n,a,u){return fB(u?u.interpolatedValue:e,T)}});p.add(x)}f.add(p)}));this.group.add(f);this._titleEls=l;this._detailEls=h};t.type="gauge";return t}(sg);var hB=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.visualStyleAccessPath="itemStyle";return i}t.prototype.getInitialData=function(r,t){return aT(this,["value"])};t.type="series.gauge";t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:true,radius:"75%",startAngle:225,endAngle:-45,clockwise:true,min:0,max:100,splitNumber:10,axisLine:{show:true,roundCap:false,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:false,overlap:true,width:10,roundCap:false,clip:true},splitLine:{show:true,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:true,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:true,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:true,showAbove:true,length:"60%",width:6,keepAspect:false},anchor:{show:false,showAbove:false,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:false,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:true,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:false},detail:{show:true,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:false}};return t}(Ky);function cB(r){r.registerChartView(lB);r.registerSeriesModel(hB)}var dB=["itemStyle","opacity"];var pB=function(r){a(t,r);function t(t,i){var n=r.call(this)||this;var a=n;var e=new Dl;var u=new es;a.setTextContent(u);n.setTextGuideLine(e);n.updateData(t,i,true);return n}t.prototype.updateData=function(r,t,i){var n=this;var a=r.hostModel;var e=r.getItemModel(t);var u=r.getItemLayout(t);var o=e.getModel("emphasis");var v=e.get(dB);v=v==null?1:v;if(!i){sh(n)}n.useStyle(r.getItemVisual(t,"style"));n.style.lineJoin="round";if(i){n.setShape({points:u.points});n.style.opacity=0;ah(n,{style:{opacity:v}},a,t)}else{nh(n,{style:{opacity:v},shape:{points:u.points}},a,t)}Cf(n,e);this._updateLabel(r,t);kf(this,o.get("focus"),o.get("blurScope"),o.get("disabled"))};t.prototype._updateLabel=function(r,t){var i=this;var n=this.getTextGuideLine();var a=i.getTextContent();var e=r.hostModel;var u=r.getItemModel(t);var o=r.getItemLayout(t);var v=o.label;var s=r.getItemVisual(t,"style");var f=s.fill;Zh(a,jh(u),{labelFetcher:r.hostModel,labelDataIndex:t,defaultOpacity:s.opacity,defaultText:r.getName(t)},{normal:{align:v.textAlign,verticalAlign:v.verticalAlign}});i.setTextConfig({local:true,inside:!!v.inside,insideStroke:f,outsideFill:f});var l=v.linePoints;n.setShape({points:l});i.textGuideLineConfig={anchor:l?new Et(l[0][0],l[0][1]):null};nh(a,{style:{x:v.x,y:v.y}},e,t);a.attr({rotation:v.rotation,originX:v.x,originY:v.y,z2:10});pN(i,mN(u),{stroke:f})};return t}(Ll);var mB=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.ignoreLabelLineUpdate=true;return i}t.prototype.render=function(r,t,i){var n=r.getData();var a=this._data;var e=this.group;n.diff(a).add((function(r){var t=new pB(n,r);n.setItemGraphicEl(r,t);e.add(t)})).update((function(r,t){var i=a.getItemGraphicEl(t);i.updateData(n,r);e.add(i);n.setItemGraphicEl(r,i)})).remove((function(t){var i=a.getItemGraphicEl(t);vh(i,r,t)})).execute();this._data=n};t.prototype.remove=function(){this.group.removeAll();this._data=null};t.prototype.dispose=function(){};t.type="funnel";return t}(sg);var yB=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.init=function(t){r.prototype.init.apply(this,arguments);this.legendVisualProvider=new eT(j(this.getData,this),j(this.getRawData,this));this._defaultLabelLine(t)};t.prototype.getInitialData=function(r,t){return aT(this,{coordDimensions:["value"],encodeDefaulter:q(ip,this)})};t.prototype._defaultLabelLine=function(r){fu(r,"labelLine",["show"]);var t=r.labelLine;var i=r.emphasis.labelLine;t.show=t.show&&r.label.show;i.show=i.show&&r.emphasis.label.show};t.prototype.getDataParams=function(t){var i=this.getData();var n=r.prototype.getDataParams.call(this,t);var a=i.mapDimension("value");var e=i.getSum(a);n.percent=!e?0:+(i.get(a,t)/e*100).toFixed(2);n.$vars.push("percent");return n};t.type="series.funnel";t.defaultOption={z:2,legendHoverLink:true,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:true,position:"outer"},labelLine:{show:true,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:true}},select:{itemStyle:{borderColor:"#212121"}}};return t}(Ky);function gB(r,t){return zd(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function bB(r,t){var i=r.mapDimension("value");var n=r.mapArray(i,(function(r){return r}));var a=[];var e=t==="ascending";for(var u=0,o=r.count();u<o;u++){a[u]=u}if(J(t)){a.sort(t)}else if(t!=="none"){a.sort((function(r,t){return e?n[r]-n[t]:n[t]-n[r]}))}return a}function wB(r){var t=r.hostModel;var i=t.get("orient");r.each((function(t){var n=r.getItemModel(t);var a=n.getModel("label");var e=a.get("position");var u=n.getModel("labelLine");var o=r.getItemLayout(t);var v=o.points;var s=e==="inner"||e==="inside"||e==="center"||e==="insideLeft"||e==="insideRight";var f;var l;var h;var c;if(s){if(e==="insideLeft"){l=(v[0][0]+v[3][0])/2+5;h=(v[0][1]+v[3][1])/2;f="left"}else if(e==="insideRight"){l=(v[1][0]+v[2][0])/2-5;h=(v[1][1]+v[2][1])/2;f="right"}else{l=(v[0][0]+v[1][0]+v[2][0]+v[3][0])/4;h=(v[0][1]+v[1][1]+v[2][1]+v[3][1])/4;f="center"}c=[[l,h],[l,h]]}else{var d=void 0;var p=void 0;var m=void 0;var y=void 0;var g=u.get("length");if(e==="left"){d=(v[3][0]+v[0][0])/2;p=(v[3][1]+v[0][1])/2;m=d-g;l=m-5;f="right"}else if(e==="right"){d=(v[1][0]+v[2][0])/2;p=(v[1][1]+v[2][1])/2;m=d+g;l=m+5;f="left"}else if(e==="top"){d=(v[3][0]+v[0][0])/2;p=(v[3][1]+v[0][1])/2;y=p-g;h=y-5;f="center"}else if(e==="bottom"){d=(v[1][0]+v[2][0])/2;p=(v[1][1]+v[2][1])/2;y=p+g;h=y+5;f="center"}else if(e==="rightTop"){d=i==="horizontal"?v[3][0]:v[1][0];p=i==="horizontal"?v[3][1]:v[1][1];if(i==="horizontal"){y=p-g;h=y-5;f="center"}else{m=d+g;l=m+5;f="top"}}else if(e==="rightBottom"){d=v[2][0];p=v[2][1];if(i==="horizontal"){y=p+g;h=y+5;f="center"}else{m=d+g;l=m+5;f="bottom"}}else if(e==="leftTop"){d=v[0][0];p=i==="horizontal"?v[0][1]:v[1][1];if(i==="horizontal"){y=p-g;h=y-5;f="center"}else{m=d-g;l=m-5;f="right"}}else if(e==="leftBottom"){d=i==="horizontal"?v[1][0]:v[3][0];p=i==="horizontal"?v[1][1]:v[2][1];if(i==="horizontal"){y=p+g;h=y+5;f="center"}else{m=d-g;l=m-5;f="right"}}else{d=(v[1][0]+v[2][0])/2;p=(v[1][1]+v[2][1])/2;if(i==="horizontal"){y=p+g;h=y+5;f="center"}else{m=d+g;l=m+5;f="left"}}if(i==="horizontal"){m=d;l=m}else{y=p;h=y}c=[[d,p],[m,y]]}o.label={linePoints:c,x:l,y:h,verticalAlign:"middle",textAlign:f,inside:s}}))}function xB(r,t){r.eachSeriesByType("funnel",(function(r){var i=r.getData();var n=i.mapDimension("value");var a=r.get("sort");var e=gB(r,t);var u=r.get("orient");var o=e.width;var v=e.height;var s=bB(i,a);var f=e.x;var l=e.y;var h=u==="horizontal"?[Le(r.get("minSize"),v),Le(r.get("maxSize"),v)]:[Le(r.get("minSize"),o),Le(r.get("maxSize"),o)];var c=i.getDataExtent(n);var d=r.get("min");var p=r.get("max");if(d==null){d=Math.min(c[0],0)}if(p==null){p=c[1]}var m=r.get("funnelAlign");var y=r.get("gap");var g=u==="horizontal"?o:v;var b=(g-y*(i.count()-1))/i.count();var w=function(r,t){if(u==="horizontal"){var a=i.get(n,r)||0;var e=ze(a,[d,p],h,true);var s=void 0;switch(m){case"top":s=l;break;case"center":s=l+(v-e)/2;break;case"bottom":s=l+(v-e);break}return[[t,s],[t,s+e]]}var c=i.get(n,r)||0;var y=ze(c,[d,p],h,true);var g;switch(m){case"left":g=f;break;case"center":g=f+(o-y)/2;break;case"right":g=f+o-y;break}return[[g,t],[g+y,t]]};if(a==="ascending"){b=-b;y=-y;if(u==="horizontal"){f+=o}else{l+=v}s=s.reverse()}for(var x=0;x<s.length;x++){var M=s[x];var S=s[x+1];var k=i.getItemModel(M);if(u==="horizontal"){var N=k.get(["itemStyle","width"]);if(N==null){N=b}else{N=Le(N,o);if(a==="ascending"){N=-N}}var A=w(M,f);var I=w(S,f+N);f+=N+y;i.setItemLayout(M,{points:A.concat(I.slice().reverse())})}else{var C=k.get(["itemStyle","height"]);if(C==null){C=b}else{C=Le(C,v);if(a==="ascending"){C=-C}}var A=w(M,l);var I=w(S,l+C);l+=C+y;i.setItemLayout(M,{points:A.concat(I.slice().reverse())})}}wB(i)}))}function MB(r){r.registerChartView(mB);r.registerSeriesModel(yB);r.registerLayout(xB);r.registerProcessor(qC("funnel"))}var SB=.3;var kB=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i._dataGroup=new xe;i._initialized=false;return i}t.prototype.init=function(){this.group.add(this._dataGroup)};t.prototype.render=function(r,t,i,n){this._progressiveEls=null;var a=this._dataGroup;var e=r.getData();var u=this._data;var o=r.coordinateSystem;var v=o.dimensions;var s=CB(r);e.diff(u).add(f).update(l).remove(h).execute();function f(r){var t=IB(e,a,r,v,o);TB(t,e,r,s)}function l(t,i){var n=u.getItemGraphicEl(i);var a=AB(e,t,v,o);e.setItemGraphicEl(t,n);nh(n,{shape:{points:a}},r,t);sh(n);TB(n,e,t,s)}function h(r){var t=u.getItemGraphicEl(r);a.remove(t)}if(!this._initialized){this._initialized=true;var c=NB(o,r,(function(){setTimeout((function(){a.removeClipPath()}))}));a.setClipPath(c)}this._data=e};t.prototype.incrementalPrepareRender=function(r,t,i){this._initialized=true;this._data=null;this._dataGroup.removeAll()};t.prototype.incrementalRender=function(r,t,i){var n=t.getData();var a=t.coordinateSystem;var e=a.dimensions;var u=CB(t);var o=this._progressiveEls=[];for(var v=r.start;v<r.end;v++){var s=IB(n,this._dataGroup,v,e,a);s.incremental=true;TB(s,n,v,u);o.push(s)}};t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null};t.type="parallel";return t}(sg);function NB(r,t,i){var n=r.model;var a=r.getRect();var e=new ts({shape:{x:a.x,y:a.y,width:a.width,height:a.height}});var u=n.get("layout")==="horizontal"?"width":"height";e.setShape(u,0);ah(e,{shape:{width:a.width,height:a.height}},t,i);return e}function AB(r,t,i,n){var a=[];for(var e=0;e<i.length;e++){var u=i[e];var o=r.get(r.mapDimension(u),t);if(!zB(o,n.getAxis(u).type)){a.push(n.dataToPoint(o,u))}}return a}function IB(r,t,i,n,a){var e=AB(r,i,n,a);var u=new Dl({shape:{points:e},z2:10});t.add(u);r.setItemGraphicEl(i,u);return u}function CB(r){var t=r.get("smooth",true);t===true&&(t=SB);t=qe(t);vr(t)&&(t=0);return{smooth:t}}function TB(r,t,i,n){r.useStyle(t.getItemVisual(i,"style"));r.style.fill=null;r.setShape("smooth",n.smooth);var a=t.getItemModel(i);var e=a.getModel("emphasis");Cf(r,a,"lineStyle");kf(r,e.get("focus"),e.get("blurScope"),e.get("disabled"))}function zB(r,t){return t==="category"?r==null:r==null||isNaN(r)}var LB=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.visualStyleAccessPath="lineStyle";i.visualDrawType="stroke";return i}t.prototype.getInitialData=function(r,t){return XM(null,this,{useEncodeDefaulter:j(OB,null,this)})};t.prototype.getRawIndicesByActiveState=function(r){var t=this.coordinateSystem;var i=this.getData();var n=[];t.eachActiveState(i,(function(t,a){if(r===t){n.push(i.getRawIndex(a))}}));return n};t.type="series.parallel";t.dependencies=["parallel"];t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:false},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:false}},progressive:500,smooth:false,animationEasing:"linear"};return t}(Ky);function OB(r){var t=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(!t){return}var i={};V(t.dimensions,(function(r){var t=DB(r);i[r]=t}));return i}function DB(r){return+r.replace("dim","")}var RB=["lineStyle","opacity"];var FB={seriesType:"parallel",reset:function(r,t){var i=r.coordinateSystem;var n={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(r,t){i.eachActiveState(t,(function(r,i){var a=n[r];if(r==="normal"&&t.hasItemOption){var e=t.getItemModel(i).get(RB,true);e!=null&&(a=e)}var u=t.ensureUniqueItemVisual(i,"style");u.opacity=a}),r.start,r.end)}}}};function BB(r){_B(r);EB(r)}function _B(r){if(r.parallel){return}var t=false;V(r.series,(function(r){if(r&&r.type==="parallel"){t=true}}));if(t){r.parallel=[{}]}}function EB(r){var t=su(r.parallelAxis);V(t,(function(t){if(!tr(t)){return}var i=t.parallelIndex||0;var n=su(r.parallel)[i];if(n&&n.parallelAxisDefault){D(t,n.parallelAxisDefault,false)}}))}var PB=5;var WB=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i){this._model=r;this._api=i;if(!this._handlers){this._handlers={};V(VB,(function(r,t){i.getZr().on(t,this._handlers[t]=j(r,this))}),this)}bg(this,"_throttledDispatchExpand",r.get("axisExpandRate"),"fixRate")};t.prototype.dispose=function(r,t){wg(this,"_throttledDispatchExpand");V(this._handlers,(function(r,i){t.getZr().off(i,r)}));this._handlers=null};t.prototype._throttledDispatchExpand=function(r){this._dispatchExpand(r)};t.prototype._dispatchExpand=function(r){r&&this._api.dispatchAction(F({type:"parallelAxisExpand"},r))};t.type="parallel";return t}(eg);var VB={mousedown:function(r){if(HB(this,"click")){this._mouseDownPoint=[r.offsetX,r.offsetY]}},mouseup:function(r){var t=this._mouseDownPoint;if(HB(this,"click")&&t){var i=[r.offsetX,r.offsetY];var n=Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2);if(n>PB){return}var a=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);a.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(this._mouseDownPoint||!HB(this,"mousemove")){return}var t=this._model;var i=t.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);var n=i.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce"));this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:i.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}};function HB(r,t){var i=r._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===t}var YB=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.init=function(){r.prototype.init.apply(this,arguments);this.mergeOption({})};t.prototype.mergeOption=function(r){var t=this.option;r&&D(t,r,true);this._initDimensions()};t.prototype.contains=function(r,t){var i=r.get("parallelIndex");return i!=null&&t.getComponent("parallel",i)===this};t.prototype.setAxisExpand=function(r){V(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(t){if(r.hasOwnProperty(t)){this.option[t]=r[t]}}),this)};t.prototype._initDimensions=function(){var r=this.dimensions=[];var t=this.parallelAxisIndex=[];var i=X(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(r){return(r.get("parallelIndex")||0)===this.componentIndex}),this);V(i,(function(i){r.push("dim"+i.get("dim"));t.push(i.componentIndex)}))};t.type="parallel";t.dependencies=["parallelAxis"];t.layoutMode="box";t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:false,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null};return t}(Ed);var XB=function(r){a(t,r);function t(t,i,n,a,e){var u=r.call(this,t,i,n)||this;u.type=a||"value";u.axisIndex=e;return u}t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"};return t}(Xk);function GB(r,t,i,n,a,e){r=r||0;var u=i[1]-i[0];if(a!=null){a=ZB(a,[0,u])}if(e!=null){e=Math.max(e,a!=null?a:0)}if(n==="all"){var o=Math.abs(t[1]-t[0]);o=ZB(o,[0,u]);a=e=ZB(o,[a,e]);n=0}t[0]=ZB(t[0],i);t[1]=ZB(t[1],i);var v=UB(t,n);t[n]+=r;var s=a||0;var f=i.slice();v.sign<0?f[0]+=s:f[1]-=s;t[n]=ZB(t[n],f);var l;l=UB(t,n);if(a!=null&&(l.sign!==v.sign||l.span<a)){t[1-n]=t[n]+v.sign*a}l=UB(t,n);if(e!=null&&l.span>e){t[1-n]=t[n]+l.sign*e}return t}function UB(r,t){var i=r[t]-r[1-t];return{span:Math.abs(i),sign:i>0?-1:i<0?1:t?-1:1}}function ZB(r,t){return Math.min(t[1]!=null?t[1]:Infinity,Math.max(t[0]!=null?t[0]:-Infinity,r))}var jB=V;var qB=Math.min;var KB=Math.max;var JB=Math.floor;var $B=Math.ceil;var QB=Oe;var r_=Math.PI;var t_=function(){function r(r,t,i){this.type="parallel";this._axesMap=Sr();this._axesLayout={};this.dimensions=r.dimensions;this._model=r;this._init(r,t,i)}r.prototype._init=function(r,t,i){var n=r.dimensions;var a=r.parallelAxisIndex;jB(n,(function(r,i){var n=a[i];var e=t.getComponent("parallelAxis",n);var u=this._axesMap.set(r,new XB(r,tk(e),[0,0],e.get("type"),n));var o=u.type==="category";u.onBand=o&&e.get("boundaryGap");u.inverse=e.get("inverse");e.axis=u;u.model=e;u.coordinateSystem=e.coordinateSystem=this}),this)};r.prototype.update=function(r,t){this._updateAxesFromSeries(this._model,r)};r.prototype.containPoint=function(r){var t=this._makeLayoutInfo();var i=t.axisBase;var n=t.layoutBase;var a=t.pixelDimIndex;var e=r[1-a];var u=r[a];return e>=i&&e<=i+t.axisLength&&u>=n&&u<=n+t.layoutLength};r.prototype.getModel=function(){return this._model};r.prototype._updateAxesFromSeries=function(r,t){t.eachSeries((function(i){if(!r.contains(i,t)){return}var n=i.getData();jB(this.dimensions,(function(r){var t=this._axesMap.get(r);t.scale.unionExtentFromData(n,n.mapDimension(r));rk(t.scale,t.model)}),this)}),this)};r.prototype.resize=function(r,t){this._rect=zd(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._layoutAxes()};r.prototype.getRect=function(){return this._rect};r.prototype._makeLayoutInfo=function(){var r=this._model;var t=this._rect;var i=["x","y"];var n=["width","height"];var a=r.get("layout");var e=a==="horizontal"?0:1;var u=t[n[e]];var o=[0,u];var v=this.dimensions.length;var s=i_(r.get("axisExpandWidth"),o);var f=i_(r.get("axisExpandCount")||0,[0,v]);var l=r.get("axisExpandable")&&v>3&&v>f&&f>1&&s>0&&u>0;var h=r.get("axisExpandWindow");var c;if(!h){c=i_(s*(f-1),o);var d=r.get("axisExpandCenter")||JB(v/2);h=[s*d-c/2];h[1]=h[0]+c}else{c=i_(h[1]-h[0],o);h[1]=h[0]+c}var p=(u-c)/(v-f);p<3&&(p=0);var m=[JB(QB(h[0]/s,1))+1,$B(QB(h[1]/s,1))-1];var y=p/s*h[0];return{layout:a,pixelDimIndex:e,layoutBase:t[i[e]],layoutLength:u,axisBase:t[i[1-e]],axisLength:t[n[1-e]],axisExpandable:l,axisExpandWidth:s,axisCollapseWidth:p,axisExpandWindow:h,axisCount:v,winInnerIndices:m,axisExpandWindow0Pos:y}};r.prototype._layoutAxes=function(){var r=this._rect;var t=this._axesMap;var i=this.dimensions;var n=this._makeLayoutInfo();var a=n.layout;t.each((function(r){var t=[0,n.axisLength];var i=r.inverse?1:0;r.setExtent(t[i],t[1-i])}));jB(i,(function(t,i){var e=(n.axisExpandable?a_:n_)(i,n);var u={horizontal:{x:e.position,y:n.axisLength},vertical:{x:0,y:e.position}};var o={horizontal:r_/2,vertical:0};var v=[u[a].x+r.x,u[a].y+r.y];var s=o[a];var f=Tt();Rt(f,f,s);Dt(f,f,v);this._axesLayout[t]={position:v,rotation:s,transform:f,axisNameAvailableWidth:e.axisNameAvailableWidth,axisLabelShow:e.axisLabelShow,nameTruncateMaxWidth:e.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)};r.prototype.getAxis=function(r){return this._axesMap.get(r)};r.prototype.dataToPoint=function(r,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(r),t)};r.prototype.eachActiveState=function(r,t,i,n){i==null&&(i=0);n==null&&(n=r.count());var a=this._axesMap;var e=this.dimensions;var u=[];var o=[];V(e,(function(t){u.push(r.mapDimension(t));o.push(a.get(t).model)}));var v=this.hasAxisBrushed();for(var s=i;s<n;s++){var f=void 0;if(!v){f="normal"}else{f="active";var l=r.getValues(u,s);for(var h=0,c=e.length;h<c;h++){var d=o[h].getActiveState(l[h]);if(d==="inactive"){f="inactive";break}}}t(f,s)}};r.prototype.hasAxisBrushed=function(){var r=this.dimensions;var t=this._axesMap;var i=false;for(var n=0,a=r.length;n<a;n++){if(t.get(r[n]).model.getActiveState()!=="normal"){i=true}}return i};r.prototype.axisCoordToPoint=function(r,t){var i=this._axesLayout[t];return Ch([r,0],i.transform)};r.prototype.getAxisLayout=function(r){return O(this._axesLayout[r])};r.prototype.getSlidedAxisExpandWindow=function(r){var t=this._makeLayoutInfo();var i=t.pixelDimIndex;var n=t.axisExpandWindow.slice();var a=n[1]-n[0];var e=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(r)){return{behavior:"none",axisExpandWindow:n}}var u=r[i]-t.layoutBase-t.axisExpandWindow0Pos;var o;var v="slide";var s=t.axisCollapseWidth;var f=this._model.get("axisExpandSlideTriggerArea");var l=f[0]!=null;if(s){if(l&&s&&u<a*f[0]){v="jump";o=u-a*f[2]}else if(l&&s&&u>a*(1-f[0])){v="jump";o=u-a*(1-f[2])}else{(o=u-a*f[1])>=0&&(o=u-a*(1-f[1]))<=0&&(o=0)}o*=t.axisExpandWidth/s;o?GB(o,n,e,"all"):v="none"}else{var h=n[1]-n[0];var c=e[1]*u/h;n=[KB(0,c-h/2)];n[1]=qB(e[1],n[0]+h);n[0]=n[1]-h}return{axisExpandWindow:n,behavior:v}};return r}();function i_(r,t){return qB(KB(r,t[0]),t[1])}function n_(r,t){var i=t.layoutLength/(t.axisCount-1);return{position:i*r,axisNameAvailableWidth:i,axisLabelShow:true}}function a_(r,t){var i=t.layoutLength;var n=t.axisExpandWidth;var a=t.axisCount;var e=t.axisCollapseWidth;var u=t.winInnerIndices;var o;var v=e;var s=false;var f;if(r<u[0]){o=r*e;f=e}else if(r<=u[1]){o=t.axisExpandWindow0Pos+r*n-t.axisExpandWindow[0];v=n;s=true}else{o=i-(a-1-r)*e;f=e}return{position:o,axisNameAvailableWidth:v,axisLabelShow:s,nameTruncateMaxWidth:f}}function e_(r,t){var i=[];r.eachComponent("parallel",(function(n,a){var e=new t_(n,r,t);e.name="parallel_"+a;e.resize(n,t);n.coordinateSystem=e;e.model=n;i.push(e)}));r.eachSeries((function(r){if(r.get("coordinateSystem")==="parallel"){var t=r.getReferringComponents("parallel",Fu).models[0];r.coordinateSystem=t.coordinateSystem}}));return i}var u_={create:e_};var o_=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.activeIntervals=[];return i}t.prototype.getAreaSelectStyle=function(){return no([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))};t.prototype.setActiveIntervals=function(r){var t=this.activeIntervals=O(r);if(t){for(var i=t.length-1;i>=0;i--){De(t[i])}}};t.prototype.getActiveState=function(r){var t=this.activeIntervals;if(!t.length){return"normal"}if(r==null||isNaN(+r)){return"inactive"}if(t.length===1){var i=t[0];if(i[0]<=r&&r<=i[1]){return"active"}}else{for(var n=0,a=t.length;n<a;n++){if(t[n][0]<=r&&r<=t[n][1]){return"active"}}}return"inactive"};return t}(Ed);P(o_,lk);var v_=true;var s_=Math.min;var f_=Math.max;var l_=Math.pow;var h_=1e4;var c_=6;var d_=6;var p_="globalPan";var m_={w:[0,0],e:[0,1],n:[1,0],s:[1,1]};var y_={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"};var g_={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:true,brushMode:"single",removeOnClick:false};var b_=0;var w_=function(r){a(t,r);function t(t){var i=r.call(this)||this;i._track=[];i._covers=[];i._handlers={};i._zr=t;i.group=new xe;i._uid="brushController_"+b_++;V($_,(function(r,t){this._handlers[t]=j(r,this)}),i);return i}t.prototype.enableBrush=function(r){this._brushType&&this._doDisableBrush();r.brushType&&this._doEnableBrush(r);return this};t.prototype._doEnableBrush=function(r){var t=this._zr;if(!this._enableGlobalPan){Hz(t,p_,this._uid)}V(this._handlers,(function(r,i){t.on(i,r)}));this._brushType=r.brushType;this._brushOption=D(O(g_),r,true)};t.prototype._doDisableBrush=function(){var r=this._zr;Yz(r,p_,this._uid);V(this._handlers,(function(t,i){r.off(i,t)}));this._brushType=this._brushOption=null};t.prototype.setPanels=function(r){if(r&&r.length){var t=this._panels={};V(r,(function(r){t[r.panelId]=O(r)}))}else{this._panels=null}return this};t.prototype.mount=function(r){r=r||{};this._enableGlobalPan=r.enableGlobalPan;var t=this.group;this._zr.add(t);t.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1});this._transform=t.getLocalTransform();return this};t.prototype.updateCovers=function(r){r=H(r,(function(r){return D(O(g_),r,true)}));var t="\0-brush-index-";var i=this._covers;var n=this._covers=[];var a=this;var e=this._creatingCover;new tM(i,r,o,u).add(v).update(v).remove(s).execute();return this;function u(r,i){return(r.id!=null?r.id:t+i)+"-"+r.brushType}function o(r,t){return u(r.__brushOption,t)}function v(t,u){var o=r[t];if(u!=null&&i[u]===e){n[t]=i[u]}else{var v=n[t]=u!=null?(i[u].__brushOption=o,i[u]):M_(a,x_(a,o));N_(a,v)}}function s(r){if(i[r]!==e){a.group.remove(i[r])}}};t.prototype.unmount=function(){this.enableBrush(false);T_(this);this._zr.remove(this.group);return this};t.prototype.dispose=function(){this.unmount();this.off()};return t}(Qr);function x_(r,t){var i=tE[t.brushType].createCover(r,t);i.__brushOption=t;k_(i,t);r.group.add(i);return i}function M_(r,t){var i=A_(t);if(i.endCreating){i.endCreating(r,t);k_(t,t.__brushOption)}return t}function S_(r,t){var i=t.__brushOption;A_(t).updateCoverShape(r,t,i.range,i)}function k_(r,t){var i=t.z;i==null&&(i=h_);r.traverse((function(r){r.z=i;r.z2=i}))}function N_(r,t){A_(t).updateCommon(r,t);S_(r,t)}function A_(r){return tE[r.__brushOption.brushType]}function I_(r,t,i){var n=r._panels;if(!n){return v_}var a;var e=r._transform;V(n,(function(r){r.isTargetByCursor(t,i,e)&&(a=r)}));return a}function C_(r,t){var i=r._panels;if(!i){return v_}var n=t.__brushOption.panelId;return n!=null?i[n]:v_}function T_(r){var t=r._covers;var i=t.length;V(t,(function(t){r.group.remove(t)}),r);t.length=0;return!!i}function z_(r,t){var i=H(r._covers,(function(r){var t=r.__brushOption;var i=O(t.range);return{brushType:t.brushType,panelId:t.panelId,range:i}}));r.trigger("brush",{areas:i,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function L_(r){var t=r._track;if(!t.length){return false}var i=t[t.length-1];var n=t[0];var a=i[0]-n[0];var e=i[1]-n[1];var u=l_(a*a+e*e,.5);return u>c_}function O_(r){var t=r.length-1;t<0&&(t=0);return[r[0],r[t]]}function D_(r,t,i,n){var a=new xe;a.add(new ts({name:"main",style:__(i),silent:true,draggable:true,cursor:"move",drift:q(H_,r,t,a,["n","s","w","e"]),ondragend:q(z_,t,{isEnd:true})}));V(n,(function(i){a.add(new ts({name:i.join(""),style:{opacity:0},draggable:true,silent:true,invisible:true,drift:q(H_,r,t,a,i),ondragend:q(z_,t,{isEnd:true})}))}));return a}function R_(r,t,i,n){var a=n.brushStyle.lineWidth||0;var e=f_(a,d_);var u=i[0][0];var o=i[1][0];var v=u-a/2;var s=o-a/2;var f=i[0][1];var l=i[1][1];var h=f-e+a/2;var c=l-e+a/2;var d=f-u;var p=l-o;var m=d+a;var y=p+a;B_(r,t,"main",u,o,d,p);if(n.transformable){B_(r,t,"w",v,s,e,y);B_(r,t,"e",h,s,e,y);B_(r,t,"n",v,s,m,e);B_(r,t,"s",v,c,m,e);B_(r,t,"nw",v,s,e,e);B_(r,t,"ne",h,s,e,e);B_(r,t,"sw",v,c,e,e);B_(r,t,"se",h,c,e,e)}}function F_(r,t){var i=t.__brushOption;var n=i.transformable;var a=t.childAt(0);a.useStyle(__(i));a.attr({silent:!n,cursor:n?"move":"default"});V([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(i){var a=t.childOfName(i.join(""));var e=i.length===1?W_(r,i[0]):V_(r,i);a&&a.attr({silent:!n,invisible:!n,cursor:n?y_[e]+"-resize":null})}))}function B_(r,t,i,n,a,e,u){var o=t.childOfName(i);o&&o.setShape(U_(G_(r,t,[[n,a],[n+e,a+u]])))}function __(r){return B({strokeNoScale:true},r.brushStyle)}function E_(r,t,i,n){var a=[s_(r,i),s_(t,n)];var e=[f_(r,i),f_(t,n)];return[[a[0],e[0]],[a[1],e[1]]]}function P_(r){return Ih(r.group)}function W_(r,t){var i={w:"left",e:"right",n:"top",s:"bottom"};var n={left:"w",right:"e",top:"n",bottom:"s"};var a=Th(i[t],P_(r));return n[a]}function V_(r,t){var i=[W_(r,t[0]),W_(r,t[1])];(i[0]==="e"||i[0]==="w")&&i.reverse();return i.join("")}function H_(r,t,i,n,a,e){var u=i.__brushOption;var o=r.toRectRange(u.range);var v=X_(t,a,e);V(n,(function(r){var t=m_[r];o[t[0]][t[1]]+=v[t[0]]}));u.range=r.fromRectRange(E_(o[0][0],o[1][0],o[0][1],o[1][1]));N_(t,i);z_(t,{isEnd:false})}function Y_(r,t,i,n){var a=t.__brushOption.range;var e=X_(r,i,n);V(a,(function(r){r[0]+=e[0];r[1]+=e[1]}));N_(r,t);z_(r,{isEnd:false})}function X_(r,t,i){var n=r.group;var a=n.transformCoordToLocal(t,i);var e=n.transformCoordToLocal(0,0);return[a[0]-e[0],a[1]-e[1]]}function G_(r,t,i){var n=C_(r,t);return n&&n!==v_?n.clipPath(i,r._transform):O(i)}function U_(r){var t=s_(r[0][0],r[1][0]);var i=s_(r[0][1],r[1][1]);var n=f_(r[0][0],r[1][0]);var a=f_(r[0][1],r[1][1]);return{x:t,y:i,width:n-t,height:a-i}}function Z_(r,t,i){if(!r._brushType||rE(r,t.offsetX,t.offsetY)){return}var n=r._zr;var a=r._covers;var e=I_(r,t,i);if(!r._dragging){for(var u=0;u<a.length;u++){var o=a[u].__brushOption;if(e&&(e===v_||o.panelId===e.panelId)&&tE[o.brushType].contain(a[u],i[0],i[1])){return}}}e&&n.setCursorStyle("crosshair")}function j_(r){var t=r.event;t.preventDefault&&t.preventDefault()}function q_(r,t,i){return r.childOfName("main").contain(t,i)}function K_(r,t,i,n){var a=r._creatingCover;var e=r._creatingPanel;var u=r._brushOption;var o;r._track.push(i.slice());if(L_(r)||a){if(e&&!a){u.brushMode==="single"&&T_(r);var v=O(u);v.brushType=J_(v.brushType,e);v.panelId=e===v_?null:e.panelId;a=r._creatingCover=x_(r,v);r._covers.push(a)}if(a){var s=tE[J_(r._brushType,e)];var f=a.__brushOption;f.range=s.getCreatingRange(G_(r,a,r._track));if(n){M_(r,a);s.updateCommon(r,a)}S_(r,a);o={isEnd:n}}}else if(n&&u.brushMode==="single"&&u.removeOnClick){if(I_(r,t,i)&&T_(r)){o={isEnd:n,removeOnClick:true}}}return o}function J_(r,t){if(r==="auto"){return t.defaultBrushType}return r}var $_={mousedown:function(r){if(this._dragging){Q_(this,r)}else if(!r.target||!r.target.draggable){j_(r);var t=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var i=this._creatingPanel=I_(this,r,t);if(i){this._dragging=true;this._track=[t.slice()]}}},mousemove:function(r){var t=r.offsetX;var i=r.offsetY;var n=this.group.transformCoordToLocal(t,i);Z_(this,r,n);if(this._dragging){j_(r);var a=K_(this,r,n,false);a&&z_(this,a)}},mouseup:function(r){Q_(this,r)}};function Q_(r,t){if(r._dragging){j_(t);var i=t.offsetX;var n=t.offsetY;var a=r.group.transformCoordToLocal(i,n);var e=K_(r,t,a,true);r._dragging=false;r._track=[];r._creatingCover=null;e&&z_(r,e)}}function rE(r,t,i){var n=r._zr;return t<0||t>n.getWidth()||i<0||i>n.getHeight()}var tE={lineX:iE(0),lineY:iE(1),rect:{createCover:function(r,t){function i(r){return r}return D_({toRectRange:i,fromRectRange:i},r,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var t=O_(r);return E_(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(r,t,i,n){R_(r,t,i,n)},updateCommon:F_,contain:q_},polygon:{createCover:function(r,t){var i=new xe;i.add(new Dl({name:"main",style:__(t),silent:true}));return i},getCreatingRange:function(r){return r},endCreating:function(r,t){t.remove(t.childAt(0));t.add(new Ll({name:"main",draggable:true,drift:q(Y_,r,t),ondragend:q(z_,r,{isEnd:true})}))},updateCoverShape:function(r,t,i,n){t.childAt(0).setShape({points:G_(r,t,i)})},updateCommon:F_,contain:q_}};function iE(r){return{createCover:function(t,i){return D_({toRectRange:function(t){var i=[t,[0,100]];r&&i.reverse();return i},fromRectRange:function(t){return t[r]}},t,i,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(t){var i=O_(t);var n=s_(i[0][r],i[1][r]);var a=f_(i[0][r],i[1][r]);return[n,a]},updateCoverShape:function(t,i,n,a){var e;var u=C_(t,i);if(u!==v_&&u.getLinearBrushOtherExtent){e=u.getLinearBrushOtherExtent(r)}else{var o=t._zr;e=[0,[o.getWidth(),o.getHeight()][1-r]]}var v=[n,e];r&&v.reverse();R_(t,i,v,a)},updateCommon:F_,contain:q_}}function nE(r){r=uE(r);return function(t){return Dh(t,r)}}function aE(r,t){r=uE(r);return function(i){var n=t!=null?t:i;var a=n?r.width:r.height;var e=n?r.x:r.y;return[e,e+(a||0)]}}function eE(r,t,i){var n=uE(r);return function(r,a){return n.contain(a[0],a[1])&&!Qz(r,t,i)}}function uE(r){return Zt.create(r)}var oE=["axisLine","axisTickLabel","axisName"];var vE=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.init=function(t,i){r.prototype.init.apply(this,arguments);(this._brushController=new w_(i.getZr())).on("brush",j(this._onBrush,this))};t.prototype.render=function(r,t,i,n){if(sE(r,t,n)){return}this.axisModel=r;this.api=i;this.group.removeAll();var a=this._axisGroup;this._axisGroup=new xe;this.group.add(this._axisGroup);if(!r.get("show")){return}var e=lE(r,t);var u=e.coordinateSystem;var o=r.getAreaSelectStyle();var v=o.width;var s=r.axis.dim;var f=u.getAxisLayout(s);var l=F({strokeContainThreshold:v},f);var h=new YT(r,l);V(oE,h.add,h);this._axisGroup.add(h.getGroup());this._refreshBrushController(l,o,r,e,v,i);Oh(a,this._axisGroup,r)};t.prototype._refreshBrushController=function(r,t,i,n,a,e){var u=i.axis.getExtent();var o=u[1]-u[0];var v=Math.min(30,Math.abs(o)*.1);var s=Zt.create({x:u[0],y:-a/2,width:o,height:a});s.x-=v;s.width+=2*v;this._brushController.mount({enableGlobalPan:true,rotation:r.rotation,x:r.position[0],y:r.position[1]}).setPanels([{panelId:"pl",clipPath:nE(s),isTargetByCursor:eE(s,e,n),getLinearBrushOtherExtent:aE(s,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:true}).updateCovers(fE(i))};t.prototype._onBrush=function(r){var t=r.areas;var i=this.axisModel;var n=i.axis;var a=H(t,(function(r){return[n.coordToData(r.range[0],true),n.coordToData(r.range[1],true)]}));if(!i.option.realtime===r.isEnd||r.removeOnClick){this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:a})}};t.prototype.dispose=function(){this._brushController.dispose()};t.type="parallelAxis";return t}(eg);function sE(r,t,i){return i&&i.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:i})[0]===r}function fE(r){var t=r.axis;return H(r.activeIntervals,(function(r){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(r[0],true),t.dataToCoord(r[1],true)]}}))}function lE(r,t){return t.getComponent("parallel",r.get("parallelIndex"))}var hE={type:"axisAreaSelect",event:"axisAreaSelected"};function cE(r){r.registerAction(hE,(function(r,t){t.eachComponent({mainType:"parallelAxis",query:r},(function(t){t.axis.model.setActiveIntervals(r.intervals)}))}));r.registerAction("parallelAxisExpand",(function(r,t){t.eachComponent({mainType:"parallel",query:r},(function(t){t.setAxisExpand(r)}))}))}var dE={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:true,z:10};function pE(r){r.registerComponentView(WB);r.registerComponentModel(YB);r.registerCoordinateSystem("parallel",u_);r.registerPreprocessor(BB);r.registerComponentModel(o_);r.registerComponentView(vE);NT(r,"parallel",o_,dE);cE(r)}function mE(r){$x(pE);r.registerChartView(kB);r.registerSeriesModel(LB);r.registerVisual(r.PRIORITY.VISUAL.BRUSH,FB)}var yE=function(){function r(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.cpx1=0;this.cpy1=0;this.cpx2=0;this.cpy2=0;this.extent=0}return r}();var gE=function(r){a(t,r);function t(t){return r.call(this,t)||this}t.prototype.getDefaultShape=function(){return new yE};t.prototype.buildPath=function(r,t){var i=t.extent;r.moveTo(t.x1,t.y1);r.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2);if(t.orient==="vertical"){r.lineTo(t.x2+i,t.y2);r.bezierCurveTo(t.cpx2+i,t.cpy2,t.cpx1+i,t.cpy1,t.x1+i,t.y1)}else{r.lineTo(t.x2,t.y2+i);r.bezierCurveTo(t.cpx2,t.cpy2+i,t.cpx1,t.cpy1+i,t.x1,t.y1+i)}r.closePath()};t.prototype.highlight=function(){ef(this)};t.prototype.downplay=function(){uf(this)};return t}(Vv);var bE=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i._focusAdjacencyDisabled=false;return i}t.prototype.render=function(r,t,i){var n=this;var a=r.getGraph();var e=this.group;var u=r.layoutInfo;var o=u.width;var v=u.height;var s=r.getData();var f=r.getData("edge");var l=r.get("orient");this._model=r;e.removeAll();e.x=u.x;e.y=u.y;a.eachEdge((function(t){var i=new gE;var n=bs(i);n.dataIndex=t.dataIndex;n.seriesIndex=r.seriesIndex;n.dataType="edge";var a=t.getModel();var u=a.getModel("lineStyle");var s=u.get("curveness");var h=t.node1.getLayout();var c=t.node1.getModel();var d=c.get("localX");var p=c.get("localY");var m=t.node2.getLayout();var y=t.node2.getModel();var g=y.get("localX");var b=y.get("localY");var w=t.getLayout();var x;var M;var S;var k;var N;var A;var I;var C;i.shape.extent=Math.max(1,w.dy);i.shape.orient=l;if(l==="vertical"){x=(d!=null?d*o:h.x)+w.sy;M=(p!=null?p*v:h.y)+h.dy;S=(g!=null?g*o:m.x)+w.ty;k=b!=null?b*v:m.y;N=x;A=M*(1-s)+k*s;I=S;C=M*s+k*(1-s)}else{x=(d!=null?d*o:h.x)+h.dx;M=(p!=null?p*v:h.y)+w.sy;S=g!=null?g*o:m.x;k=(b!=null?b*v:m.y)+w.ty;N=x*(1-s)+S*s;A=M;I=x*s+S*(1-s);C=k}i.setShape({x1:x,y1:M,x2:S,y2:k,cpx1:N,cpy1:A,cpx2:I,cpy2:C});i.useStyle(u.getItemStyle());wE(i.style,l,t);var T=""+a.get("value");var z=jh(a,"edgeLabel");Zh(i,z,{labelFetcher:{getFormattedLabel:function(t,i,n,a,e,u){return r.getFormattedLabel(t,i,"edge",a,lr(e,z.normal&&z.normal.get("formatter"),T),u)}},labelDataIndex:t.dataIndex,defaultText:T});i.setTextConfig({position:"inside"});var L=a.getModel("emphasis");Cf(i,a,"lineStyle",(function(r){var i=r.getItemStyle();wE(i,l,t);return i}));e.add(i);f.setItemGraphicEl(t.dataIndex,i);var O=L.get("focus");kf(i,O==="adjacency"?t.getAdjacentDataIndices():O==="trajectory"?t.getTrajectoryDataIndices():O,L.get("blurScope"),L.get("disabled"))}));a.eachNode((function(t){var i=t.getLayout();var n=t.getModel();var a=n.get("localX");var u=n.get("localY");var f=n.getModel("emphasis");var l=new ts({shape:{x:a!=null?a*o:i.x,y:u!=null?u*v:i.y,width:i.dx,height:i.dy},style:n.getModel("itemStyle").getItemStyle(),z2:10});Zh(l,jh(n),{labelFetcher:{getFormattedLabel:function(t,i){return r.getFormattedLabel(t,i,"node")}},labelDataIndex:t.dataIndex,defaultText:t.id});l.disableLabelAnimation=true;l.setStyle("fill",t.getVisual("color"));l.setStyle("decal",t.getVisual("style").decal);Cf(l,n);e.add(l);s.setItemGraphicEl(t.dataIndex,l);bs(l).dataType="node";var h=f.get("focus");kf(l,h==="adjacency"?t.getAdjacentDataIndices():h==="trajectory"?t.getTrajectoryDataIndices():h,f.get("blurScope"),f.get("disabled"))}));s.eachItemGraphicEl((function(t,a){var e=s.getItemModel(a);if(e.get("draggable")){t.drift=function(t,e){n._focusAdjacencyDisabled=true;this.shape.x+=t;this.shape.y+=e;this.dirty();i.dispatchAction({type:"dragNode",seriesId:r.id,dataIndex:s.getRawIndex(a),localX:this.shape.x/o,localY:this.shape.y/v})};t.ondragend=function(){n._focusAdjacencyDisabled=false};t.draggable=true;t.cursor="move"}}));if(!this._data&&r.isAnimationEnabled()){e.setClipPath(xE(e.getBoundingRect(),r,(function(){e.removeClipPath()})))}this._data=r.getData()};t.prototype.dispose=function(){};t.type="sankey";return t}(sg);function wE(r,t,i){switch(r.fill){case"source":r.fill=i.node1.getVisual("color");r.decal=i.node1.getVisual("style").decal;break;case"target":r.fill=i.node2.getVisual("color");r.decal=i.node2.getVisual("style").decal;break;case"gradient":var n=i.node1.getVisual("color");var a=i.node2.getVisual("color");if($(n)&&$(a)){r.fill=new Gl(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:n,offset:0},{color:a,offset:1}])}}}function xE(r,t,i){var n=new ts({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});ah(n,{shape:{width:r.width+20}},t,i);return n}var ME=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.getInitialData=function(r,t){var i=r.edges||r.links;var n=r.data||r.nodes;var a=r.levels;this.levelModels=[];var e=this.levelModels;for(var u=0;u<a.length;u++){if(a[u].depth!=null&&a[u].depth>=0){e[a[u].depth]=new yc(a[u],this,t)}}if(n&&i){var o=nB(n,i,this,true,v);return o.data}function v(r,t){r.wrapMethod("getItemModel",(function(r,t){var i=r.parentModel;var n=i.getData().getItemLayout(t);if(n){var a=n.depth;var e=i.levelModels[a];if(e){r.parentModel=e}}return r}));t.wrapMethod("getItemModel",(function(r,t){var i=r.parentModel;var n=i.getGraph().getEdgeByIndex(t);var a=n.node1.getLayout();if(a){var e=a.depth;var u=i.levelModels[e];if(u){r.parentModel=u}}return r}))}};t.prototype.setNodePosition=function(r,t){var i=this.option.data||this.option.nodes;var n=i[r];n.localX=t[0];n.localY=t[1]};t.prototype.getGraph=function(){return this.getData().graph};t.prototype.getEdgeData=function(){return this.getGraph().edgeData};t.prototype.formatTooltip=function(r,t,i){function n(r){return isNaN(r)||r==null}if(i==="edge"){var a=this.getDataParams(r,i);var e=a.data;var u=a.value;var o=e.source+" -- "+e.target;return Ty("nameValue",{name:o,value:u,noValue:n(u)})}else{var v=this.getGraph().getNodeByIndex(r);var s=v.getLayout().value;var f=this.getDataParams(r,i).data.name;return Ty("nameValue",{name:f!=null?f+"":null,value:s,noValue:n(s)})}};t.prototype.optionUpdated=function(){};t.prototype.getDataParams=function(t,i){var n=r.prototype.getDataParams.call(this,t,i);if(n.value==null&&i==="node"){var a=this.getGraph().getNodeByIndex(t);var e=a.getLayout().value;n.value=e}return n};t.type="series.sankey";t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:true,layoutIterations:32,label:{show:true,position:"right",fontSize:12},edgeLabel:{show:false,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:true},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3};return t}(Ky);function SE(r,t){r.eachSeriesByType("sankey",(function(r){var i=r.get("nodeWidth");var n=r.get("nodeGap");var a=kE(r,t);r.layoutInfo=a;var e=a.width;var u=a.height;var o=r.getGraph();var v=o.nodes;var s=o.edges;AE(v);var f=X(v,(function(r){return r.getLayout().value===0}));var l=f.length!==0?0:r.get("layoutIterations");var h=r.get("orient");var c=r.get("nodeAlign");NE(v,s,i,n,e,u,l,h,c)}))}function kE(r,t){return zd(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function NE(r,t,i,n,a,e,u,o,v){IE(r,t,i,a,e,o,v);OE(r,t,e,a,n,u,o);GE(r,o)}function AE(r){V(r,(function(r){var t=YE(r.outEdges,HE);var i=YE(r.inEdges,HE);var n=r.getValue()||0;var a=Math.max(t,i,n);r.setLayout({value:a},true)}))}function IE(r,t,i,n,a,e,u){var o=[];var v=[];var s=[];var f=[];var l=0;for(var h=0;h<t.length;h++){o[h]=1}for(var h=0;h<r.length;h++){v[h]=r[h].inEdges.length;if(v[h]===0){s.push(r[h])}}var c=-1;while(s.length){for(var d=0;d<s.length;d++){var p=s[d];var m=p.hostGraph.data.getRawDataItem(p.dataIndex);var y=m.depth!=null&&m.depth>=0;if(y&&m.depth>c){c=m.depth}p.setLayout({depth:y?m.depth:l},true);e==="vertical"?p.setLayout({dy:i},true):p.setLayout({dx:i},true);for(var g=0;g<p.outEdges.length;g++){var b=p.outEdges[g];var w=t.indexOf(b);o[w]=0;var x=b.node2;var M=r.indexOf(x);if(--v[M]===0&&f.indexOf(x)<0){f.push(x)}}}++l;s=f;f=[]}for(var h=0;h<o.length;h++){if(o[h]===1){throw new Error("Sankey is a DAG, the original data has cycle!")}}var S=c>l-1?c:l-1;if(u&&u!=="left"){TE(r,u,e,S)}var k=e==="vertical"?(a-i)/S:(n-i)/S;LE(r,k,e)}function CE(r){var t=r.hostGraph.data.getRawDataItem(r.dataIndex);return t.depth!=null&&t.depth>=0}function TE(r,t,i,n){if(t==="right"){var a=[];var e=r;var u=0;while(e.length){for(var o=0;o<e.length;o++){var v=e[o];v.setLayout({skNodeHeight:u},true);for(var s=0;s<v.inEdges.length;s++){var f=v.inEdges[s];if(a.indexOf(f.node1)<0){a.push(f.node1)}}}e=a;a=[];++u}V(r,(function(r){if(!CE(r)){r.setLayout({depth:Math.max(0,n-r.getLayout().skNodeHeight)},true)}}))}else if(t==="justify"){zE(r,n)}}function zE(r,t){V(r,(function(r){if(!CE(r)&&!r.outEdges.length){r.setLayout({depth:t},true)}}))}function LE(r,t,i){V(r,(function(r){var n=r.getLayout().depth*t;i==="vertical"?r.setLayout({y:n},true):r.setLayout({x:n},true)}))}function OE(r,t,i,n,a,e,u){var o=DE(r,u);RE(o,t,i,n,a,u);FE(o,a,i,n,u);for(var v=1;e>0;e--){v*=.99;BE(o,v,u);FE(o,a,i,n,u);XE(o,v,u);FE(o,a,i,n,u)}}function DE(r,t){var i=[];var n=t==="vertical"?"y":"x";var a=Vu(r,(function(r){return r.getLayout()[n]}));a.keys.sort((function(r,t){return r-t}));V(a.keys,(function(r){i.push(a.buckets.get(r))}));return i}function RE(r,t,i,n,a,e){var u=Infinity;V(r,(function(r){var t=r.length;var o=0;V(r,(function(r){o+=r.getLayout().value}));var v=e==="vertical"?(n-(t-1)*a)/o:(i-(t-1)*a)/o;if(v<u){u=v}}));V(r,(function(r){V(r,(function(r,t){var i=r.getLayout().value*u;if(e==="vertical"){r.setLayout({x:t},true);r.setLayout({dx:i},true)}else{r.setLayout({y:t},true);r.setLayout({dy:i},true)}}))}));V(t,(function(r){var t=+r.getValue()*u;r.setLayout({dy:t},true)}))}function FE(r,t,i,n,a){var e=a==="vertical"?"x":"y";V(r,(function(r){r.sort((function(r,t){return r.getLayout()[e]-t.getLayout()[e]}));var u;var o;var v;var s=0;var f=r.length;var l=a==="vertical"?"dx":"dy";for(var h=0;h<f;h++){o=r[h];v=s-o.getLayout()[e];if(v>0){u=o.getLayout()[e]+v;a==="vertical"?o.setLayout({x:u},true):o.setLayout({y:u},true)}s=o.getLayout()[e]+o.getLayout()[l]+t}var c=a==="vertical"?n:i;v=s-t-c;if(v>0){u=o.getLayout()[e]-v;a==="vertical"?o.setLayout({x:u},true):o.setLayout({y:u},true);s=u;for(var h=f-2;h>=0;--h){o=r[h];v=o.getLayout()[e]+o.getLayout()[l]+t-s;if(v>0){u=o.getLayout()[e]-v;a==="vertical"?o.setLayout({x:u},true):o.setLayout({y:u},true)}s=o.getLayout()[e]}}}))}function BE(r,t,i){V(r.slice().reverse(),(function(r){V(r,(function(r){if(r.outEdges.length){var n=YE(r.outEdges,_E,i)/YE(r.outEdges,HE);if(isNaN(n)){var a=r.outEdges.length;n=a?YE(r.outEdges,EE,i)/a:0}if(i==="vertical"){var e=r.getLayout().x+(n-VE(r,i))*t;r.setLayout({x:e},true)}else{var u=r.getLayout().y+(n-VE(r,i))*t;r.setLayout({y:u},true)}}}))}))}function _E(r,t){return VE(r.node2,t)*r.getValue()}function EE(r,t){return VE(r.node2,t)}function PE(r,t){return VE(r.node1,t)*r.getValue()}function WE(r,t){return VE(r.node1,t)}function VE(r,t){return t==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function HE(r){return r.getValue()}function YE(r,t,i){var n=0;var a=r.length;var e=-1;while(++e<a){var u=+t(r[e],i);if(!isNaN(u)){n+=u}}return n}function XE(r,t,i){V(r,(function(r){V(r,(function(r){if(r.inEdges.length){var n=YE(r.inEdges,PE,i)/YE(r.inEdges,HE);if(isNaN(n)){var a=r.inEdges.length;n=a?YE(r.inEdges,WE,i)/a:0}if(i==="vertical"){var e=r.getLayout().x+(n-VE(r,i))*t;r.setLayout({x:e},true)}else{var u=r.getLayout().y+(n-VE(r,i))*t;r.setLayout({y:u},true)}}}))}))}function GE(r,t){var i=t==="vertical"?"x":"y";V(r,(function(r){r.outEdges.sort((function(r,t){return r.node2.getLayout()[i]-t.node2.getLayout()[i]}));r.inEdges.sort((function(r,t){return r.node1.getLayout()[i]-t.node1.getLayout()[i]}))}));V(r,(function(r){var t=0;var i=0;V(r.outEdges,(function(r){r.setLayout({sy:t},true);t+=r.getLayout().dy}));V(r.inEdges,(function(r){r.setLayout({ty:i},true);i+=r.getLayout().dy}))}))}function UE(r){r.eachSeriesByType("sankey",(function(r){var t=r.getGraph();var i=t.nodes;var n=t.edges;if(i.length){var a=Infinity;var e=-Infinity;V(i,(function(r){var t=r.getLayout().value;if(t<a){a=t}if(t>e){e=t}}));V(i,(function(t){var i=new iR({type:"color",mappingMethod:"linear",dataExtent:[a,e],visual:r.get("color")});var n=i.mapValueToVisual(t.getLayout().value);var u=t.getModel().get(["itemStyle","color"]);if(u!=null){t.setVisual("color",u);t.setVisual("style",{fill:u})}else{t.setVisual("color",n);t.setVisual("style",{fill:n})}}))}if(n.length){V(n,(function(r){var t=r.getModel().get("lineStyle");r.setVisual("style",t)}))}}))}function ZE(r){r.registerChartView(bE);r.registerSeriesModel(ME);r.registerLayout(SE);r.registerVisual(UE);r.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(r,t){t.eachComponent({mainType:"series",subType:"sankey",query:r},(function(t){t.setNodePosition(r.dataIndex,[r.localX,r.localY])}))}))}var jE=function(){function r(){}r.prototype.getInitialData=function(r,t){var i;var n=t.getComponent("xAxis",this.get("xAxisIndex"));var a=t.getComponent("yAxis",this.get("yAxisIndex"));var e=n.get("type");var u=a.get("type");var o;if(e==="category"){r.layout="horizontal";i=n.getOrdinalMeta();o=true}else if(u==="category"){r.layout="vertical";i=a.getOrdinalMeta();o=true}else{r.layout=r.layout||"horizontal"}var v=["x","y"];var s=r.layout==="horizontal"?0:1;var f=this._baseAxisDim=v[s];var l=v[1-s];var h=[n,a];var c=h[s].get("type");var d=h[1-s].get("type");var p=r.data;if(p&&o){var m=[];V(p,(function(r,t){var i;if(K(r)){i=r.slice();r.unshift(t)}else if(K(r.value)){i=F({},r);i.value=i.value.slice();r.value.unshift(t)}else{i=r}m.push(i)}));r.data=m}var y=this.defaultValueDimensions;var g=[{name:f,type:eM(c),ordinalMeta:i,otherDims:{tooltip:false,itemName:0},dimsDef:["base"]},{name:l,type:eM(d),dimsDef:y.slice()}];return aT(this,{coordDimensions:g,dimensionsCount:y.length+1,encodeDefaulter:q(tp,g,this)})};r.prototype.getBaseAxis=function(){var r=this._baseAxisDim;return this.ecModel.getComponent(r+"Axis",this.get(r+"AxisIndex")).axis};return r}();var qE=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.defaultValueDimensions=[{name:"min",defaultTooltip:true},{name:"Q1",defaultTooltip:true},{name:"median",defaultTooltip:true},{name:"Q3",defaultTooltip:true},{name:"max",defaultTooltip:true}];i.visualDrawType="stroke";return i}t.type="series.boxplot";t.dependencies=["xAxis","yAxis","grid"];t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:true,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800};return t}(Ky);P(qE,jE,true);var KE=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i){var n=r.getData();var a=this.group;var e=this._data;if(!this._data){a.removeAll()}var u=r.get("layout")==="horizontal"?1:0;n.diff(e).add((function(r){if(n.hasValue(r)){var t=n.getItemLayout(r);var i=QE(t,n,r,u,true);n.setItemGraphicEl(r,i);a.add(i)}})).update((function(r,t){var i=e.getItemGraphicEl(t);if(!n.hasValue(r)){a.remove(i);return}var o=n.getItemLayout(r);if(!i){i=QE(o,n,r,u)}else{sh(i);rP(o,i,n,r)}a.add(i);n.setItemGraphicEl(r,i)})).remove((function(r){var t=e.getItemGraphicEl(r);t&&a.remove(t)})).execute();this._data=n};t.prototype.remove=function(r){var t=this.group;var i=this._data;this._data=null;i&&i.eachItemGraphicEl((function(r){r&&t.remove(r)}))};t.type="boxplot";return t}(sg);var JE=function(){function r(){}return r}();var $E=function(r){a(t,r);function t(t){var i=r.call(this,t)||this;i.type="boxplotBoxPath";return i}t.prototype.getDefaultShape=function(){return new JE};t.prototype.buildPath=function(r,t){var i=t.points;var n=0;r.moveTo(i[n][0],i[n][1]);n++;for(;n<4;n++){r.lineTo(i[n][0],i[n][1])}r.closePath();for(;n<i.length;n++){r.moveTo(i[n][0],i[n][1]);n++;r.lineTo(i[n][0],i[n][1])}};return t}(Vv);function QE(r,t,i,n,a){var e=r.ends;var u=new $E({shape:{points:a?tP(e,n,r):e}});rP(r,u,t,i,a);return u}function rP(r,t,i,n,a){var e=i.hostModel;var u=Yh[a?"initProps":"updateProps"];u(t,{shape:{points:r.ends}},e,n);t.useStyle(i.getItemVisual(n,"style"));t.style.strokeNoScale=true;t.z2=100;var o=i.getItemModel(n);var v=o.getModel("emphasis");Cf(t,o);kf(t,v.get("focus"),v.get("blurScope"),v.get("disabled"))}function tP(r,t,i){return H(r,(function(r){r=r.slice();r[t]=i.initBaseline;return r}))}var iP=V;function nP(r){var t=aP(r);iP(t,(function(r){var t=r.seriesModels;if(!t.length){return}eP(r);iP(t,(function(t,i){uP(t,r.boxOffsetList[i],r.boxWidthList[i])}))}))}function aP(r){var t=[];var i=[];r.eachSeriesByType("boxplot",(function(r){var n=r.getBaseAxis();var a=_(i,n);if(a<0){a=i.length;i[a]=n;t[a]={axis:n,seriesModels:[]}}t[a].seriesModels.push(r)}));return t}function eP(r){var t=r.axis;var i=r.seriesModels;var n=i.length;var a=r.boxWidthList=[];var e=r.boxOffsetList=[];var u=[];var o;if(t.type==="category"){o=t.getBandWidth()}else{var v=0;iP(i,(function(r){v=Math.max(v,r.getData().count())}));var s=t.getExtent();o=Math.abs(s[1]-s[0])/v}iP(i,(function(r){var t=r.get("boxWidth");if(!K(t)){t=[t,t]}u.push([Le(t[0],o)||0,Le(t[1],o)||0])}));var f=o*.8-2;var l=f/n*.3;var h=(f-l*(n-1))/n;var c=h/2-f/2;iP(i,(function(r,t){e.push(c);c+=l+h;a.push(Math.min(Math.max(h,u[t][0]),u[t][1]))}))}function uP(r,t,i){var n=r.coordinateSystem;var a=r.getData();var e=i/2;var u=r.get("layout")==="horizontal"?0:1;var o=1-u;var v=["x","y"];var s=a.mapDimension(v[u]);var f=a.mapDimensionsAll(v[o]);if(s==null||f.length<5){return}for(var l=0;l<a.count();l++){var h=a.get(s,l);var c=b(h,f[2],l);var d=b(h,f[0],l);var p=b(h,f[1],l);var m=b(h,f[3],l);var y=b(h,f[4],l);var g=[];w(g,p,false);w(g,m,true);g.push(d,p,y,m);x(g,d);x(g,y);x(g,c);a.setItemLayout(l,{initBaseline:c[o],ends:g})}function b(r,i,e){var v=a.get(i,e);var s=[];s[u]=r;s[o]=v;var f;if(isNaN(r)||isNaN(v)){f=[NaN,NaN]}else{f=n.dataToPoint(s);f[u]+=t}return f}function w(r,t,i){var n=t.slice();var a=t.slice();n[u]+=e;a[u]-=e;i?r.push(n,a):r.push(a,n)}function x(r,t){var i=t.slice();var n=t.slice();i[u]-=e;n[u]+=e;r.push(i,n)}}function oP(r,t){t=t||{};var i=[];var n=[];var a=t.boundIQR;var e=a==="none"||a===0;for(var u=0;u<r.length;u++){var o=De(r[u].slice());var v=Ze(o,.25);var s=Ze(o,.5);var f=Ze(o,.75);var l=o[0];var h=o[o.length-1];var c=(a==null?1.5:a)*(f-v);var d=e?l:Math.max(l,v-c);var p=e?h:Math.min(h,f+c);var m=t.itemNameFormatter;var y=J(m)?m({value:u}):$(m)?m.replace("{value}",u+""):u+"";i.push([y,d,v,s,f,p]);for(var g=0;g<o.length;g++){var b=o[g];if(b<d||b>p){var w=[y,b];n.push(w)}}}return{boxData:i,outliers:n}}var vP={type:"echarts:boxplot",transform:function r(t){var i=t.upstream;if(i.sourceFormat!==Gd){var n="";eu(n)}var a=oP(i.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:a.boxData},{data:a.outliers}]}};function sP(r){r.registerSeriesModel(qE);r.registerChartView(KE);r.registerLayout(nP);r.registerTransform(vP)}var fP=["color","borderColor"];var lP=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i){this.group.removeClipPath();this._progressiveEls=null;this._updateDrawMode(r);this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)};t.prototype.incrementalPrepareRender=function(r,t,i){this._clear();this._updateDrawMode(r)};t.prototype.incrementalRender=function(r,t,i,n){this._progressiveEls=[];this._isLargeDraw?this._incrementalRenderLarge(r,t):this._incrementalRenderNormal(r,t)};t.prototype.eachRendered=function(r){Hh(this._progressiveEls||this.group,r)};t.prototype._updateDrawMode=function(r){var t=r.pipelineContext.large;if(this._isLargeDraw==null||t!==this._isLargeDraw){this._isLargeDraw=t;this._clear()}};t.prototype._renderNormal=function(r){var t=r.getData();var i=this._data;var n=this.group;var a=t.getLayout("isSimpleBox");var e=r.get("clip",true);var u=r.coordinateSystem;var o=u.getArea&&u.getArea();if(!this._data){n.removeAll()}t.diff(i).add((function(i){if(t.hasValue(i)){var u=t.getItemLayout(i);if(e&&pP(o,u)){return}var v=dP(u,i,true);ah(v,{shape:{points:u.ends}},r,i);mP(v,t,i,a);n.add(v);t.setItemGraphicEl(i,v)}})).update((function(u,v){var s=i.getItemGraphicEl(v);if(!t.hasValue(u)){n.remove(s);return}var f=t.getItemLayout(u);if(e&&pP(o,f)){n.remove(s);return}if(!s){s=dP(f)}else{nh(s,{shape:{points:f.ends}},r,u);sh(s)}mP(s,t,u,a);n.add(s);t.setItemGraphicEl(u,s)})).remove((function(r){var t=i.getItemGraphicEl(r);t&&n.remove(t)})).execute();this._data=t};t.prototype._renderLarge=function(r){this._clear();wP(r,this.group);var t=r.get("clip",true)?PI(r.coordinateSystem,false,r):null;if(t){this.group.setClipPath(t)}else{this.group.removeClipPath()}};t.prototype._incrementalRenderNormal=function(r,t){var i=t.getData();var n=i.getLayout("isSimpleBox");var a;while((a=r.next())!=null){var e=i.getItemLayout(a);var u=dP(e);mP(u,i,a,n);u.incremental=true;this.group.add(u);this._progressiveEls.push(u)}};t.prototype._incrementalRenderLarge=function(r,t){wP(t,this.group,this._progressiveEls,true)};t.prototype.remove=function(r){this._clear()};t.prototype._clear=function(){this.group.removeAll();this._data=null};t.type="candlestick";return t}(sg);var hP=function(){function r(){}return r}();var cP=function(r){a(t,r);function t(t){var i=r.call(this,t)||this;i.type="normalCandlestickBox";return i}t.prototype.getDefaultShape=function(){return new hP};t.prototype.buildPath=function(r,t){var i=t.points;if(this.__simpleBox){r.moveTo(i[4][0],i[4][1]);r.lineTo(i[6][0],i[6][1])}else{r.moveTo(i[0][0],i[0][1]);r.lineTo(i[1][0],i[1][1]);r.lineTo(i[2][0],i[2][1]);r.lineTo(i[3][0],i[3][1]);r.closePath();r.moveTo(i[4][0],i[4][1]);r.lineTo(i[5][0],i[5][1]);r.moveTo(i[6][0],i[6][1]);r.lineTo(i[7][0],i[7][1])}};return t}(Vv);function dP(r,t,i){var n=r.ends;return new cP({shape:{points:i?yP(n,r):n},z2:100})}function pP(r,t){var i=true;for(var n=0;n<t.ends.length;n++){if(r.contain(t.ends[n][0],t.ends[n][1])){i=false;break}}return i}function mP(r,t,i,n){var a=t.getItemModel(i);r.useStyle(t.getItemVisual(i,"style"));r.style.strokeNoScale=true;r.__simpleBox=n;Cf(r,a)}function yP(r,t){return H(r,(function(r){r=r.slice();r[1]=t.initBaseline;return r}))}var gP=function(){function r(){}return r}();var bP=function(r){a(t,r);function t(t){var i=r.call(this,t)||this;i.type="largeCandlestickBox";return i}t.prototype.getDefaultShape=function(){return new gP};t.prototype.buildPath=function(r,t){var i=t.points;for(var n=0;n<i.length;){if(this.__sign===i[n++]){var a=i[n++];r.moveTo(a,i[n++]);r.lineTo(a,i[n++])}else{n+=3}}};return t}(Vv);function wP(r,t,i,n){var a=r.getData();var e=a.getLayout("largePoints");var u=new bP({shape:{points:e},__sign:1,ignoreCoarsePointer:true});t.add(u);var o=new bP({shape:{points:e},__sign:-1,ignoreCoarsePointer:true});t.add(o);var v=new bP({shape:{points:e},__sign:0,ignoreCoarsePointer:true});t.add(v);xP(1,u,r);xP(-1,o,r);xP(0,v,r);if(n){u.incremental=true;o.incremental=true}if(i){i.push(u,o)}}function xP(r,t,i,n){var a=i.get(["itemStyle",r>0?"borderColor":"borderColor0"])||i.get(["itemStyle",r>0?"color":"color0"]);if(r===0){a=i.get(["itemStyle","borderColorDoji"])}var e=i.getModel("itemStyle").getItemStyle(fP);t.useStyle(e);t.style.fill=null;t.style.stroke=a}var MP=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.defaultValueDimensions=[{name:"open",defaultTooltip:true},{name:"close",defaultTooltip:true},{name:"lowest",defaultTooltip:true},{name:"highest",defaultTooltip:true}];return i}t.prototype.getShadowDim=function(){return"open"};t.prototype.brushSelector=function(r,t,i){var n=t.getItemLayout(r);return n&&i.rect(n.brushRect)};t.type="series.candlestick";t.dependencies=["xAxis","yAxis","grid"];t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,layout:null,clip:true,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:true,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:true,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300};return t}(Ky);P(MP,jE,true);function SP(r){if(!r||!K(r.series)){return}V(r.series,(function(r){if(tr(r)&&r.type==="k"){r.type="candlestick"}}))}var kP=["itemStyle","borderColor"];var NP=["itemStyle","borderColor0"];var AP=["itemStyle","borderColorDoji"];var IP=["itemStyle","color"];var CP=["itemStyle","color0"];var TP={seriesType:"candlestick",plan:ug(),performRawSeries:true,reset:function(r,t){function i(r,t){return t.get(r>0?IP:CP)}function n(r,t){return t.get(r===0?AP:r>0?kP:NP)}if(t.isSeriesFiltered(r)){return}var a=r.pipelineContext.large;return!a&&{progress:function(r,t){var a;while((a=r.next())!=null){var e=t.getItemModel(a);var u=t.getItemLayout(a).sign;var o=e.getItemStyle();o.fill=i(u,e);o.stroke=n(u,e)||o.fill;var v=t.ensureUniqueItemVisual(a,"style");F(v,o)}}}}};var zP={seriesType:"candlestick",plan:ug(),reset:function(r){var t=r.coordinateSystem;var i=r.getData();var n=OP(r,i);var a=0;var e=1;var u=["x","y"];var o=i.getDimensionIndex(i.mapDimension(u[a]));var v=H(i.mapDimensionsAll(u[e]),i.getDimensionIndex,i);var s=v[0];var f=v[1];var l=v[2];var h=v[3];i.setLayout({candleWidth:n,isSimpleBox:n<=1.3});if(o<0||v.length<4){return}return{progress:r.pipelineContext.large?d:c};function c(r,i){var u;var v=i.getStore();while((u=r.next())!=null){var c=v.get(o,u);var d=v.get(s,u);var p=v.get(f,u);var m=v.get(l,u);var y=v.get(h,u);var g=Math.min(d,p);var b=Math.max(d,p);var w=I(g,c);var x=I(b,c);var M=I(m,c);var S=I(y,c);var k=[];C(k,x,0);C(k,w,1);k.push(z(S),z(x),z(M),z(w));var N=i.getItemModel(u);var A=!!N.get(["itemStyle","borderColorDoji"]);i.setItemLayout(u,{sign:LP(v,u,d,p,f,A),initBaseline:d>p?x[e]:w[e],ends:k,brushRect:T(m,y,c)})}function I(r,i){var n=[];n[a]=i;n[e]=r;return isNaN(i)||isNaN(r)?[NaN,NaN]:t.dataToPoint(n)}function C(r,t,i){var e=t.slice();var u=t.slice();e[a]=Ah(e[a]+n/2,1,false);u[a]=Ah(u[a]-n/2,1,true);i?r.push(e,u):r.push(u,e)}function T(r,t,i){var e=I(r,i);var u=I(t,i);e[a]-=n/2;u[a]-=n/2;return{x:e[0],y:e[1],width:n,height:u[1]-e[1]}}function z(r){r[a]=Ah(r[a],1);return r}}function d(i,n){var u=lS(i.count*4);var v=0;var c;var d=[];var p=[];var m;var y=n.getStore();var g=!!r.get(["itemStyle","borderColorDoji"]);while((m=i.next())!=null){var b=y.get(o,m);var w=y.get(s,m);var x=y.get(f,m);var M=y.get(l,m);var S=y.get(h,m);if(isNaN(b)||isNaN(M)||isNaN(S)){u[v++]=NaN;v+=3;continue}u[v++]=LP(y,m,w,x,f,g);d[a]=b;d[e]=M;c=t.dataToPoint(d,null,p);u[v++]=c?c[0]:NaN;u[v++]=c?c[1]:NaN;d[e]=S;c=t.dataToPoint(d,null,p);u[v++]=c?c[1]:NaN}n.setLayout("largePoints",u)}}};function LP(r,t,i,n,a,e){var u;if(i>n){u=-1}else if(i<n){u=1}else{u=e?0:t>0?r.get(a,t-1)<=n?1:-1:1}return u}function OP(r,t){var i=r.getBaseAxis();var n;var a=i.type==="category"?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/t.count());var e=Le(fr(r.get("barMaxWidth"),a),a);var u=Le(fr(r.get("barMinWidth"),1),a);var o=r.get("barWidth");return o!=null?Le(o,a):Math.max(Math.min(a/2,e),u)}function DP(r){r.registerChartView(lP);r.registerSeriesModel(MP);r.registerPreprocessor(SP);r.registerVisual(TP);r.registerLayout(zP)}function RP(r,t){var i=t.rippleEffectColor||t.color;r.eachChild((function(r){r.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?i:null,fill:t.brushType==="fill"?i:null}})}))}var FP=function(r){a(t,r);function t(t,i){var n=r.call(this)||this;var a=new gI(t,i);var e=new xe;n.add(a);n.add(e);n.updateData(t,i);return n}t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()};t.prototype.startEffectAnimation=function(r){var t=r.symbolType;var i=r.color;var n=r.rippleNumber;var a=this.childAt(1);for(var e=0;e<n;e++){var u=kb(t,-1,-1,2,2,i);u.attr({style:{strokeNoScale:true},z2:99,silent:true,scaleX:.5,scaleY:.5});var o=-e/n*r.period+r.effectOffset;u.animate("",true).when(r.period,{scaleX:r.rippleScale/2,scaleY:r.rippleScale/2}).delay(o).start();u.animateStyle(true).when(r.period,{opacity:0}).delay(o).start();a.add(u)}RP(a,r)};t.prototype.updateEffectAnimation=function(r){var t=this._effectCfg;var i=this.childAt(1);var n=["symbolType","period","rippleScale","rippleNumber"];for(var a=0;a<n.length;a++){var e=n[a];if(t[e]!==r[e]){this.stopEffectAnimation();this.startEffectAnimation(r);return}}RP(i,r)};t.prototype.highlight=function(){ef(this)};t.prototype.downplay=function(){uf(this)};t.prototype.getSymbolType=function(){var r=this.childAt(0);return r&&r.getSymbolType()};t.prototype.updateData=function(r,t){var i=this;var n=r.hostModel;this.childAt(0).updateData(r,t);var a=this.childAt(1);var e=r.getItemModel(t);var u=r.getItemVisual(t,"symbol");var o=Nb(r.getItemVisual(t,"symbolSize"));var v=r.getItemVisual(t,"style");var s=v&&v.fill;var f=e.getModel("emphasis");a.setScale(o);a.traverse((function(r){r.setStyle("fill",s)}));var l=Ab(r.getItemVisual(t,"symbolOffset"),o);if(l){a.x=l[0];a.y=l[1]}var h=r.getItemVisual(t,"symbolRotate");a.rotation=(h||0)*Math.PI/180||0;var c={};c.showEffectOn=n.get("showEffectOn");c.rippleScale=e.get(["rippleEffect","scale"]);c.brushType=e.get(["rippleEffect","brushType"]);c.period=e.get(["rippleEffect","period"])*1e3;c.effectOffset=t/r.count();c.z=n.getShallow("z")||0;c.zlevel=n.getShallow("zlevel")||0;c.symbolType=u;c.color=s;c.rippleEffectColor=e.get(["rippleEffect","color"]);c.rippleNumber=e.get(["rippleEffect","number"]);if(c.showEffectOn==="render"){this._effectCfg?this.updateEffectAnimation(c):this.startEffectAnimation(c);this._effectCfg=c}else{this._effectCfg=null;this.stopEffectAnimation();this.onHoverStateChange=function(r){if(r==="emphasis"){if(c.showEffectOn!=="render"){i.startEffectAnimation(c)}}else if(r==="normal"){if(c.showEffectOn!=="render"){i.stopEffectAnimation()}}}}this._effectCfg=c;kf(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))};t.prototype.fadeOut=function(r){r&&r()};return t}(xe);var BP=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.init=function(){this._symbolDraw=new SI(FP)};t.prototype.render=function(r,t,i){var n=r.getData();var a=this._symbolDraw;a.updateData(n,{clipShape:this._getClipShape(r)});this.group.add(a.group)};t.prototype._getClipShape=function(r){var t=r.coordinateSystem;var i=t&&t.getArea&&t.getArea();return r.get("clip",true)?i:null};t.prototype.updateTransform=function(r,t,i){var n=r.getData();this.group.dirty();var a=eC("").reset(r,t,i);if(a.progress){a.progress({start:0,end:n.count(),count:n.count()},n)}this._symbolDraw.updateLayout()};t.prototype._updateGroupTransform=function(r){var t=r.coordinateSystem;if(t&&t.getRoamTransform){this.group.transform=_t(t.getRoamTransform());this.group.decomposeTransform()}};t.prototype.remove=function(r,t){this._symbolDraw&&this._symbolDraw.remove(true)};t.type="effectScatter";return t}(sg);var _P=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.hasSymbolVisual=true;return i}t.prototype.getInitialData=function(r,t){return XM(null,this,{useEncodeDefaulter:true})};t.prototype.brushSelector=function(r,t,i){return i.point(t.getItemLayout(r))};t.type="series.effectScatter";t.dependencies=["grid","polar"];t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:true,effectType:"ripple",progressive:0,showEffectOn:"render",clip:true,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10};return t}(Ky);function EP(r){r.registerChartView(BP);r.registerSeriesModel(_P);r.registerLayout(eC("effectScatter"))}var PP=function(r){a(t,r);function t(t,i,n){var a=r.call(this)||this;a.add(a.createLine(t,i,n));a._updateEffectSymbol(t,i);return a}t.prototype.createLine=function(r,t,i){return new BF(r,t,i)};t.prototype._updateEffectSymbol=function(r,t){var i=r.getItemModel(t);var n=i.getModel("effect");var a=n.get("symbolSize");var e=n.get("symbol");if(!K(a)){a=[a,a]}var u=r.getItemVisual(t,"style");var o=n.get("color")||u&&u.stroke;var v=this.childAt(1);if(this._symbolType!==e){this.remove(v);v=kb(e,-.5,-.5,1,1,o);v.z2=100;v.culling=true;this.add(v)}if(!v){return}v.setStyle("shadowColor",o);v.setStyle(n.getItemStyle(["color"]));v.scaleX=a[0];v.scaleY=a[1];v.setColor(o);this._symbolType=e;this._symbolScale=a;this._updateEffectAnimation(r,n,t)};t.prototype._updateEffectAnimation=function(r,t,i){var n=this.childAt(1);if(!n){return}var a=r.getItemLayout(i);var e=t.get("period")*1e3;var u=t.get("loop");var o=t.get("roundTrip");var v=t.get("constantSpeed");var s=sr(t.get("delay"),(function(t){return t/r.count()*e/3}));n.ignore=true;this._updateAnimationPoints(n,a);if(v>0){e=this._getLineLength(n)/v*1e3}if(e!==this._period||u!==this._loop||o!==this._roundTrip){n.stopAnimation();var f=void 0;if(J(s)){f=s(i)}else{f=s}if(n.__t>0){f=-e*n.__t}this._animateSymbol(n,e,f,u,o)}this._period=e;this._loop=u;this._roundTrip=o};t.prototype._animateSymbol=function(r,t,i,n,a){if(t>0){r.__t=0;var e=this;var u=r.animate("",n).when(a?t*2:t,{__t:a?2:1}).delay(i).during((function(){e._updateSymbolPosition(r)}));if(!n){u.done((function(){e.remove(r)}))}u.start()}};t.prototype._getLineLength=function(r){return Xr(r.__p1,r.__cp1)+Xr(r.__cp1,r.__p2)};t.prototype._updateAnimationPoints=function(r,t){r.__p1=t[0];r.__p2=t[1];r.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]};t.prototype.updateData=function(r,t,i){this.childAt(0).updateData(r,t,i);this._updateEffectSymbol(r,t)};t.prototype._updateSymbolPosition=function(r){var t=r.__p1;var i=r.__p2;var n=r.__cp1;var a=r.__t<1?r.__t:2-r.__t;var e=[r.x,r.y];var u=e.slice();var o=Yi;var v=Xi;e[0]=o(t[0],n[0],i[0],a);e[1]=o(t[1],n[1],i[1],a);var s=r.__t<1?v(t[0],n[0],i[0],a):v(i[0],n[0],t[0],1-a);var f=r.__t<1?v(t[1],n[1],i[1],a):v(i[1],n[1],t[1],1-a);r.rotation=-Math.atan2(f,s)-Math.PI/2;if(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect"){if(r.__lastT!==undefined&&r.__lastT<r.__t){r.scaleY=Xr(u,e)*1.05;if(a===1){e[0]=u[0]+(e[0]-u[0])/2;e[1]=u[1]+(e[1]-u[1])/2}}else if(r.__lastT===1){r.scaleY=2*Xr(t,e)}else{r.scaleY=this._symbolScale[1]}}r.__lastT=r.__t;r.ignore=false;r.x=e[0];r.y=e[1]};t.prototype.updateLayout=function(r,t){this.childAt(0).updateLayout(r,t);var i=r.getItemModel(t).getModel("effect");this._updateEffectAnimation(r,i,t)};return t}(xe);var WP=function(r){a(t,r);function t(t,i,n){var a=r.call(this)||this;a._createPolyline(t,i,n);return a}t.prototype._createPolyline=function(r,t,i){var n=r.getItemLayout(t);var a=new Dl({shape:{points:n}});this.add(a);this._updateCommonStl(r,t,i)};t.prototype.updateData=function(r,t,i){var n=r.hostModel;var a=this.childAt(0);var e={shape:{points:r.getItemLayout(t)}};nh(a,e,n,t);this._updateCommonStl(r,t,i)};t.prototype._updateCommonStl=function(r,t,i){var n=this.childAt(0);var a=r.getItemModel(t);var e=i&&i.emphasisLineStyle;var u=i&&i.focus;var o=i&&i.blurScope;var v=i&&i.emphasisDisabled;if(!i||r.hasItemOption){var s=a.getModel("emphasis");e=s.getModel("lineStyle").getLineStyle();v=s.get("disabled");u=s.get("focus");o=s.get("blurScope")}n.useStyle(r.getItemVisual(t,"style"));n.style.fill=null;n.style.strokeNoScale=true;var f=n.ensureState("emphasis");f.style=e;kf(this,u,o,v)};t.prototype.updateLayout=function(r,t){var i=this.childAt(0);i.setShape("points",r.getItemLayout(t))};return t}(xe);var VP=function(r){a(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t._lastFrame=0;t._lastFramePercent=0;return t}t.prototype.createLine=function(r,t,i){return new WP(r,t,i)};t.prototype._updateAnimationPoints=function(r,t){this._points=t;var i=[0];var n=0;for(var a=1;a<t.length;a++){var e=t[a-1];var u=t[a];n+=Xr(e,u);i.push(n)}if(n===0){this._length=0;return}for(var a=0;a<i.length;a++){i[a]/=n}this._offsets=i;this._length=n};t.prototype._getLineLength=function(){return this._length};t.prototype._updateSymbolPosition=function(r){var t=r.__t<1?r.__t:2-r.__t;var i=this._points;var n=this._offsets;var a=i.length;if(!n){return}var e=this._lastFrame;var u;if(t<this._lastFramePercent){var o=Math.min(e+1,a-1);for(u=o;u>=0;u--){if(n[u]<=t){break}}u=Math.min(u,a-2)}else{for(u=e;u<a;u++){if(n[u]>t){break}}u=Math.min(u-1,a-2)}var v=(t-n[u])/(n[u+1]-n[u]);var s=i[u];var f=i[u+1];r.x=s[0]*(1-v)+v*f[0];r.y=s[1]*(1-v)+v*f[1];var l=r.__t<1?f[0]-s[0]:s[0]-f[0];var h=r.__t<1?f[1]-s[1]:s[1]-f[1];r.rotation=-Math.atan2(h,l)-Math.PI/2;this._lastFrame=u;this._lastFramePercent=t;r.ignore=false};return t}(PP);var HP=function(){function r(){this.polyline=false;this.curveness=0;this.segs=[]}return r}();var YP=function(r){a(t,r);function t(t){var i=r.call(this,t)||this;i._off=0;i.hoverDataIdx=-1;return i}t.prototype.reset=function(){this.notClear=false;this._off=0};t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};t.prototype.getDefaultShape=function(){return new HP};t.prototype.buildPath=function(r,t){var i=t.segs;var n=t.curveness;var a;if(t.polyline){for(a=this._off;a<i.length;){var e=i[a++];if(e>0){r.moveTo(i[a++],i[a++]);for(var u=1;u<e;u++){r.lineTo(i[a++],i[a++])}}}}else{for(a=this._off;a<i.length;){var o=i[a++];var v=i[a++];var s=i[a++];var f=i[a++];r.moveTo(o,v);if(n>0){var l=(o+s)/2-(v-f)*n;var h=(v+f)/2-(s-o)*n;r.quadraticCurveTo(l,h,s,f)}else{r.lineTo(s,f)}}}if(this.incremental){this._off=a;this.notClear=true}};t.prototype.findDataIndex=function(r,t){var i=this.shape;var n=i.segs;var a=i.curveness;var e=this.style.lineWidth;if(i.polyline){var u=0;for(var o=0;o<n.length;){var v=n[o++];if(v>0){var s=n[o++];var f=n[o++];for(var l=1;l<v;l++){var h=n[o++];var c=n[o++];if(yv(s,f,h,c,e,r,t)){return u}}}u++}}else{var u=0;for(var o=0;o<n.length;){var s=n[o++];var f=n[o++];var h=n[o++];var c=n[o++];if(a>0){var d=(s+h)/2-(f-c)*a;var p=(f+c)/2-(h-s)*a;if(bv(s,f,d,p,h,c,e,r,t)){return u}}else{if(yv(s,f,h,c,e,r,t)){return u}}u++}}return-1};t.prototype.contain=function(r,t){var i=this.transformCoordToLocal(r,t);var n=this.getBoundingRect();r=i[0];t=i[1];if(n.contain(r,t)){var a=this.hoverDataIdx=this.findDataIndex(r,t);return a>=0}this.hoverDataIdx=-1;return false};t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){var t=this.shape;var i=t.segs;var n=Infinity;var a=Infinity;var e=-Infinity;var u=-Infinity;for(var o=0;o<i.length;){var v=i[o++];var s=i[o++];n=Math.min(v,n);e=Math.max(v,e);a=Math.min(s,a);u=Math.max(s,u)}r=this._rect=new Zt(n,a,e,u)}return r};return t}(Vv);var XP=function(){function r(){this.group=new xe}r.prototype.updateData=function(r){this._clear();var t=this._create();t.setShape({segs:r.getLayout("linesPoints")});this._setCommon(t,r)};r.prototype.incrementalPrepareUpdate=function(r){this.group.removeAll();this._clear()};r.prototype.incrementalUpdate=function(r,t){var i=this._newAdded[0];var n=t.getLayout("linesPoints");var a=i&&i.shape.segs;if(a&&a.length<2e4){var e=a.length;var u=new Float32Array(e+n.length);u.set(a);u.set(n,e);i.setShape({segs:u})}else{this._newAdded=[];var o=this._create();o.incremental=true;o.setShape({segs:n});this._setCommon(o,t);o.__startIndex=r.start}};r.prototype.remove=function(){this._clear()};r.prototype.eachRendered=function(r){this._newAdded[0]&&r(this._newAdded[0])};r.prototype._create=function(){var r=new YP({cursor:"default",ignoreCoarsePointer:true});this._newAdded.push(r);this.group.add(r);return r};r.prototype._setCommon=function(r,t,i){var n=t.hostModel;r.setShape({polyline:n.get("polyline"),curveness:n.get(["lineStyle","curveness"])});r.useStyle(n.getModel("lineStyle").getLineStyle());r.style.strokeNoScale=true;var a=t.getVisual("style");if(a&&a.stroke){r.setStyle("stroke",a.stroke)}r.setStyle("fill",null);var e=bs(r);e.seriesIndex=n.seriesIndex;r.on("mousemove",(function(t){e.dataIndex=null;var i=r.hoverDataIdx;if(i>0){e.dataIndex=i+r.__startIndex}}))};r.prototype._clear=function(){this._newAdded=[];this.group.removeAll()};return r}();var GP={seriesType:"lines",plan:ug(),reset:function(r){var t=r.coordinateSystem;if(!t){return}var i=r.get("polyline");var n=r.pipelineContext.large;return{progress:function(a,e){var u=[];if(n){var o=void 0;var v=a.end-a.start;if(i){var s=0;for(var f=a.start;f<a.end;f++){s+=r.getLineCoordsCount(f)}o=new Float32Array(v+s*2)}else{o=new Float32Array(v*4)}var l=0;var h=[];for(var f=a.start;f<a.end;f++){var c=r.getLineCoords(f,u);if(i){o[l++]=c}for(var d=0;d<c;d++){h=t.dataToPoint(u[d],false,h);o[l++]=h[0];o[l++]=h[1]}}e.setLayout("linesPoints",o)}else{for(var f=a.start;f<a.end;f++){var p=e.getItemModel(f);var c=r.getLineCoords(f,u);var m=[];if(i){for(var y=0;y<c;y++){m.push(t.dataToPoint(u[y]))}}else{m[0]=t.dataToPoint(u[0]);m[1]=t.dataToPoint(u[1]);var g=p.get(["lineStyle","curveness"]);if(+g){m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*g,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*g]}}e.setItemLayout(f,m)}}}}}};var UP=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i){var n=r.getData();var a=this._updateLineDraw(n,r);var e=r.get("zlevel");var u=r.get(["effect","trailLength"]);var o=i.getZr();var v=o.painter.getType()==="svg";if(!v){o.painter.getLayer(e).clear(true)}if(this._lastZlevel!=null&&!v){o.configLayer(this._lastZlevel,{motionBlur:false})}if(this._showEffect(r)&&u>0){if(!v){o.configLayer(e,{motionBlur:true,lastFrameAlpha:Math.max(Math.min(u/10+.9,1),0)})}}a.updateData(n);var s=r.get("clip",true)&&PI(r.coordinateSystem,false,r);if(s){this.group.setClipPath(s)}else{this.group.removeClipPath()}this._lastZlevel=e;this._finished=true};t.prototype.incrementalPrepareRender=function(r,t,i){var n=r.getData();var a=this._updateLineDraw(n,r);a.incrementalPrepareUpdate(n);this._clearLayer(i);this._finished=false};t.prototype.incrementalRender=function(r,t,i){this._lineDraw.incrementalUpdate(r,t.getData());this._finished=r.end===t.getData().count()};t.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)};t.prototype.updateTransform=function(r,t,i){var n=r.getData();var a=r.pipelineContext;if(!this._finished||a.large||a.progressiveRender){return{update:true}}else{var e=GP.reset(r,t,i);if(e.progress){e.progress({start:0,end:n.count(),count:n.count()},n)}this._lineDraw.updateLayout();this._clearLayer(i)}};t.prototype._updateLineDraw=function(r,t){var i=this._lineDraw;var n=this._showEffect(t);var a=!!t.get("polyline");var e=t.pipelineContext;var u=e.large;if(!i||n!==this._hasEffet||a!==this._isPolyline||u!==this._isLargeDraw){if(i){i.remove()}i=this._lineDraw=u?new XP:new _F(a?n?VP:WP:n?PP:BF);this._hasEffet=n;this._isPolyline=a;this._isLargeDraw=u}this.group.add(i.group);return i};t.prototype._showEffect=function(r){return!!r.get(["effect","show"])};t.prototype._clearLayer=function(r){var t=r.getZr();var i=t.painter.getType()==="svg";if(!i&&this._lastZlevel!=null){t.painter.getLayer(this._lastZlevel).clear(true)}};t.prototype.remove=function(r,t){this._lineDraw&&this._lineDraw.remove();this._lineDraw=null;this._clearLayer(t)};t.prototype.dispose=function(r,t){this.remove(r,t)};t.type="lines";return t}(sg);var ZP=typeof Uint32Array==="undefined"?Array:Uint32Array;var jP=typeof Float64Array==="undefined"?Array:Float64Array;function qP(r){var t=r.data;if(t&&t[0]&&t[0][0]&&t[0][0].coord){r.data=H(t,(function(r){var t=[r[0].coord,r[1].coord];var i={coords:t};if(r[0].name){i.fromName=r[0].name}if(r[1].name){i.toName=r[1].name}return R([i,r[0],r[1]])}))}}var KP=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.visualStyleAccessPath="lineStyle";i.visualDrawType="stroke";return i}t.prototype.init=function(t){t.data=t.data||[];qP(t);var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords;this._flatCoordsOffset=i.flatCoordsOffset;if(i.flatCoords){t.data=new Float32Array(i.count)}r.prototype.init.apply(this,arguments)};t.prototype.mergeOption=function(t){qP(t);if(t.data){var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords;this._flatCoordsOffset=i.flatCoordsOffset;if(i.flatCoords){t.data=new Float32Array(i.count)}}r.prototype.mergeOption.apply(this,arguments)};t.prototype.appendData=function(r){var t=this._processFlatCoordsArray(r.data);if(t.flatCoords){if(!this._flatCoords){this._flatCoords=t.flatCoords;this._flatCoordsOffset=t.flatCoordsOffset}else{this._flatCoords=kr(this._flatCoords,t.flatCoords);this._flatCoordsOffset=kr(this._flatCoordsOffset,t.flatCoordsOffset)}r.data=new Float32Array(t.count)}this.getRawData().appendData(r.data)};t.prototype._getCoordsFromItemModel=function(r){var t=this.getData().getItemModel(r);var i=t.option instanceof Array?t.option:t.getShallow("coords");return i};t.prototype.getLineCoordsCount=function(r){if(this._flatCoordsOffset){return this._flatCoordsOffset[r*2+1]}else{return this._getCoordsFromItemModel(r).length}};t.prototype.getLineCoords=function(r,t){if(this._flatCoordsOffset){var i=this._flatCoordsOffset[r*2];var n=this._flatCoordsOffset[r*2+1];for(var a=0;a<n;a++){t[a]=t[a]||[];t[a][0]=this._flatCoords[i+a*2];t[a][1]=this._flatCoords[i+a*2+1]}return n}else{var e=this._getCoordsFromItemModel(r);for(var a=0;a<e.length;a++){t[a]=t[a]||[];t[a][0]=e[a][0];t[a][1]=e[a][1]}return e.length}};t.prototype._processFlatCoordsArray=function(r){var t=0;if(this._flatCoords){t=this._flatCoords.length}if(rr(r[0])){var i=r.length;var n=new ZP(i);var a=new jP(i);var e=0;var u=0;var o=0;for(var v=0;v<i;){o++;var s=r[v++];n[u++]=e+t;n[u++]=s;for(var f=0;f<s;f++){var l=r[v++];var h=r[v++];a[e++]=l;a[e++]=h}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,u),flatCoords:a,count:o}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}};t.prototype.getInitialData=function(r,t){var i=new TM(["value"],this);i.hasItemOption=false;i.initData(r.data,[],(function(r,t,n,a){if(r instanceof Array){return NaN}else{i.hasItemOption=true;var e=r.value;if(e!=null){return e instanceof Array?e[a]:e}}}));return i};t.prototype.formatTooltip=function(r,t,i){var n=this.getData();var a=n.getItemModel(r);var e=a.get("name");if(e){return e}var u=a.get("fromName");var o=a.get("toName");var v=[];u!=null&&v.push(u);o!=null&&v.push(o);return Ty("nameValue",{name:v.join(" > ")})};t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])};t.prototype.getProgressive=function(){var r=this.option.progressive;if(r==null){return this.option.large?1e4:this.get("progressive")}return r};t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;if(r==null){return this.option.large?2e4:this.get("progressiveThreshold")}return r};t.prototype.getZLevelKey=function(){var r=this.getModel("effect");var t=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&t>0?t+"":""};t.type="series.lines";t.dependencies=["grid","polar","geo","calendar"];t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:true,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:false,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:true,trailLength:.2},large:false,largeThreshold:2e3,polyline:false,clip:true,label:{show:false,position:"end"},lineStyle:{opacity:.5}};return t}(Ky);function JP(r){if(!(r instanceof Array)){r=[r,r]}return r}var $P={seriesType:"lines",reset:function(r){var t=JP(r.get("symbol"));var i=JP(r.get("symbolSize"));var n=r.getData();n.setVisual("fromSymbol",t&&t[0]);n.setVisual("toSymbol",t&&t[1]);n.setVisual("fromSymbolSize",i&&i[0]);n.setVisual("toSymbolSize",i&&i[1]);function a(r,t){var i=r.getItemModel(t);var n=JP(i.getShallow("symbol",true));var a=JP(i.getShallow("symbolSize",true));n[0]&&r.setItemVisual(t,"fromSymbol",n[0]);n[1]&&r.setItemVisual(t,"toSymbol",n[1]);a[0]&&r.setItemVisual(t,"fromSymbolSize",a[0]);a[1]&&r.setItemVisual(t,"toSymbolSize",a[1])}return{dataEach:n.hasItemOption?a:null}}};function QP(r){r.registerChartView(UP);r.registerSeriesModel(KP);r.registerLayout(GP);r.registerVisual($P)}var rW=256;var tW=function(){function r(){this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={inRange:null,outOfRange:null};var r=y.createCanvas();this.canvas=r}r.prototype.update=function(r,t,i,n,a,e){var u=this._getBrush();var o=this._getGradient(a,"inRange");var v=this._getGradient(a,"outOfRange");var s=this.pointSize+this.blurSize;var f=this.canvas;var l=f.getContext("2d");var h=r.length;f.width=t;f.height=i;for(var c=0;c<h;++c){var d=r[c];var p=d[0];var m=d[1];var y=d[2];var g=n(y);l.globalAlpha=g;l.drawImage(u,p-s,m-s)}if(!f.width||!f.height){return f}var b=l.getImageData(0,0,f.width,f.height);var w=b.data;var x=0;var M=w.length;var S=this.minOpacity;var k=this.maxOpacity;var N=k-S;while(x<M){var g=w[x+3]/256;var A=Math.floor(g*(rW-1))*4;if(g>0){var I=e(g)?o:v;g>0&&(g=g*N+S);w[x++]=I[A];w[x++]=I[A+1];w[x++]=I[A+2];w[x++]=I[A+3]*g*256}else{x+=4}}l.putImageData(b,0,0);return f};r.prototype._getBrush=function(){var r=this._brushCanvas||(this._brushCanvas=y.createCanvas());var t=this.pointSize+this.blurSize;var i=t*2;r.width=i;r.height=i;var n=r.getContext("2d");n.clearRect(0,0,i,i);n.shadowOffsetX=i;n.shadowBlur=this.blurSize;n.shadowColor="#000";n.beginPath();n.arc(-t,t,this.pointSize,0,Math.PI*2,true);n.closePath();n.fill();return r};r.prototype._getGradient=function(r,t){var i=this._gradientPixels;var n=i[t]||(i[t]=new Uint8ClampedArray(256*4));var a=[0,0,0,0];var e=0;for(var u=0;u<256;u++){r[t](u/255,true,a);n[e++]=a[0];n[e++]=a[1];n[e++]=a[2];n[e++]=a[3]}return n};return r}();function iW(r,t,i){var n=r[1]-r[0];t=H(t,(function(t){return{interval:[(t.interval[0]-r[0])/n,(t.interval[1]-r[0])/n]}}));var a=t.length;var e=0;return function(r){var n;for(n=e;n<a;n++){var u=t[n].interval;if(u[0]<=r&&r<=u[1]){e=n;break}}if(n===a){for(n=e-1;n>=0;n--){var u=t[n].interval;if(u[0]<=r&&r<=u[1]){e=n;break}}}return n>=0&&n<a&&i[n]}}function nW(r,t){var i=r[1]-r[0];t=[(t[0]-r[0])/i,(t[1]-r[0])/i];return function(r){return r>=t[0]&&r<=t[1]}}function aW(r){var t=r.dimensions;return t[0]==="lng"&&t[1]==="lat"}var eW=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i){var n;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(i){if(i===r){n=t}}))}));this._progressiveEls=null;this.group.removeAll();var a=r.coordinateSystem;if(a.type==="cartesian2d"||a.type==="calendar"){this._renderOnCartesianAndCalendar(r,i,0,r.getData().count())}else if(aW(a)){this._renderOnGeo(a,r,n,i)}};t.prototype.incrementalPrepareRender=function(r,t,i){this.group.removeAll()};t.prototype.incrementalRender=function(r,t,i,n){var a=t.coordinateSystem;if(a){if(aW(a)){this.render(t,i,n)}else{this._progressiveEls=[];this._renderOnCartesianAndCalendar(t,n,r.start,r.end,true)}}};t.prototype.eachRendered=function(r){Hh(this._progressiveEls||this.group,r)};t.prototype._renderOnCartesianAndCalendar=function(r,t,i,n,a){var e=r.coordinateSystem;var u=WI(e,"cartesian2d");var o;var v;var s;var f;if(u){var l=e.getAxis("x");var h=e.getAxis("y");o=l.getBandWidth()+.5;v=h.getBandWidth()+.5;s=l.scale.getExtent();f=h.scale.getExtent()}var c=this.group;var d=r.getData();var p=r.getModel(["emphasis","itemStyle"]).getItemStyle();var m=r.getModel(["blur","itemStyle"]).getItemStyle();var y=r.getModel(["select","itemStyle"]).getItemStyle();var g=r.get(["itemStyle","borderRadius"]);var b=jh(r);var w=r.getModel("emphasis");var x=w.get("focus");var M=w.get("blurScope");var S=w.get("disabled");var k=u?[d.mapDimension("x"),d.mapDimension("y"),d.mapDimension("value")]:[d.mapDimension("time"),d.mapDimension("value")];for(var N=i;N<n;N++){var A=void 0;var I=d.getItemVisual(N,"style");if(u){var C=d.get(k[0],N);var T=d.get(k[1],N);if(isNaN(d.get(k[2],N))||isNaN(C)||isNaN(T)||C<s[0]||C>s[1]||T<f[0]||T>f[1]){continue}var z=e.dataToPoint([C,T]);A=new ts({shape:{x:z[0]-o/2,y:z[1]-v/2,width:o,height:v},style:I})}else{if(isNaN(d.get(k[1],N))){continue}A=new ts({z2:1,shape:e.dataToRect([d.get(k[0],N)]).contentShape,style:I})}if(d.hasItemOption){var L=d.getItemModel(N);var O=L.getModel("emphasis");p=O.getModel("itemStyle").getItemStyle();m=L.getModel(["blur","itemStyle"]).getItemStyle();y=L.getModel(["select","itemStyle"]).getItemStyle();g=L.get(["itemStyle","borderRadius"]);x=O.get("focus");M=O.get("blurScope");S=O.get("disabled");b=jh(L)}A.shape.r=g;var D=r.getRawValue(N);var R="-";if(D&&D[2]!=null){R=D[2]+""}Zh(A,b,{labelFetcher:r,labelDataIndex:N,defaultOpacity:I.opacity,defaultText:R});A.ensureState("emphasis").style=p;A.ensureState("blur").style=m;A.ensureState("select").style=y;kf(A,x,M,S);A.incremental=a;if(a){A.states.emphasis.hoverLayer=true}c.add(A);d.setItemGraphicEl(N,A);if(this._progressiveEls){this._progressiveEls.push(A)}}};t.prototype._renderOnGeo=function(r,t,i,n){var a=i.targetVisuals.inRange;var e=i.targetVisuals.outOfRange;var u=t.getData();var o=this._hmLayer||this._hmLayer||new tW;o.blurSize=t.get("blurSize");o.pointSize=t.get("pointSize");o.minOpacity=t.get("minOpacity");o.maxOpacity=t.get("maxOpacity");var v=r.getViewRect().clone();var s=r.getRoamTransform();v.applyTransform(s);var f=Math.max(v.x,0);var l=Math.max(v.y,0);var h=Math.min(v.width+v.x,n.getWidth());var c=Math.min(v.height+v.y,n.getHeight());var d=h-f;var p=c-l;var m=[u.mapDimension("lng"),u.mapDimension("lat"),u.mapDimension("value")];var y=u.mapArray(m,(function(t,i,n){var a=r.dataToPoint([t,i]);a[0]-=f;a[1]-=l;a.push(n);return a}));var g=i.getExtent();var b=i.type==="visualMap.continuous"?nW(g,i.option.range):iW(g,i.getPieceList(),i.option.selected);o.update(y,d,p,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:e.color.getColorMapper()},b);var w=new Zv({style:{width:d,height:p,x:f,y:l,image:o.canvas},silent:true});this.group.add(w)};t.type="heatmap";return t}(sg);var uW=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.getInitialData=function(r,t){return XM(null,this,{generateCoord:"value"})};t.prototype.preventIncremental=function(){var r=Lp.get(this.get("coordinateSystem"));if(r&&r.dimensions){return r.dimensions[0]==="lng"&&r.dimensions[1]==="lat"}};t.type="series.heatmap";t.dependencies=["grid","geo","calendar"];t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}};return t}(Ky);function oW(r){r.registerChartView(eW);r.registerSeriesModel(uW)}var vW=["itemStyle","borderWidth"];var sW=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}];var fW=new ul;var lW=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i){var n=this.group;var a=r.getData();var e=this._data;var u=r.coordinateSystem;var o=u.getBaseAxis();var v=o.isHorizontal();var s=u.master.getRect();var f={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:r,coordSys:u,coordSysExtent:[[s.x,s.x+s.width],[s.y,s.y+s.height]],isHorizontal:v,valueDim:sW[+v],categoryDim:sW[1-+v]};a.diff(e).add((function(r){if(!a.hasValue(r)){return}var t=SW(a,r);var i=hW(a,r,t,f);var e=AW(a,f,i);a.setItemGraphicEl(r,e);n.add(e);OW(e,f,i)})).update((function(r,t){var i=e.getItemGraphicEl(t);if(!a.hasValue(r)){n.remove(i);return}var u=SW(a,r);var o=hW(a,r,u,f);var v=TW(a,o);if(i&&v!==i.__pictorialShapeStr){n.remove(i);a.setItemGraphicEl(r,null);i=null}if(i){IW(i,f,o)}else{i=AW(a,f,o,true)}a.setItemGraphicEl(r,i);i.__pictorialSymbolMeta=o;n.add(i);OW(i,f,o)})).remove((function(r){var t=e.getItemGraphicEl(r);t&&CW(e,r,t.__pictorialSymbolMeta.animationModel,t)})).execute();this._data=a;return this.group};t.prototype.remove=function(r,t){var i=this.group;var n=this._data;if(r.get("animation")){if(n){n.eachItemGraphicEl((function(t){CW(n,bs(t).dataIndex,r,t)}))}}else{i.removeAll()}};t.type="pictorialBar";return t}(sg);function hW(r,t,i,n){var a=r.getItemLayout(t);var e=i.get("symbolRepeat");var u=i.get("symbolClip");var o=i.get("symbolPosition")||"start";var v=i.get("symbolRotate");var s=(v||0)*Math.PI/180||0;var f=i.get("symbolPatternSize")||2;var l=i.isAnimationEnabled();var h={dataIndex:t,layout:a,itemModel:i,symbolType:r.getItemVisual(t,"symbol")||"circle",style:r.getItemVisual(t,"style"),symbolClip:u,symbolRepeat:e,symbolRepeatDirection:i.get("symbolRepeatDirection"),symbolPatternSize:f,rotation:s,animationModel:l?i:null,hoverScale:l&&i.get(["emphasis","scale"]),z2:i.getShallow("z",true)||0};cW(i,e,a,n,h);pW(r,t,a,e,u,h.boundingLength,h.pxSign,f,n,h);mW(i,h.symbolScale,s,n,h);var c=h.symbolSize;var d=Ab(i.get("symbolOffset"),c);yW(i,c,a,e,u,d,o,h.valueLineWidth,h.boundingLength,h.repeatCutLength,n,h);return h}function cW(r,t,i,n,a){var e=n.valueDim;var u=r.get("symbolBoundingData");var o=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis());var v=o.toGlobalCoord(o.dataToCoord(0));var s=1-+(i[e.wh]<=0);var f;if(K(u)){var l=[dW(o,u[0])-v,dW(o,u[1])-v];l[1]<l[0]&&l.reverse();f=l[s]}else if(u!=null){f=dW(o,u)-v}else if(t){f=n.coordSysExtent[e.index][s]-v}else{f=i[e.wh]}a.boundingLength=f;if(t){a.repeatCutLength=i[e.wh]}a.pxSign=f>0?1:-1}function dW(r,t){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(t)))}function pW(r,t,i,n,a,e,u,o,v,s){var f=v.valueDim;var l=v.categoryDim;var h=Math.abs(i[l.wh]);var c=r.getItemVisual(t,"symbolSize");var d;if(K(c)){d=c.slice()}else{if(c==null){d=["100%","100%"]}else{d=[c,c]}}d[l.index]=Le(d[l.index],h);d[f.index]=Le(d[f.index],n?h:Math.abs(e));s.symbolSize=d;var p=s.symbolScale=[d[0]/o,d[1]/o];p[f.index]*=(v.isHorizontal?-1:1)*u}function mW(r,t,i,n,a){var e=r.get(vW)||0;if(e){fW.attr({scaleX:t[0],scaleY:t[1],rotation:i});fW.updateTransform();e/=fW.getLineScale();e*=t[n.valueDim.index]}a.valueLineWidth=e||0}function yW(r,t,i,n,a,e,u,o,v,s,f,l){var h=f.categoryDim;var c=f.valueDim;var d=l.pxSign;var p=Math.max(t[c.index]+o,0);var m=p;if(n){var y=Math.abs(v);var g=sr(r.get("symbolMargin"),"15%")+"";var b=false;if(g.lastIndexOf("!")===g.length-1){b=true;g=g.slice(0,g.length-1)}var w=Le(g,t[c.index]);var x=Math.max(p+w*2,0);var M=b?0:w*2;var S=Ke(n);var k=S?n:DW((y+M)/x);var N=y-k*p;w=N/2/(b?k:Math.max(k-1,1));x=p+w*2;M=b?0:w*2;if(!S&&n!=="fixed"){k=s?DW((Math.abs(s)+M)/x):0}m=k*x-M;l.repeatTimes=k;l.symbolMargin=w}var A=d*(m/2);var I=l.pathPosition=[];I[h.index]=i[h.wh]/2;I[c.index]=u==="start"?A:u==="end"?v-A:v/2;if(e){I[0]+=e[0];I[1]+=e[1]}var C=l.bundlePosition=[];C[h.index]=i[h.xy];C[c.index]=i[c.xy];var T=l.barRectShape=F({},i);T[c.wh]=d*Math.max(Math.abs(i[c.wh]),Math.abs(I[c.index]+A));T[h.wh]=i[h.wh];var z=l.clipShape={};z[h.xy]=-i[h.xy];z[h.wh]=f.ecSize[h.wh];z[c.xy]=0;z[c.wh]=i[c.wh]}function gW(r){var t=r.symbolPatternSize;var i=kb(r.symbolType,-t/2,-t/2,t,t);i.attr({culling:true});i.type!=="image"&&i.setStyle({strokeNoScale:true});return i}function bW(r,t,i,n){var a=r.__pictorialBundle;var e=i.symbolSize;var u=i.valueLineWidth;var o=i.pathPosition;var v=t.valueDim;var s=i.repeatTimes||0;var f=0;var l=e[t.valueDim.index]+u+i.symbolMargin*2;zW(r,(function(r){r.__pictorialAnimationIndex=f;r.__pictorialRepeatTimes=s;if(f<s){LW(r,null,d(f),i,n)}else{LW(r,null,{scaleX:0,scaleY:0},i,n,(function(){a.remove(r)}))}f++}));for(;f<s;f++){var h=gW(i);h.__pictorialAnimationIndex=f;h.__pictorialRepeatTimes=s;a.add(h);var c=d(f);LW(h,{x:c.x,y:c.y,scaleX:0,scaleY:0},{scaleX:c.scaleX,scaleY:c.scaleY,rotation:c.rotation},i,n)}function d(r){var t=o.slice();var n=i.pxSign;var a=r;if(i.symbolRepeatDirection==="start"?n>0:n<0){a=s-1-r}t[v.index]=l*(a-s/2+.5)+o[v.index];return{x:t[0],y:t[1],scaleX:i.symbolScale[0],scaleY:i.symbolScale[1],rotation:i.rotation}}}function wW(r,t,i,n){var a=r.__pictorialBundle;var e=r.__pictorialMainPath;if(!e){e=r.__pictorialMainPath=gW(i);a.add(e);LW(e,{x:i.pathPosition[0],y:i.pathPosition[1],scaleX:0,scaleY:0,rotation:i.rotation},{scaleX:i.symbolScale[0],scaleY:i.symbolScale[1]},i,n)}else{LW(e,null,{x:i.pathPosition[0],y:i.pathPosition[1],scaleX:i.symbolScale[0],scaleY:i.symbolScale[1],rotation:i.rotation},i,n)}}function xW(r,t,i){var n=F({},t.barRectShape);var a=r.__pictorialBarRect;if(!a){a=r.__pictorialBarRect=new ts({z2:2,shape:n,silent:true,style:{stroke:"transparent",fill:"transparent",lineWidth:0}});a.disableMorphing=true;r.add(a)}else{LW(a,null,{shape:n},t,i)}}function MW(r,t,i,n){if(i.symbolClip){var a=r.__pictorialClipPath;var e=F({},i.clipShape);var u=t.valueDim;var o=i.animationModel;var v=i.dataIndex;if(a){nh(a,{shape:e},o,v)}else{e[u.wh]=0;a=new ts({shape:e});r.__pictorialBundle.setClipPath(a);r.__pictorialClipPath=a;var s={};s[u.wh]=i.clipShape[u.wh];Yh[n?"updateProps":"initProps"](a,{shape:s},o,v)}}}function SW(r,t){var i=r.getItemModel(t);i.getAnimationDelayParams=kW;i.isAnimationEnabled=NW;return i}function kW(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function NW(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function AW(r,t,i,n){var a=new xe;var e=new xe;a.add(e);a.__pictorialBundle=e;e.x=i.bundlePosition[0];e.y=i.bundlePosition[1];if(i.symbolRepeat){bW(a,t,i)}else{wW(a,t,i)}xW(a,i,n);MW(a,t,i,n);a.__pictorialShapeStr=TW(r,i);a.__pictorialSymbolMeta=i;return a}function IW(r,t,i){var n=i.animationModel;var a=i.dataIndex;var e=r.__pictorialBundle;nh(e,{x:i.bundlePosition[0],y:i.bundlePosition[1]},n,a);if(i.symbolRepeat){bW(r,t,i,true)}else{wW(r,t,i,true)}xW(r,i,true);MW(r,t,i,true)}function CW(r,t,i,n){var a=n.__pictorialBarRect;a&&a.removeTextContent();var e=[];zW(n,(function(r){e.push(r)}));n.__pictorialMainPath&&e.push(n.__pictorialMainPath);n.__pictorialClipPath&&(i=null);V(e,(function(r){uh(r,{scaleX:0,scaleY:0},i,t,(function(){n.parent&&n.parent.remove(n)}))}));r.setItemGraphicEl(t,null)}function TW(r,t){return[r.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function zW(r,t,i){V(r.__pictorialBundle.children(),(function(n){n!==r.__pictorialBarRect&&t.call(i,n)}))}function LW(r,t,i,n,a,e){t&&r.attr(t);if(n.symbolClip&&!a){i&&r.attr(i)}else{i&&Yh[a?"updateProps":"initProps"](r,i,n.animationModel,n.dataIndex,e)}}function OW(r,t,i){var n=i.dataIndex;var a=i.itemModel;var e=a.getModel("emphasis");var u=e.getModel("itemStyle").getItemStyle();var o=a.getModel(["blur","itemStyle"]).getItemStyle();var v=a.getModel(["select","itemStyle"]).getItemStyle();var s=a.getShallow("cursor");var f=e.get("focus");var l=e.get("blurScope");var h=e.get("scale");zW(r,(function(r){if(r instanceof Zv){var t=r.style;r.useStyle(F({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},i.style))}else{r.useStyle(i.style)}var n=r.ensureState("emphasis");n.style=u;if(h){n.scaleX=r.scaleX*1.1;n.scaleY=r.scaleY*1.1}r.ensureState("blur").style=o;r.ensureState("select").style=v;s&&(r.cursor=s);r.z2=i.z2}));var c=t.valueDim.posDesc[+(i.boundingLength>0)];var d=r.__pictorialBarRect;Zh(d,jh(a),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:mI(t.seriesModel.getData(),n),inheritColor:i.style.fill,defaultOpacity:i.style.opacity,defaultOutsidePosition:c});kf(r,f,l,e.get("disabled"))}function DW(r){var t=Math.round(r);return Math.abs(r-t)<1e-4?t:Math.ceil(r)}var RW=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.hasSymbolVisual=true;i.defaultSymbol="roundRect";return i}t.prototype.getInitialData=function(t){t.stack=null;return r.prototype.getInitialData.apply(this,arguments)};t.type="series.pictorialBar";t.dependencies=["grid"];t.defaultOption=Mc(fC.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:false,symbolRepeatDirection:"end",symbolClip:false,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:false},select:{itemStyle:{borderColor:"#212121"}}});return t}(fC);function FW(r){r.registerChartView(lW);r.registerSeriesModel(RW);r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,q(xS,"pictorialBar"));r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,MS("pictorialBar"))}var BW=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i._layers=[];return i}t.prototype.render=function(r,t,i){var n=r.getData();var a=this;var e=this.group;var u=r.getLayerSeries();var o=n.getLayout("layoutInfo");var v=o.rect;var s=o.boundaryGap;e.x=0;e.y=v.y+s[0];function f(r){return r.name}var l=new tM(this._layersSeries||[],u,f,f);var h=[];l.add(j(c,this,"add")).update(j(c,this,"update")).remove(j(c,this,"remove")).execute();function c(t,i,o){var v=a._layers;if(t==="remove"){e.remove(v[i]);return}var s=[];var f=[];var l;var c=u[i].indices;var d=0;for(;d<c.length;d++){var p=n.getItemLayout(c[d]);var m=p.x;var y=p.y0;var g=p.y;s.push(m,y);f.push(m,y+g);l=n.getItemVisual(c[d],"style")}var b;var w=n.getItemLayout(c[0]);var x=r.getModel("label");var M=x.get("margin");var S=r.getModel("emphasis");if(t==="add"){var k=h[i]=new xe;b=new BI({shape:{points:s,stackedOnPoints:f,smooth:.4,stackedOnSmooth:.4,smoothConstraint:false},z2:0});k.add(b);e.add(k);if(r.isAnimationEnabled()){b.setClipPath(_W(b.getBoundingRect(),r,(function(){b.removeClipPath()})))}}else{var k=v[o];b=k.childAt(0);e.add(k);h[i]=k;nh(b,{shape:{points:s,stackedOnPoints:f}},r);sh(b)}Zh(b,jh(r),{labelDataIndex:c[d-1],defaultText:n.getName(c[d-1]),inheritColor:l.fill},{normal:{verticalAlign:"middle"}});b.setTextConfig({position:null,local:true});var N=b.getTextContent();if(N){N.x=w.x-M;N.y=w.y0+w.y/2}b.useStyle(l);n.setItemGraphicEl(i,b);Cf(b,r);kf(b,S.get("focus"),S.get("blurScope"),S.get("disabled"))}this._layersSeries=u;this._layers=h};t.type="themeRiver";return t}(sg);function _W(r,t,i){var n=new ts({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});ah(n,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},t,i);return n}var EW=2;var PW=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.init=function(t){r.prototype.init.apply(this,arguments);this.legendVisualProvider=new eT(j(this.getData,this),j(this.getRawData,this))};t.prototype.fixData=function(r){var t=r.length;var i={};var n=Vu(r,(function(r){if(!i.hasOwnProperty(r[0]+"")){i[r[0]+""]=-1}return r[2]}));var a=[];n.buckets.each((function(r,t){a.push({name:t,dataList:r})}));var e=a.length;for(var u=0;u<e;++u){var o=a[u].name;for(var v=0;v<a[u].dataList.length;++v){var s=a[u].dataList[v][0]+"";i[s]=u}for(var s in i){if(i.hasOwnProperty(s)&&i[s]!==u){i[s]=u;r[t]=[s,0,o];t++}}}return r};t.prototype.getInitialData=function(r,t){var i=this.getReferringComponents("singleAxis",Fu).models[0];var n=i.get("type");var a=X(r.data,(function(r){return r[2]!==undefined}));var e=this.fixData(a||[]);var u=this.nameMap=Sr();var o=0;for(var v=0;v<e.length;++v){if(!u.get(e[v][EW])){u.set(e[v][EW],o);o++}}var s=zM(e,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:eM(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions;var f=new TM(s,this);f.initData(e);return f};t.prototype.getLayerSeries=function(){var r=this.getData();var t=r.count();var i=[];for(var n=0;n<t;++n){i[n]=n}var a=r.mapDimension("single");var e=Vu(i,(function(t){return r.get("name",t)}));var u=[];e.buckets.each((function(t,i){t.sort((function(t,i){return r.get(a,t)-r.get(a,i)}));u.push({name:i,indices:t})}));return u};t.prototype.getAxisTooltipData=function(r,t,i){if(!K(r)){r=r?[r]:[]}var n=this.getData();var a=this.getLayerSeries();var e=[];var u=a.length;var o;for(var v=0;v<u;++v){var s=Number.MAX_VALUE;var f=-1;var l=a[v].indices.length;for(var h=0;h<l;++h){var c=n.get(r[0],a[v].indices[h]);var d=Math.abs(c-t);if(d<=s){o=c;s=d;f=a[v].indices[h]}}e.push(f)}return{dataIndices:e,nestestValue:o}};t.prototype.formatTooltip=function(r,t,i){var n=this.getData();var a=n.getName(r);var e=n.get(n.mapDimension("value"),r);return Ty("nameValue",{name:a,value:e})};t.type="series.themeRiver";t.dependencies=["singleAxis"];t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:true,position:"left",fontSize:11},emphasis:{label:{show:true}}};return t}(Ky);function WW(r,t){r.eachSeriesByType("themeRiver",(function(r){var t=r.getData();var i=r.coordinateSystem;var n={};var a=i.getRect();n.rect=a;var e=r.get("boundaryGap");var u=i.getAxis();n.boundaryGap=e;if(u.orient==="horizontal"){e[0]=Le(e[0],a.height);e[1]=Le(e[1],a.height);var o=a.height-e[0]-e[1];VW(t,r,o)}else{e[0]=Le(e[0],a.width);e[1]=Le(e[1],a.width);var v=a.width-e[0]-e[1];VW(t,r,v)}t.setLayout("layoutInfo",n)}))}function VW(r,t,i){if(!r.count()){return}var n=t.coordinateSystem;var a=t.getLayerSeries();var e=r.mapDimension("single");var u=r.mapDimension("value");var o=H(a,(function(t){return H(t.indices,(function(t){var i=n.dataToPoint(r.get(e,t));i[1]=r.get(u,t);return i}))}));var v=HW(o);var s=v.y0;var f=i/v.max;var l=a.length;var h=a[0].indices.length;var c;for(var d=0;d<h;++d){c=s[d]*f;r.setItemLayout(a[0].indices[d],{layerIndex:0,x:o[0][d][0],y0:c,y:o[0][d][1]*f});for(var p=1;p<l;++p){c+=o[p-1][d][1]*f;r.setItemLayout(a[p].indices[d],{layerIndex:p,x:o[p][d][0],y0:c,y:o[p][d][1]*f})}}}function HW(r){var t=r.length;var i=r[0].length;var n=[];var a=[];var e=0;for(var u=0;u<i;++u){var o=0;for(var v=0;v<t;++v){o+=r[v][u][1]}if(o>e){e=o}n.push(o)}for(var s=0;s<i;++s){a[s]=(e-n[s])/2}e=0;for(var f=0;f<i;++f){var l=n[f]+a[f];if(l>e){e=l}}return{y0:a,max:e}}function YW(r){r.registerChartView(BW);r.registerSeriesModel(PW);r.registerLayout(WW);r.registerProcessor(qC("themeRiver"))}var XW=2;var GW=4;var UW=function(r){a(t,r);function t(t,i,n,a){var e=r.call(this)||this;e.z2=XW;e.textConfig={inside:true};bs(e).seriesIndex=i.seriesIndex;var u=new es({z2:GW,silent:t.getModel().get(["label","silent"])});e.setTextContent(u);e.updateData(true,t,i,n,a);return e}t.prototype.updateData=function(r,t,i,n,a){this.node=t;t.piece=this;i=i||this._seriesModel;n=n||this._ecModel;var e=this;bs(e).dataIndex=t.dataIndex;var u=t.getModel();var o=u.getModel("emphasis");var v=t.getLayout();var s=F({},v);s.label=null;var f=t.getVisual("style");f.lineJoin="bevel";var l=t.getVisual("decal");if(l){f.decal=cw(l,a)}var h=gC(u.getModel("itemStyle"),s,true);F(s,h);V(Cs,(function(r){var t=e.ensureState(r);var i=u.getModel([r,"itemStyle"]);t.style=i.getItemStyle();var n=gC(i,s);if(n){t.shape=n}}));if(r){e.setShape(s);e.shape.r=v.r0;ah(e,{shape:{r:v.r}},i,t.dataIndex)}else{nh(e,{shape:s},i);sh(e)}e.useStyle(f);this._updateLabel(i);var c=u.getShallow("cursor");c&&e.attr("cursor",c);this._seriesModel=i||this._seriesModel;this._ecModel=n||this._ecModel;var d=o.get("focus");var p=d==="ancestor"?t.getAncestorsIndices():d==="descendant"?t.getDescendantIndices():d;kf(this,p,o.get("blurScope"),o.get("disabled"))};t.prototype._updateLabel=function(r){var t=this;var i=this.node.getModel();var n=i.getModel("label");var a=this.node.getLayout();var e=a.endAngle-a.startAngle;var u=(a.startAngle+a.endAngle)/2;var o=Math.cos(u);var v=Math.sin(u);var s=this;var f=s.getTextContent();var l=this.node.dataIndex;var h=n.get("minAngle")/180*Math.PI;var c=n.get("show")&&!(h!=null&&Math.abs(e)<h);f.ignore=!c;V(Ts,(function(n){var h=n==="normal"?i.getModel("label"):i.getModel([n,"label"]);var c=n==="normal";var p=c?f:f.ensureState(n);var m=r.getFormattedLabel(l,n);if(c){m=m||t.node.name}p.style=qh(h,{},null,n!=="normal",true);if(m){p.style.text=m}var y=h.get("show");if(y!=null&&!c){p.ignore=!y}var g=d(h,"position");var b=c?s:s.states[n];var w=b.style.fill;b.textConfig={outsideFill:h.get("color")==="inherit"?w:null,inside:g!=="outside"};var x;var M=d(h,"distance")||0;var S=d(h,"align");if(g==="outside"){x=a.r+M;S=u>Math.PI/2?"right":"left"}else{if(!S||S==="center"){if(e===2*Math.PI&&a.r0===0){x=0}else{x=(a.r+a.r0)/2}S="center"}else if(S==="left"){x=a.r0+M;if(u>Math.PI/2){S="right"}}else if(S==="right"){x=a.r-M;if(u>Math.PI/2){S="left"}}}p.style.align=S;p.style.verticalAlign=d(h,"verticalAlign")||"middle";p.x=x*o+a.cx;p.y=x*v+a.cy;var k=d(h,"rotate");var N=0;if(k==="radial"){N=xv(-u);if(N>Math.PI/2&&N<Math.PI*1.5){N+=Math.PI}}else if(k==="tangential"){N=Math.PI/2-u;if(N>Math.PI/2){N-=Math.PI}else if(N<-Math.PI/2){N+=Math.PI}}else if(rr(k)){N=k*Math.PI/180}p.rotation=xv(N)}));function d(r,t){var i=r.get(t);if(i==null){return n.get(t)}return i}f.dirtyStyle()};return t}(Nl);var ZW="sunburstRootToNode";var jW="sunburstHighlight";var qW="sunburstUnhighlight";function KW(r){r.registerAction({type:ZW,update:"updateView"},(function(r,t){t.eachComponent({mainType:"series",subType:"sunburst",query:r},i);function i(t,i){var n=hD(r,[ZW],t);if(n){var a=t.getViewRoot();if(a){r.direction=dD(a,n.node)?"rollUp":"drillDown"}t.resetViewRoot(n.node)}}}));r.registerAction({type:jW,update:"none"},(function(r,t,i){r=F({},r);t.eachComponent({mainType:"series",subType:"sunburst",query:r},n);function n(t){var i=hD(r,[jW],t);if(i){r.dataIndex=i.node.dataIndex}}i.dispatchAction(F(r,{type:"highlight"}))}));r.registerAction({type:qW,update:"updateView"},(function(r,t,i){r=F({},r);i.dispatchAction(F(r,{type:"downplay"}))}))}var JW=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i,n){var a=this;this.seriesModel=r;this.api=i;this.ecModel=t;var e=r.getData();var u=e.tree.root;var o=r.getViewRoot();var v=this.group;var s=r.get("renderLabelForZeroData");var f=[];o.eachNode((function(r){f.push(r)}));var l=this._oldChildren||[];h(f,l);p(u,o);this._initEvents();this._oldChildren=f;function h(r,t){if(r.length===0&&t.length===0){return}new tM(t,r,i,i).add(n).update(n).remove(q(n,null)).execute();function i(r){return r.getId()}function n(i,n){var a=i==null?null:r[i];var e=n==null?null:t[n];c(a,e)}}function c(n,a){if(!s&&n&&!n.getValue()){n=null}if(n!==u&&a!==u){if(a&&a.piece){if(n){a.piece.updateData(false,n,r,t,i);e.setItemGraphicEl(n.dataIndex,a.piece)}else{d(a)}}else if(n){var o=new UW(n,r,t,i);v.add(o);e.setItemGraphicEl(n.dataIndex,o)}}}function d(r){if(!r){return}if(r.piece){v.remove(r.piece);r.piece=null}}function p(n,e){if(e.depth>0){if(a.virtualPiece){a.virtualPiece.updateData(false,n,r,t,i)}else{a.virtualPiece=new UW(n,r,t,i);v.add(a.virtualPiece)}e.piece.off("click");a.virtualPiece.on("click",(function(r){a._rootToNode(e.parentNode)}))}else if(a.virtualPiece){v.remove(a.virtualPiece);a.virtualPiece=null}}};t.prototype._initEvents=function(){var r=this;this.group.off("click");this.group.on("click",(function(t){var i=false;var n=r.seriesModel.getViewRoot();n.eachNode((function(n){if(!i&&n.piece&&n.piece===t.target){var a=n.getModel().get("nodeClick");if(a==="rootToNode"){r._rootToNode(n)}else if(a==="link"){var e=n.getModel();var u=e.get("link");if(u){var o=e.get("target",true)||"_blank";Sd(u,o)}}i=true}}))}))};t.prototype._rootToNode=function(r){if(r!==this.seriesModel.getViewRoot()){this.api.dispatchAction({type:ZW,from:this.uid,seriesId:this.seriesModel.id,targetNode:r})}};t.prototype.containPoint=function(r,t){var i=t.getData();var n=i.getItemLayout(0);if(n){var a=r[0]-n.cx;var e=r[1]-n.cy;var u=Math.sqrt(a*a+e*e);return u<=n.r&&u>=n.r0}};t.type="sunburst";return t}(sg);var $W=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.ignoreStyleOnData=true;return i}t.prototype.getInitialData=function(r,t){var i={name:r.name,children:r.data};QW(i);var n=this._levelModels=H(r.levels||[],(function(r){return new yc(r,this,t)}),this);var a=fD.createTree(i,this,e);function e(r){r.wrapMethod("getItemModel",(function(r,t){var i=a.getNodeByDataIndex(t);var e=n[i.depth];e&&(r.parentModel=e);return r}))}return a.data};t.prototype.optionUpdated=function(){this.resetViewRoot()};t.prototype.getDataParams=function(t){var i=r.prototype.getDataParams.apply(this,arguments);var n=this.getData().tree.getNodeByDataIndex(t);i.treePathInfo=pD(n,this);return i};t.prototype.getLevelModel=function(r){return this._levelModels&&this._levelModels[r.depth]};t.prototype.getViewRoot=function(){return this._viewRoot};t.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var t=this.getRawData().tree.root;if(!r||r!==t&&!t.contains(r)){this._viewRoot=t}};t.prototype.enableAriaDecal=function(){AD(this)};t.type="series.sunburst";t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,stillShowZeroSum:true,nodeClick:"rootToNode",renderLabelForZeroData:false,label:{rotate:"radial",show:true,opacity:1,align:"center",position:"inside",distance:5,silent:true},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"};return t}(Ky);function QW(r){var t=0;V(r.children,(function(r){QW(r);var i=r.value;K(i)&&(i=i[0]);t+=i}));var i=r.value;if(K(i)){i=i[0]}if(i==null||isNaN(i)){i=t}if(i<0){i=0}K(r.value)?r.value[0]=i:r.value=i}var rV=Math.PI/180;function tV(r,t,i){t.eachSeriesByType(r,(function(r){var t=r.get("center");var n=r.get("radius");if(!K(n)){n=[0,n]}if(!K(t)){t=[t,t]}var a=i.getWidth();var e=i.getHeight();var u=Math.min(a,e);var o=Le(t[0],a);var v=Le(t[1],e);var s=Le(n[0],u/2);var f=Le(n[1],u/2);var l=-r.get("startAngle")*rV;var h=r.get("minAngle")*rV;var c=r.getData().tree.root;var d=r.getViewRoot();var p=d.depth;var m=r.get("sort");if(m!=null){iV(d,m)}var y=0;V(d.children,(function(r){!isNaN(r.getValue())&&y++}));var g=d.getValue();var b=Math.PI/(g||y)*2;var w=d.depth>0;var x=d.height-(w?-1:1);var M=(f-s)/(x||1);var S=r.get("clockwise");var k=r.get("stillShowZeroSum");var N=S?1:-1;var A=function(t,i){if(!t){return}var n=i;if(t!==c){var a=t.getValue();var e=g===0&&k?b:a*b;if(e<h){e=h}n=i+N*e;var f=t.depth-p-(w?-1:1);var l=s+M*f;var d=s+M*(f+1);var m=r.getLevelModel(t);if(m){var y=m.get("r0",true);var x=m.get("r",true);var I=m.get("radius",true);if(I!=null){y=I[0];x=I[1]}y!=null&&(l=Le(y,u/2));x!=null&&(d=Le(x,u/2))}t.setLayout({angle:e,startAngle:i,endAngle:n,clockwise:S,cx:o,cy:v,r0:l,r:d})}if(t.children&&t.children.length){var C=0;V(t.children,(function(r){C+=A(r,i+C)}))}return n-i};if(w){var I=s;var C=s+M;var T=Math.PI*2;c.setLayout({angle:T,startAngle:l,endAngle:l+T,clockwise:S,cx:o,cy:v,r0:I,r:C})}A(d,l)}))}function iV(r,t){var i=r.children||[];r.children=nV(i,t);if(i.length){V(r.children,(function(r){iV(r,t)}))}}function nV(r,t){if(J(t)){var i=H(r,(function(r,t){var i=r.getValue();return{params:{depth:r.depth,height:r.height,dataIndex:r.dataIndex,getValue:function(){return i}},index:t}}));i.sort((function(r,i){return t(r.params,i.params)}));return H(i,(function(t){return r[t.index]}))}else{var n=t==="asc";return r.sort((function(r,t){var i=(r.getValue()-t.getValue())*(n?1:-1);return i===0?(r.dataIndex-t.dataIndex)*(n?-1:1):i}))}}function aV(r){var t={};function i(r,i,n){var a=r;while(a&&a.depth>1){a=a.parentNode}var e=i.getColorFromPalette(a.name||a.dataIndex+"",t);if(r.depth>1&&$(e)){e=bn(e,(r.depth-1)/(n-1)*.5)}return e}r.eachSeriesByType("sunburst",(function(r){var t=r.getData();var n=t.tree;n.eachNode((function(a){var e=a.getModel();var u=e.getModel("itemStyle").getItemStyle();if(!u.fill){u.fill=i(a,r,n.root.height)}var o=t.ensureUniqueItemVisual(a.dataIndex,"style");F(o,u)}))}))}function eV(r){r.registerChartView(JW);r.registerSeriesModel($W);r.registerLayout(q(tV,"sunburst"));r.registerProcessor(q(qC,"sunburst"));r.registerVisual(aV);KW(r)}var uV={color:"fill",borderColor:"stroke"};var oV={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1};var vV=Lu();var sV=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",true);this.currentZ=this.get("z",true)};t.prototype.getInitialData=function(r,t){return XM(null,this)};t.prototype.getDataParams=function(t,i,n){var a=r.prototype.getDataParams.call(this,t,i);n&&(a.info=vV(n).info);return a};t.type="series.custom";t.dependencies=["grid","polar","geo","singleAxis","calendar"];t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:true,clip:false};return t}(Ky);function fV(r,t){t=t||[0,0];return H(["x","y"],(function(i,n){var a=this.getAxis(i);var e=t[n];var u=r[n]/2;return a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(e-u)-a.dataToCoord(e+u))}),this)}function lV(r){var t=r.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return r.dataToPoint(t)},size:j(fV,r)}}}function hV(r,t){t=t||[0,0];return H([0,1],(function(i){var n=t[i];var a=r[i]/2;var e=[];var u=[];e[i]=n-a;u[i]=n+a;e[1-i]=u[1-i]=t[1-i];return Math.abs(this.dataToPoint(e)[i]-this.dataToPoint(u)[i])}),this)}function cV(r){var t=r.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:r.getZoom()},api:{coord:function(t){return r.dataToPoint(t)},size:j(hV,r)}}}function dV(r,t){var i=this.getAxis();var n=t instanceof Array?t[0]:t;var a=(r instanceof Array?r[0]:r)/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(n-a)-i.dataToCoord(n+a))}function pV(r){var t=r.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return r.dataToPoint(t)},size:j(dV,r)}}}function mV(r,t){t=t||[0,0];return H(["Radius","Angle"],(function(i,n){var a="get"+i+"Axis";var e=this[a]();var u=t[n];var o=r[n]/2;var v=e.type==="category"?e.getBandWidth():Math.abs(e.dataToCoord(u-o)-e.dataToCoord(u+o));if(i==="Angle"){v=v*Math.PI/180}return v}),this)}function yV(r){var t=r.getRadiusAxis();var i=r.getAngleAxis();var n=t.getExtent();n[0]>n[1]&&n.reverse();return{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:n[1],r0:n[0]},api:{coord:function(n){var a=t.dataToRadius(n[0]);var e=i.dataToAngle(n[1]);var u=r.coordToPoint([a,e]);u.push(a,e*Math.PI/180);return u},size:j(mV,r)}}}function gV(r){var t=r.getRect();var i=r.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:function(t,i){return r.dataToPoint(t,i)}}}}function bV(r,t,i,n){return r&&(r.legacy||r.legacy!==false&&!i&&!n&&t!=="tspan"&&(t==="text"||Ir(r,"text")))}function wV(r,t,i){var n=r;var a;var e;var u;if(t==="text"){u=n}else{u={};Ir(n,"text")&&(u.text=n.text);Ir(n,"rich")&&(u.rich=n.rich);Ir(n,"textFill")&&(u.fill=n.textFill);Ir(n,"textStroke")&&(u.stroke=n.textStroke);Ir(n,"fontFamily")&&(u.fontFamily=n.fontFamily);Ir(n,"fontSize")&&(u.fontSize=n.fontSize);Ir(n,"fontStyle")&&(u.fontStyle=n.fontStyle);Ir(n,"fontWeight")&&(u.fontWeight=n.fontWeight);e={type:"text",style:u,silent:true};a={};var o=Ir(n,"textPosition");if(i){a.position=o?n.textPosition:"inside"}else{o&&(a.position=n.textPosition)}Ir(n,"textPosition")&&(a.position=n.textPosition);Ir(n,"textOffset")&&(a.offset=n.textOffset);Ir(n,"textRotation")&&(a.rotation=n.textRotation);Ir(n,"textDistance")&&(a.distance=n.textDistance)}xV(u,r);V(u.rich,(function(r){xV(r,r)}));return{textConfig:a,textContent:e}}function xV(r,t){if(!t){return}t.font=t.textFont||t.font;Ir(t,"textStrokeWidth")&&(r.lineWidth=t.textStrokeWidth);Ir(t,"textAlign")&&(r.align=t.textAlign);Ir(t,"textVerticalAlign")&&(r.verticalAlign=t.textVerticalAlign);Ir(t,"textLineHeight")&&(r.lineHeight=t.textLineHeight);Ir(t,"textWidth")&&(r.width=t.textWidth);Ir(t,"textHeight")&&(r.height=t.textHeight);Ir(t,"textBackgroundColor")&&(r.backgroundColor=t.textBackgroundColor);Ir(t,"textPadding")&&(r.padding=t.textPadding);Ir(t,"textBorderColor")&&(r.borderColor=t.textBorderColor);Ir(t,"textBorderWidth")&&(r.borderWidth=t.textBorderWidth);Ir(t,"textBorderRadius")&&(r.borderRadius=t.textBorderRadius);Ir(t,"textBoxShadowColor")&&(r.shadowColor=t.textBoxShadowColor);Ir(t,"textBoxShadowBlur")&&(r.shadowBlur=t.textBoxShadowBlur);Ir(t,"textBoxShadowOffsetX")&&(r.shadowOffsetX=t.textBoxShadowOffsetX);Ir(t,"textBoxShadowOffsetY")&&(r.shadowOffsetY=t.textBoxShadowOffsetY)}function MV(r,t,i){var n=r;n.textPosition=n.textPosition||i.position||"inside";i.offset!=null&&(n.textOffset=i.offset);i.rotation!=null&&(n.textRotation=i.rotation);i.distance!=null&&(n.textDistance=i.distance);var a=n.textPosition.indexOf("inside")>=0;var e=r.fill||"#000";SV(n,t);var u=n.textFill==null;if(a){if(u){n.textFill=i.insideFill||"#fff";!n.textStroke&&i.insideStroke&&(n.textStroke=i.insideStroke);!n.textStroke&&(n.textStroke=e);n.textStrokeWidth==null&&(n.textStrokeWidth=2)}}else{if(u){n.textFill=r.fill||i.outsideFill||"#000"}!n.textStroke&&i.outsideStroke&&(n.textStroke=i.outsideStroke)}n.text=t.text;n.rich=t.rich;V(t.rich,(function(r){SV(r,r)}));return n}function SV(r,t){if(!t){return}Ir(t,"fill")&&(r.textFill=t.fill);Ir(t,"stroke")&&(r.textStroke=t.fill);Ir(t,"lineWidth")&&(r.textStrokeWidth=t.lineWidth);Ir(t,"font")&&(r.font=t.font);Ir(t,"fontStyle")&&(r.fontStyle=t.fontStyle);Ir(t,"fontWeight")&&(r.fontWeight=t.fontWeight);Ir(t,"fontSize")&&(r.fontSize=t.fontSize);Ir(t,"fontFamily")&&(r.fontFamily=t.fontFamily);Ir(t,"align")&&(r.textAlign=t.align);Ir(t,"verticalAlign")&&(r.textVerticalAlign=t.verticalAlign);Ir(t,"lineHeight")&&(r.textLineHeight=t.lineHeight);Ir(t,"width")&&(r.textWidth=t.width);Ir(t,"height")&&(r.textHeight=t.height);Ir(t,"backgroundColor")&&(r.textBackgroundColor=t.backgroundColor);Ir(t,"padding")&&(r.textPadding=t.padding);Ir(t,"borderColor")&&(r.textBorderColor=t.borderColor);Ir(t,"borderWidth")&&(r.textBorderWidth=t.borderWidth);Ir(t,"borderRadius")&&(r.textBorderRadius=t.borderRadius);Ir(t,"shadowColor")&&(r.textBoxShadowColor=t.shadowColor);Ir(t,"shadowBlur")&&(r.textBoxShadowBlur=t.shadowBlur);Ir(t,"shadowOffsetX")&&(r.textBoxShadowOffsetX=t.shadowOffsetX);Ir(t,"shadowOffsetY")&&(r.textBoxShadowOffsetY=t.shadowOffsetY);Ir(t,"textShadowColor")&&(r.textShadowColor=t.textShadowColor);Ir(t,"textShadowBlur")&&(r.textShadowBlur=t.textShadowBlur);Ir(t,"textShadowOffsetX")&&(r.textShadowOffsetX=t.textShadowOffsetX);Ir(t,"textShadowOffsetY")&&(r.textShadowOffsetY=t.textShadowOffsetY)}var kV={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]};var NV=U(kV);Y(Ja,(function(r,t){r[t]=1;return r}),{});var AV=["","style","shape","extra"];var IV=Lu();function CV(r,t,i,n,a){var e=r+"Animation";var u=th(r,n,a)||{};var o=IV(t).userDuring;if(u.duration>0){u.during=o?j(EV,{el:t,userDuring:o}):null;u.setToFinal=true;u.scope=r}F(u,i[e]);return u}function TV(r,t,i,n){n=n||{};var a=n.dataIndex,e=n.isInit,u=n.clearStyle;var o=i.isAnimationEnabled();var v=IV(r);var s=t.style;v.userDuring=t.during;var f={};var l={};HV(r,t,l);WV("shape",t,l);WV("extra",t,l);if(!e&&o){VV(r,t,f);PV("shape",r,t,f);PV("extra",r,t,f);YV(r,t,s,f)}l.style=s;DV(r,l,u);FV(r,t);if(o){if(e){var h={};V(AV,(function(r){var i=r?t[r]:t;if(i&&i.enterFrom){if(r){h[r]=h[r]||{}}F(r?h[r]:h,i.enterFrom)}}));var c=CV("enter",r,t,i,a);if(c.duration>0){r.animateFrom(h,c)}}else{RV(r,t,a||0,i,f)}}zV(r,t);s?r.dirty():r.markRedraw()}function zV(r,t){var i=IV(r).leaveToProps;for(var n=0;n<AV.length;n++){var a=AV[n];var e=a?t[a]:t;if(e&&e.leaveTo){if(!i){i=IV(r).leaveToProps={}}if(a){i[a]=i[a]||{}}F(a?i[a]:i,e.leaveTo)}}}function LV(r,t,i,n){if(r){var a=r.parent;var e=IV(r).leaveToProps;if(e){var u=CV("update",r,t,i,0);u.done=function(){a.remove(r);n&&n()};r.animateTo(e,u)}else{a.remove(r);n&&n()}}}function OV(r){return r==="all"}function DV(r,t,i){var n=t.style;if(!r.isGroup&&n){if(i){r.useStyle({});var a=r.animators;for(var e=0;e<a.length;e++){var u=a[e];if(u.targetName==="style"){u.changeTarget(r.style)}}}r.setStyle(n)}if(t){t.style=null;t&&r.attr(t);t.style=n}}function RV(r,t,i,n,a){if(a){var e=CV("update",r,t,n,i);if(e.duration>0){r.animateFrom(a,e)}}}function FV(r,t){Ir(t,"silent")&&(r.silent=t.silent);Ir(t,"ignore")&&(r.ignore=t.ignore);if(r instanceof Do){Ir(t,"invisible")&&(r.invisible=t.invisible)}if(r instanceof Vv){Ir(t,"autoBatch")&&(r.autoBatch=t.autoBatch)}}var BV={};var _V={setTransform:function(r,t){BV.el[r]=t;return this},getTransform:function(r){return BV.el[r]},setShape:function(r,t){var i=BV.el;var n=i.shape||(i.shape={});n[r]=t;i.dirtyShape&&i.dirtyShape();return this},getShape:function(r){var t=BV.el.shape;if(t){return t[r]}},setStyle:function(r,t){var i=BV.el;var n=i.style;if(n){n[r]=t;i.dirtyStyle&&i.dirtyStyle()}return this},getStyle:function(r){var t=BV.el.style;if(t){return t[r]}},setExtra:function(r,t){var i=BV.el.extra||(BV.el.extra={});i[r]=t;return this},getExtra:function(r){var t=BV.el.extra;if(t){return t[r]}}};function EV(){var r=this;var t=r.el;if(!t){return}var i=IV(t).userDuring;var n=r.userDuring;if(i!==n){r.el=r.userDuring=null;return}BV.el=t;n(_V)}function PV(r,t,i,n){var a=i[r];if(!a){return}var e=t[r];var u;if(e){var o=i.transition;var v=a.transition;if(v){!u&&(u=n[r]={});if(OV(v)){F(u,e)}else{var s=su(v);for(var f=0;f<s.length;f++){var l=s[f];var h=e[l];u[l]=h}}}else if(OV(o)||_(o,r)>=0){!u&&(u=n[r]={});var c=U(e);for(var f=0;f<c.length;f++){var l=c[f];var h=e[l];if(XV(a[l],h)){u[l]=h}}}}}function WV(r,t,i){var n=t[r];if(!n){return}var a=i[r]={};var e=U(n);for(var u=0;u<e.length;u++){var o=e[u];a[o]=ta(n[o])}}function VV(r,t,i){var n=t.transition;var a=OV(n)?Ja:su(n||[]);for(var e=0;e<a.length;e++){var u=a[e];if(u==="style"||u==="shape"||u==="extra"){continue}var o=r[u];i[u]=o}}function HV(r,t,i){for(var n=0;n<NV.length;n++){var a=NV[n];var e=kV[a];var u=t[a];if(u){i[e[0]]=u[0];i[e[1]]=u[1]}}for(var n=0;n<Ja.length;n++){var o=Ja[n];if(t[o]!=null){i[o]=t[o]}}}function YV(r,t,i,n){if(!i){return}var a=r.style;var e;if(a){var u=i.transition;var o=t.transition;if(u&&!OV(u)){var v=su(u);!e&&(e=n.style={});for(var s=0;s<v.length;s++){var f=v[s];var l=a[f];e[f]=l}}else if(r.getAnimationStyleProps&&(OV(o)||OV(u)||_(o,"style")>=0)){var h=r.getAnimationStyleProps();var c=h?h.style:null;if(c){!e&&(e=n.style={});var d=U(i);for(var s=0;s<d.length;s++){var f=d[s];if(c[f]){var l=a[f];e[f]=l}}}}}}function XV(r,t){return!W(r)?r!=null&&isFinite(r):r!==t}var GV=Lu();var UV=["percent","easing","shape","style","extra"];function ZV(r){r.stopAnimation("keyframe");r.attr(GV(r))}function jV(r,t,i){if(!i.isAnimationEnabled()||!t){return}if(K(t)){V(t,(function(t){jV(r,t,i)}));return}var n=t.keyframes;var a=t.duration;if(i&&a==null){var e=th("enter",i,0);a=e&&e.duration}if(!n||!a){return}var u=GV(r);V(AV,(function(i){if(i&&!r[i]){return}var e;n.sort((function(r,t){return r.percent-t.percent}));V(n,(function(n){var o=r.animators;var v=i?n[i]:n;if(!v){return}var s=U(v);if(!i){s=X(s,(function(r){return _(UV,r)<0}))}if(!s.length){return}if(!e){e=r.animate(i,t.loop,true);e.scope="keyframe"}for(var f=0;f<o.length;f++){if(o[f]!==e&&o[f].targetName===e.targetName){o[f].stopTracks(s)}}i&&(u[i]=u[i]||{});var l=i?u[i]:u;V(s,(function(t){l[t]=((i?r[i]:r)||{})[t]}));e.whenWithKeys(a*n.percent,v,s,n.easing)}));if(!e){return}e.delay(t.delay||0).duration(a).start(t.easing)}))}var qV="emphasis";var KV="normal";var JV="blur";var $V="select";var QV=[KV,qV,JV,$V];var rH={normal:["itemStyle"],emphasis:[qV,"itemStyle"],blur:[JV,"itemStyle"],select:[$V,"itemStyle"]};var tH={normal:["label"],emphasis:[qV,"label"],blur:[JV,"label"],select:[$V,"label"]};var iH=["x","y"];var nH="e\0\0";var aH={normal:{},emphasis:{},blur:{},select:{}};var eH={cartesian2d:lV,geo:cV,single:pV,polar:yV,calendar:gV};function uH(r){return r instanceof Vv}function oH(r){return r instanceof Do}function vH(r,t){t.copyTransform(r);if(oH(t)&&oH(r)){t.setStyle(r.style);t.z=r.z;t.z2=r.z2;t.zlevel=r.zlevel;t.invisible=r.invisible;t.ignore=r.ignore;if(uH(t)&&uH(r)){t.setShape(r.shape)}}}var sH=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i,n){this._progressiveEls=null;var a=this._data;var e=r.getData();var u=this.group;var o=pH(r,e,t,i);if(!a){u.removeAll()}e.diff(a).add((function(t){yH(i,null,t,o(t,n),r,u,e)})).remove((function(t){var i=a.getItemGraphicEl(t);i&&LV(i,vV(i).option,r)})).update((function(t,v){var s=a.getItemGraphicEl(v);yH(i,s,t,o(t,n),r,u,e)})).execute();var v=r.get("clip",true)?PI(r.coordinateSystem,false,r):null;if(v){u.setClipPath(v)}else{u.removeClipPath()}this._data=e};t.prototype.incrementalPrepareRender=function(r,t,i){this.group.removeAll();this._data=null};t.prototype.incrementalRender=function(r,t,i,n,a){var e=t.getData();var u=pH(t,e,i,n);var o=this._progressiveEls=[];function v(r){if(!r.isGroup){r.incremental=true;r.ensureState("emphasis").hoverLayer=true}}for(var s=r.start;s<r.end;s++){var f=yH(null,null,s,u(s,a),t,this.group,e);if(f){f.traverse(v);o.push(f)}}};t.prototype.eachRendered=function(r){Hh(this._progressiveEls||this.group,r)};t.prototype.filterForExposedEvent=function(r,t,i,n){var a=t.element;if(a==null||i.name===a){return true}while((i=i.__hostTarget||i.parent)&&i!==this.group){if(i.name===a){return true}}return false};t.type="custom";return t}(sg);function fH(r){var t=r.type;var i;if(t==="path"){var n=r.shape;var a=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null;var e=LH(n);i=bh(e,null,a,n.layout||"center");vV(i).customPathData=e}else if(t==="image"){i=new Zv({});vV(i).customImagePath=r.style.image}else if(t==="text"){i=new es({})}else if(t==="group"){i=new xe}else if(t==="compoundPath"){throw new Error('"compoundPath" is not supported yet.')}else{var u=gh(t);if(!u){var o="";eu(o)}i=new u}vV(i).customGraphicType=t;i.name=r.name;i.z2EmphasisLift=1;i.z2SelectLift=1;return i}function lH(r,t,i,n,a,e,u){ZV(t);var o=a&&a.normal.cfg;if(o){t.setTextConfig(o)}if(n&&n.transition==null){n.transition=iH}var v=n&&n.style;if(v){if(t.type==="text"){var s=v;Ir(s,"textFill")&&(s.fill=s.textFill);Ir(s,"textStroke")&&(s.stroke=s.textStroke)}var f=void 0;var l=uH(t)?v.decal:null;if(r&&l){l.dirty=true;f=cw(l,r)}v.__decalPattern=f}if(oH(t)){if(v){var f=v.__decalPattern;if(f){v.decal=f}}}TV(t,n,e,{dataIndex:i,isInit:u,clearStyle:true});jV(t,n.keyframeAnimation,e)}function hH(r,t,i,n,a){var e=t.isGroup?null:t;var u=a&&a[r].cfg;if(e){var o=e.ensureState(r);if(n===false){var v=e.getState(r);if(v){v.style=null}}else{o.style=n||null}if(u){o.textConfig=u}tf(e)}}function cH(r,t,i){if(r.isGroup){return}var n=r;var a=i.currentZ;var e=i.currentZLevel;n.z=a;n.zlevel=e;var u=t.z2;u!=null&&(n.z2=u||0);for(var o=0;o<QV.length;o++){dH(n,t,QV[o])}}function dH(r,t,i){var n=i===KV;var a=n?t:SH(t,i);var e=a?a.z2:null;var u;if(e!=null){u=n?r:r.ensureState(i);u.z2=e||0}}function pH(r,t,i,n){var a=r.get("renderItem");var e=r.coordinateSystem;var u={};if(e){u=e.prepareCustoms?e.prepareCustoms(e):eH[e.type](e)}var o=B({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:w,style:M,ordinalRawValue:x,styleEmphasis:S,visual:A,barLayout:I,currentSeriesIndices:C,font:T},u.api||{});var v={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:u.coordSys,dataInsideLength:t.count(),encode:mH(r.getData())};var s;var f;var l={};var h={};var c={};var d={};for(var p=0;p<QV.length;p++){var m=QV[p];c[m]=r.getModel(rH[m]);d[m]=r.getModel(tH[m])}function y(r){return r===s?f||(f=t.getItemModel(r)):t.getItemModel(r)}function g(r,i){return!t.hasItemOption?c[i]:r===s?l[i]||(l[i]=y(r).getModel(rH[i])):y(r).getModel(rH[i])}function b(r,i){return!t.hasItemOption?d[i]:r===s?h[i]||(h[i]=y(r).getModel(tH[i])):y(r).getModel(tH[i])}return function(r,i){s=r;f=null;l={};h={};return a&&a(B({dataIndexInside:r,dataIndex:t.getRawIndex(r),actionType:i?i.type:null},v),o)};function w(r,i){i==null&&(i=s);return t.getStore().get(t.getDimensionIndex(r||0),i)}function x(r,i){i==null&&(i=s);r=r||0;var n=t.getDimensionInfo(r);if(!n){var a=t.getDimensionIndex(r);return a>=0?t.getStore().get(a,i):undefined}var e=t.get(n.name,i);var u=n&&n.ordinalMeta;return u?u.categories[e]:e}function M(i,n){n==null&&(n=s);var a=t.getItemVisual(n,"style");var e=a&&a.fill;var u=a&&a.opacity;var o=g(n,KV).getItemStyle();e!=null&&(o.fill=e);u!=null&&(o.opacity=u);var v={inheritColor:$(e)?e:"#000"};var f=b(n,KV);var l=qh(f,null,v,false,true);l.text=f.getShallow("show")?fr(r.getFormattedLabel(n,KV),mI(t,n)):null;var h=Kh(f,v,false);N(i,o);o=MV(o,l,h);i&&k(o,i);o.legacy=true;return o}function S(i,n){n==null&&(n=s);var a=g(n,qV).getItemStyle();var e=b(n,qV);var u=qh(e,null,null,true,true);u.text=e.getShallow("show")?lr(r.getFormattedLabel(n,qV),r.getFormattedLabel(n,KV),mI(t,n)):null;var o=Kh(e,null,true);N(i,a);a=MV(a,u,o);i&&k(a,i);a.legacy=true;return a}function k(r,t){for(var i in t){if(Ir(t,i)){r[i]=t[i]}}}function N(r,t){if(r){r.textFill&&(t.textFill=r.textFill);r.textPosition&&(t.textPosition=r.textPosition)}}function A(r,i){i==null&&(i=s);if(Ir(uV,r)){var n=t.getItemVisual(i,"style");return n?n[uV[r]]:null}if(Ir(oV,r)){return t.getItemVisual(i,r)}}function I(r){if(e.type==="cartesian2d"){var t=e.getBaseAxis();return pS(B({axis:t},r))}}function C(){return i.getCurrentSeriesIndices()}function T(r){return nc(r,i)}}function mH(r){var t={};V(r.dimensions,(function(i){var n=r.getDimensionInfo(i);if(!n.isExtraCoord){var a=n.coordDim;var e=t[a]=t[a]||[];e[n.coordDimIndex]=r.getDimensionIndex(i)}}));return t}function yH(r,t,i,n,a,e,u){if(!n){e.remove(t);return}var o=gH(r,t,i,n,a,e);o&&u.setItemGraphicEl(i,o);o&&kf(o,n.focus,n.blurScope,n.emphasisDisabled);return o}function gH(r,t,i,n,a,e){var u=-1;var o=t;if(t&&bH(t,n,a)){u=_(e.childrenRef(),t);t=null}var v=!t;var s=t;if(!s){s=fH(n);if(o){vH(o,s)}}else{s.clearStates()}if(n.morph===false){s.disableMorphing=true}else if(s.disableMorphing){s.disableMorphing=false}aH.normal.cfg=aH.normal.conOpt=aH.emphasis.cfg=aH.emphasis.conOpt=aH.blur.cfg=aH.blur.conOpt=aH.select.cfg=aH.select.conOpt=null;aH.isLegacy=false;xH(s,i,n,a,v,aH);wH(s,i,n,a,v);lH(r,s,i,n,aH,a,v);Ir(n,"info")&&(vV(s).info=n.info);for(var f=0;f<QV.length;f++){var l=QV[f];if(l!==KV){var h=SH(n,l);var c=kH(n,h,l);hH(l,s,h,c,aH)}}cH(s,n,a);if(n.type==="group"){NH(r,s,i,n,a)}if(u>=0){e.replaceAt(s,u)}else{e.add(s)}return s}function bH(r,t,i){var n=vV(r);var a=t.type;var e=t.shape;var u=t.style;return i.isUniversalTransitionEnabled()||a!=null&&a!==n.customGraphicType||a==="path"&&OH(e)&&LH(e)!==n.customPathData||a==="image"&&Ir(u,"image")&&u.image!==n.customImagePath}function wH(r,t,i,n,a){var e=i.clipPath;if(e===false){if(r&&r.getClipPath()){r.removeClipPath()}}else if(e){var u=r.getClipPath();if(u&&bH(u,e,n)){u=null}if(!u){u=fH(e);r.setClipPath(u)}lH(null,u,t,e,null,n,a)}}function xH(r,t,i,n,a,e){if(r.isGroup){return}MH(i,null,e);MH(i,qV,e);var u=e.normal.conOpt;var o=e.emphasis.conOpt;var v=e.blur.conOpt;var s=e.select.conOpt;if(u!=null||o!=null||s!=null||v!=null){var f=r.getTextContent();if(u===false){f&&r.removeTextContent()}else{u=e.normal.conOpt=u||{type:"text"};if(!f){f=fH(u);r.setTextContent(f)}else{f.clearStates()}lH(null,f,t,u,null,n,a);var l=u&&u.style;for(var h=0;h<QV.length;h++){var c=QV[h];if(c!==KV){var d=e[c].conOpt;hH(c,f,d,kH(u,d,c),null)}}l?f.dirty():f.markRedraw()}}}function MH(r,t,i){var n=!t?r:SH(r,t);var a=!t?r.style:kH(r,n,qV);var e=r.type;var u=n?n.textConfig:null;var o=r.textContent;var v=!o?null:!t?o:SH(o,t);if(a&&(i.isLegacy||bV(a,e,!!u,!!v))){i.isLegacy=true;var s=wV(a,e,!t);if(!u&&s.textConfig){u=s.textConfig}if(!v&&s.textContent){v=s.textContent}}if(!t&&v){var f=v;!f.type&&(f.type="text")}var l=!t?i.normal:i[t];l.cfg=u;l.conOpt=v}function SH(r,t){return!t?r:r?r[t]:null}function kH(r,t,i){var n=t&&t.style;if(n==null&&i===qV&&r){n=r.styleEmphasis}return n}function NH(r,t,i,n,a){var e=n.children;var u=e?e.length:0;var o=n.$mergeChildren;var v=o==="byName"||n.diffChildrenByName;var s=o===false;if(!u&&!v&&!s){return}if(v){IH({api:r,oldChildren:t.children()||[],newChildren:e||[],dataIndex:i,seriesModel:a,group:t});return}s&&t.removeAll();var f=0;for(;f<u;f++){var l=e[f];var h=t.childAt(f);if(l){if(l.ignore==null){l.ignore=false}gH(r,h,i,l,a,t)}else{h.ignore=true}}for(var c=t.childCount()-1;c>=f;c--){var d=t.childAt(c);AH(t,d,a)}}function AH(r,t,i){t&&LV(t,vV(r).option,i)}function IH(r){new tM(r.oldChildren,r.newChildren,CH,CH,r).add(TH).update(TH).remove(zH).execute()}function CH(r,t){var i=r&&r.name;return i!=null?i:nH+t}function TH(r,t){var i=this.context;var n=r!=null?i.newChildren[r]:null;var a=t!=null?i.oldChildren[t]:null;gH(i.api,a,i.dataIndex,n,i.seriesModel,i.group)}function zH(r){var t=this.context;var i=t.oldChildren[r];i&&LV(i,vV(i).option,t.seriesModel)}function LH(r){return r&&(r.pathData||r.d)}function OH(r){return r&&(Ir(r,"pathData")||Ir(r,"d"))}function DH(r){r.registerChartView(sH);r.registerSeriesModel(sV)}var RH=Lu();var FH=O;var BH=j;var _H=function(){function r(){this._dragging=false;this.animationThreshold=15}r.prototype.render=function(r,t,i,n){var a=t.get("value");var e=t.get("status");this._axisModel=r;this._axisPointerModel=t;this._api=i;if(!n&&this._lastValue===a&&this._lastStatus===e){return}this._lastValue=a;this._lastStatus=e;var u=this._group;var o=this._handle;if(!e||e==="hide"){u&&u.hide();o&&o.hide();return}u&&u.show();o&&o.show();var v={};this.makeElOption(v,a,r,t,i);var s=v.graphicKey;if(s!==this._lastGraphicKey){this.clear(i)}this._lastGraphicKey=s;var f=this._moveAnimation=this.determineAnimation(r,t);if(!u){u=this._group=new xe;this.createPointerEl(u,v,r,t);this.createLabelEl(u,v,r,t);i.getZr().add(u)}else{var l=q(EH,t,f);this.updatePointerEl(u,v,l);this.updateLabelEl(u,v,l,t)}HH(u,t,true);this._renderHandle(a)};r.prototype.remove=function(r){this.clear(r)};r.prototype.dispose=function(r){this.clear(r)};r.prototype.determineAnimation=function(r,t){var i=t.get("animation");var n=r.axis;var a=n.type==="category";var e=t.get("snap");if(!e&&!a){return false}if(i==="auto"||i==null){var u=this.animationThreshold;if(a&&n.getBandWidth()>u){return true}if(e){var o=oz(r).seriesDataCount;var v=n.getExtent();return Math.abs(v[0]-v[1])/o>u}return false}return i===true};r.prototype.makeElOption=function(r,t,i,n,a){};r.prototype.createPointerEl=function(r,t,i,n){var a=t.pointer;if(a){var e=RH(r).pointerEl=new Yh[a.type](FH(t.pointer));r.add(e)}};r.prototype.createLabelEl=function(r,t,i,n){if(t.label){var a=RH(r).labelEl=new es(FH(t.label));r.add(a);WH(a,n)}};r.prototype.updatePointerEl=function(r,t,i){var n=RH(r).pointerEl;if(n&&t.pointer){n.setStyle(t.pointer.style);i(n,{shape:t.pointer.shape})}};r.prototype.updateLabelEl=function(r,t,i,n){var a=RH(r).labelEl;if(a){a.setStyle(t.label.style);i(a,{x:t.label.x,y:t.label.y});WH(a,n)}};r.prototype._renderHandle=function(r){if(this._dragging||!this.updateHandleTransform){return}var t=this._axisPointerModel;var i=this._api.getZr();var n=this._handle;var a=t.getModel("handle");var e=t.get("status");if(!a.get("show")||!e||e==="hide"){n&&i.remove(n);this._handle=null;return}var u;if(!this._handle){u=true;n=this._handle=Fh(a.get("icon"),{cursor:"move",draggable:true,onmousemove:function(r){St(r.event)},onmousedown:BH(this._onHandleDragMove,this,0,0),drift:BH(this._onHandleDragMove,this),ondragend:BH(this._onHandleDragEnd,this)});i.add(n)}HH(n,t,false);n.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var o=a.get("size");if(!K(o)){o=[o,o]}n.scaleX=o[0]/2;n.scaleY=o[1]/2;bg(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate");this._moveHandleToValue(r,u)};r.prototype._moveHandleToValue=function(r,t){EH(this._axisPointerModel,!t&&this._moveAnimation,this._handle,VH(this.getHandleTransform(r,this._axisModel,this._axisPointerModel)))};r.prototype._onHandleDragMove=function(r,t){var i=this._handle;if(!i){return}this._dragging=true;var n=this.updateHandleTransform(VH(i),[r,t],this._axisModel,this._axisPointerModel);this._payloadInfo=n;i.stopAnimation();i.attr(VH(n));RH(i).lastProp=null;this._doDispatchAxisPointer()};r.prototype._doDispatchAxisPointer=function(){var r=this._handle;if(!r){return}var t=this._payloadInfo;var i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})};r.prototype._onHandleDragEnd=function(){this._dragging=false;var r=this._handle;if(!r){return}var t=this._axisPointerModel.get("value");this._moveHandleToValue(t);this._api.dispatchAction({type:"hideTip"})};r.prototype.clear=function(r){this._lastValue=null;this._lastStatus=null;var t=r.getZr();var i=this._group;var n=this._handle;if(t&&i){this._lastGraphicKey=null;i&&t.remove(i);n&&t.remove(n);this._group=null;this._handle=null;this._payloadInfo=null}wg(this,"_doDispatchAxisPointer")};r.prototype.doClear=function(){};r.prototype.buildLabel=function(r,t,i){i=i||0;return{x:r[i],y:r[1-i],width:t[i],height:t[1-i]}};return r}();function EH(r,t,i,n){if(!PH(RH(i).lastProp,n)){RH(i).lastProp=n;t?nh(i,n,r):(i.stopAnimation(),i.attr(n))}}function PH(r,t){if(tr(r)&&tr(t)){var i=true;V(t,(function(t,n){i=i&&PH(r[n],t)}));return!!i}else{return r===t}}function WH(r,t){r[t.get(["label","show"])?"show":"hide"]()}function VH(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function HH(r,t,i){var n=t.get("z");var a=t.get("zlevel");r&&r.traverse((function(r){if(r.type!=="group"){n!=null&&(r.z=n);a!=null&&(r.zlevel=a);r.silent=i}}))}function YH(r){var t=r.get("type");var i=r.getModel(t+"Style");var n;if(t==="line"){n=i.getLineStyle();n.fill=null}else if(t==="shadow"){n=i.getAreaStyle();n.stroke=null}return n}function XH(r,t,i,n,a){var e=i.get("value");var u=UH(e,t.axis,t.ecModel,i.get("seriesDataIndices"),{precision:i.get(["label","precision"]),formatter:i.get(["label","formatter"])});var o=i.getModel("label");var v=pd(o.get("padding")||0);var s=o.getFont();var f=ie(u,s);var l=a.position;var h=f.width+v[1]+v[3];var c=f.height+v[0]+v[2];var d=a.align;d==="right"&&(l[0]-=h);d==="center"&&(l[0]-=h/2);var p=a.verticalAlign;p==="bottom"&&(l[1]-=c);p==="middle"&&(l[1]-=c/2);GH(l,h,c,n);var m=o.get("backgroundColor");if(!m||m==="auto"){m=t.get(["axisLine","lineStyle","color"])}r.label={x:l[0],y:l[1],style:qh(o,{text:u,font:s,fill:o.getTextColor(),padding:v,backgroundColor:m}),z2:10}}function GH(r,t,i,n){var a=n.getWidth();var e=n.getHeight();r[0]=Math.min(r[0]+t,a)-t;r[1]=Math.min(r[1]+i,e)-i;r[0]=Math.max(r[0],0);r[1]=Math.max(r[1],0)}function UH(r,t,i,n,a){r=t.scale.parse(r);var e=t.scale.getLabel({value:r},{precision:a.precision});var u=a.formatter;if(u){var o={value:ak(t,{value:r}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};V(n,(function(r){var t=i.getSeriesByIndex(r.seriesIndex);var n=r.dataIndexInside;var a=t&&t.getDataParams(n);a&&o.seriesData.push(a)}));if($(u)){e=u.replace("{value}",e)}else if(J(u)){e=u(o)}}return e}function ZH(r,t,i){var n=Tt();Rt(n,n,i.rotation);Dt(n,n,i.position);return Ch([r.dataToCoord(t),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}function jH(r,t,i,n,a,e){var u=YT.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=a.get(["label","margin"]);XH(t,n,a,e,{position:ZH(n.axis,r,i),align:u.textAlign,verticalAlign:u.textVerticalAlign})}function qH(r,t,i){i=i||0;return{x1:r[i],y1:r[1-i],x2:t[i],y2:t[1-i]}}function KH(r,t,i){i=i||0;return{x:r[i],y:r[1-i],width:t[i],height:t[1-i]}}function JH(r,t,i,n,a,e){return{cx:r,cy:t,r0:i,r:n,startAngle:a,endAngle:e,clockwise:true}}var $H=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.makeElOption=function(r,t,i,n,a){var e=i.axis;var u=e.grid;var o=n.get("type");var v=QH(u,e).getOtherAxis(e).getGlobalExtent();var s=e.toGlobalCoord(e.dataToCoord(t,true));if(o&&o!=="none"){var f=YH(n);var l=rY[o](e,s,v);l.style=f;r.graphicKey=l.type;r.pointer=l}var h=OT(u.model,i);jH(t,r,h,i,n,a)};t.prototype.getHandleTransform=function(r,t,i){var n=OT(t.axis.grid.model,t,{labelInside:false});n.labelMargin=i.get(["handle","margin"]);var a=ZH(t.axis,r,n);return{x:a[0],y:a[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}};t.prototype.updateHandleTransform=function(r,t,i,n){var a=i.axis;var e=a.grid;var u=a.getGlobalExtent(true);var o=QH(e,a).getOtherAxis(a).getGlobalExtent();var v=a.dim==="x"?0:1;var s=[r.x,r.y];s[v]+=t[v];s[v]=Math.min(u[1],s[v]);s[v]=Math.max(u[0],s[v]);var f=(o[1]+o[0])/2;var l=[f,f];l[v]=s[v];var h=[{verticalAlign:"middle"},{align:"center"}];return{x:s[0],y:s[1],rotation:r.rotation,cursorPoint:l,tooltipOption:h[v]}};return t}(_H);function QH(r,t){var i={};i[t.dim+"AxisIndex"]=t.index;return r.getCartesian(i)}var rY={line:function(r,t,i){var n=qH([t,i[0]],[t,i[1]],tY(r));return{type:"Line",subPixelOptimize:true,shape:n}},shadow:function(r,t,i){var n=Math.max(1,r.getBandWidth());var a=i[1]-i[0];return{type:"Rect",shape:KH([t-n/2,i[0]],[n,a],tY(r))}}};function tY(r){return r.dim==="x"?0:1}var iY=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.type="axisPointer";t.defaultOption={show:"auto",z:50,type:"line",snap:false,triggerTooltip:true,triggerEmphasis:true,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:true,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:false,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}};return t}(Ed);var nY=Lu();var aY=V;function eY(r,t,i){if(o.node){return}var n=t.getZr();nY(n).records||(nY(n).records={});uY(n,t);var a=nY(n).records[r]||(nY(n).records[r]={});a.handler=i}function uY(r,t){if(nY(r).initialized){return}nY(r).initialized=true;i("click",q(sY,"click"));i("mousemove",q(sY,"mousemove"));i("globalout",vY);function i(i,n){r.on(i,(function(i){var a=fY(t);aY(nY(r).records,(function(r){r&&n(r,i,a.dispatchAction)}));oY(a.pendings,t)}))}}function oY(r,t){var i=r.showTip.length;var n=r.hideTip.length;var a;if(i){a=r.showTip[i-1]}else if(n){a=r.hideTip[n-1]}if(a){a.dispatchAction=null;t.dispatchAction(a)}}function vY(r,t,i){r.handler("leave",null,i)}function sY(r,t,i,n){t.handler(r,i,n)}function fY(r){var t={showTip:[],hideTip:[]};var i=function(n){var a=t[n.type];if(a){a.push(n)}else{n.dispatchAction=i;r.dispatchAction(n)}};return{dispatchAction:i,pendings:t}}function lY(r,t){if(o.node){return}var i=t.getZr();var n=(nY(i).records||{})[r];if(n){nY(i).records[r]=null}}var hY=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i){var n=t.getComponent("tooltip");var a=r.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";eY("axisPointer",i,(function(r,t,i){if(a!=="none"&&(r==="leave"||a.indexOf(r)>=0)){i({type:"updateAxisPointer",currTrigger:r,x:t&&t.offsetX,y:t&&t.offsetY})}}))};t.prototype.remove=function(r,t){lY("axisPointer",t)};t.prototype.dispose=function(r,t){lY("axisPointer",t)};t.type="axisPointer";return t}(eg);function cY(r,t){var i=[];var n=r.seriesIndex;var a;if(n==null||!(a=t.getSeriesByIndex(n))){return{point:[]}}var e=a.getData();var u=zu(e,r);if(u==null||u<0||K(u)){return{point:[]}}var o=e.getItemGraphicEl(u);var v=a.coordinateSystem;if(a.getTooltipPosition){i=a.getTooltipPosition(u)||[]}else if(v&&v.dataToPoint){if(r.isStacked){var s=v.getBaseAxis();var f=v.getOtherAxis(s);var l=f.dim;var h=s.dim;var c=l==="x"||l==="radius"?1:0;var d=e.mapDimension(h);var p=[];p[c]=e.get(d,u);p[1-c]=e.get(e.getCalculationInfo("stackResultDimension"),u);i=v.dataToPoint(p)||[]}else{i=v.dataToPoint(e.getValues(H(v.dimensions,(function(r){return e.mapDimension(r)})),u))||[]}}else if(o){var m=o.getBoundingRect().clone();m.applyTransform(o.transform);i=[m.x+m.width/2,m.y+m.height/2]}return{point:i,el:o}}var dY=Lu();function pY(r,t,i){var n=r.currTrigger;var a=[r.x,r.y];var e=r;var u=r.dispatchAction||j(i.dispatchAction,i);var o=t.getComponent("axisPointer").coordSysAxesInfo;if(!o){return}if(NY(a)){a=cY({seriesIndex:e.seriesIndex,dataIndex:e.dataIndex},t).point}var v=NY(a);var s=e.axesInfo;var f=o.axesInfo;var l=n==="leave"||NY(a);var h={};var c={};var d={list:[],map:{}};var p={showPointer:q(gY,c),showTooltip:q(bY,d)};V(o.coordSysMap,(function(r,t){var i=v||r.containPoint(a);V(o.coordSysAxesInfo[t],(function(r,t){var n=r.axis;var e=SY(s,r);if(!l&&i&&(!s||e)){var u=e&&e.value;if(u==null&&!v){u=n.pointToData(a)}u!=null&&mY(r,u,p,false,h)}}))}));var m={};V(f,(function(r,t){var i=r.linkGroup;if(i&&!c[t]){V(i.axesInfo,(function(t,n){var a=c[n];if(t!==r&&a){var e=a.value;i.mapper&&(e=r.axis.scale.parse(i.mapper(e,kY(t),kY(r))));m[r.key]=e}}))}}));V(m,(function(r,t){mY(f[t],r,p,true,h)}));wY(c,f,h);xY(d,a,r,u);MY(f,u,i);return h}function mY(r,t,i,n,a){var e=r.axis;if(e.scale.isBlank()||!e.containData(t)){return}if(!r.involveSeries){i.showPointer(r,t);return}var u=yY(t,r);var o=u.payloadBatch;var v=u.snapToValue;if(o[0]&&a.seriesIndex==null){F(a,o[0])}if(!n&&r.snap){if(e.containData(v)&&v!=null){t=v}}i.showPointer(r,t,o);i.showTooltip(r,u,v)}function yY(r,t){var i=t.axis;var n=i.dim;var a=r;var e=[];var u=Number.MAX_VALUE;var o=-1;V(t.seriesModels,(function(t,v){var s=t.getData().mapDimensionsAll(n);var f;var l;if(t.getAxisTooltipData){var h=t.getAxisTooltipData(s,r,i);l=h.dataIndices;f=h.nestestValue}else{l=t.getData().indicesOfNearest(s[0],r,i.type==="category"?.5:null);if(!l.length){return}f=t.getData().get(s[0],l[0])}if(f==null||!isFinite(f)){return}var c=r-f;var d=Math.abs(c);if(d<=u){if(d<u||c>=0&&o<0){u=d;o=c;a=f;e.length=0}V(l,(function(r){e.push({seriesIndex:t.seriesIndex,dataIndexInside:r,dataIndex:t.getData().getRawIndex(r)})}))}}));return{payloadBatch:e,snapToValue:a}}function gY(r,t,i,n){r[t.key]={value:i,payloadBatch:n}}function bY(r,t,i,n){var a=i.payloadBatch;var e=t.axis;var u=e.model;var o=t.axisPointerModel;if(!t.triggerTooltip||!a.length){return}var v=t.coordSys.model;var s=fz(v);var f=r.map[s];if(!f){f=r.map[s]={coordSysId:v.id,coordSysIndex:v.componentIndex,coordSysType:v.type,coordSysMainType:v.mainType,dataByAxis:[]};r.list.push(f)}f.dataByAxis.push({axisDim:e.dim,axisIndex:u.componentIndex,axisType:u.type,axisId:u.id,value:n,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:a.slice()})}function wY(r,t,i){var n=i.axesInfo=[];V(t,(function(t,i){var a=t.axisPointerModel.option;var e=r[i];if(e){!t.useHandle&&(a.status="show");a.value=e.value;a.seriesDataIndices=(e.payloadBatch||[]).slice()}else{!t.useHandle&&(a.status="hide")}a.status==="show"&&n.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:a.value})}))}function xY(r,t,i,n){if(NY(t)||!r.list.length){n({type:"hideTip"});return}var a=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:true,x:t[0],y:t[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:r.list})}function MY(r,t,i){var n=i.getZr();var a="axisPointerLastHighlights";var e=dY(n)[a]||{};var u=dY(n)[a]={};V(r,(function(r,t){var i=r.axisPointerModel.option;i.status==="show"&&r.triggerEmphasis&&V(i.seriesDataIndices,(function(r){var t=r.seriesIndex+" | "+r.dataIndex;u[t]=r}))}));var o=[];var v=[];V(e,(function(r,t){!u[t]&&v.push(r)}));V(u,(function(r,t){!e[t]&&o.push(r)}));v.length&&i.dispatchAction({type:"downplay",escapeConnect:true,notBlur:true,batch:v});o.length&&i.dispatchAction({type:"highlight",escapeConnect:true,notBlur:true,batch:o})}function SY(r,t){for(var i=0;i<(r||[]).length;i++){var n=r[i];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex){return n}}}function kY(r){var t=r.axis.model;var i={};var n=i.axisDim=r.axis.dim;i.axisIndex=i[n+"AxisIndex"]=t.componentIndex;i.axisName=i[n+"AxisName"]=t.name;i.axisId=i[n+"AxisId"]=t.id;return i}function NY(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function AY(r){hz.registerAxisPointerClass("CartesianAxisPointer",$H);r.registerComponentModel(iY);r.registerComponentView(hY);r.registerPreprocessor((function(r){if(r){(!r.axisPointer||r.axisPointer.length===0)&&(r.axisPointer={});var t=r.axisPointer.link;if(t&&!K(t)){r.axisPointer.link=[t]}}}));r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,(function(r,t){r.getComponent("axisPointer").coordSysAxesInfo=rz(r,t)}));r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},pY)}function IY(r){$x(kz);$x(AY)}var CY=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.makeElOption=function(r,t,i,n,a){var e=i.axis;if(e.dim==="angle"){this.animationThreshold=Math.PI/18}var u=e.polar;var o=u.getOtherAxis(e);var v=o.getExtent();var s=e.dataToCoord(t);var f=n.get("type");if(f&&f!=="none"){var l=YH(n);var h=zY[f](e,u,s,v);h.style=l;r.graphicKey=h.type;r.pointer=h}var c=n.get(["label","margin"]);var d=TY(t,i,n,u,c);XH(r,i,n,a,d)};return t}(_H);function TY(r,t,i,n,a){var e=t.axis;var u=e.dataToCoord(r);var o=n.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var v=n.getRadiusAxis().getExtent();var s;var f;var l;if(e.dim==="radius"){var h=Tt();Rt(h,h,o);Dt(h,h,[n.cx,n.cy]);s=Ch([u,-a],h);var c=t.getModel("axisLabel").get("rotate")||0;var d=YT.innerTextLayout(o,c*Math.PI/180,-1);f=d.textAlign;l=d.textVerticalAlign}else{var p=v[1];s=n.coordToPoint([p+a,u]);var m=n.cx;var y=n.cy;f=Math.abs(s[0]-m)/p<.3?"center":s[0]>m?"left":"right";l=Math.abs(s[1]-y)/p<.3?"middle":s[1]>y?"top":"bottom"}return{position:s,align:f,verticalAlign:l}}var zY={line:function(r,t,i,n){return r.dim==="angle"?{type:"Line",shape:qH(t.coordToPoint([n[0],i]),t.coordToPoint([n[1],i]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:i}}},shadow:function(r,t,i,n){var a=Math.max(1,r.getBandWidth());var e=Math.PI/180;return r.dim==="angle"?{type:"Sector",shape:JH(t.cx,t.cy,n[0],n[1],(-i-a/2)*e,(-i+a/2)*e)}:{type:"Sector",shape:JH(t.cx,t.cy,i-a/2,i+a/2,0,Math.PI*2)}}};var LY=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.findAxisModel=function(r){var t;var i=this.ecModel;i.eachComponent(r,(function(r){if(r.getCoordSysModel()===this){t=r}}),this);return t};t.type="polar";t.dependencies=["radiusAxis","angleAxis"];t.defaultOption={z:0,center:["50%","50%"],radius:"80%"};return t}(Ed);var OY=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Fu).models[0]};t.type="polarAxis";return t}(Ed);P(OY,lk);var DY=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.type="angleAxis";return t}(OY);var RY=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.type="radiusAxis";return t}(OY);var FY=function(r){a(t,r);function t(t,i){return r.call(this,"radius",t,i)||this}t.prototype.pointToData=function(r,t){return this.polar.pointToData(r,t)[this.dim==="radius"?0:1]};return t}(Xk);FY.prototype.dataToRadius=Xk.prototype.dataToCoord;FY.prototype.radiusToData=Xk.prototype.coordToData;var BY=Lu();var _Y=function(r){a(t,r);function t(t,i){return r.call(this,"angle",t,i||[0,360])||this}t.prototype.pointToData=function(r,t){return this.polar.pointToData(r,t)[this.dim==="radius"?0:1]};t.prototype.calculateCategoryInterval=function(){var r=this;var t=r.getLabelModel();var i=r.scale;var n=i.getExtent();var a=i.count();if(n[1]-n[0]<1){return 0}var e=n[0];var u=r.dataToCoord(e+1)-r.dataToCoord(e);var o=Math.abs(u);var v=ie(e==null?"":e+"",t.getFont(),"center","top");var s=Math.max(v.height,7);var f=s/o;isNaN(f)&&(f=Infinity);var l=Math.max(0,Math.floor(f));var h=BY(r.model);var c=h.lastAutoInterval;var d=h.lastTickCount;if(c!=null&&d!=null&&Math.abs(c-l)<=1&&Math.abs(d-a)<=1&&c>l){l=c}else{h.lastTickCount=a;h.lastAutoInterval=l}return l};return t}(Xk);_Y.prototype.dataToAngle=Xk.prototype.dataToCoord;_Y.prototype.angleToData=Xk.prototype.coordToData;var EY=["radius","angle"];var PY=function(){function r(r){this.dimensions=EY;this.type="polar";this.cx=0;this.cy=0;this._radiusAxis=new FY;this._angleAxis=new _Y;this.axisPointerEnabled=true;this.name=r||"";this._radiusAxis.polar=this._angleAxis.polar=this}r.prototype.containPoint=function(r){var t=this.pointToCoord(r);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])};r.prototype.containData=function(r){return this._radiusAxis.containData(r[0])&&this._angleAxis.containData(r[1])};r.prototype.getAxis=function(r){var t="_"+r+"Axis";return this[t]};r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]};r.prototype.getAxesByScale=function(r){var t=[];var i=this._angleAxis;var n=this._radiusAxis;i.scale.type===r&&t.push(i);n.scale.type===r&&t.push(n);return t};r.prototype.getAngleAxis=function(){return this._angleAxis};r.prototype.getRadiusAxis=function(){return this._radiusAxis};r.prototype.getOtherAxis=function(r){var t=this._angleAxis;return r===t?this._radiusAxis:t};r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()};r.prototype.getTooltipAxes=function(r){var t=r!=null&&r!=="auto"?this.getAxis(r):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}};r.prototype.dataToPoint=function(r,t){return this.coordToPoint([this._radiusAxis.dataToRadius(r[0],t),this._angleAxis.dataToAngle(r[1],t)])};r.prototype.pointToData=function(r,t){var i=this.pointToCoord(r);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]};r.prototype.pointToCoord=function(r){var t=r[0]-this.cx;var i=r[1]-this.cy;var n=this.getAngleAxis();var a=n.getExtent();var e=Math.min(a[0],a[1]);var u=Math.max(a[0],a[1]);n.inverse?e=u-360:u=e+360;var o=Math.sqrt(t*t+i*i);t/=o;i/=o;var v=Math.atan2(-i,t)/Math.PI*180;var s=v<e?1:-1;while(v<e||v>u){v+=s*360}return[o,v]};r.prototype.coordToPoint=function(r){var t=r[0];var i=r[1]/180*Math.PI;var n=Math.cos(i)*t+this.cx;var a=-Math.sin(i)*t+this.cy;return[n,a]};r.prototype.getArea=function(){var r=this.getAngleAxis();var t=this.getRadiusAxis();var i=t.getExtent().slice();i[0]>i[1]&&i.reverse();var n=r.getExtent();var a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:i[0],r:i[1],startAngle:-n[0]*a,endAngle:-n[1]*a,clockwise:r.inverse,contain:function(r,t){var i=r-this.cx;var n=t-this.cy;var a=i*i+n*n-1e-4;var e=this.r;var u=this.r0;return a<=e*e&&a>=u*u}}};r.prototype.convertToPixel=function(r,t,i){var n=WY(t);return n===this?this.dataToPoint(i):null};r.prototype.convertFromPixel=function(r,t,i){var n=WY(t);return n===this?this.pointToData(i):null};return r}();function WY(r){var t=r.seriesModel;var i=r.polarModel;return i&&i.coordinateSystem||t&&t.coordinateSystem}function VY(r,t,i){var n=t.get("center");var a=i.getWidth();var e=i.getHeight();r.cx=Le(n[0],a);r.cy=Le(n[1],e);var u=r.getRadiusAxis();var o=Math.min(a,e)/2;var v=t.get("radius");if(v==null){v=[0,"100%"]}else if(!K(v)){v=[0,v]}var s=[Le(v[0],o),Le(v[1],o)];u.inverse?u.setExtent(s[1],s[0]):u.setExtent(s[0],s[1])}function HY(r,t){var i=this;var n=i.getAngleAxis();var a=i.getRadiusAxis();n.scale.setExtent(Infinity,-Infinity);a.scale.setExtent(Infinity,-Infinity);r.eachSeries((function(r){if(r.coordinateSystem===i){var t=r.getData();V(sk(t,"radius"),(function(r){a.scale.unionExtentFromData(t,r)}));V(sk(t,"angle"),(function(r){n.scale.unionExtentFromData(t,r)}))}}));rk(n.scale,n.model);rk(a.scale,a.model);if(n.type==="category"&&!n.onBand){var e=n.getExtent();var u=360/n.scale.count();n.inverse?e[1]+=u:e[1]-=u;n.setExtent(e[0],e[1])}}function YY(r){return r.mainType==="angleAxis"}function XY(r,t){r.type=t.get("type");r.scale=tk(t);r.onBand=t.get("boundaryGap")&&r.type==="category";r.inverse=t.get("inverse");if(YY(t)){r.inverse=r.inverse!==t.get("clockwise");var i=t.get("startAngle");r.setExtent(i,i+(r.inverse?-360:360))}t.axis=r;r.model=t}var GY={dimensions:EY,create:function(r,t){var i=[];r.eachComponent("polar",(function(r,n){var a=new PY(n+"");a.update=HY;var e=a.getRadiusAxis();var u=a.getAngleAxis();var o=r.findAxisModel("radiusAxis");var v=r.findAxisModel("angleAxis");XY(e,o);XY(u,v);VY(a,r,t);i.push(a);r.coordinateSystem=a;a.model=r}));r.eachSeries((function(r){if(r.get("coordinateSystem")==="polar"){var t=r.getReferringComponents("polar",Fu).models[0];r.coordinateSystem=t.coordinateSystem}}));return i}};var UY=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function ZY(r,t,i){t[1]>t[0]&&(t=t.slice().reverse());var n=r.coordToPoint([t[0],i]);var a=r.coordToPoint([t[1],i]);return{x1:n[0],y1:n[1],x2:a[0],y2:a[1]}}function jY(r){var t=r.getRadiusAxis();return t.inverse?0:1}function qY(r){var t=r[0];var i=r[r.length-1];if(t&&i&&Math.abs(Math.abs(t.coord-i.coord)-360)<1e-4){r.pop()}}var KY=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.axisPointerClass="PolarAxisPointer";return i}t.prototype.render=function(r,t){this.group.removeAll();if(!r.get("show")){return}var i=r.axis;var n=i.polar;var a=n.getRadiusAxis().getExtent();var e=i.getTicksCoords();var u=i.getMinorTicksCoords();var o=H(i.getViewLabels(),(function(r){r=O(r);var t=i.scale;var n=t.type==="ordinal"?t.getRawOrdinalNumber(r.tickValue):r.tickValue;r.coord=i.dataToCoord(n);return r}));qY(o);qY(e);V(UY,(function(t){if(r.get([t,"show"])&&(!i.scale.isBlank()||t==="axisLine")){JY[t](this.group,r,n,e,u,a,o)}}),this)};t.type="angleAxis";return t}(hz);var JY={axisLine:function(r,t,i,n,a,e){var u=t.getModel(["axisLine","lineStyle"]);var o=jY(i);var v=o?0:1;var s;if(e[v]===0){s=new ul({shape:{cx:i.cx,cy:i.cy,r:e[o]},style:u.getLineStyle(),z2:1,silent:true})}else{s=new Il({shape:{cx:i.cx,cy:i.cy,r:e[o],r0:e[v]},style:u.getLineStyle(),z2:1,silent:true})}s.style.fill=null;r.add(s)},axisTick:function(r,t,i,n,a,e){var u=t.getModel("axisTick");var o=(u.get("inside")?-1:1)*u.get("length");var v=e[jY(i)];var s=H(n,(function(r){return new Bl({shape:ZY(i,[v,v+o],r.coord)})}));r.add(Mh(s,{style:B(u.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,t,i,n,a,e){if(!a.length){return}var u=t.getModel("axisTick");var o=t.getModel("minorTick");var v=(u.get("inside")?-1:1)*o.get("length");var s=e[jY(i)];var f=[];for(var l=0;l<a.length;l++){for(var h=0;h<a[l].length;h++){f.push(new Bl({shape:ZY(i,[s,s+v],a[l][h].coord)}))}}r.add(Mh(f,{style:B(o.getModel("lineStyle").getLineStyle(),B(u.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))},axisLabel:function(r,t,i,n,a,e,u){var o=t.getCategories(true);var v=t.getModel("axisLabel");var s=v.get("margin");var f=t.get("triggerEvent");V(u,(function(n,a){var u=v;var l=n.tickValue;var h=e[jY(i)];var c=i.coordToPoint([h+s,n.coord]);var d=i.cx;var p=i.cy;var m=Math.abs(c[0]-d)/h<.3?"center":c[0]>d?"left":"right";var y=Math.abs(c[1]-p)/h<.3?"middle":c[1]>p?"top":"bottom";if(o&&o[l]){var g=o[l];if(tr(g)&&g.textStyle){u=new yc(g.textStyle,v,v.ecModel)}}var b=new es({silent:YT.isLabelSilent(t),style:qh(u,{x:c[0],y:c[1],fill:u.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:n.formattedLabel,align:m,verticalAlign:y})});r.add(b);if(f){var w=YT.makeAxisEventDataBase(t);w.targetType="axisLabel";w.value=n.rawLabel;bs(b).eventData=w}}),this)},splitLine:function(r,t,i,n,a,e){var u=t.getModel("splitLine");var o=u.getModel("lineStyle");var v=o.get("color");var s=0;v=v instanceof Array?v:[v];var f=[];for(var l=0;l<n.length;l++){var h=s++%v.length;f[h]=f[h]||[];f[h].push(new Bl({shape:ZY(i,e,n[l].coord)}))}for(var l=0;l<f.length;l++){r.add(Mh(f[l],{style:B({stroke:v[l%v.length]},o.getLineStyle()),silent:true,z:t.get("z")}))}},minorSplitLine:function(r,t,i,n,a,e){if(!a.length){return}var u=t.getModel("minorSplitLine");var o=u.getModel("lineStyle");var v=[];for(var s=0;s<a.length;s++){for(var f=0;f<a[s].length;f++){v.push(new Bl({shape:ZY(i,e,a[s][f].coord)}))}}r.add(Mh(v,{style:o.getLineStyle(),silent:true,z:t.get("z")}))},splitArea:function(r,t,i,n,a,e){if(!n.length){return}var u=t.getModel("splitArea");var o=u.getModel("areaStyle");var v=o.get("color");var s=0;v=v instanceof Array?v:[v];var f=[];var l=Math.PI/180;var h=-n[0].coord*l;var c=Math.min(e[0],e[1]);var d=Math.max(e[0],e[1]);var p=t.get("clockwise");for(var m=1,y=n.length;m<=y;m++){var g=m===y?n[0].coord:n[m].coord;var b=s++%v.length;f[b]=f[b]||[];f[b].push(new Nl({shape:{cx:i.cx,cy:i.cy,r0:c,r:d,startAngle:h,endAngle:-g*l,clockwise:p},silent:true}));h=-g*l}for(var m=0;m<f.length;m++){r.add(Mh(f[m],{style:B({fill:v[m%v.length]},o.getAreaStyle()),silent:true}))}}};var $Y=["axisLine","axisTickLabel","axisName"];var QY=["splitLine","splitArea","minorSplitLine"];var rX=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.axisPointerClass="PolarAxisPointer";return i}t.prototype.render=function(r,t){this.group.removeAll();if(!r.get("show")){return}var i=this._axisGroup;var n=this._axisGroup=new xe;this.group.add(n);var a=r.axis;var e=a.polar;var u=e.getAngleAxis();var o=a.getTicksCoords();var v=a.getMinorTicksCoords();var s=u.getExtent()[0];var f=a.getExtent();var l=iX(e,r,s);var h=new YT(r,l);V($Y,h.add,h);n.add(h.getGroup());Oh(i,n,r);V(QY,(function(t){if(r.get([t,"show"])&&!a.scale.isBlank()){tX[t](this.group,r,e,s,f,o,v)}}),this)};t.type="radiusAxis";return t}(hz);var tX={splitLine:function(r,t,i,n,a,e){var u=t.getModel("splitLine");var o=u.getModel("lineStyle");var v=o.get("color");var s=0;v=v instanceof Array?v:[v];var f=[];for(var l=0;l<e.length;l++){var h=s++%v.length;f[h]=f[h]||[];f[h].push(new ul({shape:{cx:i.cx,cy:i.cy,r:Math.max(e[l].coord,0)}}))}for(var l=0;l<f.length;l++){r.add(Mh(f[l],{style:B({stroke:v[l%v.length],fill:null},o.getLineStyle()),silent:true}))}},minorSplitLine:function(r,t,i,n,a,e,u){if(!u.length){return}var o=t.getModel("minorSplitLine");var v=o.getModel("lineStyle");var s=[];for(var f=0;f<u.length;f++){for(var l=0;l<u[f].length;l++){s.push(new ul({shape:{cx:i.cx,cy:i.cy,r:u[f][l].coord}}))}}r.add(Mh(s,{style:B({fill:null},v.getLineStyle()),silent:true}))},splitArea:function(r,t,i,n,a,e){if(!e.length){return}var u=t.getModel("splitArea");var o=u.getModel("areaStyle");var v=o.get("color");var s=0;v=v instanceof Array?v:[v];var f=[];var l=e[0].coord;for(var h=1;h<e.length;h++){var c=s++%v.length;f[c]=f[c]||[];f[c].push(new Nl({shape:{cx:i.cx,cy:i.cy,r0:l,r:e[h].coord,startAngle:0,endAngle:Math.PI*2},silent:true}));l=e[h].coord}for(var h=0;h<f.length;h++){r.add(Mh(f[h],{style:B({fill:v[h%v.length]},o.getAreaStyle()),silent:true}))}}};function iX(r,t,i){return{position:[r.cx,r.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function nX(r){return r.get("stack")||"__ec_stack_"+r.seriesIndex}function aX(r,t){return t.dim+r.model.componentIndex}function eX(r,t,i){var n={};var a=uX(X(t.getSeriesByType(r),(function(r){return!t.isSeriesFiltered(r)&&r.coordinateSystem&&r.coordinateSystem.type==="polar"})));t.eachSeriesByType(r,(function(r){if(r.coordinateSystem.type!=="polar"){return}var t=r.getData();var i=r.coordinateSystem;var e=i.getBaseAxis();var u=aX(i,e);var o=nX(r);var v=a[u][o];var s=v.offset;var f=v.width;var l=i.getOtherAxis(e);var h=r.coordinateSystem.cx;var c=r.coordinateSystem.cy;var d=r.get("barMinHeight")||0;var p=r.get("barMinAngle")||0;n[o]=n[o]||[];var m=t.mapDimension(l.dim);var y=t.mapDimension(e.dim);var g=WM(t,m);var b=e.dim!=="radius"||!r.get("roundCap",true);var w=l.dataToCoord(0);for(var x=0,M=t.count();x<M;x++){var S=t.get(m,x);var k=t.get(y,x);var N=S>=0?"p":"n";var A=w;if(g){if(!n[o][k]){n[o][k]={p:w,n:w}}A=n[o][k][N]}var I=void 0;var C=void 0;var T=void 0;var z=void 0;if(l.dim==="radius"){var L=l.dataToCoord(S)-w;var O=e.dataToCoord(k);if(Math.abs(L)<d){L=(L<0?-1:1)*d}I=A;C=A+L;T=O-s;z=T-f;g&&(n[o][k][N]=C)}else{var D=l.dataToCoord(S,b)-w;var R=e.dataToCoord(k);if(Math.abs(D)<p){D=(D<0?-1:1)*p}I=R+s;C=I+f;T=A;z=A+D;g&&(n[o][k][N]=z)}t.setItemLayout(x,{cx:h,cy:c,r0:I,r:C,startAngle:-T*Math.PI/180,endAngle:-z*Math.PI/180,clockwise:T>=z})}}))}function uX(r){var t={};V(r,(function(r,i){var n=r.getData();var a=r.coordinateSystem;var e=a.getBaseAxis();var u=aX(a,e);var o=e.getExtent();var v=e.type==="category"?e.getBandWidth():Math.abs(o[1]-o[0])/n.count();var s=t[u]||{bandWidth:v,remainedWidth:v,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var f=s.stacks;t[u]=s;var l=nX(r);if(!f[l]){s.autoWidthCount++}f[l]=f[l]||{width:0,maxWidth:0};var h=Le(r.get("barWidth"),v);var c=Le(r.get("barMaxWidth"),v);var d=r.get("barGap");var p=r.get("barCategoryGap");if(h&&!f[l].width){h=Math.min(s.remainedWidth,h);f[l].width=h;s.remainedWidth-=h}c&&(f[l].maxWidth=c);d!=null&&(s.gap=d);p!=null&&(s.categoryGap=p)}));var i={};V(t,(function(r,t){i[t]={};var n=r.stacks;var a=r.bandWidth;var e=Le(r.categoryGap,a);var u=Le(r.gap,1);var o=r.remainedWidth;var v=r.autoWidthCount;var s=(o-e)/(v+(v-1)*u);s=Math.max(s,0);V(n,(function(r,t){var i=r.maxWidth;if(i&&i<s){i=Math.min(i,o);if(r.width){i=Math.min(i,r.width)}o-=i;r.width=i;v--}}));s=(o-e)/(v+(v-1)*u);s=Math.max(s,0);var f=0;var l;V(n,(function(r,t){if(!r.width){r.width=s}l=r;f+=r.width*(1+u)}));if(l){f-=l.width*u}var h=-f/2;V(n,(function(r,n){i[t][n]=i[t][n]||{offset:h,width:r.width};h+=r.width*(1+u)}))}));return i}var oX={startAngle:90,clockwise:true,splitNumber:12,axisLabel:{rotate:0}};var vX={splitNumber:5};var sX=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.type="polar";return t}(eg);function fX(r){$x(AY);hz.registerAxisPointerClass("PolarAxisPointer",CY);r.registerCoordinateSystem("polar",GY);r.registerComponentModel(LY);r.registerComponentView(sX);NT(r,"angle",DY,oX);NT(r,"radius",RY,vX);r.registerComponentView(KY);r.registerComponentView(rX);r.registerLayout(q(eX,"bar"))}function lX(r,t){t=t||{};var i=r.coordinateSystem;var n=r.axis;var a={};var e=n.position;var u=n.orient;var o=i.getRect();var v=[o.x,o.x+o.width,o.y,o.y+o.height];var s={horizontal:{top:v[2],bottom:v[3]},vertical:{left:v[0],right:v[1]}};a.position=[u==="vertical"?s.vertical[e]:v[0],u==="horizontal"?s.horizontal[e]:v[3]];var f={horizontal:0,vertical:1};a.rotation=Math.PI/2*f[u];var l={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=l[e];if(r.get(["axisTick","inside"])){a.tickDirection=-a.tickDirection}if(sr(t.labelInside,r.get(["axisLabel","inside"]))){a.labelDirection=-a.labelDirection}var h=t.rotate;h==null&&(h=r.get(["axisLabel","rotate"]));a.labelRotation=e==="top"?-h:h;a.z2=1;return a}var hX=["axisLine","axisTickLabel","axisName"];var cX=["splitArea","splitLine"];var dX=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.axisPointerClass="SingleAxisPointer";return i}t.prototype.render=function(t,i,n,a){var e=this.group;e.removeAll();var u=this._axisGroup;this._axisGroup=new xe;var o=lX(t);var v=new YT(t,o);V(hX,v.add,v);e.add(this._axisGroup);e.add(v.getGroup());V(cX,(function(r){if(t.get([r,"show"])){pX[r](this,this.group,this._axisGroup,t)}}),this);Oh(u,this._axisGroup,t);r.prototype.render.call(this,t,i,n,a)};t.prototype.remove=function(){pz(this)};t.type="singleAxis";return t}(hz);var pX={splitLine:function(r,t,i,n){var a=n.axis;if(a.scale.isBlank()){return}var e=n.getModel("splitLine");var u=e.getModel("lineStyle");var o=u.get("color");o=o instanceof Array?o:[o];var v=u.get("width");var s=n.coordinateSystem.getRect();var f=a.isHorizontal();var l=[];var h=0;var c=a.getTicksCoords({tickModel:e});var d=[];var p=[];for(var m=0;m<c.length;++m){var y=a.toGlobalCoord(c[m].coord);if(f){d[0]=y;d[1]=s.y;p[0]=y;p[1]=s.y+s.height}else{d[0]=s.x;d[1]=y;p[0]=s.x+s.width;p[1]=y}var g=new Bl({shape:{x1:d[0],y1:d[1],x2:p[0],y2:p[1]},silent:true});kh(g.shape,v);var b=h++%o.length;l[b]=l[b]||[];l[b].push(g)}var w=u.getLineStyle(["color"]);for(var m=0;m<l.length;++m){t.add(Mh(l[m],{style:B({stroke:o[m%o.length]},w),silent:true}))}},splitArea:function(r,t,i,n){dz(r,i,n,n)}};var mX=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.getCoordSysModel=function(){return this};t.type="singleAxis";t.layoutMode="box";t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:true,lineStyle:{width:1,type:"solid"}},tooltip:{show:true},axisTick:{show:true,length:6,lineStyle:{width:1}},axisLabel:{show:true,interval:"auto"},splitLine:{show:true,lineStyle:{type:"dashed",opacity:.2}}};return t}(Ed);P(mX,lk.prototype);var yX=function(r){a(t,r);function t(t,i,n,a,e){var u=r.call(this,t,i,n)||this;u.type=a||"value";u.position=e||"bottom";return u}t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"};t.prototype.pointToData=function(r,t){return this.coordinateSystem.pointToData(r)[0]};return t}(Xk);var gX=["single"];var bX=function(){function r(r,t,i){this.type="single";this.dimension="single";this.dimensions=gX;this.axisPointerEnabled=true;this.model=r;this._init(r,t,i)}r.prototype._init=function(r,t,i){var n=this.dimension;var a=new yX(n,tk(r),[0,0],r.get("type"),r.get("position"));var e=a.type==="category";a.onBand=e&&r.get("boundaryGap");a.inverse=r.get("inverse");a.orient=r.get("orient");r.axis=a;a.model=r;a.coordinateSystem=this;this._axis=a};r.prototype.update=function(r,t){r.eachSeries((function(r){if(r.coordinateSystem===this){var t=r.getData();V(t.mapDimensionsAll(this.dimension),(function(r){this._axis.scale.unionExtentFromData(t,r)}),this);rk(this._axis.scale,this._axis.model)}}),this)};r.prototype.resize=function(r,t){this._rect=zd({left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")},{width:t.getWidth(),height:t.getHeight()});this._adjustAxis()};r.prototype.getRect=function(){return this._rect};r.prototype._adjustAxis=function(){var r=this._rect;var t=this._axis;var i=t.isHorizontal();var n=i?[0,r.width]:[0,r.height];var a=t.inverse?1:0;t.setExtent(n[a],n[1-a]);this._updateAxisTransform(t,i?r.x:r.y)};r.prototype._updateAxisTransform=function(r,t){var i=r.getExtent();var n=i[0]+i[1];var a=r.isHorizontal();r.toGlobalCoord=a?function(r){return r+t}:function(r){return n-r+t};r.toLocalCoord=a?function(r){return r-t}:function(r){return n-r+t}};r.prototype.getAxis=function(){return this._axis};r.prototype.getBaseAxis=function(){return this._axis};r.prototype.getAxes=function(){return[this._axis]};r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}};r.prototype.containPoint=function(r){var t=this.getRect();var i=this.getAxis();var n=i.orient;if(n==="horizontal"){return i.contain(i.toLocalCoord(r[0]))&&r[1]>=t.y&&r[1]<=t.y+t.height}else{return i.contain(i.toLocalCoord(r[1]))&&r[0]>=t.y&&r[0]<=t.y+t.height}};r.prototype.pointToData=function(r){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(r[t.orient==="horizontal"?0:1]))]};r.prototype.dataToPoint=function(r){var t=this.getAxis();var i=this.getRect();var n=[];var a=t.orient==="horizontal"?0:1;if(r instanceof Array){r=r[0]}n[a]=t.toGlobalCoord(t.dataToCoord(+r));n[1-a]=a===0?i.y+i.height/2:i.x+i.width/2;return n};r.prototype.convertToPixel=function(r,t,i){var n=wX(t);return n===this?this.dataToPoint(i):null};r.prototype.convertFromPixel=function(r,t,i){var n=wX(t);return n===this?this.pointToData(i):null};return r}();function wX(r){var t=r.seriesModel;var i=r.singleAxisModel;return i&&i.coordinateSystem||t&&t.coordinateSystem}function xX(r,t){var i=[];r.eachComponent("singleAxis",(function(n,a){var e=new bX(n,r,t);e.name="single_"+a;e.resize(n,t);n.coordinateSystem=e;i.push(e)}));r.eachSeries((function(r){if(r.get("coordinateSystem")==="singleAxis"){var t=r.getReferringComponents("singleAxis",Fu).models[0];r.coordinateSystem=t&&t.coordinateSystem}}));return i}var MX={create:xX,dimensions:gX};var SX=["x","y"];var kX=["width","height"];var NX=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.makeElOption=function(r,t,i,n,a){var e=i.axis;var u=e.coordinateSystem;var o=CX(u,1-IX(e));var v=u.dataToPoint(t)[0];var s=n.get("type");if(s&&s!=="none"){var f=YH(n);var l=AX[s](e,v,o);l.style=f;r.graphicKey=l.type;r.pointer=l}var h=lX(i);jH(t,r,h,i,n,a)};t.prototype.getHandleTransform=function(r,t,i){var n=lX(t,{labelInside:false});n.labelMargin=i.get(["handle","margin"]);var a=ZH(t.axis,r,n);return{x:a[0],y:a[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}};t.prototype.updateHandleTransform=function(r,t,i,n){var a=i.axis;var e=a.coordinateSystem;var u=IX(a);var o=CX(e,u);var v=[r.x,r.y];v[u]+=t[u];v[u]=Math.min(o[1],v[u]);v[u]=Math.max(o[0],v[u]);var s=CX(e,1-u);var f=(s[1]+s[0])/2;var l=[f,f];l[u]=v[u];return{x:v[0],y:v[1],rotation:r.rotation,cursorPoint:l,tooltipOption:{verticalAlign:"middle"}}};return t}(_H);var AX={line:function(r,t,i){var n=qH([t,i[0]],[t,i[1]],IX(r));return{type:"Line",subPixelOptimize:true,shape:n}},shadow:function(r,t,i){var n=r.getBandWidth();var a=i[1]-i[0];return{type:"Rect",shape:KH([t-n/2,i[0]],[n,a],IX(r))}}};function IX(r){return r.isHorizontal()?0:1}function CX(r,t){var i=r.getRect();return[i[SX[t]],i[SX[t]]+i[kX[t]]]}var TX=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.type="single";return t}(eg);function zX(r){$x(AY);hz.registerAxisPointerClass("SingleAxisPointer",NX);r.registerComponentView(TX);r.registerComponentView(dX);r.registerComponentModel(mX);NT(r,"single",mX,mX.defaultOption);r.registerCoordinateSystem("single",MX)}var LX=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.init=function(t,i,n){var a=Fd(t);r.prototype.init.apply(this,arguments);OX(t,a)};t.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments);OX(this.option,t)};t.prototype.getCellSize=function(){return this.option.cellSize};t.type="calendar";t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:true,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:true,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:true,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:true,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}};return t}(Ed);function OX(r,t){var i=r.cellSize;var n;if(!K(i)){n=r.cellSize=[i,i]}else{n=i}if(n.length===1){n[1]=n[0]}var a=H([0,1],(function(r){if(Od(t,r)){n[r]="auto"}return n[r]!=null&&n[r]!=="auto"}));Rd(r,t,{type:"box",ignoreSize:a})}var DX=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i){var n=this.group;n.removeAll();var a=r.coordinateSystem;var e=a.getRangeInfo();var u=a.getOrient();var o=t.getLocaleModel();this._renderDayRect(r,e,n);this._renderLines(r,e,u,n);this._renderYearText(r,e,u,n);this._renderMonthText(r,o,u,n);this._renderWeekText(r,o,e,u,n)};t.prototype._renderDayRect=function(r,t,i){var n=r.coordinateSystem;var a=r.getModel("itemStyle").getItemStyle();var e=n.getCellWidth();var u=n.getCellHeight();for(var o=t.start.time;o<=t.end.time;o=n.getNextNDay(o,1).time){var v=n.dataToRect([o],false).tl;var s=new ts({shape:{x:v[0],y:v[1],width:e,height:u},cursor:"default",style:a});i.add(s)}};t.prototype._renderLines=function(r,t,i,n){var a=this;var e=r.coordinateSystem;var u=r.getModel(["splitLine","lineStyle"]).getLineStyle();var o=r.get(["splitLine","show"]);var v=u.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];var s=t.start;for(var f=0;s.time<=t.end.time;f++){h(s.formatedDate);if(f===0){s=e.getDateInfo(t.start.y+"-"+t.start.m)}var l=s.date;l.setMonth(l.getMonth()+1);s=e.getDateInfo(l)}h(e.getNextNDay(t.end.time,1).formatedDate);function h(t){a._firstDayOfMonth.push(e.getDateInfo(t));a._firstDayPoints.push(e.dataToRect([t],false).tl);var v=a._getLinePointsOfOneWeek(r,t,i);a._tlpoints.push(v[0]);a._blpoints.push(v[v.length-1]);o&&a._drawSplitline(v,u,n)}o&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,v,i),u,n);o&&this._drawSplitline(a._getEdgesPoints(a._blpoints,v,i),u,n)};t.prototype._getEdgesPoints=function(r,t,i){var n=[r[0].slice(),r[r.length-1].slice()];var a=i==="horizontal"?0:1;n[0][a]=n[0][a]-t/2;n[1][a]=n[1][a]+t/2;return n};t.prototype._drawSplitline=function(r,t,i){var n=new Dl({z2:20,shape:{points:r},style:t});i.add(n)};t.prototype._getLinePointsOfOneWeek=function(r,t,i){var n=r.coordinateSystem;var a=n.getDateInfo(t);var e=[];for(var u=0;u<7;u++){var o=n.getNextNDay(a.time,u);var v=n.dataToRect([o.time],false);e[2*o.day]=v.tl;e[2*o.day+1]=v[i==="horizontal"?"bl":"tr"]}return e};t.prototype._formatterLabel=function(r,t){if($(r)&&r){return wd(r,t)}if(J(r)){return r(t)}return t.nameMap};t.prototype._yearTextPositionControl=function(r,t,i,n,a){var e=t[0];var u=t[1];var o=["center","bottom"];if(n==="bottom"){u+=a;o=["center","top"]}else if(n==="left"){e-=a}else if(n==="right"){e+=a;o=["center","top"]}else{u-=a}var v=0;if(n==="left"||n==="right"){v=Math.PI/2}return{rotation:v,x:e,y:u,style:{align:o[0],verticalAlign:o[1]}}};t.prototype._renderYearText=function(r,t,i,n){var a=r.getModel("yearLabel");if(!a.get("show")){return}var e=a.get("margin");var u=a.get("position");if(!u){u=i!=="horizontal"?"top":"left"}var o=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]];var v=(o[0][0]+o[1][0])/2;var s=(o[0][1]+o[1][1])/2;var f=i==="horizontal"?0:1;var l={top:[v,o[f][1]],bottom:[v,o[1-f][1]],left:[o[1-f][0],s],right:[o[f][0],s]};var h=t.start.y;if(+t.end.y>+t.start.y){h=h+"-"+t.end.y}var c=a.get("formatter");var d={start:t.start.y,end:t.end.y,nameMap:h};var p=this._formatterLabel(c,d);var m=new es({z2:30,style:qh(a,{text:p})});m.attr(this._yearTextPositionControl(m,l[u],i,u,e));n.add(m)};t.prototype._monthTextPositionControl=function(r,t,i,n,a){var e="left";var u="top";var o=r[0];var v=r[1];if(i==="horizontal"){v=v+a;if(t){e="center"}if(n==="start"){u="bottom"}}else{o=o+a;if(t){u="middle"}if(n==="start"){e="right"}}return{x:o,y:v,align:e,verticalAlign:u}};t.prototype._renderMonthText=function(r,t,i,n){var a=r.getModel("monthLabel");if(!a.get("show")){return}var e=a.get("nameMap");var u=a.get("margin");var o=a.get("position");var v=a.get("align");var s=[this._tlpoints,this._blpoints];if(!e||$(e)){if(e){t=Dc(e)||t}e=t.get(["time","monthAbbr"])||[]}var f=o==="start"?0:1;var l=i==="horizontal"?0:1;u=o==="start"?-u:u;var h=v==="center";for(var c=0;c<s[f].length-1;c++){var d=s[f][c].slice();var p=this._firstDayOfMonth[c];if(h){var m=this._firstDayPoints[c];d[l]=(m[l]+s[0][c+1][l])/2}var y=a.get("formatter");var g=e[+p.m-1];var b={yyyy:p.y,yy:(p.y+"").slice(2),MM:p.m,M:+p.m,nameMap:g};var w=this._formatterLabel(y,b);var x=new es({z2:30,style:F(qh(a,{text:w}),this._monthTextPositionControl(d,h,i,o,u))});n.add(x)}};t.prototype._weekTextPositionControl=function(r,t,i,n,a){var e="center";var u="middle";var o=r[0];var v=r[1];var s=i==="start";if(t==="horizontal"){o=o+n+(s?1:-1)*a[0]/2;e=s?"right":"left"}else{v=v+n+(s?1:-1)*a[1]/2;u=s?"bottom":"top"}return{x:o,y:v,align:e,verticalAlign:u}};t.prototype._renderWeekText=function(r,t,i,n,a){var e=r.getModel("dayLabel");if(!e.get("show")){return}var u=r.coordinateSystem;var o=e.get("position");var v=e.get("nameMap");var s=e.get("margin");var f=u.getFirstDayOfWeek();if(!v||$(v)){if(v){t=Dc(v)||t}var l=t.get(["time","dayOfWeekShort"]);v=l||H(t.get(["time","dayOfWeekAbbr"]),(function(r){return r[0]}))}var h=u.getNextNDay(i.end.time,7-i.lweek).time;var c=[u.getCellWidth(),u.getCellHeight()];s=Le(s,Math.min(c[1],c[0]));if(o==="start"){h=u.getNextNDay(i.start.time,-(7+i.fweek)).time;s=-s}for(var d=0;d<7;d++){var p=u.getNextNDay(h,d);var m=u.dataToRect([p.time],false).center;var y=d;y=Math.abs((d+f)%7);var g=new es({z2:30,style:F(qh(e,{text:v[y]}),this._weekTextPositionControl(m,n,o,s,c))});a.add(g)}};t.type="calendar";return t}(eg);var RX=864e5;var FX=function(){function r(t,i,n){this.type="calendar";this.dimensions=r.dimensions;this.getDimensionsInfo=r.getDimensionsInfo;this._model=t}r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]};r.prototype.getRangeInfo=function(){return this._rangeInfo};r.prototype.getModel=function(){return this._model};r.prototype.getRect=function(){return this._rect};r.prototype.getCellWidth=function(){return this._sw};r.prototype.getCellHeight=function(){return this._sh};r.prototype.getOrient=function(){return this._orient};r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek};r.prototype.getDateInfo=function(r){r=Ye(r);var t=r.getFullYear();var i=r.getMonth()+1;var n=i<10?"0"+i:""+i;var a=r.getDate();var e=a<10?"0"+a:""+a;var u=r.getDay();u=Math.abs((u+7-this.getFirstDayOfWeek())%7);return{y:t+"",m:n,d:e,day:u,time:r.getTime(),formatedDate:t+"-"+n+"-"+e,date:r}};r.prototype.getNextNDay=function(r,t){t=t||0;if(t===0){return this.getDateInfo(r)}r=new Date(this.getDateInfo(r).time);r.setDate(r.getDate()+t);return this.getDateInfo(r)};r.prototype.update=function(r,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1;var n=["width","height"];var a=this._model.getCellSize().slice();var e=this._model.getBoxLayoutParams();var u=this._orient==="horizontal"?[i,7]:[7,i];V([0,1],(function(r){if(s(a,r)){e[n[r]]=a[r]*u[r]}}));var o={width:t.getWidth(),height:t.getHeight()};var v=this._rect=zd(e,o);V([0,1],(function(r){if(!s(a,r)){a[r]=v[n[r]]/u[r]}}));function s(r,t){return r[t]!=null&&r[t]!=="auto"}this._sw=a[0];this._sh=a[1]};r.prototype.dataToPoint=function(r,t){K(r)&&(r=r[0]);t==null&&(t=true);var i=this.getDateInfo(r);var n=this._rangeInfo;var a=i.formatedDate;if(t&&!(i.time>=n.start.time&&i.time<n.end.time+RX)){return[NaN,NaN]}var e=i.day;var u=this._getRangeInfo([n.start.time,a]).nthWeek;if(this._orient==="vertical"){return[this._rect.x+e*this._sw+this._sw/2,this._rect.y+u*this._sh+this._sh/2]}return[this._rect.x+u*this._sw+this._sw/2,this._rect.y+e*this._sh+this._sh/2]};r.prototype.pointToData=function(r){var t=this.pointToDate(r);return t&&t.time};r.prototype.dataToRect=function(r,t){var i=this.dataToPoint(r,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}};r.prototype.pointToDate=function(r){var t=Math.floor((r[0]-this._rect.x)/this._sw)+1;var i=Math.floor((r[1]-this._rect.y)/this._sh)+1;var n=this._rangeInfo.range;if(this._orient==="vertical"){return this._getDateByWeeksAndDay(i,t-1,n)}return this._getDateByWeeksAndDay(t,i-1,n)};r.prototype.convertToPixel=function(r,t,i){var n=BX(t);return n===this?n.dataToPoint(i):null};r.prototype.convertFromPixel=function(r,t,i){var n=BX(t);return n===this?n.pointToData(i):null};r.prototype.containPoint=function(r){console.warn("Not implemented.");return false};r.prototype._initRangeOption=function(){var r=this._model.get("range");var t;if(K(r)&&r.length===1){r=r[0]}if(!K(r)){var i=r.toString();if(/^\d{4}$/.test(i)){t=[i+"-01-01",i+"-12-31"]}if(/^\d{4}[\/|-]\d{1,2}$/.test(i)){var n=this.getDateInfo(i);var a=n.date;a.setMonth(a.getMonth()+1);var e=this.getNextNDay(a,-1);t=[n.formatedDate,e.formatedDate]}if(/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)){t=[i,i]}}else{t=r}if(!t){return r}var u=this._getRangeInfo(t);if(u.start.time>u.end.time){t.reverse()}return t};r.prototype._getRangeInfo=function(r){var t=[this.getDateInfo(r[0]),this.getDateInfo(r[1])];var i;if(t[0].time>t[1].time){i=true;t.reverse()}var n=Math.floor(t[1].time/RX)-Math.floor(t[0].time/RX)+1;var a=new Date(t[0].time);var e=a.getDate();var u=t[1].date.getDate();a.setDate(e+n-1);var o=a.getDate();if(o!==u){var v=a.getTime()-t[1].time>0?1:-1;while((o=a.getDate())!==u&&(a.getTime()-t[1].time)*v>0){n-=v;a.setDate(o-v)}}var s=Math.floor((n+t[0].day+6)/7);var f=i?-s+1:s-1;i&&t.reverse();return{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:n,weeks:s,nthWeek:f,fweek:t[0].day,lweek:t[1].day}};r.prototype._getDateByWeeksAndDay=function(r,t,i){var n=this._getRangeInfo(i);if(r>n.weeks||r===0&&t<n.fweek||r===n.weeks&&t>n.lweek){return null}var a=(r-1)*7-n.fweek+t;var e=new Date(n.start.time);e.setDate(+n.start.d+a);return this.getDateInfo(e)};r.create=function(t,i){var n=[];t.eachComponent("calendar",(function(a){var e=new r(a,t,i);n.push(e);a.coordinateSystem=e}));t.eachSeries((function(r){if(r.get("coordinateSystem")==="calendar"){r.coordinateSystem=n[r.get("calendarIndex")||0]}}));return n};r.dimensions=["time","value"];return r}();function BX(r){var t=r.calendarModel;var i=r.seriesModel;var n=t?t.coordinateSystem:i?i.coordinateSystem:null;return n}function _X(r){r.registerComponentModel(LX);r.registerComponentView(DX);r.registerCoordinateSystem("calendar",FX)}function EX(r,t){var i=r.existing;t.id=r.keyInfo.id;!t.type&&i&&(t.type=i.type);if(t.parentId==null){var n=t.parentOption;if(n){t.parentId=n.id}else if(i){t.parentId=i.parentId}}t.parentOption=null}function PX(r,t){var i;V(t,(function(t){r[t]!=null&&r[t]!=="auto"&&(i=true)}));return i}function WX(r,t,i){var n=F({},i);var a=r[t];var e=i.$action||"merge";if(e==="merge"){if(a){D(a,n,true);Rd(a,n,{ignoreSize:true});Bd(i,a);YX(i,a);YX(i,a,"shape");YX(i,a,"style");YX(i,a,"extra");i.clipPath=a.clipPath}else{r[t]=n}}else if(e==="replace"){r[t]=n}else if(e==="remove"){a&&(r[t]=null)}}var VX=["transition","enterFrom","leaveTo"];var HX=VX.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function YX(r,t,i){if(i){if(!r[i]&&t[i]){r[i]={}}r=r[i];t=t[i]}if(!r||!t){return}var n=i?VX:HX;for(var a=0;a<n.length;a++){var e=n[a];if(r[e]==null&&t[e]!=null){r[e]=t[e]}}}function XX(r,t){if(!r){return}r.hv=t.hv=[PX(t,["left","right"]),PX(t,["top","bottom"])];if(r.type==="group"){var i=r;var n=t;i.width==null&&(i.width=n.width=0);i.height==null&&(i.height=n.height=0)}}var GX=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.preventAutoZ=true;return i}t.prototype.mergeOption=function(t,i){var n=this.option.elements;this.option.elements=null;r.prototype.mergeOption.call(this,t,i);this.option.elements=n};t.prototype.optionUpdated=function(r,t){var i=this.option;var n=(t?i:r).elements;var a=i.elements=t?[]:i.elements;var e=[];this._flatten(n,e,null);var u=du(a,e,"normalMerge");var o=this._elOptionsToUpdate=[];V(u,(function(r,t){var i=r.newOption;if(!i){return}o.push(i);EX(r,i);WX(a,t,i);XX(a[t],i)}),this);i.elements=X(a,(function(r){r&&delete r.$action;return r!=null}))};t.prototype._flatten=function(r,t,i){V(r,(function(r){if(!r){return}if(i){r.parentOption=i}t.push(r);var n=r.children;if(n&&n.length){this._flatten(n,t,r)}delete r.children}),this)};t.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return r};t.type="graphic";t.defaultOption={elements:[]};return t}(Ed);var UX={path:null,compoundPath:null,group:xe,image:Zv,text:es};var ZX=Lu();var jX=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.init=function(){this._elMap=Sr()};t.prototype.render=function(r,t,i){if(r!==this._lastGraphicModel){this._clear()}this._lastGraphicModel=r;this._updateElements(r);this._relocate(r,i)};t.prototype._updateElements=function(r){var t=r.useElOptionsToUpdate();if(!t){return}var i=this._elMap;var n=this.group;var a=r.get("z");var e=r.get("zlevel");V(t,(function(t){var u=Su(t.id,null);var o=u!=null?i.get(u):null;var v=Su(t.parentId,null);var s=v!=null?i.get(v):n;var f=t.type;var l=t.style;if(f==="text"&&l){if(t.hv&&t.hv[1]){l.textVerticalAlign=l.textBaseline=l.verticalAlign=l.align=null}}var h=t.textContent;var c=t.textConfig;if(l&&bV(l,f,!!c,!!h)){var d=wV(l,f,true);if(!c&&d.textConfig){c=t.textConfig=d.textConfig}if(!h&&d.textContent){h=d.textContent}}var p=QX(t);var m=t.$action||"merge";var y=m==="merge";var g=m==="replace";if(y){var b=!o;var w=o;if(b){w=KX(u,s,t.type,i)}else{w&&(ZX(w).isNew=false);ZV(w)}if(w){TV(w,p,r,{isInit:b});$X(w,t,a,e)}}else if(g){JX(o,t,i,r);var x=KX(u,s,t.type,i);if(x){TV(x,p,r,{isInit:true});$X(x,t,a,e)}}else if(m==="remove"){zV(o,t);JX(o,t,i,r)}var M=i.get(u);if(M&&h){if(y){var S=M.getTextContent();S?S.attr(h):M.setTextContent(new es(h))}else if(g){M.setTextContent(new es(h))}}if(M){var k=t.clipPath;if(k){var N=k.type;var A=void 0;var b=false;if(y){var I=M.getClipPath();b=!I||ZX(I).type!==N;A=b?qX(N):I}else if(g){b=true;A=qX(N)}M.setClipPath(A);TV(A,k,r,{isInit:b});jV(A,k.keyframeAnimation,r)}var C=ZX(M);M.setTextConfig(c);C.option=t;rG(M,r,t);Wh({el:M,componentModel:r,itemName:M.name,itemTooltipOption:t.tooltip});jV(M,t.keyframeAnimation,r)}}))};t.prototype._relocate=function(r,t){var i=r.option.elements;var n=this.group;var a=this._elMap;var e=t.getWidth();var u=t.getHeight();var o=["x","y"];for(var v=0;v<i.length;v++){var s=i[v];var f=Su(s.id,null);var l=f!=null?a.get(f):null;if(!l||!l.isGroup){continue}var h=l.parent;var c=h===n;var d=ZX(l);var p=ZX(h);d.width=Le(d.option.width,c?e:p.width)||0;d.height=Le(d.option.height,c?u:p.height)||0}for(var v=i.length-1;v>=0;v--){var s=i[v];var f=Su(s.id,null);var l=f!=null?a.get(f):null;if(!l){continue}var h=l.parent;var p=ZX(h);var m=h===n?{width:e,height:u}:{width:p.width,height:p.height};var y={};var g=Ld(l,s,m,null,{hv:s.hv,boundingMode:s.bounding},y);if(!ZX(l).isNew&&g){var b=s.transition;var w={};for(var x=0;x<o.length;x++){var M=o[x];var S=y[M];if(b&&(OV(b)||_(b,M)>=0)){w[M]=S}else{l[M]=S}}nh(l,w,r,0)}else{l.attr(y)}}};t.prototype._clear=function(){var r=this;var t=this._elMap;t.each((function(i){JX(i,ZX(i).option,t,r._lastGraphicModel)}));this._elMap=Sr()};t.prototype.dispose=function(){this._clear()};t.type="graphic";return t}(eg);function qX(r){var t=Ir(UX,r)?UX[r]:gh(r);var i=new t({});ZX(i).type=r;return i}function KX(r,t,i,n){var a=qX(i);t.add(a);n.set(r,a);ZX(a).id=r;ZX(a).isNew=true;return a}function JX(r,t,i,n){var a=r&&r.parent;if(a){r.type==="group"&&r.traverse((function(r){JX(r,t,i,n)}));LV(r,t,n);i.removeKey(ZX(r).id)}}function $X(r,t,i,n){if(!r.isGroup){V([["cursor",Do.prototype.cursor],["zlevel",n||0],["z",i||0],["z2",0]],(function(i){var n=i[0];if(Ir(t,n)){r[n]=fr(t[n],i[1])}else if(r[n]==null){r[n]=i[1]}}))}V(U(t),(function(i){if(i.indexOf("on")===0){var n=t[i];r[i]=J(n)?n:null}}));if(Ir(t,"draggable")){r.draggable=t.draggable}t.name!=null&&(r.name=t.name);t.id!=null&&(r.id=t.id)}function QX(r){r=F({},r);V(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Nd),(function(t){delete r[t]}));return r}function rG(r,t,i){var n=bs(r).eventData;if(!r.silent&&!r.ignore&&!n){n=bs(r).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:r.name}}if(n){n.info=i.info}}function tG(r){r.registerComponentModel(GX);r.registerComponentView(jX);r.registerPreprocessor((function(r){var t=r.graphic;if(K(t)){if(!t[0]||!t[0].elements){r.graphic=[{elements:t}]}else{r.graphic=[r.graphic[0]]}}else if(t&&!t.elements){r.graphic=[{elements:[t]}]}}))}var iG=["x","y","radius","angle","single"];var nG=["cartesian2d","polar","singleAxis"];function aG(r){var t=r.get("coordinateSystem");return _(nG,t)>=0}function eG(r){return r+"Axis"}function uG(r,t){var i=Sr();var n=[];var a=Sr();r.eachComponent({mainType:"dataZoom",query:t},(function(r){if(!a.get(r.uid)){o(r)}}));var e;do{e=false;r.eachComponent("dataZoom",u)}while(e);function u(r){if(!a.get(r.uid)&&v(r)){o(r);e=true}}function o(r){a.set(r.uid,true);n.push(r);s(r)}function v(r){var t=false;r.eachTargetAxis((function(r,n){var a=i.get(r);if(a&&a[n]){t=true}}));return t}function s(r){r.eachTargetAxis((function(r,t){(i.get(r)||i.set(r,[]))[t]=true}))}return n}function oG(r){var t=r.ecModel;var i={infoList:[],infoMap:Sr()};r.eachTargetAxis((function(r,n){var a=t.getComponent(eG(r),n);if(!a){return}var e=a.getCoordSysModel();if(!e){return}var u=e.uid;var o=i.infoMap.get(u);if(!o){o={model:e,axisModels:[]};i.infoList.push(o);i.infoMap.set(u,o)}o.axisModels.push(a)}));return i}var vG=function(){function r(){this.indexList=[];this.indexMap=[]}r.prototype.add=function(r){if(!this.indexMap[r]){this.indexList.push(r);this.indexMap[r]=true}};return r}();var sG=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i._autoThrottle=true;i._noTarget=true;i._rangePropMode=["percent","percent"];return i}t.prototype.init=function(r,t,i){var n=fG(r);this.settledOption=n;this.mergeDefaultAndTheme(r,i);this._doInit(n)};t.prototype.mergeOption=function(r){var t=fG(r);D(this.option,r,true);D(this.settledOption,t,true);this._doInit(t)};t.prototype._doInit=function(r){var t=this.option;this._setDefaultThrottle(r);this._updateRangeUse(r);var i=this.settledOption;V([["start","startValue"],["end","endValue"]],(function(r,n){if(this._rangePropMode[n]==="value"){t[r[0]]=i[r[0]]=null}}),this);this._resetTarget()};t.prototype._resetTarget=function(){var r=this.get("orient",true);var t=this._targetAxisInfoMap=Sr();var i=this._fillSpecifiedTargetAxis(t);if(i){this._orient=r||this._makeAutoOrientByTargetAxis()}else{this._orient=r||"horizontal";this._fillAutoTargetAxisByOrient(t,this._orient)}this._noTarget=true;t.each((function(r){if(r.indexList.length){this._noTarget=false}}),this)};t.prototype._fillSpecifiedTargetAxis=function(r){var t=false;V(iG,(function(i){var n=this.getReferringComponents(eG(i),Bu);if(!n.specified){return}t=true;var a=new vG;V(n.models,(function(r){a.add(r.componentIndex)}));r.set(i,a)}),this);return t};t.prototype._fillAutoTargetAxisByOrient=function(r,t){var i=this.ecModel;var n=true;if(n){var a=t==="vertical"?"y":"x";var e=i.findComponents({mainType:a+"Axis"});u(e,a)}if(n){var e=i.findComponents({mainType:"singleAxis",filter:function(r){return r.get("orient",true)===t}});u(e,"single")}function u(t,i){var a=t[0];if(!a){return}var e=new vG;e.add(a.componentIndex);r.set(i,e);n=false;if(i==="x"||i==="y"){var u=a.getReferringComponents("grid",Fu).models[0];u&&V(t,(function(r){if(a.componentIndex!==r.componentIndex&&u===r.getReferringComponents("grid",Fu).models[0]){e.add(r.componentIndex)}}))}}if(n){V(iG,(function(t){if(!n){return}var a=i.findComponents({mainType:eG(t),filter:function(r){return r.get("type",true)==="category"}});if(a[0]){var e=new vG;e.add(a[0].componentIndex);r.set(t,e);n=false}}),this)}};t.prototype._makeAutoOrientByTargetAxis=function(){var r;this.eachTargetAxis((function(t){!r&&(r=t)}),this);return r==="y"?"vertical":"horizontal"};t.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")){this._autoThrottle=false}if(this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}};t.prototype._updateRangeUse=function(r){var t=this._rangePropMode;var i=this.get("rangeMode");V([["start","startValue"],["end","endValue"]],(function(n,a){var e=r[n[0]]!=null;var u=r[n[1]]!=null;if(e&&!u){t[a]="percent"}else if(!e&&u){t[a]="value"}else if(i){t[a]=i[a]}else if(e){t[a]="percent"}}))};t.prototype.noTarget=function(){return this._noTarget};t.prototype.getFirstTargetAxisModel=function(){var r;this.eachTargetAxis((function(t,i){if(r==null){r=this.ecModel.getComponent(eG(t),i)}}),this);return r};t.prototype.eachTargetAxis=function(r,t){this._targetAxisInfoMap.each((function(i,n){V(i.indexList,(function(i){r.call(t,n,i)}))}))};t.prototype.getAxisProxy=function(r,t){var i=this.getAxisModel(r,t);if(i){return i.__dzAxisProxy}};t.prototype.getAxisModel=function(r,t){var i=this._targetAxisInfoMap.get(r);if(i&&i.indexMap[t]){return this.ecModel.getComponent(eG(r),t)}};t.prototype.setRawRange=function(r){var t=this.option;var i=this.settledOption;V([["start","startValue"],["end","endValue"]],(function(n){if(r[n[0]]!=null||r[n[1]]!=null){t[n[0]]=i[n[0]]=r[n[0]];t[n[1]]=i[n[1]]=r[n[1]]}}),this);this._updateRangeUse(r)};t.prototype.setCalculatedRange=function(r){var t=this.option;V(["start","startValue","end","endValue"],(function(i){t[i]=r[i]}))};t.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r){return r.getDataPercentWindow()}};t.prototype.getValueRange=function(r,t){if(r==null&&t==null){var i=this.findRepresentativeAxisProxy();if(i){return i.getDataValueWindow()}}else{return this.getAxisProxy(r,t).getDataValueWindow()}};t.prototype.findRepresentativeAxisProxy=function(r){if(r){return r.__dzAxisProxy}var t;var i=this._targetAxisInfoMap.keys();for(var n=0;n<i.length;n++){var a=i[n];var e=this._targetAxisInfoMap.get(a);for(var u=0;u<e.indexList.length;u++){var o=this.getAxisProxy(a,e.indexList[u]);if(o.hostedBy(this)){return o}if(!t){t=o}}}return t};t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()};t.prototype.getOrient=function(){return this._orient};t.type="dataZoom";t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"];t.defaultOption={z:4,filterMode:"filter",start:0,end:100};return t}(Ed);function fG(r){var t={};V(["start","end","startValue","endValue","throttle"],(function(i){r.hasOwnProperty(i)&&(t[i]=r[i])}));return t}var lG=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.type="dataZoom.select";return t}(sG);var hG=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i,n){this.dataZoomModel=r;this.ecModel=t;this.api=i};t.type="dataZoom";return t}(eg);var cG=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.type="dataZoom.select";return t}(hG);var dG=V;var pG=De;var mG=function(){function r(r,t,i,n){this._dimName=r;this._axisIndex=t;this.ecModel=n;this._dataZoomModel=i}r.prototype.hostedBy=function(r){return this._dataZoomModel===r};r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()};r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()};r.prototype.getTargetSeriesModels=function(){var r=[];this.ecModel.eachSeries((function(t){if(aG(t)){var i=eG(this._dimName);var n=t.getReferringComponents(i,Fu).models[0];if(n&&this._axisIndex===n.componentIndex){r.push(t)}}}),this);return r};r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)};r.prototype.getMinMaxSpan=function(){return O(this._minMaxSpan)};r.prototype.calculateDataWindow=function(r){var t=this._dataExtent;var i=this.getAxisModel();var n=i.axis.scale;var a=this._dataZoomModel.getRangePropMode();var e=[0,100];var u=[];var o=[];var v;dG(["start","end"],(function(i,s){var f=r[i];var l=r[i+"Value"];if(a[s]==="percent"){f==null&&(f=e[s]);l=n.parse(ze(f,e,t))}else{v=true;l=l==null?t[s]:n.parse(l);f=ze(l,t,e)}o[s]=l==null||isNaN(l)?t[s]:l;u[s]=f==null||isNaN(f)?e[s]:f}));pG(o);pG(u);var s=this._minMaxSpan;v?f(o,u,t,e,false):f(u,o,e,t,true);function f(r,t,i,a,e){var u=e?"Span":"ValueSpan";GB(0,r,i,"all",s["min"+u],s["max"+u]);for(var o=0;o<2;o++){t[o]=ze(r[o],i,a,true);e&&(t[o]=n.parse(t[o]))}}return{valueWindow:o,percentWindow:u}};r.prototype.reset=function(r){if(r!==this._dataZoomModel){return}var t=this.getTargetSeriesModels();this._dataExtent=yG(this,this._dimName,t);this._updateMinMaxSpan();var i=this.calculateDataWindow(r.settledOption);this._valueWindow=i.valueWindow;this._percentWindow=i.percentWindow;this._setAxisModel()};r.prototype.filterData=function(r,t){if(r!==this._dataZoomModel){return}var i=this._dimName;var n=this.getTargetSeriesModels();var a=r.get("filterMode");var e=this._valueWindow;if(a==="none"){return}dG(n,(function(r){var t=r.getData();var n=t.mapDimensionsAll(i);if(!n.length){return}if(a==="weakFilter"){var o=t.getStore();var v=H(n,(function(r){return t.getDimensionIndex(r)}),t);t.filterSelf((function(r){var t;var i;var a;for(var u=0;u<n.length;u++){var s=o.get(v[u],r);var f=!isNaN(s);var l=s<e[0];var h=s>e[1];if(f&&!l&&!h){return true}f&&(a=true);l&&(t=true);h&&(i=true)}return a&&t&&i}))}else{dG(n,(function(i){if(a==="empty"){r.setData(t=t.map(i,(function(r){return!u(r)?NaN:r})))}else{var n={};n[i]=e;t.selectRange(n)}}))}dG(n,(function(r){t.setApproximateExtent(e,r)}))}));function u(r){return r>=e[0]&&r<=e[1]}};r.prototype._updateMinMaxSpan=function(){var r=this._minMaxSpan={};var t=this._dataZoomModel;var i=this._dataExtent;dG(["min","max"],(function(n){var a=t.get(n+"Span");var e=t.get(n+"ValueSpan");e!=null&&(e=this.getAxisModel().axis.scale.parse(e));if(e!=null){a=ze(i[0]+e,i,[0,100],true)}else if(a!=null){e=ze(a,[0,100],i,true)-i[0]}r[n+"Span"]=a;r[n+"ValueSpan"]=e}),this)};r.prototype._setAxisModel=function(){var r=this.getAxisModel();var t=this._percentWindow;var i=this._valueWindow;if(!t){return}var n=Be(i,[0,500]);n=Math.min(n,20);var a=r.axis.scale.rawExtentInfo;if(t[0]!==0){a.setDeterminedMinMax("min",+i[0].toFixed(n))}if(t[1]!==100){a.setDeterminedMinMax("max",+i[1].toFixed(n))}a.freeze()};return r}();function yG(r,t,i){var n=[Infinity,-Infinity];dG(i,(function(r){fk(n,r.getData(),t)}));var a=r.getAxisModel();var e=KS(a.axis.scale,a,n).calculate();return[e.min,e.max]}var gG={getTargetSeries:function(r){function t(t){r.eachComponent("dataZoom",(function(i){i.eachTargetAxis((function(n,a){var e=r.getComponent(eG(n),a);t(n,a,e,i)}))}))}t((function(r,t,i,n){i.__dzAxisProxy=null}));var i=[];t((function(t,n,a,e){if(!a.__dzAxisProxy){a.__dzAxisProxy=new mG(t,n,e,r);i.push(a.__dzAxisProxy)}}));var n=Sr();V(i,(function(r){V(r.getTargetSeriesModels(),(function(r){n.set(r.uid,r)}))}));return n},overallReset:function(r,t){r.eachComponent("dataZoom",(function(r){r.eachTargetAxis((function(t,i){r.getAxisProxy(t,i).reset(r)}));r.eachTargetAxis((function(i,n){r.getAxisProxy(i,n).filterData(r,t)}))}));r.eachComponent("dataZoom",(function(r){var t=r.findRepresentativeAxisProxy();if(t){var i=t.getDataPercentWindow();var n=t.getDataValueWindow();r.setCalculatedRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]})}}))}};function bG(r){r.registerAction("dataZoom",(function(r,t){var i=uG(t,r);V(i,(function(t){t.setRawRange({start:r.start,end:r.end,startValue:r.startValue,endValue:r.endValue})}))}))}var wG=false;function xG(r){if(wG){return}wG=true;r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,gG);bG(r);r.registerSubTypeDefaulter("dataZoom",(function(){return"slider"}))}function MG(r){r.registerComponentModel(lG);r.registerComponentView(cG);xG(r)}var SG=function(){function r(){}return r}();var kG={};function NG(r,t){kG[r]=t}function AG(r){return kG[r]}var IG=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;V(this.option.feature,(function(r,i){var n=AG(i);if(n){if(n.getDefaultOption){n.defaultOption=n.getDefaultOption(t)}D(r,n.defaultOption)}}))};t.type="toolbox";t.layoutMode={type:"box",ignoreSize:true};t.defaultOption={show:true,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:true,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:false,position:"bottom"}};return t}(Ed);function CG(r,t,i){var n=t.getBoxLayoutParams();var a=t.get("padding");var e={width:i.getWidth(),height:i.getHeight()};var u=zd(n,e,a);Cd(t.get("orient"),r,t.get("itemGap"),u.width,u.height);Ld(r,n,e,a)}function TG(r,t){var i=pd(t.get("padding"));var n=t.getItemStyle(["color","opacity"]);n.fill=t.get("backgroundColor");r=new ts({shape:{x:r.x-i[3],y:r.y-i[0],width:r.width+i[1]+i[3],height:r.height+i[0]+i[2],r:t.get("borderRadius")},style:n,silent:true,z2:-1});return r}var zG=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.render=function(r,t,i,n){var a=this.group;a.removeAll();if(!r.get("show")){return}var e=+r.get("itemSize");var u=r.get("orient")==="vertical";var o=r.get("feature")||{};var v=this._features||(this._features={});var s=[];V(o,(function(r,t){s.push(t)}));new tM(this._featureNames||[],s).add(f).update(f).remove(q(f,null)).execute();this._featureNames=s;function f(a,e){var u=s[a];var f=s[e];var h=o[u];var c=new yc(h,r,r.ecModel);var d;if(n&&n.newTitle!=null&&n.featureName===u){h.title=n.newTitle}if(u&&!f){if(LG(u)){d={onclick:c.option.onclick,featureName:u}}else{var p=AG(u);if(!p){return}d=new p}v[u]=d}else{d=v[f];if(!d){return}}d.uid=bc("toolbox-feature");d.model=c;d.ecModel=t;d.api=i;var m=d instanceof SG;if(!u&&f){m&&d.dispose&&d.dispose(t,i);return}if(!c.get("show")||m&&d.unusable){m&&d.remove&&d.remove(t,i);return}l(c,d,u);c.setIconStatus=function(r,t){var i=this.option;var n=this.iconPaths;i.iconStatus=i.iconStatus||{};i.iconStatus[r]=t;if(n[r]){(t==="emphasis"?ef:uf)(n[r])}};if(d instanceof SG){if(d.render){d.render(c,t,i,n)}}}function l(n,o,v){var s=n.getModel("iconStyle");var f=n.getModel(["emphasis","iconStyle"]);var l=o instanceof SG&&o.getIcons?o.getIcons():n.get("icon");var h=n.get("title")||{};var c;var d;if($(l)){c={};c[v]=l}else{c=l}if($(h)){d={};d[v]=h}else{d=h}var p=n.iconPaths={};V(c,(function(v,l){var h=Fh(v,{},{x:-e/2,y:-e/2,width:e,height:e});h.setStyle(s.getItemStyle());var c=h.ensureState("emphasis");c.style=f.getItemStyle();var m=new es({style:{text:d[l],align:f.get("textAlign"),borderRadius:f.get("textBorderRadius"),padding:f.get("textPadding"),fill:null},ignore:true});h.setTextContent(m);Wh({el:h,componentModel:r,itemName:l,formatterParamsExtra:{title:d[l]}});h.__title=d[l];h.on("mouseover",(function(){var t=f.getItemStyle();var n=u?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";m.setStyle({fill:f.get("textFill")||t.fill||t.stroke||"#000",backgroundColor:f.get("textBackgroundColor")});h.setTextConfig({position:f.get("textPosition")||n});m.ignore=!r.get("showTitle");i.enterEmphasis(this)})).on("mouseout",(function(){if(n.get(["iconStatus",l])!=="emphasis"){i.leaveEmphasis(this)}m.hide()}));(n.get(["iconStatus",l])==="emphasis"?ef:uf)(h);a.add(h);h.on("click",j(o.onclick,o,t,i,l));p[l]=h}))}CG(a,r,i);a.add(TG(a.getBoundingRect(),r));u||a.eachChild((function(r){var t=r.__title;var n=r.ensureState("emphasis");var u=n.textConfig||(n.textConfig={});var o=r.getTextContent();var v=o&&o.ensureState("emphasis");if(v&&!J(v)&&t){var s=v.style||(v.style={});var f=ie(t,es.makeFont(s));var l=r.x+a.x;var h=r.y+a.y+e;var c=false;if(h+f.height>i.getHeight()){u.position="top";c=true}var d=c?-5-f.height:e+10;if(l+f.width/2>i.getWidth()){u.position=["100%",d];s.align="right"}else if(l-f.width/2<0){u.position=[0,d];s.align="left"}}}))};t.prototype.updateView=function(r,t,i,n){V(this._features,(function(r){r instanceof SG&&r.updateView&&r.updateView(r.model,t,i,n)}))};t.prototype.remove=function(r,t){V(this._features,(function(i){i instanceof SG&&i.remove&&i.remove(r,t)}));this.group.removeAll()};t.prototype.dispose=function(r,t){V(this._features,(function(i){i instanceof SG&&i.dispose&&i.dispose(r,t)}))};t.type="toolbox";return t}(eg);function LG(r){return r.indexOf("my")===0}var OG=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.onclick=function(r,t){var i=this.model;var n=i.get("name")||r.get("title.0.text")||"echarts";var a=t.getZr().painter.getType()==="svg";var e=a?"svg":i.get("type",true)||"png";var u=t.getConnectedDataURL({type:e,backgroundColor:i.get("backgroundColor",true)||r.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")});var v=o.browser;if(J(MouseEvent)&&(v.newEdge||!v.ie&&!v.edge)){var s=document.createElement("a");s.download=n+"."+e;s.target="_blank";s.href=u;var f=new MouseEvent("click",{view:document.defaultView,bubbles:true,cancelable:false});s.dispatchEvent(f)}else{if(window.navigator.msSaveOrOpenBlob||a){var l=u.split(",");var h=l[0].indexOf("base64")>-1;var c=a?decodeURIComponent(l[1]):l[1];h&&(c=window.atob(c));var d=n+"."+e;if(window.navigator.msSaveOrOpenBlob){var p=c.length;var m=new Uint8Array(p);while(p--){m[p]=c.charCodeAt(p)}var y=new Blob([m]);window.navigator.msSaveOrOpenBlob(y,d)}else{var g=document.createElement("iframe");document.body.appendChild(g);var b=g.contentWindow;var w=b.document;w.open("image/svg+xml","replace");w.write(c);w.close();b.focus();w.execCommand("SaveAs",true,d);document.body.removeChild(g)}}else{var x=i.get("lang");var M=""+'<body style="margin:0;">'+'<img src="'+u+'" style="max-width:100%;" title="'+(x&&x[0]||"")+'" />'+"</body>";var S=window.open();S.document.write(M);S.document.title=n}}};t.getDefaultOption=function(r){var t={show:true,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return t};return t}(SG);var DG="__ec_magicType_stack__";var RG=[["line","bar"],["stack"]];var FG=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.getIcons=function(){var r=this.model;var t=r.get("icon");var i={};V(r.get("type"),(function(r){if(t[r]){i[r]=t[r]}}));return i};t.getDefaultOption=function(r){var t={show:true,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return t};t.prototype.onclick=function(r,t,i){var n=this.model;var a=n.get(["seriesIndex",i]);if(!BG[i]){return}var e={series:[]};var u=function(r){var t=r.subType;var a=r.id;var u=BG[i](t,a,r,n);if(u){B(u,r.option);e.series.push(u)}var o=r.coordinateSystem;if(o&&o.type==="cartesian2d"&&(i==="line"||i==="bar")){var v=o.getAxesByScale("ordinal")[0];if(v){var s=v.dim;var f=s+"Axis";var l=r.getReferringComponents(f,Fu).models[0];var h=l.componentIndex;e[f]=e[f]||[];for(var c=0;c<=h;c++){e[f][h]=e[f][h]||{}}e[f][h].boundaryGap=i==="bar"}}};V(RG,(function(r){if(_(r,i)>=0){V(r,(function(r){n.setIconStatus(r,"normal")}))}}));n.setIconStatus(i,"emphasis");r.eachComponent({mainType:"series",query:a==null?null:{seriesIndex:a}},u);var o;var v=i;if(i==="stack"){o=D({stack:n.option.title.tiled,tiled:n.option.title.stack},n.option.title);if(n.get(["iconStatus",i])!=="emphasis"){v="tiled"}}t.dispatchAction({type:"changeMagicType",currentType:v,newOption:e,newTitle:o,featureName:"magicType"})};return t}(SG);var BG={line:function(r,t,i,n){if(r==="bar"){return D({id:t,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get(["option","line"])||{},true)}},bar:function(r,t,i,n){if(r==="line"){return D({id:t,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get(["option","bar"])||{},true)}},stack:function(r,t,i,n){var a=i.get("stack")===DG;if(r==="line"||r==="bar"){n.setIconStatus("stack",a?"normal":"emphasis");return D({id:t,stack:a?"":DG},n.get(["option","stack"])||{},true)}}};Vx({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(r,t){t.mergeOption(r.newOption)}));var _G=new Array(60).join("-");var EG="\t";function PG(r){var t={};var i=[];var n=[];r.eachRawSeries((function(r){var a=r.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var e=a.getBaseAxis();if(e.type==="category"){var u=e.dim+"_"+e.index;if(!t[u]){t[u]={categoryAxis:e,valueAxis:a.getOtherAxis(e),series:[]};n.push({axisDim:e.dim,axisIndex:e.index})}t[u].series.push(r)}else{i.push(r)}}else{i.push(r)}}));return{seriesGroupByCategoryAxis:t,other:i,meta:n}}function WG(r){var t=[];V(r,(function(r,i){var n=r.categoryAxis;var a=r.valueAxis;var e=a.dim;var u=[" "].concat(H(r.series,(function(r){return r.name})));var o=[n.model.getCategories()];V(r.series,(function(r){var t=r.getRawData();o.push(r.getRawData().mapArray(t.mapDimension(e),(function(r){return r})))}));var v=[u.join(EG)];for(var s=0;s<o[0].length;s++){var f=[];for(var l=0;l<o.length;l++){f.push(o[l][s])}v.push(f.join(EG))}t.push(v.join("\n"))}));return t.join("\n\n"+_G+"\n\n")}function VG(r){return H(r,(function(r){var t=r.getRawData();var i=[r.name];var n=[];t.each(t.dimensions,(function(){var r=arguments.length;var a=arguments[r-1];var e=t.getName(a);for(var u=0;u<r-1;u++){n[u]=arguments[u]}i.push((e?e+EG:"")+n.join(EG))}));return i.join("\n")})).join("\n\n"+_G+"\n\n")}function HG(r){var t=PG(r);return{value:X([WG(t.seriesGroupByCategoryAxis),VG(t.other)],(function(r){return!!r.replace(/[\n\t\s]/g,"")})).join("\n\n"+_G+"\n\n"),meta:t.meta}}function YG(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function XG(r){var t=r.slice(0,r.indexOf("\n"));if(t.indexOf(EG)>=0){return true}}var GG=new RegExp("["+EG+"]+","g");function UG(r){var t=r.split(/\n+/g);var i=YG(t.shift()).split(GG);var n=[];var a=H(i,(function(r){return{name:r,data:[]}}));for(var e=0;e<t.length;e++){var u=YG(t[e]).split(GG);n.push(u.shift());for(var o=0;o<u.length;o++){a[o]&&(a[o].data[e]=u[o])}}return{series:a,categories:n}}function ZG(r){var t=r.split(/\n+/g);var i=YG(t.shift());var n=[];for(var a=0;a<t.length;a++){var e=YG(t[a]);if(!e){continue}var u=e.split(GG);var o="";var v=void 0;var s=false;if(isNaN(u[0])){s=true;o=u[0];u=u.slice(1);n[a]={name:o,value:[]};v=n[a].value}else{v=n[a]=[]}for(var f=0;f<u.length;f++){v.push(+u[f])}if(v.length===1){s?n[a].value=v[0]:n[a]=v[0]}}return{name:i,data:n}}function jG(r,t){var i=r.split(new RegExp("\n*"+_G+"\n*","g"));var n={series:[]};V(i,(function(r,i){if(XG(r)){var a=UG(r);var e=t[i];var u=e.axisDim+"Axis";if(e){n[u]=n[u]||[];n[u][e.axisIndex]={data:a.categories};n.series=n.series.concat(a.series)}}else{var a=ZG(r);n.series.push(a)}}));return n}var qG=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.onclick=function(r,t){setTimeout((function(){t.dispatchAction({type:"hideTip"})}));var i=t.getDom();var n=this.model;if(this._dom){i.removeChild(this._dom)}var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px";a.style.backgroundColor=n.get("backgroundColor")||"#fff";var e=document.createElement("h4");var u=n.get("lang")||[];e.innerHTML=u[0]||n.get("title");e.style.cssText="margin:10px 20px";e.style.color=n.get("textColor");var o=document.createElement("div");var v=document.createElement("textarea");o.style.cssText="overflow:auto";var s=n.get("optionToContent");var f=n.get("contentToOption");var l=HG(r);if(J(s)){var h=s(t.getOption());if($(h)){o.innerHTML=h}else if(ar(h)){o.appendChild(h)}}else{v.readOnly=n.get("readOnly");var c=v.style;c.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none";c.color=n.get("textColor");c.borderColor=n.get("textareaBorderColor");c.backgroundColor=n.get("textareaColor");v.value=l.value;o.appendChild(v)}var d=l.meta;var p=document.createElement("div");p.style.cssText="position:absolute;bottom:5px;left:0;right:0";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px";var y=document.createElement("div");var g=document.createElement("div");m+=";background-color:"+n.get("buttonColor");m+=";color:"+n.get("buttonTextColor");var b=this;function w(){i.removeChild(a);b._dom=null}xt(y,"click",w);xt(g,"click",(function(){if(f==null&&s!=null||f!=null&&s==null){w();return}var r;try{if(J(f)){r=f(o,t.getOption())}else{r=jG(v.value,d)}}catch(r){w();throw new Error("Data view format error "+r)}if(r){t.dispatchAction({type:"changeDataView",newOption:r})}w()}));y.innerHTML=u[1];g.innerHTML=u[2];g.style.cssText=y.style.cssText=m;!n.get("readOnly")&&p.appendChild(g);p.appendChild(y);a.appendChild(e);a.appendChild(o);a.appendChild(p);o.style.height=i.clientHeight-80+"px";i.appendChild(a);this._dom=a};t.prototype.remove=function(r,t){this._dom&&t.getDom().removeChild(this._dom)};t.prototype.dispose=function(r,t){this.remove(r,t)};t.getDefaultOption=function(r){var t={show:true,readOnly:false,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return t};return t}(SG);function KG(r,t){return H(r,(function(r,i){var n=t&&t[i];if(tr(n)&&!K(n)){var a=tr(r)&&!K(r);if(!a){r={value:r}}var e=n.name!=null&&r.name==null;r=B(r,n);e&&delete r.name;return r}else{return r}}))}Vx({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(r,t){var i=[];V(r.newOption.series,(function(r){var n=t.getSeriesByName(r.name)[0];if(!n){i.push(F({type:"scatter"},r))}else{var a=n.get("data");i.push({name:r.name,data:KG(r.data,a)})}}));t.mergeOption(B({series:i},r.newOption))}));var JG=V;var $G=Lu();function QG(r,t){var i=nU(r);JG(t,(function(t,n){var a=i.length-1;for(;a>=0;a--){var e=i[a];if(e[n]){break}}if(a<0){var u=r.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(u){var o=u.getPercentRange();i[0][n]={dataZoomId:n,start:o[0],end:o[1]}}}}));i.push(t)}function rU(r){var t=nU(r);var i=t[t.length-1];t.length>1&&t.pop();var n={};JG(i,(function(r,i){for(var a=t.length-1;a>=0;a--){r=t[a][i];if(r){n[i]=r;break}}}));return n}function tU(r){$G(r).snapshots=null}function iU(r){return nU(r).length}function nU(r){var t=$G(r);if(!t.snapshots){t.snapshots=[{}]}return t.snapshots}var aU=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.onclick=function(r,t){tU(r);t.dispatchAction({type:"restore",from:this.uid})};t.getDefaultOption=function(r){var t={show:true,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return t};return t}(SG);Vx({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(r,t){t.resetOption("recreate")}));var eU=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];var uU=function(){function r(r,t,i){var n=this;this._targetInfoList=[];var a=vU(t,r);V(sU,(function(r,t){if(!i||!i.include||_(i.include,t)>=0){r(a,n._targetInfoList)}}))}r.prototype.setOutputRanges=function(r,t){this.matchOutputRanges(r,t,(function(r,t,i){(r.coordRanges||(r.coordRanges=[])).push(t);if(!r.coordRange){r.coordRange=t;var n=hU[r.brushType](0,i,t);r.__rangeOffset={offset:dU[r.brushType](n.values,r.range,[1,1]),xyMinMax:n.xyMinMax}}}));return r};r.prototype.matchOutputRanges=function(r,t,i){V(r,(function(r){var n=this.findTargetInfo(r,t);if(n&&n!==true){V(n.coordSyses,(function(n){var a=hU[r.brushType](1,n,r.range,true);i(r,a.values,n,t)}))}}),this)};r.prototype.setInputRanges=function(r,t){V(r,(function(r){var i=this.findTargetInfo(r,t);r.range=r.range||[];if(i&&i!==true){r.panelId=i.panelId;var n=hU[r.brushType](0,i.coordSys,r.coordRange);var a=r.__rangeOffset;r.range=a?dU[r.brushType](n.values,a.offset,mU(n.xyMinMax,a.xyMinMax)):n.values}}),this)};r.prototype.makePanelOpts=function(r,t){return H(this._targetInfoList,(function(i){var n=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t?t(i):null,clipPath:nE(n),isTargetByCursor:eE(n,r,i.coordSysModel),getLinearBrushOtherExtent:aE(n)}}))};r.prototype.controlSeries=function(r,t,i){var n=this.findTargetInfo(r,i);return n===true||n&&_(n.coordSyses,t.coordinateSystem)>=0};r.prototype.findTargetInfo=function(r,t){var i=this._targetInfoList;var n=vU(t,r);for(var a=0;a<i.length;a++){var e=i[a];var u=r.panelId;if(u){if(e.panelId===u){return e}}else{for(var o=0;o<fU.length;o++){if(fU[o](n,e)){return e}}}}return true};return r}();function oU(r){r[0]>r[1]&&r.reverse();return r}function vU(r,t){return Du(r,t,{includeMainTypes:eU})}var sU={grid:function(r,t){var i=r.xAxisModels;var n=r.yAxisModels;var a=r.gridModels;var e=Sr();var u={};var o={};if(!i&&!n&&!a){return}V(i,(function(r){var t=r.axis.grid.model;e.set(t.id,t);u[t.id]=true}));V(n,(function(r){var t=r.axis.grid.model;e.set(t.id,t);o[t.id]=true}));V(a,(function(r){e.set(r.id,r);u[r.id]=true;o[r.id]=true}));e.each((function(r){var a=r.coordinateSystem;var e=[];V(a.getCartesians(),(function(r,t){if(_(i,r.getAxis("x").model)>=0||_(n,r.getAxis("y").model)>=0){e.push(r)}}));t.push({panelId:"grid--"+r.id,gridModel:r,coordSysModel:r,coordSys:e[0],coordSyses:e,getPanelRect:lU.grid,xAxisDeclared:u[r.id],yAxisDeclared:o[r.id]})}))},geo:function(r,t){V(r.geoModels,(function(r){var i=r.coordinateSystem;t.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:i,coordSyses:[i],getPanelRect:lU.geo})}))}};var fU=[function(r,t){var i=r.xAxisModel;var n=r.yAxisModel;var a=r.gridModel;!a&&i&&(a=i.axis.grid.model);!a&&n&&(a=n.axis.grid.model);return a&&a===t.gridModel},function(r,t){var i=r.geoModel;return i&&i===t.geoModel}];var lU={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys;var t=r.getBoundingRect().clone();t.applyTransform(Ih(r));return t}};var hU={lineX:q(cU,0),lineY:q(cU,1),rect:function(r,t,i,n){var a=r?t.pointToData([i[0][0],i[1][0]],n):t.dataToPoint([i[0][0],i[1][0]],n);var e=r?t.pointToData([i[0][1],i[1][1]],n):t.dataToPoint([i[0][1],i[1][1]],n);var u=[oU([a[0],e[0]]),oU([a[1],e[1]])];return{values:u,xyMinMax:u}},polygon:function(r,t,i,n){var a=[[Infinity,-Infinity],[Infinity,-Infinity]];var e=H(i,(function(i){var e=r?t.pointToData(i,n):t.dataToPoint(i,n);a[0][0]=Math.min(a[0][0],e[0]);a[1][0]=Math.min(a[1][0],e[1]);a[0][1]=Math.max(a[0][1],e[0]);a[1][1]=Math.max(a[1][1],e[1]);return e}));return{values:e,xyMinMax:a}}};function cU(r,t,i,n){var a=i.getAxis(["x","y"][r]);var e=oU(H([0,1],(function(r){return t?a.coordToData(a.toLocalCoord(n[r]),true):a.toGlobalCoord(a.dataToCoord(n[r]))})));var u=[];u[r]=e;u[1-r]=[NaN,NaN];return{values:e,xyMinMax:u}}var dU={lineX:q(pU,0),lineY:q(pU,1),rect:function(r,t,i){return[[r[0][0]-i[0]*t[0][0],r[0][1]-i[0]*t[0][1]],[r[1][0]-i[1]*t[1][0],r[1][1]-i[1]*t[1][1]]]},polygon:function(r,t,i){return H(r,(function(r,n){return[r[0]-i[0]*t[n][0],r[1]-i[1]*t[n][1]]}))}};function pU(r,t,i,n){return[t[0]-n[r]*i[0],t[1]-n[r]*i[1]]}function mU(r,t){var i=yU(r);var n=yU(t);var a=[i[0]/n[0],i[1]/n[1]];isNaN(a[0])&&(a[0]=1);isNaN(a[1])&&(a[1]=1);return a}function yU(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var gU=V;var bU=Au("toolbox-dataZoom_");var wU=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.render=function(r,t,i,n){if(!this._brushController){this._brushController=new w_(i.getZr());this._brushController.on("brush",j(this._onBrush,this)).mount()}kU(r,t,this,n,i);SU(r,t)};t.prototype.onclick=function(r,t,i){xU[i].call(this)};t.prototype.remove=function(r,t){this._brushController&&this._brushController.unmount()};t.prototype.dispose=function(r,t){this._brushController&&this._brushController.dispose()};t.prototype._onBrush=function(r){var t=r.areas;if(!r.isEnd||!t.length){return}var i={};var n=this.ecModel;this._brushController.updateCovers([]);var a=new uU(MU(this.model),n,{include:["grid"]});a.matchOutputRanges(t,n,(function(r,t,i){if(i.type!=="cartesian2d"){return}var n=r.brushType;if(n==="rect"){e("x",i,t[0]);e("y",i,t[1])}else{e({lineX:"x",lineY:"y"}[n],i,t)}}));QG(n,i);this._dispatchZoomAction(i);function e(r,t,a){var e=t.getAxis(r);var o=e.model;var v=u(r,o,n);var s=v.findRepresentativeAxisProxy(o).getMinMaxSpan();if(s.minValueSpan!=null||s.maxValueSpan!=null){a=GB(0,a.slice(),e.scale.getExtent(),0,s.minValueSpan,s.maxValueSpan)}v&&(i[v.id]={dataZoomId:v.id,startValue:a[0],endValue:a[1]})}function u(r,t,i){var n;i.eachComponent({mainType:"dataZoom",subType:"select"},(function(i){var a=i.getAxisModel(r,t.componentIndex);a&&(n=i)}));return n}};t.prototype._dispatchZoomAction=function(r){var t=[];gU(r,(function(r,i){t.push(O(r))}));t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})};t.getDefaultOption=function(r){var t={show:true,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return t};return t}(SG);var xU={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(rU(this.ecModel))}};function MU(r){var t={xAxisIndex:r.get("xAxisIndex",true),yAxisIndex:r.get("yAxisIndex",true),xAxisId:r.get("xAxisId",true),yAxisId:r.get("yAxisId",true)};if(t.xAxisIndex==null&&t.xAxisId==null){t.xAxisIndex="all"}if(t.yAxisIndex==null&&t.yAxisId==null){t.yAxisIndex="all"}return t}function SU(r,t){r.setIconStatus("back",iU(t)>1?"emphasis":"normal")}function kU(r,t,i,n,a){var e=i._isZoomActive;if(n&&n.type==="takeGlobalCursor"){e=n.key==="dataZoomSelect"?n.dataZoomSelectActive:false}i._isZoomActive=e;r.setIconStatus("zoom",e?"emphasis":"normal");var u=new uU(MU(r),t,{include:["grid"]});var o=u.makePanelOpts(a,(function(r){return r.xAxisDeclared&&!r.yAxisDeclared?"lineX":!r.xAxisDeclared&&r.yAxisDeclared?"lineY":"rect"}));i._brushController.setPanels(o).enableBrush(e&&o.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:false)}vp("dataZoom",(function(r){var t=r.getComponent("toolbox",0);var i=["feature","dataZoom"];if(!t||t.get(i)==null){return}var n=t.getModel(i);var a=[];var e=MU(n);var u=Du(r,e);gU(u.xAxisModels,(function(r){return o(r,"xAxis","xAxisIndex")}));gU(u.yAxisModels,(function(r){return o(r,"yAxis","yAxisIndex")}));function o(r,t,i){var e=r.componentIndex;var u={type:"select",$fromToolbox:true,filterMode:n.get("filterMode",true)||"filter",id:bU+t+e};u[i]=e;a.push(u)}return a}));function NU(r){r.registerComponentModel(IG);r.registerComponentView(zG);NG("saveAsImage",OG);NG("magicType",FG);NG("dataView",qG);NG("dataZoom",wU);NG("restore",aU);$x(MG)}var AU=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.type="tooltip";t.dependencies=["axisPointer"];t.defaultOption={z:60,show:true,showContent:true,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:false,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:false,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}};return t}(Ed);function IU(r){var t=r.get("confine");return t!=null?!!t:r.get("renderMode")==="richText"}function CU(r){if(!o.domSupported){return}var t=document.documentElement.style;for(var i=0,n=r.length;i<n;i++){if(r[i]in t){return r[i]}}}var TU=CU(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);var zU=CU(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function LU(r,t){if(!r){return t}t=dd(t,true);var i=r.indexOf(t);r=i===-1?t:"-"+r.slice(0,i)+"-"+t;return r.toLowerCase()}function OU(r,t){var i=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return i?t?i[t]:i:null}var DU=LU(zU,"transition");var RU=LU(TU,"transform");var FU="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(o.transform3dSupported?"will-change:transform;":"");function BU(r){r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top";return r}function _U(r,t,i){if(!$(i)||i==="inside"){return""}var n=r.get("backgroundColor");var a=r.get("borderWidth");t=Md(t);var e=BU(i);var u=Math.max(Math.round(a)*1.5,6);var o="";var v=RU+":";var s;if(_(["left","right"],e)>-1){o+="top:50%";v+="translateY(-50%) rotate("+(s=e==="left"?-225:-45)+"deg)"}else{o+="left:50%";v+="translateX(-50%) rotate("+(s=e==="top"?225:45)+"deg)"}var f=s*Math.PI/180;var l=u+a;var h=l*Math.abs(Math.cos(f))+l*Math.abs(Math.sin(f));var c=Math.round(((h-Math.SQRT2*a)/2+Math.SQRT2*a-(h-l)/2)*100)/100;o+=";"+e+":-"+c+"px";var d=t+" solid "+a+"px;";var p=["position:absolute;width:"+u+"px;height:"+u+"px;z-index:-1;",o+";"+v+";","border-bottom:"+d,"border-right:"+d,"background-color:"+n+";"];return'<div style="'+p.join("")+'"></div>'}function EU(r,t){var i="cubic-bezier(0.23,1,0.32,1)";var n=" "+r/2+"s "+i;var a="opacity"+n+",visibility"+n;if(!t){n=" "+r+"s "+i;a+=o.transformSupported?","+RU+n:",left"+n+",top"+n}return DU+":"+a}function PU(r,t,i){var n=r.toFixed(0)+"px";var a=t.toFixed(0)+"px";if(!o.transformSupported){return i?"top:"+a+";left:"+n+";":[["top",a],["left",n]]}var e=o.transform3dSupported;var u="translate"+(e?"3d":"")+"("+n+","+a+(e?",0":"")+")";return i?"top:0;left:0;"+RU+":"+u+";":[["top",0],["left",0],[TU,u]]}function WU(r){var t=[];var i=r.get("fontSize");var n=r.getTextColor();n&&t.push("color:"+n);t.push("font:"+r.getFont());i&&t.push("line-height:"+Math.round(i*3/2)+"px");var a=r.get("textShadowColor");var e=r.get("textShadowBlur")||0;var u=r.get("textShadowOffsetX")||0;var o=r.get("textShadowOffsetY")||0;a&&e&&t.push("text-shadow:"+u+"px "+o+"px "+e+"px "+a);V(["decoration","align"],(function(i){var n=r.get(i);n&&t.push("text-"+i+":"+n)}));return t.join(";")}function VU(r,t,i){var n=[];var a=r.get("transitionDuration");var e=r.get("backgroundColor");var u=r.get("shadowBlur");var o=r.get("shadowColor");var v=r.get("shadowOffsetX");var s=r.get("shadowOffsetY");var f=r.getModel("textStyle");var l=Yy(r,"html");var h=v+"px "+s+"px "+u+"px "+o;n.push("box-shadow:"+h);t&&a&&n.push(EU(a,i));if(e){n.push("background-color:"+e)}V(["width","color","radius"],(function(t){var i="border-"+t;var a=dd(i);var e=r.get(a);e!=null&&n.push(i+":"+e+(t==="color"?"":"px"))}));n.push(WU(f));if(l!=null){n.push("padding:"+pd(l).join("px ")+"px")}return n.join(";")+";"}function HU(r,t,i,n,a){var e=t&&t.painter;if(i){var u=e&&e.getViewportRoot();if(u){et(r,u,document.body,n,a)}}else{r[0]=n;r[1]=a;var o=e&&e.getViewportRootOffset();if(o){r[0]+=o.offsetLeft;r[1]+=o.offsetTop}}r[2]=r[0]/t.getWidth();r[3]=r[1]/t.getHeight()}var YU=function(){function r(r,t,i){this._show=false;this._styleCoord=[0,0,0,0];this._enterable=true;this._alwaysShowContent=false;this._firstShow=true;this._longHide=true;if(o.wxa){return null}var n=document.createElement("div");n.domBelongToZr=true;this.el=n;var a=this._zr=t.getZr();var e=this._appendToBody=i&&i.appendToBody;HU(this._styleCoord,a,e,t.getWidth()/2,t.getHeight()/2);if(e){document.body.appendChild(n)}else{r.appendChild(n)}this._container=r;var u=this;n.onmouseenter=function(){if(u._enterable){clearTimeout(u._hideTimeout);u._show=true}u._inContent=true};n.onmousemove=function(r){r=r||window.event;if(!u._enterable){var t=a.handler;var i=a.painter.getViewportRoot();bt(i,r,true);t.dispatch("mousemove",r)}};n.onmouseleave=function(){u._inContent=false;if(u._enterable){if(u._show){u.hideLater(u._hideDelay)}}}}r.prototype.update=function(r){var t=this._container;var i=OU(t,"position");var n=t.style;if(n.position!=="absolute"&&i!=="absolute"){n.position="relative"}var a=r.get("alwaysShowContent");a&&this._moveIfResized();this._alwaysShowContent=a;this.el.className=r.get("className")||""};r.prototype.show=function(r,t){clearTimeout(this._hideTimeout);clearTimeout(this._longHideTimeout);var i=this.el;var n=i.style;var a=this._styleCoord;if(!i.innerHTML){n.display="none"}else{n.cssText=FU+VU(r,!this._firstShow,this._longHide)+PU(a[0],a[1],true)+("border-color:"+Md(t)+";")+(r.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none"))}this._show=true;this._firstShow=false;this._longHide=false};r.prototype.setContent=function(r,t,i,n,a){var e=this.el;if(r==null){e.innerHTML="";return}var u="";if($(a)&&i.get("trigger")==="item"&&!IU(i)){u=_U(i,n,a)}if($(r)){e.innerHTML=r+u}else if(r){e.innerHTML="";if(!K(r)){r=[r]}for(var o=0;o<r.length;o++){if(ar(r[o])&&r[o].parentNode!==e){e.appendChild(r[o])}}if(u&&e.childNodes.length){var v=document.createElement("div");v.innerHTML=u;e.appendChild(v)}}};r.prototype.setEnterable=function(r){this._enterable=r};r.prototype.getSize=function(){var r=this.el;return[r.offsetWidth,r.offsetHeight]};r.prototype.moveTo=function(r,t){var i=this._styleCoord;HU(i,this._zr,this._appendToBody,r,t);if(i[0]!=null&&i[1]!=null){var n=this.el.style;var a=PU(i[0],i[1]);V(a,(function(r){n[r[0]]=r[1]}))}};r.prototype._moveIfResized=function(){var r=this._styleCoord[2];var t=this._styleCoord[3];this.moveTo(r*this._zr.getWidth(),t*this._zr.getHeight())};r.prototype.hide=function(){var r=this;var t=this.el.style;t.visibility="hidden";t.opacity="0";o.transform3dSupported&&(t.willChange="");this._show=false;this._longHideTimeout=setTimeout((function(){return r._longHide=true}),500)};r.prototype.hideLater=function(r){if(this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent){if(r){this._hideDelay=r;this._show=false;this._hideTimeout=setTimeout(j(this.hide,this),r)}else{this.hide()}}};r.prototype.isShow=function(){return this._show};r.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)};return r}();var XU=function(){function r(r){this._show=false;this._styleCoord=[0,0,0,0];this._alwaysShowContent=false;this._enterable=true;this._zr=r.getZr();ZU(this._styleCoord,this._zr,r.getWidth()/2,r.getHeight()/2)}r.prototype.update=function(r){var t=r.get("alwaysShowContent");t&&this._moveIfResized();this._alwaysShowContent=t};r.prototype.show=function(){if(this._hideTimeout){clearTimeout(this._hideTimeout)}this.el.show();this._show=true};r.prototype.setContent=function(r,t,i,n,a){var e=this;if(tr(r)){eu("")}if(this.el){this._zr.remove(this.el)}var u=i.getModel("textStyle");this.el=new es({style:{rich:t.richTextStyles,text:r,lineHeight:22,borderWidth:1,borderColor:n,textShadowColor:u.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:Yy(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")});V(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(r){e.el.style[r]=i.get(r)}));V(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(r){e.el.style[r]=u.get(r)||0}));this._zr.add(this.el);var o=this;this.el.on("mouseover",(function(){if(o._enterable){clearTimeout(o._hideTimeout);o._show=true}o._inContent=true}));this.el.on("mouseout",(function(){if(o._enterable){if(o._show){o.hideLater(o._hideDelay)}}o._inContent=false}))};r.prototype.setEnterable=function(r){this._enterable=r};r.prototype.getSize=function(){var r=this.el;var t=this.el.getBoundingRect();var i=UU(r.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]};r.prototype.moveTo=function(r,t){var i=this.el;if(i){var n=this._styleCoord;ZU(n,this._zr,r,t);r=n[0];t=n[1];var a=i.style;var e=GU(a.borderWidth||0);var u=UU(a);i.x=r+e+u.left;i.y=t+e+u.top;i.markRedraw()}};r.prototype._moveIfResized=function(){var r=this._styleCoord[2];var t=this._styleCoord[3];this.moveTo(r*this._zr.getWidth(),t*this._zr.getHeight())};r.prototype.hide=function(){if(this.el){this.el.hide()}this._show=false};r.prototype.hideLater=function(r){if(this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent){if(r){this._hideDelay=r;this._show=false;this._hideTimeout=setTimeout(j(this.hide,this),r)}else{this.hide()}}};r.prototype.isShow=function(){return this._show};r.prototype.dispose=function(){this._zr.remove(this.el)};return r}();function GU(r){return Math.max(0,r)}function UU(r){var t=GU(r.shadowBlur||0);var i=GU(r.shadowOffsetX||0);var n=GU(r.shadowOffsetY||0);return{left:GU(t-i),right:GU(t+i),top:GU(t-n),bottom:GU(t+n)}}function ZU(r,t,i,n){r[0]=i;r[1]=n;r[2]=r[0]/t.getWidth();r[3]=r[1]/t.getHeight()}var jU=new ts({shape:{x:-1,y:-1,width:2,height:2}});var qU=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.init=function(r,t){if(o.node||!t.getDom()){return}var i=r.getComponent("tooltip");var n=this._renderMode=Wu(i.get("renderMode"));this._tooltipContent=n==="richText"?new XU(t):new YU(t.getDom(),t,{appendToBody:i.get("appendToBody",true)})};t.prototype.render=function(r,t,i){if(o.node||!i.getDom()){return}this.group.removeAll();this._tooltipModel=r;this._ecModel=t;this._api=i;var n=this._tooltipContent;n.update(r);n.setEnterable(r.get("enterable"));this._initGlobalListener();this._keepShow();if(this._renderMode!=="richText"&&r.get("transitionDuration")){bg(this,"_updatePosition",50,"fixRate")}else{wg(this,"_updatePosition")}};t.prototype._initGlobalListener=function(){var r=this._tooltipModel;var t=r.get("triggerOn");eY("itemTooltip",this._api,j((function(r,i,n){if(t!=="none"){if(t.indexOf(r)>=0){this._tryShow(i,n)}else if(r==="leave"){this._hide(n)}}}),this))};t.prototype._keepShow=function(){var r=this._tooltipModel;var t=this._ecModel;var i=this._api;var n=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&n!=="none"&&n!=="click"){var a=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout((function(){!i.isDisposed()&&a.manuallyShowTip(r,t,i,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})}))}};t.prototype.manuallyShowTip=function(r,t,i,n){if(n.from===this.uid||o.node||!i.getDom()){return}var a=JU(n,i);this._ticket="";var e=n.dataByCoordSys;var u=iZ(n,t,i);if(u){var v=u.el.getBoundingRect().clone();v.applyTransform(u.el.transform);this._tryShow({offsetX:v.x+v.width/2,offsetY:v.y+v.height/2,target:u.el,position:n.position,positionDefault:"bottom"},a)}else if(n.tooltip&&n.x!=null&&n.y!=null){var s=jU;s.x=n.x;s.y=n.y;s.update();bs(s).tooltipConfig={name:null,option:n.tooltip};this._tryShow({offsetX:n.x,offsetY:n.y,target:s},a)}else if(e){this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:e,tooltipOption:n.tooltipOption},a)}else if(n.seriesIndex!=null){if(this._manuallyAxisShowTip(r,t,i,n)){return}var f=cY(n,t);var l=f.point[0];var h=f.point[1];if(l!=null&&h!=null){this._tryShow({offsetX:l,offsetY:h,target:f.el,position:n.position,positionDefault:"bottom"},a)}}else if(n.x!=null&&n.y!=null){i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y});this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},a)}};t.prototype.manuallyHideTip=function(r,t,i,n){var a=this._tooltipContent;if(this._tooltipModel){a.hideLater(this._tooltipModel.get("hideDelay"))}this._lastX=this._lastY=this._lastDataByCoordSys=null;if(n.from!==this.uid){this._hide(JU(n,i))}};t.prototype._manuallyAxisShowTip=function(r,t,i,n){var a=n.seriesIndex;var e=n.dataIndex;var u=t.getComponent("axisPointer").coordSysAxesInfo;if(a==null||e==null||u==null){return}var o=t.getSeriesByIndex(a);if(!o){return}var v=o.getData();var s=KU([v.getItemModel(e),o,(o.coordinateSystem||{}).model],this._tooltipModel);if(s.get("trigger")!=="axis"){return}i.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:e,position:n.position});return true};t.prototype._tryShow=function(r,t){var i=r.target;var n=this._tooltipModel;if(!n){return}this._lastX=r.offsetX;this._lastY=r.offsetY;var a=r.dataByCoordSys;if(a&&a.length){this._showAxisTooltip(a,r)}else if(i){this._lastDataByCoordSys=null;var e;var u;lb(i,(function(r){if(bs(r).dataIndex!=null){e=r;return true}if(bs(r).tooltipConfig!=null){u=r;return true}}),true);if(e){this._showSeriesItemTooltip(r,e,t)}else if(u){this._showComponentItemTooltip(r,u,t)}else{this._hide(t)}}else{this._lastDataByCoordSys=null;this._hide(t)}};t.prototype._showOrMove=function(r,t){var i=r.get("showDelay");t=j(t,this);clearTimeout(this._showTimout);i>0?this._showTimout=setTimeout(t,i):t()};t.prototype._showAxisTooltip=function(r,t){var i=this._ecModel;var n=this._tooltipModel;var a=[t.offsetX,t.offsetY];var e=KU([t.tooltipOption],n);var u=this._renderMode;var o=[];var v=Ty("section",{blocks:[],noHeader:true});var s=[];var f=new Xy;V(r,(function(r){V(r.dataByAxis,(function(r){var t=i.getComponent(r.axisDim+"Axis",r.axisIndex);var a=r.value;if(!t||a==null){return}var e=UH(a,t.axis,i,r.seriesDataIndices,r.valueLabelOpt);var l=Ty("section",{header:e,noHeader:!pr(e),sortBlocks:true,blocks:[]});v.blocks.push(l);V(r.seriesDataIndices,(function(v){var h=i.getSeriesByIndex(v.seriesIndex);var c=v.dataIndexInside;var d=h.getDataParams(c);if(d.dataIndex<0){return}d.axisDim=r.axisDim;d.axisIndex=r.axisIndex;d.axisType=r.axisType;d.axisId=r.axisId;d.axisValue=ak(t.axis,{value:a});d.axisValueLabel=e;d.marker=f.makeTooltipMarker("item",Md(d.color),u);var p=Wm(h.formatTooltip(c,true,null));var m=p.frag;if(m){var y=KU([h],n).get("valueFormatter");l.blocks.push(y?F({valueFormatter:y},m):m)}if(p.text){s.push(p.text)}o.push(d)}))}))}));v.blocks.reverse();s.reverse();var l=t.position;var h=e.get("order");var c=Fy(v,f,u,h,i.get("useUTC"),e.get("textStyle"));c&&s.unshift(c);var d=u==="richText"?"\n\n":"<br/>";var p=s.join(d);this._showOrMove(e,(function(){if(this._updateContentNotChangedOnAxis(r,o)){this._updatePosition(e,l,a[0],a[1],this._tooltipContent,o)}else{this._showTooltipContent(e,p,o,Math.random()+"",a[0],a[1],l,null,f)}}))};t.prototype._showSeriesItemTooltip=function(r,t,i){var n=this._ecModel;var a=bs(t);var e=a.seriesIndex;var u=n.getSeriesByIndex(e);var o=a.dataModel||u;var v=a.dataIndex;var s=a.dataType;var f=o.getData(s);var l=this._renderMode;var h=r.positionDefault;var c=KU([f.getItemModel(v),o,u&&(u.coordinateSystem||{}).model],this._tooltipModel,h?{position:h}:null);var d=c.get("trigger");if(d!=null&&d!=="item"){return}var p=o.getDataParams(v,s);var m=new Xy;p.marker=m.makeTooltipMarker("item",Md(p.color),l);var y=Wm(o.formatTooltip(v,false,s));var g=c.get("order");var b=c.get("valueFormatter");var w=y.frag;var x=w?Fy(b?F({valueFormatter:b},w):w,m,l,g,n.get("useUTC"),c.get("textStyle")):y.text;var M="item_"+o.name+"_"+v;this._showOrMove(c,(function(){this._showTooltipContent(c,x,p,M,r.offsetX,r.offsetY,r.position,r.target,m)}));i({type:"showTip",dataIndexInside:v,dataIndex:f.getRawIndex(v),seriesIndex:e,from:this.uid})};t.prototype._showComponentItemTooltip=function(r,t,i){var n=bs(t);var a=n.tooltipConfig;var e=a.option||{};if($(e)){var u=e;e={content:u,formatter:u}}var o=[e];var v=this._ecModel.getComponent(n.componentMainType,n.componentIndex);if(v){o.push(v)}o.push({formatter:e.content});var s=r.positionDefault;var f=KU(o,this._tooltipModel,s?{position:s}:null);var l=f.get("content");var h=Math.random()+"";var c=new Xy;this._showOrMove(f,(function(){var i=O(f.get("formatterParams")||{});this._showTooltipContent(f,l,i,h,r.offsetX,r.offsetY,r.position,t,c)}));i({type:"showTip",from:this.uid})};t.prototype._showTooltipContent=function(r,t,i,n,a,e,u,o,v){this._ticket="";if(!r.get("showContent")||!r.get("show")){return}var s=this._tooltipContent;s.setEnterable(r.get("enterable"));var f=r.get("formatter");u=u||r.get("position");var l=t;var h=this._getNearestPoint([a,e],i,r.get("trigger"),r.get("borderColor"));var c=h.color;if(f){if($(f)){var d=r.ecModel.get("useUTC");var p=K(i)?i[0]:i;var m=p&&p.axisType&&p.axisType.indexOf("time")>=0;l=f;if(m){l=qc(p.axisValue,l,d)}l=bd(l,i,true)}else if(J(f)){var y=j((function(t,n){if(t===this._ticket){s.setContent(n,v,r,c,u);this._updatePosition(r,u,a,e,s,i,o)}}),this);this._ticket=n;l=f(i,n,y)}else{l=f}}s.setContent(l,v,r,c,u);s.show(r,c);this._updatePosition(r,u,a,e,s,i,o)};t.prototype._getNearestPoint=function(r,t,i,n){if(i==="axis"||K(t)){return{color:n||(this._renderMode==="html"?"#fff":"none")}}if(!K(t)){return{color:n||t.color||t.borderColor}}};t.prototype._updatePosition=function(r,t,i,n,a,e,u){var o=this._api.getWidth();var v=this._api.getHeight();t=t||r.get("position");var s=a.getSize();var f=r.get("align");var l=r.get("verticalAlign");var h=u&&u.getBoundingRect().clone();u&&h.applyTransform(u.transform);if(J(t)){t=t([i,n],e,a.el,h,{viewSize:[o,v],contentSize:s.slice()})}if(K(t)){i=Le(t[0],o);n=Le(t[1],v)}else if(tr(t)){var c=t;c.width=s[0];c.height=s[1];var d=zd(c,{width:o,height:v});i=d.x;n=d.y;f=null;l=null}else if($(t)&&u){var p=rZ(t,h,s,r.get("borderWidth"));i=p[0];n=p[1]}else{var p=$U(i,n,a,o,v,f?null:20,l?null:20);i=p[0];n=p[1]}f&&(i-=tZ(f)?s[0]/2:f==="right"?s[0]:0);l&&(n-=tZ(l)?s[1]/2:l==="bottom"?s[1]:0);if(IU(r)){var p=QU(i,n,a,o,v);i=p[0];n=p[1]}a.moveTo(i,n)};t.prototype._updateContentNotChangedOnAxis=function(r,t){var i=this._lastDataByCoordSys;var n=this._cbParamsList;var a=!!i&&i.length===r.length;a&&V(i,(function(i,e){var u=i.dataByAxis||[];var o=r[e]||{};var v=o.dataByAxis||[];a=a&&u.length===v.length;a&&V(u,(function(r,i){var e=v[i]||{};var u=r.seriesDataIndices||[];var o=e.seriesDataIndices||[];a=a&&r.value===e.value&&r.axisType===e.axisType&&r.axisId===e.axisId&&u.length===o.length;a&&V(u,(function(r,t){var i=o[t];a=a&&r.seriesIndex===i.seriesIndex&&r.dataIndex===i.dataIndex}));n&&V(r.seriesDataIndices,(function(r){var i=r.seriesIndex;var e=t[i];var u=n[i];if(e&&u&&u.data!==e.data){a=false}}))}))}));this._lastDataByCoordSys=r;this._cbParamsList=t;return!!a};t.prototype._hide=function(r){this._lastDataByCoordSys=null;r({type:"hideTip",from:this.uid})};t.prototype.dispose=function(r,t){if(o.node||!t.getDom()){return}wg(this,"_updatePosition");this._tooltipContent.dispose();lY("itemTooltip",t)};t.type="tooltip";return t}(eg);function KU(r,t,i){var n=t.ecModel;var a;if(i){a=new yc(i,n,n);a=new yc(t.option,a,n)}else{a=t}for(var e=r.length-1;e>=0;e--){var u=r[e];if(u){if(u instanceof yc){u=u.get("tooltip",true)}if($(u)){u={formatter:u}}if(u){a=new yc(u,a,n)}}}return a}function JU(r,t){return r.dispatchAction||j(t.dispatchAction,t)}function $U(r,t,i,n,a,e,u){var o=i.getSize();var v=o[0];var s=o[1];if(e!=null){if(r+v+e+2>n){r-=v+e}else{r+=e}}if(u!=null){if(t+s+u>a){t-=s+u}else{t+=u}}return[r,t]}function QU(r,t,i,n,a){var e=i.getSize();var u=e[0];var o=e[1];r=Math.min(r+u,n)-u;t=Math.min(t+o,a)-o;r=Math.max(r,0);t=Math.max(t,0);return[r,t]}function rZ(r,t,i,n){var a=i[0];var e=i[1];var u=Math.ceil(Math.SQRT2*n)+8;var o=0;var v=0;var s=t.width;var f=t.height;switch(r){case"inside":o=t.x+s/2-a/2;v=t.y+f/2-e/2;break;case"top":o=t.x+s/2-a/2;v=t.y-e-u;break;case"bottom":o=t.x+s/2-a/2;v=t.y+f+u;break;case"left":o=t.x-a-u;v=t.y+f/2-e/2;break;case"right":o=t.x+s+u;v=t.y+f/2-e/2}return[o,v]}function tZ(r){return r==="center"||r==="middle"}function iZ(r,t,i){var n=Ru(r).queryOptionMap;var a=n.keys()[0];if(!a||a==="series"){return}var e=_u(t,a,n.get(a),{useDefault:false,enableAll:false,enableNone:false});var u=e.models[0];if(!u){return}var o=i.getViewOfComponentModel(u);var v;o.group.traverse((function(t){var i=bs(t).tooltipConfig;if(i&&i.name===r.name){v=t;return true}}));if(v){return{componentMainType:a,componentIndex:u.componentIndex,el:v}}}function nZ(r){$x(AY);r.registerComponentModel(AU);r.registerComponentView(qU);r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Cr);r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Cr)}var aZ=["rect","polygon","keep","clear"];function eZ(r,t){var i=su(r?r.brush:[]);if(!i.length){return}var n=[];V(i,(function(r){var t=r.hasOwnProperty("toolbox")?r.toolbox:[];if(t instanceof Array){n=n.concat(t)}}));var a=r&&r.toolbox;if(K(a)){a=a[0]}if(!a){a={feature:{}};r.toolbox=[a]}var e=a.feature||(a.feature={});var u=e.brush||(e.brush={});var o=u.type||(u.type=[]);o.push.apply(o,n);uZ(o);if(t&&!o.length){o.push.apply(o,aZ)}}function uZ(r){var t={};V(r,(function(r){t[r]=1}));r.length=0;V(t,(function(t,i){r.push(i)}))}var oZ=V;function vZ(r){if(r){for(var t in r){if(r.hasOwnProperty(t)){return true}}}}function sZ(r,t,i){var n={};oZ(t,(function(t){var e=n[t]=a();oZ(r[t],(function(r,n){if(!iR.isValidType(n)){return}var a={type:n,visual:r};i&&i(a,t);e[n]=new iR(a);if(n==="opacity"){a=O(a);a.type="colorAlpha";e.__hidden.__alphaForOpacity=new iR(a)}}))}));return n;function a(){var r=function(){};r.prototype.__hidden=r.prototype;var t=new r;return t}}function fZ(r,t,i){var n;V(i,(function(r){if(t.hasOwnProperty(r)&&vZ(t[r])){n=true}}));n&&V(i,(function(i){if(t.hasOwnProperty(i)&&vZ(t[i])){r[i]=O(t[i])}else{delete r[i]}}))}function lZ(r,t,i,n,a,e){var u={};V(r,(function(r){var i=iR.prepareVisualTypes(t[r]);u[r]=i}));var o;function v(r){return eb(i,o,r)}function s(r,t){ob(i,o,r,t)}if(e==null){i.each(f)}else{i.each([e],f)}function f(r,f){o=e==null?r:f;var l=i.getRawDataItem(o);if(l&&l.visualMap===false){return}var h=n.call(a,r);var c=t[h];var d=u[h];for(var p=0,m=d.length;p<m;p++){var y=d[p];c[y]&&c[y].applyVisual(r,v,s)}}}function hZ(r,t,i,n){var a={};V(r,(function(r){var i=iR.prepareVisualTypes(t[r]);a[r]=i}));return{progress:function r(e,u){var o;if(n!=null){o=u.getDimensionIndex(n)}function v(r){return eb(u,f,r)}function s(r,t){ob(u,f,r,t)}var f;var l=u.getStore();while((f=e.next())!=null){var h=u.getRawDataItem(f);if(h&&h.visualMap===false){continue}var c=n!=null?l.get(o,f):f;var d=i(c);var p=t[d];var m=a[d];for(var y=0,g=m.length;y<g;y++){var b=m[y];p[b]&&p[b].applyVisual(c,v,s)}}}}}function cZ(r){var t=r.brushType;var i={point:function(n){return dZ[t].point(n,i,r)},rect:function(n){return dZ[t].rect(n,i,r)}};return i}var dZ={lineX:pZ(0),lineY:pZ(1),rect:{point:function(r,t,i){return r&&i.boundingRect.contain(r[0],r[1])},rect:function(r,t,i){return r&&i.boundingRect.intersect(r)}},polygon:{point:function(r,t,i){return r&&i.boundingRect.contain(r[0],r[1])&&dk(i.range,r[0],r[1])},rect:function(r,t,i){var n=i.range;if(!r||n.length<=1){return false}var a=r.x;var e=r.y;var u=r.width;var o=r.height;var v=n[0];if(dk(n,a,e)||dk(n,a+u,e)||dk(n,a,e+o)||dk(n,a+u,e+o)||Zt.create(r).contain(v[0],v[1])||Bh(a,e,a+u,e,n)||Bh(a,e,a,e+o,n)||Bh(a+u,e,a+u,e+o,n)||Bh(a,e+o,a+u,e+o,n)){return true}}}};function pZ(r){var t=["x","y"];var i=["width","height"];return{point:function(t,i,n){if(t){var a=n.range;var e=t[r];return mZ(e,a)}},rect:function(n,a,e){if(n){var u=e.range;var o=[n[t[r]],n[t[r]]+n[i[r]]];o[1]<o[0]&&o.reverse();return mZ(o[0],u)||mZ(o[1],u)||mZ(u[0],o)||mZ(u[1],o)}}}}function mZ(r,t){return t[0]<=r&&r<=t[1]}var yZ=["inBrush","outOfBrush"];var gZ="__ecBrushSelect";var bZ="__ecInBrushSelectEvent";function wZ(r){r.eachComponent({mainType:"brush"},(function(t){var i=t.brushTargetManager=new uU(t.option,r);i.setInputRanges(t.areas,r)}))}function xZ(r,t,i){var n=[];var a;var e;r.eachComponent({mainType:"brush"},(function(r){i&&i.type==="takeGlobalCursor"&&r.setBrushOption(i.key==="brush"?i.brushOption:{brushType:false})}));wZ(r);r.eachComponent({mainType:"brush"},(function(t,i){var u={brushId:t.id,brushIndex:i,brushName:t.name,areas:O(t.areas),selected:[]};n.push(u);var o=t.option;var v=o.brushLink;var s=[];var f=[];var l=[];var h=false;if(!i){a=o.throttleType;e=o.throttleDelay}var c=H(t.areas,(function(r){var t=AZ[r.brushType];var i=B({boundingRect:t?t(r):void 0},r);i.selectors=cZ(i);return i}));var d=sZ(t.option,yZ,(function(r){r.mappingMethod="fixed"}));K(v)&&V(v,(function(r){s[r]=1}));function p(r){return v==="all"||!!s[r]}function m(r){return!!r.length}r.eachSeries((function(r,t){var i=l[t]=[];r.subType==="parallel"?y(r,t):g(r,t,i)}));function y(r,t){var i=r.coordinateSystem;h=h||i.hasAxisBrushed();p(t)&&i.eachActiveState(r.getData(),(function(r,t){r==="active"&&(f[t]=1)}))}function g(i,n,a){if(!i.brushSelector||NZ(t,n)){return}V(c,(function(n){if(t.brushTargetManager.controlSeries(n,i,r)){a.push(n)}h=h||m(a)}));if(p(n)&&m(a)){var e=i.getData();e.each((function(r){if(kZ(i,a,e,r)){f[r]=1}}))}}r.eachSeries((function(r,t){var i={seriesId:r.id,seriesIndex:t,seriesName:r.name,dataIndex:[]};u.selected.push(i);var n=l[t];var a=r.getData();var e=p(t)?function(r){return f[r]?(i.dataIndex.push(a.getRawIndex(r)),"inBrush"):"outOfBrush"}:function(t){return kZ(r,n,a,t)?(i.dataIndex.push(a.getRawIndex(t)),"inBrush"):"outOfBrush"};(p(t)?h:m(n))&&lZ(yZ,d,a,e)}))}));MZ(t,a,e,n,i)}function MZ(r,t,i,n,a){if(!a){return}var e=r.getZr();if(e[bZ]){return}if(!e[gZ]){e[gZ]=SZ}var u=bg(e,gZ,i,t);u(r,n)}function SZ(r,t){if(!r.isDisposed()){var i=r.getZr();i[bZ]=true;r.dispatchAction({type:"brushSelect",batch:t});i[bZ]=false}}function kZ(r,t,i,n){for(var a=0,e=t.length;a<e;a++){var u=t[a];if(r.brushSelector(n,i,u.selectors,u)){return true}}}function NZ(r,t){var i=r.option.seriesIndex;return i!=null&&i!=="all"&&(K(i)?_(i,t)<0:t!==i)}var AZ={rect:function(r){return IZ(r.range)},polygon:function(r){var t;var i=r.range;for(var n=0,a=i.length;n<a;n++){t=t||[[Infinity,-Infinity],[Infinity,-Infinity]];var e=i[n];e[0]<t[0][0]&&(t[0][0]=e[0]);e[0]>t[0][1]&&(t[0][1]=e[0]);e[1]<t[1][0]&&(t[1][0]=e[1]);e[1]>t[1][1]&&(t[1][1]=e[1])}return t&&IZ(t)}};function IZ(r){return new Zt(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var CZ=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.init=function(r,t){this.ecModel=r;this.api=t;(this._brushController=new w_(t.getZr())).on("brush",j(this._onBrush,this)).mount()};t.prototype.render=function(r,t,i,n){this.model=r;this._updateController(r,t,i,n)};t.prototype.updateTransform=function(r,t,i,n){wZ(t);this._updateController(r,t,i,n)};t.prototype.updateVisual=function(r,t,i,n){this.updateTransform(r,t,i,n)};t.prototype.updateView=function(r,t,i,n){this._updateController(r,t,i,n)};t.prototype._updateController=function(r,t,i,n){(!n||n.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(i)).enableBrush(r.brushOption).updateCovers(r.areas.slice())};t.prototype.dispose=function(){this._brushController.dispose()};t.prototype._onBrush=function(r){var t=this.model.id;var i=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:t,areas:O(i),$from:t});r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:t,areas:O(i),$from:t})};t.type="brush";return t}(eg);var TZ="#ddd";var zZ=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.areas=[];i.brushOption={};return i}t.prototype.optionUpdated=function(r,t){var i=this.option;!t&&fZ(i,r,["inBrush","outOfBrush"]);var n=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:TZ};if(!n.hasOwnProperty("liftZ")){n.liftZ=5}};t.prototype.setAreas=function(r){if(!r){return}this.areas=H(r,(function(r){return LZ(this.option,r)}),this)};t.prototype.setBrushOption=function(r){this.brushOption=LZ(this.option,r);this.brushType=this.brushOption.brushType};t.type="brush";t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"];t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:true,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:true,z:1e4};return t}(Ed);function LZ(r,t){return D({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new yc(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},t,true)}var OZ=["rect","polygon","lineX","lineY","keep","clear"];var DZ=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.render=function(r,t,i){var n;var a;var e;t.eachComponent({mainType:"brush"},(function(r){n=r.brushType;a=r.brushOption.brushMode||"single";e=e||!!r.areas.length}));this._brushType=n;this._brushMode=a;V(r.get("type",true),(function(t){r.setIconStatus(t,(t==="keep"?a==="multiple":t==="clear"?e:t===n)?"emphasis":"normal")}))};t.prototype.updateView=function(r,t,i){this.render(r,t,i)};t.prototype.getIcons=function(){var r=this.model;var t=r.get("icon",true);var i={};V(r.get("type",true),(function(r){if(t[r]){i[r]=t[r]}}));return i};t.prototype.onclick=function(r,t,i){var n=this._brushType;var a=this._brushMode;if(i==="clear"){t.dispatchAction({type:"axisAreaSelect",intervals:[]});t.dispatchAction({type:"brush",command:"clear",areas:[]})}else{t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?n:n===i?false:i,brushMode:i==="keep"?a==="multiple"?"single":"multiple":a}})}};t.getDefaultOption=function(r){var t={show:true,type:OZ.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return t};return t}(SG);function RZ(r){r.registerComponentView(CZ);r.registerComponentModel(zZ);r.registerPreprocessor(eZ);r.registerVisual(r.PRIORITY.VISUAL.BRUSH,xZ);r.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(r,t){t.eachComponent({mainType:"brush",query:r},(function(t){t.setAreas(r.areas)}))}));r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Cr);r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Cr);NG("brush",DZ)}var FZ=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.layoutMode={type:"box",ignoreSize:true};return i}t.type="title";t.defaultOption={z:6,show:true,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}};return t}(Ed);var BZ=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.render=function(r,t,i){this.group.removeAll();if(!r.get("show")){return}var n=this.group;var a=r.getModel("textStyle");var e=r.getModel("subtextStyle");var u=r.get("textAlign");var o=fr(r.get("textBaseline"),r.get("textVerticalAlign"));var v=new es({style:qh(a,{text:r.get("text"),fill:a.getTextColor()},{disableBox:true}),z2:10});var s=v.getBoundingRect();var f=r.get("subtext");var l=new es({style:qh(e,{text:f,fill:e.getTextColor(),y:s.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:true}),z2:10});var h=r.get("link");var c=r.get("sublink");var d=r.get("triggerEvent",true);v.silent=!h&&!d;l.silent=!c&&!d;if(h){v.on("click",(function(){Sd(h,"_"+r.get("target"))}))}if(c){l.on("click",(function(){Sd(c,"_"+r.get("subtarget"))}))}bs(v).eventData=bs(l).eventData=d?{componentType:"title",componentIndex:r.componentIndex}:null;n.add(v);f&&n.add(l);var p=n.getBoundingRect();var m=r.getBoxLayoutParams();m.width=p.width;m.height=p.height;var y=zd(m,{width:i.getWidth(),height:i.getHeight()},r.get("padding"));if(!u){u=r.get("left")||r.get("right");if(u==="middle"){u="center"}if(u==="right"){y.x+=y.width}else if(u==="center"){y.x+=y.width/2}}if(!o){o=r.get("top")||r.get("bottom");if(o==="center"){o="middle"}if(o==="bottom"){y.y+=y.height}else if(o==="middle"){y.y+=y.height/2}o=o||"top"}n.x=y.x;n.y=y.y;n.markRedraw();var g={align:u,verticalAlign:o};v.setStyle(g);l.setStyle(g);p=n.getBoundingRect();var b=y.margin;var w=r.getItemStyle(["color","opacity"]);w.fill=r.get("backgroundColor");var x=new ts({shape:{x:p.x-b[3],y:p.y-b[0],width:p.width+b[1]+b[3],height:p.height+b[0]+b[2],r:r.get("borderRadius")},style:w,subPixelOptimize:true,silent:true});n.add(x)};t.type="title";return t}(eg);function _Z(r){r.registerComponentModel(FZ);r.registerComponentView(BZ)}var EZ=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.layoutMode="box";return i}t.prototype.init=function(r,t,i){this.mergeDefaultAndTheme(r,i);this._initData()};t.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments);this._initData()};t.prototype.setCurrentIndex=function(r){if(r==null){r=this.option.currentIndex}var t=this._data.count();if(this.option.loop){r=(r%t+t)%t}else{r>=t&&(r=t-1);r<0&&(r=0)}this.option.currentIndex=r};t.prototype.getCurrentIndex=function(){return this.option.currentIndex};t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1};t.prototype.setPlayState=function(r){this.option.autoPlay=!!r};t.prototype.getPlayState=function(){return!!this.option.autoPlay};t.prototype._initData=function(){var r=this.option;var t=r.data||[];var i=r.axisType;var n=this._names=[];var a;if(i==="category"){a=[];V(t,(function(r,t){var i=Su(hu(r),"");var e;if(tr(r)){e=O(r);e.value=t}else{e=t}a.push(e);n.push(i)}))}else{a=t}var e={category:"ordinal",time:"time",value:"number"}[i]||"number";var u=this._data=new TM([{name:"value",type:e}],this);u.initData(a,n)};t.prototype.getData=function(){return this._data};t.prototype.getCategories=function(){if(this.get("axisType")==="category"){return this._names.slice()}};t.type="timeline";t.defaultOption={z:4,show:true,axisType:"time",realtime:true,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:false,rewind:false,loop:true,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]};return t}(Ed);var PZ=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.type="timeline.slider";t.defaultOption=Mc(EZ.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:false,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:true,width:2,color:"#DAE1F5"},label:{position:"auto",show:true,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:true,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:true,showPlayBtn:true,showPrevBtn:true,showNextBtn:true,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:true,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]});return t}(EZ);P(PZ,Pm.prototype);var WZ=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.type="timeline";return t}(eg);var VZ=function(r){a(t,r);function t(t,i,n,a){var e=r.call(this,t,i,n)||this;e.type=a||"value";return e}t.prototype.getLabelModel=function(){return this.model.getModel("label")};t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"};return t}(Xk);var HZ=Math.PI;var YZ=Lu();var XZ=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.init=function(r,t){this.api=t};t.prototype.render=function(r,t,i){this.model=r;this.api=i;this.ecModel=t;this.group.removeAll();if(r.get("show",true)){var n=this._layout(r,i);var a=this._createGroup("_mainGroup");var e=this._createGroup("_labelGroup");var u=this._axis=this._createAxis(n,r);r.formatTooltip=function(r){var t=u.scale.getLabel({value:r});return Ty("nameValue",{noName:true,value:t})};V(["AxisLine","AxisTick","Control","CurrentPointer"],(function(t){this["_render"+t](n,a,u,r)}),this);this._renderAxisLabel(n,e,u,r);this._position(n,r)}this._doPlayStop();this._updateTicksStatus()};t.prototype.remove=function(){this._clearTimer();this.group.removeAll()};t.prototype.dispose=function(){this._clearTimer()};t.prototype._layout=function(r,t){var i=r.get(["label","position"]);var n=r.get("orient");var a=UZ(r,t);var e;if(i==null||i==="auto"){e=n==="horizontal"?a.y+a.height/2<t.getHeight()/2?"-":"+":a.x+a.width/2<t.getWidth()/2?"+":"-"}else if($(i)){e={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[n][i]}else{e=i}var u={horizontal:"center",vertical:e>=0||e==="+"?"left":"right"};var o={horizontal:e>=0||e==="+"?"top":"bottom",vertical:"middle"};var v={horizontal:0,vertical:HZ/2};var s=n==="vertical"?a.height:a.width;var f=r.getModel("controlStyle");var l=f.get("show",true);var h=l?f.get("itemSize"):0;var c=l?f.get("itemGap"):0;var d=h+c;var p=r.get(["label","rotate"])||0;p=p*HZ/180;var m;var y;var g;var b=f.get("position",true);var w=l&&f.get("showPlayBtn",true);var x=l&&f.get("showPrevBtn",true);var M=l&&f.get("showNextBtn",true);var S=0;var k=s;if(b==="left"||b==="bottom"){w&&(m=[0,0],S+=d);x&&(y=[S,0],S+=d);M&&(g=[k-h,0],k-=d)}else{w&&(m=[k-h,0],k-=d);x&&(y=[0,0],S+=d);M&&(g=[k-h,0],k-=d)}var N=[S,k];if(r.get("inverse")){N.reverse()}return{viewRect:a,mainLength:s,orient:n,rotation:v[n],labelRotation:p,labelPosOpt:e,labelAlign:r.get(["label","align"])||u[n],labelBaseline:r.get(["label","verticalAlign"])||r.get(["label","baseline"])||o[n],playPosition:m,prevBtnPosition:y,nextBtnPosition:g,axisExtent:N,controlSize:h,controlGap:c}};t.prototype._position=function(r,t){var i=this._mainGroup;var n=this._labelGroup;var a=r.viewRect;if(r.orient==="vertical"){var e=Tt();var u=a.x;var o=a.y+a.height;Dt(e,e,[-u,-o]);Rt(e,e,-HZ/2);Dt(e,e,[u,o]);a=a.clone();a.applyTransform(e)}var v=m(a);var s=m(i.getBoundingRect());var f=m(n.getBoundingRect());var l=[i.x,i.y];var h=[n.x,n.y];h[0]=l[0]=v[0][0];var c=r.labelPosOpt;if(c==null||$(c)){var d=c==="+"?0:1;y(l,s,v,1,d);y(h,f,v,1,1-d)}else{var d=c>=0?0:1;y(l,s,v,1,d);h[1]=l[1]+c}i.setPosition(l);n.setPosition(h);i.rotation=n.rotation=r.rotation;p(i);p(n);function p(r){r.originX=v[0][0]-r.x;r.originY=v[1][0]-r.y}function m(r){return[[r.x,r.x+r.width],[r.y,r.y+r.height]]}function y(r,t,i,n,a){r[n]+=i[n][a]-t[n][a]}};t.prototype._createAxis=function(r,t){var i=t.getData();var n=t.get("axisType");var a=GZ(t,n);a.getTicks=function(){return i.mapArray(["value"],(function(r){return{value:r}}))};var e=i.getDataExtent("value");a.setExtent(e[0],e[1]);a.calcNiceTicks();var u=new VZ("value",a,r.axisExtent,n);u.model=t;return u};t.prototype._createGroup=function(r){var t=this[r]=new xe;this.group.add(t);return t};t.prototype._renderAxisLine=function(r,t,i,n){var a=i.getExtent();if(!n.get(["lineStyle","show"])){return}var e=new Bl({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:F({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:true,z2:1});t.add(e);var u=this._progressLine=new Bl({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:B({lineCap:"round",lineWidth:e.style.lineWidth},n.getModel(["progress","lineStyle"]).getLineStyle()),silent:true,z2:1});t.add(u)};t.prototype._renderAxisTick=function(r,t,i,n){var a=this;var e=n.getData();var u=i.scale.getTicks();this._tickSymbols=[];V(u,(function(r){var u=i.dataToCoord(r.value);var o=e.getItemModel(r.value);var v=o.getModel("itemStyle");var s=o.getModel(["emphasis","itemStyle"]);var f=o.getModel(["progress","itemStyle"]);var l={x:u,y:0,onclick:j(a._changeTimeline,a,r.value)};var h=jZ(o,v,t,l);h.ensureState("emphasis").style=s.getItemStyle();h.ensureState("progress").style=f.getItemStyle();Mf(h);var c=bs(h);if(o.get("tooltip")){c.dataIndex=r.value;c.dataModel=n}else{c.dataIndex=c.dataModel=null}a._tickSymbols.push(h)}))};t.prototype._renderAxisLabel=function(r,t,i,n){var a=this;var e=i.getLabelModel();if(!e.get("show")){return}var u=n.getData();var o=i.getViewLabels();this._tickLabels=[];V(o,(function(n){var e=n.tickValue;var o=u.getItemModel(e);var v=o.getModel("label");var s=o.getModel(["emphasis","label"]);var f=o.getModel(["progress","label"]);var l=i.dataToCoord(n.tickValue);var h=new es({x:l,y:0,rotation:r.labelRotation-r.rotation,onclick:j(a._changeTimeline,a,e),silent:false,style:qh(v,{text:n.formattedLabel,align:r.labelAlign,verticalAlign:r.labelBaseline})});h.ensureState("emphasis").style=qh(s);h.ensureState("progress").style=qh(f);t.add(h);Mf(h);YZ(h).dataIndex=e;a._tickLabels.push(h)}))};t.prototype._renderControl=function(r,t,i,n){var a=r.controlSize;var e=r.rotation;var u=n.getModel("controlStyle").getItemStyle();var o=n.getModel(["emphasis","controlStyle"]).getItemStyle();var v=n.getPlayState();var s=n.get("inverse",true);f(r.nextBtnPosition,"next",j(this._changeTimeline,this,s?"-":"+"));f(r.prevBtnPosition,"prev",j(this._changeTimeline,this,s?"+":"-"));f(r.playPosition,v?"stop":"play",j(this._handlePlayClick,this,!v),true);function f(r,i,v,s){if(!r){return}var f=ue(fr(n.get(["controlStyle",i+"BtnSize"]),a),a);var l=[0,-f/2,f,f];var h=ZZ(n,i+"Icon",l,{x:r[0],y:r[1],originX:a/2,originY:0,rotation:s?-e:0,rectHover:true,style:u,onclick:v});h.ensureState("emphasis").style=o;t.add(h);Mf(h)}};t.prototype._renderCurrentPointer=function(r,t,i,n){var a=n.getData();var e=n.getCurrentIndex();var u=a.getItemModel(e).getModel("checkpointStyle");var o=this;var v={onCreate:function(r){r.draggable=true;r.drift=j(o._handlePointerDrag,o);r.ondragend=j(o._handlePointerDragend,o);qZ(r,o._progressLine,e,i,n,true)},onUpdate:function(r){qZ(r,o._progressLine,e,i,n)}};this._currentPointer=jZ(u,u,this._mainGroup,{},this._currentPointer,v)};t.prototype._handlePlayClick=function(r){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:r,from:this.uid})};t.prototype._handlePointerDrag=function(r,t,i){this._clearTimer();this._pointerChangeTimeline([i.offsetX,i.offsetY])};t.prototype._handlePointerDragend=function(r){this._pointerChangeTimeline([r.offsetX,r.offsetY],true)};t.prototype._pointerChangeTimeline=function(r,t){var i=this._toAxisCoord(r)[0];var n=this._axis;var a=De(n.getExtent().slice());i>a[1]&&(i=a[1]);i<a[0]&&(i=a[0]);this._currentPointer.x=i;this._currentPointer.markRedraw();var e=this._progressLine;if(e){e.shape.x2=i;e.dirty()}var u=this._findNearestTick(i);var o=this.model;if(t||u!==o.getCurrentIndex()&&o.get("realtime")){this._changeTimeline(u)}};t.prototype._doPlayStop=function(){var r=this;this._clearTimer();if(this.model.getPlayState()){this._timer=setTimeout((function(){var t=r.model;r._changeTimeline(t.getCurrentIndex()+(t.get("rewind",true)?-1:1))}),this.model.get("playInterval"))}};t.prototype._toAxisCoord=function(r){var t=this._mainGroup.getLocalTransform();return Ch(r,t,true)};t.prototype._findNearestTick=function(r){var t=this.model.getData();var i=Infinity;var n;var a=this._axis;t.each(["value"],(function(t,e){var u=a.dataToCoord(t);var o=Math.abs(u-r);if(o<i){i=o;n=e}}));return n};t.prototype._clearTimer=function(){if(this._timer){clearTimeout(this._timer);this._timer=null}};t.prototype._changeTimeline=function(r){var t=this.model.getCurrentIndex();if(r==="+"){r=t+1}else if(r==="-"){r=t-1}this.api.dispatchAction({type:"timelineChange",currentIndex:r,from:this.uid})};t.prototype._updateTicksStatus=function(){var r=this.model.getCurrentIndex();var t=this._tickSymbols;var i=this._tickLabels;if(t){for(var n=0;n<t.length;n++){t&&t[n]&&t[n].toggleState("progress",n<r)}}if(i){for(var n=0;n<i.length;n++){i&&i[n]&&i[n].toggleState("progress",YZ(i[n]).dataIndex<=r)}}};t.type="timeline.slider";return t}(WZ);function GZ(r,t){t=t||r.get("type");if(t){switch(t){case"category":return new uS({ordinalMeta:r.getCategories(),extent:[Infinity,-Infinity]});case"time":return new IS({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new vS}}}function UZ(r,t){return zd(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},r.get("padding"))}function ZZ(r,t,i,n){var a=n.style;var e=Fh(r.get(["controlStyle",t]),n||{},new Zt(i[0],i[1],i[2],i[3]));if(a){e.setStyle(a)}return e}function jZ(r,t,i,n,a,e){var u=t.get("color");if(!a){var o=r.get("symbol");a=kb(o,-1,-1,2,2,u);a.setStyle("strokeNoScale",true);i.add(a);e&&e.onCreate(a)}else{a.setColor(u);i.add(a);e&&e.onUpdate(a)}var v=t.getItemStyle(["color"]);a.setStyle(v);n=D({rectHover:true,z2:100},n,true);var s=Nb(r.get("symbolSize"));n.scaleX=s[0]/2;n.scaleY=s[1]/2;var f=Ab(r.get("symbolOffset"),s);if(f){n.x=(n.x||0)+f[0];n.y=(n.y||0)+f[1]}var l=r.get("symbolRotate");n.rotation=(l||0)*Math.PI/180||0;a.attr(n);a.updateTransform();return a}function qZ(r,t,i,n,a,e){if(r.dragging){return}var u=a.getModel("checkpointStyle");var o=n.dataToCoord(a.getData().get("value",i));if(e||!u.get("animation",true)){r.attr({x:o,y:0});t&&t.attr({shape:{x2:o}})}else{var v={duration:u.get("animationDuration",true),easing:u.get("animationEasing",true)};r.stopAnimation(null,true);r.animateTo({x:o,y:0},v);t&&t.animateTo({shape:{x2:o}},v)}}function KZ(r){r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(r,t,i){var n=t.getComponent("timeline");if(n&&r.currentIndex!=null){n.setCurrentIndex(r.currentIndex);if(!n.get("loop",true)&&n.isIndexMax()&&n.getPlayState()){n.setPlayState(false);i.dispatchAction({type:"timelinePlayChange",playState:false,from:r.from})}}t.resetOption("timeline",{replaceMerge:n.get("replaceMerge",true)});return B({currentIndex:n.option.currentIndex},r)}));r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(r,t){var i=t.getComponent("timeline");if(i&&r.playState!=null){i.setPlayState(r.playState)}}))}function JZ(r){var t=r&&r.timeline;if(!K(t)){t=t?[t]:[]}V(t,(function(r){if(!r){return}$Z(r)}))}function $Z(r){var t=r.type;var i={number:"value",time:"time"};if(i[t]){r.axisType=i[t];delete r.type}QZ(r);if(rj(r,"controlPosition")){var n=r.controlStyle||(r.controlStyle={});if(!rj(n,"position")){n.position=r.controlPosition}if(n.position==="none"&&!rj(n,"show")){n.show=false;delete n.position}delete r.controlPosition}V(r.data||[],(function(r){if(tr(r)&&!K(r)){if(!rj(r,"value")&&rj(r,"name")){r.value=r.name}QZ(r)}}))}function QZ(r){var t=r.itemStyle||(r.itemStyle={});var i=t.emphasis||(t.emphasis={});var n=r.label||r.label||{};var a=n.normal||(n.normal={});var e={normal:1,emphasis:1};V(n,(function(r,t){if(!e[t]&&!rj(a,t)){a[t]=r}}));if(i.label&&!rj(n,"emphasis")){n.emphasis=i.label;delete i.label}}function rj(r,t){return r.hasOwnProperty(t)}function tj(r){r.registerComponentModel(PZ);r.registerComponentView(XZ);r.registerSubTypeDefaulter("timeline",(function(){return"slider"}));KZ(r);r.registerPreprocessor(JZ)}function ij(r,t){if(!r){return false}var i=K(r)?r:[r];for(var n=0;n<i.length;n++){if(i[n]&&i[n][t]){return true}}return false}function nj(r){fu(r,"label",["show"])}var aj=Lu();var ej=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.createdBySelf=false;return i}t.prototype.init=function(r,t,i){this.mergeDefaultAndTheme(r,i);this._mergeOption(r,i,false,true)};t.prototype.isAnimationEnabled=function(){if(o.node){return false}var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()};t.prototype.mergeOption=function(r,t){this._mergeOption(r,t,false,false)};t.prototype._mergeOption=function(r,t,i,n){var a=this.mainType;if(!i){t.eachSeries((function(r){var i=r.get(this.mainType,true);var e=aj(r)[a];if(!i||!i.data){aj(r)[a]=null;return}if(!e){if(n){nj(i)}V(i.data,(function(r){if(r instanceof Array){nj(r[0]);nj(r[1])}else{nj(r)}}));e=this.createMarkerModelFromSeries(i,this,t);F(e,{mainType:this.mainType,seriesIndex:r.seriesIndex,name:r.name,createdBySelf:true});e.__hostSeries=r}else{e._mergeOption(i,t,true)}aj(r)[a]=e}),this)}};t.prototype.formatTooltip=function(r,t,i){var n=this.getData();var a=this.getRawValue(r);var e=n.getName(r);return Ty("section",{header:this.name,blocks:[Ty("nameValue",{name:e,value:a,noName:!e,noValue:a==null})]})};t.prototype.getData=function(){return this._data};t.prototype.setData=function(r){this._data=r};t.getMarkerModelFromSeries=function(r,t){return aj(r)[t]};t.type="marker";t.dependencies=["series","grid","polar","geo"];return t}(Ed);P(ej,Pm.prototype);var uj=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.createMarkerModelFromSeries=function(r,i,n){return new t(r,i,n)};t.type="markPoint";t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:true,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:true}}};return t}(ej);function oj(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function vj(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function sj(r,t,i,n,a,e){var u=[];var o=WM(t,n);var v=o?t.getCalculationInfo("stackResultDimension"):n;var s=yj(t,v,r);var f=t.indicesOfNearest(v,s)[0];u[a]=t.get(i,f);u[e]=t.get(v,f);var l=t.get(n,f);var h=Re(t.get(n,f));h=Math.min(h,20);if(h>=0){u[e]=+u[e].toFixed(h)}return[u,l]}var fj={min:q(sj,"min"),max:q(sj,"max"),average:q(sj,"average"),median:q(sj,"median")};function lj(r,t){if(!t){return}var i=r.getData();var n=r.coordinateSystem;var a=n&&n.dimensions;if(!vj(t)&&!K(t.coord)&&K(a)){var e=hj(t,i,n,r);t=O(t);if(t.type&&fj[t.type]&&e.baseAxis&&e.valueAxis){var u=_(a,e.baseAxis.dim);var o=_(a,e.valueAxis.dim);var v=fj[t.type](i,e.baseDataDim,e.valueDataDim,u,o);t.coord=v[0];t.value=v[1]}else{t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}}if(t.coord==null||!K(a)){t.coord=[]}else{var s=t.coord;for(var f=0;f<2;f++){if(fj[s[f]]){s[f]=yj(i,i.mapDimension(a[f]),s[f])}}}return t}function hj(r,t,i,n){var a={};if(r.valueIndex!=null||r.valueDim!=null){a.valueDataDim=r.valueIndex!=null?t.getDimension(r.valueIndex):r.valueDim;a.valueAxis=i.getAxis(cj(n,a.valueDataDim));a.baseAxis=i.getOtherAxis(a.valueAxis);a.baseDataDim=t.mapDimension(a.baseAxis.dim)}else{a.baseAxis=n.getBaseAxis();a.valueAxis=i.getOtherAxis(a.baseAxis);a.baseDataDim=t.mapDimension(a.baseAxis.dim);a.valueDataDim=t.mapDimension(a.valueAxis.dim)}return a}function cj(r,t){var i=r.getData().getDimensionInfo(t);return i&&i.coordDim}function dj(r,t){return r&&r.containData&&t.coord&&!oj(t)?r.containData(t.coord):true}function pj(r,t,i){return r&&r.containZone&&t.coord&&i.coord&&!oj(t)&&!oj(i)?r.containZone(t.coord,i.coord):true}function mj(r,t){return r?function(r,i,n,a){var e=a<2?r.coord&&r.coord[a]:r.value;return Xm(e,t[a])}:function(r,i,n,a){return Xm(r.value,t[a])}}function yj(r,t,i){if(i==="average"){var n=0;var a=0;r.each(t,(function(r,t){if(!isNaN(r)){n+=r;a++}}));return n/a}else if(i==="median"){return r.getMedian(t)}else{return r.getDataExtent(t)[i==="max"?1:0]}}var gj=Lu();var bj=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.init=function(){this.markerGroupMap=Sr()};t.prototype.render=function(r,t,i){var n=this;var a=this.markerGroupMap;a.each((function(r){gj(r).keep=false}));t.eachSeries((function(r){var a=ej.getMarkerModelFromSeries(r,n.type);a&&n.renderSeries(r,a,t,i)}));a.each((function(r){!gj(r).keep&&n.group.remove(r.group)}))};t.prototype.markKeep=function(r){gj(r).keep=true};t.prototype.toggleBlurSeries=function(r,t){var i=this;V(r,(function(r){var n=ej.getMarkerModelFromSeries(r,i.type);if(n){var a=n.getData();a.eachItemGraphicEl((function(r){if(r){t?of(r):vf(r)}}))}}))};t.type="marker";return t}(eg);function wj(r,t,i){var n=t.coordinateSystem;r.each((function(a){var e=r.getItemModel(a);var u;var o=Le(e.get("x"),i.getWidth());var v=Le(e.get("y"),i.getHeight());if(!isNaN(o)&&!isNaN(v)){u=[o,v]}else if(t.getMarkerPosition){u=t.getMarkerPosition(r.getValues(r.dimensions,a))}else if(n){var s=r.get(n.dimensions[0],a);var f=r.get(n.dimensions[1],a);u=n.dataToPoint([s,f])}if(!isNaN(o)){u[0]=o}if(!isNaN(v)){u[1]=v}r.setItemLayout(a,u)}))}var xj=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.updateTransform=function(r,t,i){t.eachSeries((function(r){var t=ej.getMarkerModelFromSeries(r,"markPoint");if(t){wj(t.getData(),r,i);this.markerGroupMap.get(r.id).updateLayout()}}),this)};t.prototype.renderSeries=function(r,t,i,n){var a=r.coordinateSystem;var e=r.id;var u=r.getData();var o=this.markerGroupMap;var v=o.get(e)||o.set(e,new SI);var s=Mj(a,r,t);t.setData(s);wj(t.getData(),r,n);s.each((function(r){var i=s.getItemModel(r);var n=i.getShallow("symbol");var a=i.getShallow("symbolSize");var e=i.getShallow("symbolRotate");var o=i.getShallow("symbolOffset");var v=i.getShallow("symbolKeepAspect");if(J(n)||J(a)||J(e)||J(o)){var f=t.getRawValue(r);var l=t.getDataParams(r);if(J(n)){n=n(f,l)}if(J(a)){a=a(f,l)}if(J(e)){e=e(f,l)}if(J(o)){o=o(f,l)}}var h=i.getModel("itemStyle").getItemStyle();var c=ub(u,"color");if(!h.fill){h.fill=c}s.setItemVisual(r,{symbol:n,symbolSize:a,symbolRotate:e,symbolOffset:o,symbolKeepAspect:v,style:h})}));v.updateData(s);this.group.add(v.group);s.eachItemGraphicEl((function(r){r.traverse((function(r){bs(r).dataModel=t}))}));this.markKeep(v);v.group.silent=t.get("silent")||r.get("silent")};t.type="markPoint";return t}(bj);function Mj(r,t,i){var n;if(r){n=H(r&&r.dimensions,(function(r){var i=t.getData().getDimensionInfo(t.getData().mapDimension(r))||{};return F(F({},i),{name:r,ordinalMeta:null})}))}else{n=[{name:"value",type:"float"}]}var a=new TM(n,i);var e=H(i.get("data"),q(lj,t));if(r){e=X(e,q(dj,r))}var u=mj(!!r,n);a.initData(e,null,u);return a}function Sj(r){r.registerComponentModel(uj);r.registerComponentView(xj);r.registerPreprocessor((function(r){if(ij(r.series,"markPoint")){r.markPoint=r.markPoint||{}}}))}var kj=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.createMarkerModelFromSeries=function(r,i,n){return new t(r,i,n)};t.type="markLine";t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:true,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:true},lineStyle:{width:3}},animationEasing:"linear"};return t}(ej);var Nj=Lu();var Aj=function(r,t,i,n){var a=r.getData();var e;if(!K(n)){var u=n.type;if(u==="min"||u==="max"||u==="average"||u==="median"||n.xAxis!=null||n.yAxis!=null){var o=void 0;var v=void 0;if(n.yAxis!=null||n.xAxis!=null){o=t.getAxis(n.yAxis!=null?"y":"x");v=sr(n.yAxis,n.xAxis)}else{var s=hj(n,a,t,r);o=s.valueAxis;var f=VM(a,s.valueDataDim);v=yj(a,f,u)}var l=o.dim==="x"?0:1;var h=1-l;var c=O(n);var d={coord:[]};c.type=null;c.coord=[];c.coord[h]=-Infinity;d.coord[h]=Infinity;var p=i.get("precision");if(p>=0&&rr(v)){v=+v.toFixed(Math.min(p,20))}c.coord[l]=d.coord[l]=v;e=[c,d,{type:u,valueIndex:n.valueIndex,value:v}]}else{e=[]}}else{e=n}var m=[lj(r,e[0]),lj(r,e[1]),F({},e[2])];m[2].type=m[2].type||null;D(m[2],m[0]);D(m[2],m[1]);return m};function Ij(r){return!isNaN(r)&&!isFinite(r)}function Cj(r,t,i,n){var a=1-r;var e=n.dimensions[r];return Ij(t[a])&&Ij(i[a])&&t[r]===i[r]&&n.getAxis(e).containData(t[r])}function Tj(r,t){if(r.type==="cartesian2d"){var i=t[0].coord;var n=t[1].coord;if(i&&n&&(Cj(1,i,n,r)||Cj(0,i,n,r))){return true}}return dj(r,t[0])&&dj(r,t[1])}function zj(r,t,i,n,a){var e=n.coordinateSystem;var u=r.getItemModel(t);var o;var v=Le(u.get("x"),a.getWidth());var s=Le(u.get("y"),a.getHeight());if(!isNaN(v)&&!isNaN(s)){o=[v,s]}else{if(n.getMarkerPosition){o=n.getMarkerPosition(r.getValues(r.dimensions,t))}else{var f=e.dimensions;var l=r.get(f[0],t);var h=r.get(f[1],t);o=e.dataToPoint([l,h])}if(WI(e,"cartesian2d")){var c=e.getAxis("x");var d=e.getAxis("y");var f=e.dimensions;if(Ij(r.get(f[0],t))){o[0]=c.toGlobalCoord(c.getExtent()[i?0:1])}else if(Ij(r.get(f[1],t))){o[1]=d.toGlobalCoord(d.getExtent()[i?0:1])}}if(!isNaN(v)){o[0]=v}if(!isNaN(s)){o[1]=s}}r.setItemLayout(t,o)}var Lj=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.updateTransform=function(r,t,i){t.eachSeries((function(r){var t=ej.getMarkerModelFromSeries(r,"markLine");if(t){var n=t.getData();var a=Nj(t).from;var e=Nj(t).to;a.each((function(t){zj(a,t,true,r,i);zj(e,t,false,r,i)}));n.each((function(r){n.setItemLayout(r,[a.getItemLayout(r),e.getItemLayout(r)])}));this.markerGroupMap.get(r.id).updateLayout()}}),this)};t.prototype.renderSeries=function(r,t,i,n){var a=r.coordinateSystem;var e=r.id;var u=r.getData();var o=this.markerGroupMap;var v=o.get(e)||o.set(e,new _F);this.group.add(v.group);var s=Oj(a,r,t);var f=s.from;var l=s.to;var h=s.line;Nj(t).from=f;Nj(t).to=l;t.setData(h);var c=t.get("symbol");var d=t.get("symbolSize");var p=t.get("symbolRotate");var m=t.get("symbolOffset");if(!K(c)){c=[c,c]}if(!K(d)){d=[d,d]}if(!K(p)){p=[p,p]}if(!K(m)){m=[m,m]}s.from.each((function(r){y(f,r,true);y(l,r,false)}));h.each((function(r){var t=h.getItemModel(r).getModel("lineStyle").getLineStyle();h.setItemLayout(r,[f.getItemLayout(r),l.getItemLayout(r)]);if(t.stroke==null){t.stroke=f.getItemVisual(r,"style").fill}h.setItemVisual(r,{fromSymbolKeepAspect:f.getItemVisual(r,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(r,"symbolOffset"),fromSymbolRotate:f.getItemVisual(r,"symbolRotate"),fromSymbolSize:f.getItemVisual(r,"symbolSize"),fromSymbol:f.getItemVisual(r,"symbol"),toSymbolKeepAspect:l.getItemVisual(r,"symbolKeepAspect"),toSymbolOffset:l.getItemVisual(r,"symbolOffset"),toSymbolRotate:l.getItemVisual(r,"symbolRotate"),toSymbolSize:l.getItemVisual(r,"symbolSize"),toSymbol:l.getItemVisual(r,"symbol"),style:t})}));v.updateData(h);s.line.eachItemGraphicEl((function(r){bs(r).dataModel=t;r.traverse((function(r){bs(r).dataModel=t}))}));function y(t,i,a){var e=t.getItemModel(i);zj(t,i,a,r,n);var o=e.getModel("itemStyle").getItemStyle();if(o.fill==null){o.fill=ub(u,"color")}t.setItemVisual(i,{symbolKeepAspect:e.get("symbolKeepAspect"),symbolOffset:fr(e.get("symbolOffset",true),m[a?0:1]),symbolRotate:fr(e.get("symbolRotate",true),p[a?0:1]),symbolSize:fr(e.get("symbolSize"),d[a?0:1]),symbol:fr(e.get("symbol",true),c[a?0:1]),style:o})}this.markKeep(v);v.group.silent=t.get("silent")||r.get("silent")};t.type="markLine";return t}(bj);function Oj(r,t,i){var n;if(r){n=H(r&&r.dimensions,(function(r){var i=t.getData().getDimensionInfo(t.getData().mapDimension(r))||{};return F(F({},i),{name:r,ordinalMeta:null})}))}else{n=[{name:"value",type:"float"}]}var a=new TM(n,i);var e=new TM(n,i);var u=new TM([],i);var o=H(i.get("data"),q(Aj,t,r,i));if(r){o=X(o,q(Tj,r))}var v=mj(!!r,n);a.initData(H(o,(function(r){return r[0]})),null,v);e.initData(H(o,(function(r){return r[1]})),null,v);u.initData(H(o,(function(r){return r[2]})));u.hasItemOption=true;return{from:a,to:e,line:u}}function Dj(r){r.registerComponentModel(kj);r.registerComponentView(Lj);r.registerPreprocessor((function(r){if(ij(r.series,"markLine")){r.markLine=r.markLine||{}}}))}var Rj=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.createMarkerModelFromSeries=function(r,i,n){return new t(r,i,n)};t.type="markArea";t.defaultOption={z:1,tooltip:{trigger:"item"},animation:false,label:{show:true,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:true,position:"top"}}};return t}(ej);var Fj=Lu();var Bj=function(r,t,i,n){var a=n[0];var e=n[1];if(!a||!e){return}var u=lj(r,a);var o=lj(r,e);var v=u.coord;var s=o.coord;v[0]=sr(v[0],-Infinity);v[1]=sr(v[1],-Infinity);s[0]=sr(s[0],Infinity);s[1]=sr(s[1],Infinity);var f=R([{},u,o]);f.coord=[u.coord,o.coord];f.x0=u.x;f.y0=u.y;f.x1=o.x;f.y1=o.y;return f};function _j(r){return!isNaN(r)&&!isFinite(r)}function Ej(r,t,i,n){var a=1-r;return _j(t[a])&&_j(i[a])}function Pj(r,t){var i=t.coord[0];var n=t.coord[1];var a={coord:i,x:t.x0,y:t.y0};var e={coord:n,x:t.x1,y:t.y1};if(WI(r,"cartesian2d")){if(i&&n&&(Ej(1,i,n)||Ej(0,i,n))){return true}return pj(r,a,e)}return dj(r,a)||dj(r,e)}function Wj(r,t,i,n,a){var e=n.coordinateSystem;var u=r.getItemModel(t);var o;var v=Le(u.get(i[0]),a.getWidth());var s=Le(u.get(i[1]),a.getHeight());if(!isNaN(v)&&!isNaN(s)){o=[v,s]}else{if(n.getMarkerPosition){var f=r.getValues(["x0","y0"],t);var l=r.getValues(["x1","y1"],t);var h=e.clampData(f);var c=e.clampData(l);var d=[];if(i[0]==="x0"){d[0]=h[0]>c[0]?l[0]:f[0]}else{d[0]=h[0]>c[0]?f[0]:l[0]}if(i[1]==="y0"){d[1]=h[1]>c[1]?l[1]:f[1]}else{d[1]=h[1]>c[1]?f[1]:l[1]}o=n.getMarkerPosition(d,i,true)}else{var p=r.get(i[0],t);var m=r.get(i[1],t);var y=[p,m];e.clampData&&e.clampData(y,y);o=e.dataToPoint(y,true)}if(WI(e,"cartesian2d")){var g=e.getAxis("x");var b=e.getAxis("y");var p=r.get(i[0],t);var m=r.get(i[1],t);if(_j(p)){o[0]=g.toGlobalCoord(g.getExtent()[i[0]==="x0"?0:1])}else if(_j(m)){o[1]=b.toGlobalCoord(b.getExtent()[i[1]==="y0"?0:1])}}if(!isNaN(v)){o[0]=v}if(!isNaN(s)){o[1]=s}}return o}var Vj=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];var Hj=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.updateTransform=function(r,t,i){t.eachSeries((function(r){var t=ej.getMarkerModelFromSeries(r,"markArea");if(t){var n=t.getData();n.each((function(t){var a=H(Vj,(function(a){return Wj(n,t,a,r,i)}));n.setItemLayout(t,a);var e=n.getItemGraphicEl(t);e.setShape("points",a)}))}}),this)};t.prototype.renderSeries=function(r,t,i,n){var a=r.coordinateSystem;var e=r.id;var u=r.getData();var o=this.markerGroupMap;var v=o.get(e)||o.set(e,{group:new xe});this.group.add(v.group);this.markKeep(v);var s=Yj(a,r,t);t.setData(s);s.each((function(t){var i=H(Vj,(function(i){return Wj(s,t,i,r,n)}));var e=a.getAxis("x").scale;var o=a.getAxis("y").scale;var v=e.getExtent();var f=o.getExtent();var l=[e.parse(s.get("x0",t)),e.parse(s.get("x1",t))];var h=[o.parse(s.get("y0",t)),o.parse(s.get("y1",t))];De(l);De(h);var c=!(v[0]>l[1]||v[1]<l[0]||f[0]>h[1]||f[1]<h[0]);var d=!c;s.setItemLayout(t,{points:i,allClipped:d});var p=s.getItemModel(t).getModel("itemStyle").getItemStyle();var m=ub(u,"color");if(!p.fill){p.fill=m;if($(p.fill)){p.fill=Sn(p.fill,.4)}}if(!p.stroke){p.stroke=m}s.setItemVisual(t,"style",p)}));s.diff(Fj(v).data).add((function(r){var t=s.getItemLayout(r);if(!t.allClipped){var i=new Ll({shape:{points:t.points}});s.setItemGraphicEl(r,i);v.group.add(i)}})).update((function(r,i){var n=Fj(v).data.getItemGraphicEl(i);var a=s.getItemLayout(r);if(!a.allClipped){if(n){nh(n,{shape:{points:a.points}},t,r)}else{n=new Ll({shape:{points:a.points}})}s.setItemGraphicEl(r,n);v.group.add(n)}else if(n){v.group.remove(n)}})).remove((function(r){var t=Fj(v).data.getItemGraphicEl(r);v.group.remove(t)})).execute();s.eachItemGraphicEl((function(r,i){var n=s.getItemModel(i);var a=s.getItemVisual(i,"style");r.useStyle(s.getItemVisual(i,"style"));Zh(r,jh(n),{labelFetcher:t,labelDataIndex:i,defaultText:s.getName(i)||"",inheritColor:$(a.fill)?Sn(a.fill,1):"#000"});Cf(r,n);kf(r,null,null,n.get(["emphasis","disabled"]));bs(r).dataModel=t}));Fj(v).data=s;v.group.silent=t.get("silent")||r.get("silent")};t.type="markArea";return t}(bj);function Yj(r,t,i){var n;var a;var e=["x0","y0","x1","y1"];if(r){var u=H(r&&r.dimensions,(function(r){var i=t.getData();var n=i.getDimensionInfo(i.mapDimension(r))||{};return F(F({},n),{name:r,ordinalMeta:null})}));a=H(e,(function(r,t){return{name:r,type:u[t%2].type}}));n=new TM(a,i)}else{a=[{name:"value",type:"float"}];n=new TM(a,i)}var o=H(i.get("data"),q(Bj,t,r,i));if(r){o=X(o,q(Pj,r))}var v=r?function(r,t,i,n){var e=r.coord[Math.floor(n/2)][n%2];return Xm(e,a[n])}:function(r,t,i,n){return Xm(r.value,a[n])};n.initData(o,null,v);n.hasItemOption=true;return n}function Xj(r){r.registerComponentModel(Rj);r.registerComponentView(Hj);r.registerPreprocessor((function(r){if(ij(r.series,"markArea")){r.markArea=r.markArea||{}}}))}var Gj=function(r,t){if(t==="all"){return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])}}else if(t==="inverse"){return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}}};var Uj=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.layoutMode={type:"box",ignoreSize:true};return i}t.prototype.init=function(r,t,i){this.mergeDefaultAndTheme(r,i);r.selected=r.selected||{};this._updateSelector(r)};t.prototype.mergeOption=function(t,i){r.prototype.mergeOption.call(this,t,i);this._updateSelector(t)};t.prototype._updateSelector=function(r){var t=r.selector;var i=this.ecModel;if(t===true){t=r.selector=["all","inverse"]}if(K(t)){V(t,(function(r,n){$(r)&&(r={type:r});t[n]=D(r,Gj(i,r.type))}))}};t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){var t=false;for(var i=0;i<r.length;i++){var n=r[i].get("name");if(this.isSelected(n)){this.select(n);t=true;break}}!t&&this.select(r[0].get("name"))}};t.prototype._updateData=function(r){var t=[];var i=[];r.eachRawSeries((function(n){var a=n.name;i.push(a);var e;if(n.legendVisualProvider){var u=n.legendVisualProvider;var o=u.getAllNames();if(!r.isSeriesFiltered(n)){i=i.concat(o)}if(o.length){t=t.concat(o)}else{e=true}}else{e=true}if(e&&ku(n)){t.push(n.name)}}));this._availableNames=i;var n=this.get("data")||t;var a=Sr();var e=H(n,(function(r){if($(r)||rr(r)){r={name:r}}if(a.get(r.name)){return null}a.set(r.name,true);return new yc(r,this,this.ecModel)}),this);this._data=X(e,(function(r){return!!r}))};t.prototype.getData=function(){return this._data};t.prototype.select=function(r){var t=this.option.selected;var i=this.get("selectedMode");if(i==="single"){var n=this._data;V(n,(function(r){t[r.get("name")]=false}))}t[r]=true};t.prototype.unSelect=function(r){if(this.get("selectedMode")!=="single"){this.option.selected[r]=false}};t.prototype.toggleSelected=function(r){var t=this.option.selected;if(!t.hasOwnProperty(r)){t[r]=true}this[t[r]?"unSelect":"select"](r)};t.prototype.allSelect=function(){var r=this._data;var t=this.option.selected;V(r,(function(r){t[r.get("name",true)]=true}))};t.prototype.inverseSelect=function(){var r=this._data;var t=this.option.selected;V(r,(function(r){var i=r.get("name",true);if(!t.hasOwnProperty(i)){t[i]=true}t[i]=!t[i]}))};t.prototype.isSelected=function(r){var t=this.option.selected;return!(t.hasOwnProperty(r)&&!t[r])&&_(this._availableNames,r)>=0};t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}};t.type="legend.plain";t.dependencies=["series"];t.defaultOption={z:4,show:true,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:true,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:true,selector:false,selectorLabel:{show:true,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:true,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:false}};return t}(Ed);var Zj=q;var jj=V;var qj=xe;var Kj=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.newlineDisabled=false;return i}t.prototype.init=function(){this.group.add(this._contentGroup=new qj);this.group.add(this._selectorGroup=new qj);this._isFirstRender=true};t.prototype.getContentGroup=function(){return this._contentGroup};t.prototype.getSelectorGroup=function(){return this._selectorGroup};t.prototype.render=function(r,t,i){var n=this._isFirstRender;this._isFirstRender=false;this.resetInner();if(!r.get("show",true)){return}var a=r.get("align");var e=r.get("orient");if(!a||a==="auto"){a=r.get("left")==="right"&&e==="vertical"?"right":"left"}var u=r.get("selector",true);var o=r.get("selectorPosition",true);if(u&&(!o||o==="auto")){o=e==="horizontal"?"end":"start"}this.renderInner(a,r,t,i,u,e,o);var v=r.getBoxLayoutParams();var s={width:i.getWidth(),height:i.getHeight()};var f=r.get("padding");var l=zd(v,s,f);var h=this.layoutInner(r,a,l,n,u,o);var c=zd(B({width:h.width,height:h.height},v),s,f);this.group.x=c.x-h.x;this.group.y=c.y-h.y;this.group.markRedraw();this.group.add(this._backgroundEl=TG(h,r))};t.prototype.resetInner=function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl);this.getSelectorGroup().removeAll()};t.prototype.renderInner=function(r,t,i,n,a,e,u){var o=this.getContentGroup();var v=Sr();var s=t.get("selectedMode");var f=[];i.eachRawSeries((function(r){!r.get("legendHoverLink")&&f.push(r.id)}));jj(t.getData(),(function(a,e){var u=a.get("name");if(!this.newlineDisabled&&(u===""||u==="\n")){var l=new qj;l.newline=true;o.add(l);return}var h=i.getSeriesByName(u)[0];if(v.get(u)){return}if(h){var c=h.getData();var d=c.getVisual("legendLineStyle")||{};var p=c.getVisual("legendIcon");var m=c.getVisual("style");var y=this._createItem(h,u,e,a,t,r,d,m,p,s,n);y.on("click",Zj(Qj,u,null,n,f)).on("mouseover",Zj(tq,h.name,null,n,f)).on("mouseout",Zj(iq,h.name,null,n,f));v.set(u,true)}else{i.eachRawSeries((function(i){if(v.get(u)){return}if(i.legendVisualProvider){var o=i.legendVisualProvider;if(!o.containName(u)){return}var l=o.indexOfName(u);var h=o.getItemVisual(l,"style");var c=o.getItemVisual(l,"legendIcon");var d=mn(h.fill);if(d&&d[3]===0){d[3]=.2;h=F(F({},h),{fill:kn(d,"rgba")})}var p=this._createItem(i,u,e,a,t,r,{},h,c,s,n);p.on("click",Zj(Qj,null,u,n,f)).on("mouseover",Zj(tq,null,u,n,f)).on("mouseout",Zj(iq,null,u,n,f));v.set(u,true)}}),this)}}),this);if(a){this._createSelector(a,t,n,e,u)}};t.prototype._createSelector=function(r,t,i,n,a){var e=this.getSelectorGroup();jj(r,(function r(n){var a=n.type;var u=new es({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:a==="all"?"legendAllSelect":"legendInverseSelect"})}});e.add(u);var o=t.getModel("selectorLabel");var v=t.getModel(["emphasis","selectorLabel"]);Zh(u,{normal:o,emphasis:v},{defaultText:n.title});Mf(u)}))};t.prototype._createItem=function(r,t,i,n,a,e,u,o,v,s,f){var l=r.visualDrawType;var h=a.get("itemWidth");var c=a.get("itemHeight");var d=a.isSelected(t);var p=n.get("symbolRotate");var m=n.get("symbolKeepAspect");var y=n.get("icon");v=y||v||"roundRect";var g=Jj(v,n,u,o,l,d,f);var b=new qj;var w=n.getModel("textStyle");if(J(r.getLegendIcon)&&(!y||y==="inherit")){b.add(r.getLegendIcon({itemWidth:h,itemHeight:c,icon:v,iconRotate:p,itemStyle:g.itemStyle,lineStyle:g.lineStyle,symbolKeepAspect:m}))}else{var x=y==="inherit"&&r.getData().getVisual("symbol")?p==="inherit"?r.getData().getVisual("symbolRotate"):p:0;b.add($j({itemWidth:h,itemHeight:c,icon:v,iconRotate:x,itemStyle:g.itemStyle,lineStyle:g.lineStyle,symbolKeepAspect:m}))}var M=e==="left"?h+5:-5;var S=e;var k=a.get("formatter");var N=t;if($(k)&&k){N=k.replace("{name}",t!=null?t:"")}else if(J(k)){N=k(t)}var A=d?w.getTextColor():n.get("inactiveColor");b.add(new es({style:qh(w,{text:N,x:M,y:c/2,fill:A,align:S,verticalAlign:"middle"},{inheritColor:A})}));var I=new ts({shape:b.getBoundingRect(),invisible:true});var C=n.getModel("tooltip");if(C.get("show")){Wh({el:I,componentModel:a,itemName:t,itemTooltipOption:C.option})}b.add(I);b.eachChild((function(r){r.silent=true}));I.silent=!s;this.getContentGroup().add(b);Mf(b);b.__legendDataIndex=i;return b};t.prototype.layoutInner=function(r,t,i,n,a,e){var u=this.getContentGroup();var o=this.getSelectorGroup();Cd(r.get("orient"),u,r.get("itemGap"),i.width,i.height);var v=u.getBoundingRect();var s=[-v.x,-v.y];o.markRedraw();u.markRedraw();if(a){Cd("horizontal",o,r.get("selectorItemGap",true));var f=o.getBoundingRect();var l=[-f.x,-f.y];var h=r.get("selectorButtonGap",true);var c=r.getOrient().index;var d=c===0?"width":"height";var p=c===0?"height":"width";var m=c===0?"y":"x";if(e==="end"){l[c]+=v[d]+h}else{s[c]+=f[d]+h}l[1-c]+=v[p]/2-f[p]/2;o.x=l[0];o.y=l[1];u.x=s[0];u.y=s[1];var y={x:0,y:0};y[d]=v[d]+h+f[d];y[p]=Math.max(v[p],f[p]);y[m]=Math.min(0,f[m]+l[1-c]);return y}else{u.x=s[0];u.y=s[1];return this.group.getBoundingRect()}};t.prototype.remove=function(){this.getContentGroup().removeAll();this._isFirstRender=true};t.type="legend.plain";return t}(eg);function Jj(r,t,i,n,a,e,u){function o(r,t){if(r.lineWidth==="auto"){r.lineWidth=t.lineWidth>0?2:0}jj(r,(function(i,n){r[n]==="inherit"&&(r[n]=t[n])}))}var v=t.getModel("itemStyle");var s=v.getItemStyle();var f=r.lastIndexOf("empty",0)===0?"fill":"stroke";var l=v.getShallow("decal");s.decal=!l||l==="inherit"?n.decal:cw(l,u);if(s.fill==="inherit"){s.fill=n[a]}if(s.stroke==="inherit"){s.stroke=n[f]}if(s.opacity==="inherit"){s.opacity=(a==="fill"?n:i).opacity}o(s,n);var h=t.getModel("lineStyle");var c=h.getLineStyle();o(c,i);s.fill==="auto"&&(s.fill=n.fill);s.stroke==="auto"&&(s.stroke=n.fill);c.stroke==="auto"&&(c.stroke=n.fill);if(!e){var d=t.get("inactiveBorderWidth");var p=s[f];s.lineWidth=d==="auto"?n.lineWidth>0&&p?2:0:s.lineWidth;s.fill=t.get("inactiveColor");s.stroke=t.get("inactiveBorderColor");c.stroke=h.get("inactiveColor");c.lineWidth=h.get("inactiveWidth")}return{itemStyle:s,lineStyle:c}}function $j(r){var t=r.icon||"roundRect";var i=kb(t,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);i.setStyle(r.itemStyle);i.rotation=(r.iconRotate||0)*Math.PI/180;i.setOrigin([r.itemWidth/2,r.itemHeight/2]);if(t.indexOf("empty")>-1){i.style.stroke=i.style.fill;i.style.fill="#fff";i.style.lineWidth=2}return i}function Qj(r,t,i,n){iq(r,t,i,n);i.dispatchAction({type:"legendToggleSelect",name:r!=null?r:t});tq(r,t,i,n)}function rq(r){var t=r.getZr().storage.getDisplayList();var i;var n=0;var a=t.length;while(n<a&&!(i=t[n].states.emphasis)){n++}return i&&i.hoverLayer}function tq(r,t,i,n){if(!rq(i)){i.dispatchAction({type:"highlight",seriesName:r,name:t,excludeSeriesId:n})}}function iq(r,t,i,n){if(!rq(i)){i.dispatchAction({type:"downplay",seriesName:r,name:t,excludeSeriesId:n})}}function nq(r){var t=r.findComponents({mainType:"legend"});if(t&&t.length){r.filterSeries((function(r){for(var i=0;i<t.length;i++){if(!t[i].isSelected(r.name)){return false}}return true}))}}function aq(r,t,i){var n={};var a=r==="toggleSelected";var e;i.eachComponent("legend",(function(i){if(a&&e!=null){i[e?"select":"unSelect"](t.name)}else if(r==="allSelect"||r==="inverseSelect"){i[r]()}else{i[r](t.name);e=i.isSelected(t.name)}var u=i.getData();V(u,(function(r){var t=r.get("name");if(t==="\n"||t===""){return}var a=i.isSelected(t);if(n.hasOwnProperty(t)){n[t]=n[t]&&a}else{n[t]=a}}))}));return r==="allSelect"||r==="inverseSelect"?{selected:n}:{name:t.name,selected:n}}function eq(r){r.registerAction("legendToggleSelect","legendselectchanged",q(aq,"toggleSelected"));r.registerAction("legendAllSelect","legendselectall",q(aq,"allSelect"));r.registerAction("legendInverseSelect","legendinverseselect",q(aq,"inverseSelect"));r.registerAction("legendSelect","legendselected",q(aq,"select"));r.registerAction("legendUnSelect","legendunselected",q(aq,"unSelect"))}function uq(r){r.registerComponentModel(Uj);r.registerComponentView(Kj);r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,nq);r.registerSubTypeDefaulter("legend",(function(){return"plain"}));eq(r)}var oq=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r};t.prototype.init=function(t,i,n){var a=Fd(t);r.prototype.init.call(this,t,i,n);vq(this,t,a)};t.prototype.mergeOption=function(t,i){r.prototype.mergeOption.call(this,t,i);vq(this,this.option,t)};t.type="legend.scroll";t.defaultOption=Mc(Uj.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800});return t}(Uj);function vq(r,t,i){var n=r.getOrient();var a=[1,1];a[n.index]=0;Rd(t,i,{type:"box",ignoreSize:!!a})}var sq=xe;var fq=["width","height"];var lq=["x","y"];var hq=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.newlineDisabled=true;i._currentIndex=0;return i}t.prototype.init=function(){r.prototype.init.call(this);this.group.add(this._containerGroup=new sq);this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new sq)};t.prototype.resetInner=function(){r.prototype.resetInner.call(this);this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null};t.prototype.renderInner=function(t,i,n,a,e,u,o){var v=this;r.prototype.renderInner.call(this,t,i,n,a,e,u,o);var s=this._controllerGroup;var f=i.get("pageIconSize",true);var l=K(f)?f:[f,f];c("pagePrev",0);var h=i.getModel("pageTextStyle");s.add(new es({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:true}));c("pageNext",1);function c(r,t){var n=r+"DataIndex";var e=Fh(i.get("pageIcons",true)[i.getOrient().name][t],{onclick:j(v._pageGo,v,n,i,a)},{x:-l[0]/2,y:-l[1]/2,width:l[0],height:l[1]});e.name=r;s.add(e)}};t.prototype.layoutInner=function(r,t,i,n,a,e){var u=this.getSelectorGroup();var o=r.getOrient().index;var v=fq[o];var s=lq[o];var f=fq[1-o];var l=lq[1-o];a&&Cd("horizontal",u,r.get("selectorItemGap",true));var h=r.get("selectorButtonGap",true);var c=u.getBoundingRect();var d=[-c.x,-c.y];var p=O(i);a&&(p[v]=i[v]-c[v]-h);var m=this._layoutContentAndController(r,n,p,o,v,f,l,s);if(a){if(e==="end"){d[o]+=m[v]+h}else{var y=c[v]+h;d[o]-=y;m[s]-=y}m[v]+=c[v]+h;d[1-o]+=m[l]+m[f]/2-c[f]/2;m[f]=Math.max(m[f],c[f]);m[l]=Math.min(m[l],c[l]+d[1-o]);u.x=d[0];u.y=d[1];u.markRedraw()}return m};t.prototype._layoutContentAndController=function(r,t,i,n,a,e,u,o){var v=this.getContentGroup();var s=this._containerGroup;var f=this._controllerGroup;Cd(r.get("orient"),v,r.get("itemGap"),!n?null:i.width,n?null:i.height);Cd("horizontal",f,r.get("pageButtonItemGap",true));var l=v.getBoundingRect();var h=f.getBoundingRect();var c=this._showController=l[a]>i[a];var d=[-l.x,-l.y];if(!t){d[n]=v[o]}var p=[0,0];var m=[-h.x,-h.y];var y=fr(r.get("pageButtonGap",true),r.get("itemGap",true));if(c){var g=r.get("pageButtonPosition",true);if(g==="end"){m[n]+=i[a]-h[a]}else{p[n]+=h[a]+y}}m[1-n]+=l[e]/2-h[e]/2;v.setPosition(d);s.setPosition(p);f.setPosition(m);var b={x:0,y:0};b[a]=c?i[a]:l[a];b[e]=Math.max(l[e],h[e]);b[u]=Math.min(0,h[u]+m[1-n]);s.__rectSize=i[a];if(c){var w={x:0,y:0};w[a]=Math.max(i[a]-h[a]-y,0);w[e]=b[e];s.setClipPath(new ts({shape:w}));s.__rectSize=w[a]}else{f.eachChild((function(r){r.attr({invisible:true,silent:true})}))}var x=this._getPageInfo(r);x.pageIndex!=null&&nh(v,{x:x.contentPosition[0],y:x.contentPosition[1]},c?r:null);this._updatePageInfoView(r,x);return b};t.prototype._pageGo=function(r,t,i){var n=this._getPageInfo(t)[r];n!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:t.id})};t.prototype._updatePageInfoView=function(r,t){var i=this._controllerGroup;V(["pagePrev","pageNext"],(function(n){var a=n+"DataIndex";var e=t[a]!=null;var u=i.childOfName(n);if(u){u.setStyle("fill",e?r.get("pageIconColor",true):r.get("pageIconInactiveColor",true));u.cursor=e?"pointer":"default"}}));var n=i.childOfName("pageText");var a=r.get("pageFormatter");var e=t.pageIndex;var u=e!=null?e+1:0;var o=t.pageCount;n&&a&&n.setStyle("text",$(a)?a.replace("{current}",u==null?"":u+"").replace("{total}",o==null?"":o+""):a({current:u,total:o}))};t.prototype._getPageInfo=function(r){var t=r.get("scrollDataIndex",true);var i=this.getContentGroup();var n=this._containerGroup.__rectSize;var a=r.getOrient().index;var e=fq[a];var u=lq[a];var o=this._findTargetItemIndex(t);var v=i.children();var s=v[o];var f=v.length;var l=!f?0:1;var h={contentPosition:[i.x,i.y],pageCount:l,pageIndex:l-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!s){return h}var c=g(s);h.contentPosition[a]=-c.s;for(var d=o+1,p=c,m=c,y=null;d<=f;++d){y=g(v[d]);if(!y&&m.e>p.s+n||y&&!b(y,p.s)){if(m.i>p.i){p=m}else{p=y}if(p){if(h.pageNextDataIndex==null){h.pageNextDataIndex=p.i}++h.pageCount}}m=y}for(var d=o-1,p=c,m=c,y=null;d>=-1;--d){y=g(v[d]);if((!y||!b(m,y.s))&&p.i<m.i){m=p;if(h.pagePrevDataIndex==null){h.pagePrevDataIndex=p.i}++h.pageCount;++h.pageIndex}p=y}return h;function g(r){if(r){var t=r.getBoundingRect();var i=t[u]+r[u];return{s:i,e:i+t[e],i:r.__legendDataIndex}}}function b(r,t){return r.e>=t&&r.s<=t+n}};t.prototype._findTargetItemIndex=function(r){if(!this._showController){return 0}var t;var i=this.getContentGroup();var n;i.eachChild((function(i,a){var e=i.__legendDataIndex;if(n==null&&e!=null){n=a}if(e===r){t=a}}));return t!=null?t:n};t.type="legend.scroll";return t}(Kj);function cq(r){r.registerAction("legendScroll","legendscroll",(function(r,t){var i=r.scrollDataIndex;i!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:r},(function(r){r.setScrollDataIndex(i)}))}))}function dq(r){$x(uq);r.registerComponentModel(oq);r.registerComponentView(hq);cq(r)}function pq(r){$x(uq);$x(dq)}var mq=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.type="dataZoom.inside";t.defaultOption=Mc(sG.defaultOption,{disabled:false,zoomLock:false,zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true});return t}(sG);var yq=Lu();function gq(r,t,i){yq(r).coordSysRecordMap.each((function(r){var n=r.dataZoomInfoMap.get(t.uid);if(n){n.getRange=i}}))}function bq(r,t){var i=yq(r).coordSysRecordMap;var n=i.keys();for(var a=0;a<n.length;a++){var e=n[a];var u=i.get(e);var o=u.dataZoomInfoMap;if(o){var v=t.uid;var s=o.get(v);if(s){o.removeKey(v);if(!o.keys().length){wq(i,u)}}}}}function wq(r,t){if(t){r.removeKey(t.model.uid);var i=t.controller;i&&i.dispose()}}function xq(r,t){var i={model:t,containsPoint:q(Sq,t),dispatchAction:q(Mq,r),dataZoomInfoMap:null,controller:null};var n=i.controller=new Uz(r.getZr());V(["pan","zoom","scrollMove"],(function(r){n.on(r,(function(t){var n=[];i.dataZoomInfoMap.each((function(a){if(!t.isAvailableBehavior(a.model.option)){return}var e=(a.getRange||{})[r];var u=e&&e(a.dzReferCoordSysInfo,i.model.mainType,i.controller,t);!a.model.get("disabled",true)&&u&&n.push({dataZoomId:a.model.id,start:u[0],end:u[1]})}));n.length&&i.dispatchAction(n)}))}));return i}function Mq(r,t){if(!r.isDisposed()){r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}}function Sq(r,t,i,n){return r.coordinateSystem.containPoint([i,n])}function kq(r){var t;var i="type_";var n={type_true:2,type_move:1,type_false:0,type_undefined:-1};var a=true;r.each((function(r){var e=r.model;var u=e.get("disabled",true)?false:e.get("zoomLock",true)?"move":true;if(n[i+u]>n[i+t]){t=u}a=a&&e.get("preventDefaultMouseMove",true)}));return{controlType:t,opt:{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:true,preventDefaultMouseMove:!!a}}}function Nq(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,(function(r,t){var i=yq(t);var n=i.coordSysRecordMap||(i.coordSysRecordMap=Sr());n.each((function(r){r.dataZoomInfoMap=null}));r.eachComponent({mainType:"dataZoom",subType:"inside"},(function(r){var i=oG(r);V(i.infoList,(function(i){var a=i.model.uid;var e=n.get(a)||n.set(a,xq(t,i.model));var u=e.dataZoomInfoMap||(e.dataZoomInfoMap=Sr());u.set(r.uid,{dzReferCoordSysInfo:i,model:r,getRange:null})}))}));n.each((function(r){var t=r.controller;var i;var a=r.dataZoomInfoMap;if(a){var e=a.keys()[0];if(e!=null){i=a.get(e)}}if(!i){wq(n,r);return}var u=kq(a);t.enable(u.controlType,u.opt);t.setPointerChecker(r.containsPoint);bg(r,"dispatchAction",i.model.get("throttle",true),"fixRate")}))}))}var Aq=function(r){a(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t.type="dataZoom.inside";return t}t.prototype.render=function(t,i,n){r.prototype.render.apply(this,arguments);if(t.noTarget()){this._clear();return}this.range=t.getPercentRange();gq(n,t,{pan:j(Iq.pan,this),zoom:j(Iq.zoom,this),scrollMove:j(Iq.scrollMove,this)})};t.prototype.dispose=function(){this._clear();r.prototype.dispose.apply(this,arguments)};t.prototype._clear=function(){bq(this.api,this.dataZoomModel);this.range=null};t.type="dataZoom.inside";return t}(hG);var Iq={zoom:function(r,t,i,n){var a=this.range;var e=a.slice();var u=r.axisModels[0];if(!u){return}var o=Tq[t](null,[n.originX,n.originY],u,i,r);var v=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(e[1]-e[0])+e[0];var s=Math.max(1/n.scale,0);e[0]=(e[0]-v)*s+v;e[1]=(e[1]-v)*s+v;var f=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();GB(0,e,[0,100],0,f.minSpan,f.maxSpan);this.range=e;if(a[0]!==e[0]||a[1]!==e[1]){return e}},pan:Cq((function(r,t,i,n,a,e){var u=Tq[n]([e.oldX,e.oldY],[e.newX,e.newY],t,a,i);return u.signal*(r[1]-r[0])*u.pixel/u.pixelLength})),scrollMove:Cq((function(r,t,i,n,a,e){var u=Tq[n]([0,0],[e.scrollDelta,e.scrollDelta],t,a,i);return u.signal*(r[1]-r[0])*e.scrollDelta}))};function Cq(r){return function(t,i,n,a){var e=this.range;var u=e.slice();var o=t.axisModels[0];if(!o){return}var v=r(u,o,t,i,n,a);GB(v,u,[0,100],"all");this.range=u;if(e[0]!==u[0]||e[1]!==u[1]){return u}}}var Tq={grid:function(r,t,i,n,a){var e=i.axis;var u={};var o=a.model.coordinateSystem.getRect();r=r||[0,0];if(e.dim==="x"){u.pixel=t[0]-r[0];u.pixelLength=o.width;u.pixelStart=o.x;u.signal=e.inverse?1:-1}else{u.pixel=t[1]-r[1];u.pixelLength=o.height;u.pixelStart=o.y;u.signal=e.inverse?-1:1}return u},polar:function(r,t,i,n,a){var e=i.axis;var u={};var o=a.model.coordinateSystem;var v=o.getRadiusAxis().getExtent();var s=o.getAngleAxis().getExtent();r=r?o.pointToCoord(r):[0,0];t=o.pointToCoord(t);if(i.mainType==="radiusAxis"){u.pixel=t[0]-r[0];u.pixelLength=v[1]-v[0];u.pixelStart=v[0];u.signal=e.inverse?1:-1}else{u.pixel=t[1]-r[1];u.pixelLength=s[1]-s[0];u.pixelStart=s[0];u.signal=e.inverse?-1:1}return u},singleAxis:function(r,t,i,n,a){var e=i.axis;var u=a.model.coordinateSystem.getRect();var o={};r=r||[0,0];if(e.orient==="horizontal"){o.pixel=t[0]-r[0];o.pixelLength=u.width;o.pixelStart=u.x;o.signal=e.inverse?1:-1}else{o.pixel=t[1]-r[1];o.pixelLength=u.height;o.pixelStart=u.y;o.signal=e.inverse?-1:1}return o}};function zq(r){xG(r);r.registerComponentModel(mq);r.registerComponentView(Aq);Nq(r)}var Lq=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.type="dataZoom.slider";t.layoutMode="box";t.defaultOption=Mc(sG.defaultOption,{show:true,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:true,showDataShadow:"auto",realtime:true,zoomLock:false,textStyle:{color:"#6E7079"},brushSelect:true,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}});return t}(sG);var Oq=ts;var Dq=7;var Rq=1;var Fq=30;var Bq=7;var _q="horizontal";var Eq="vertical";var Pq=5;var Wq=["line","bar","candlestick","scatter"];var Vq={easing:"cubicOut",duration:100,delay:0};var Hq=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i._displayables={};return i}t.prototype.init=function(r,t){this.api=t;this._onBrush=j(this._onBrush,this);this._onBrushEnd=j(this._onBrushEnd,this)};t.prototype.render=function(t,i,n,a){r.prototype.render.apply(this,arguments);bg(this,"_dispatchZoomAction",t.get("throttle"),"fixRate");this._orient=t.getOrient();if(t.get("show")===false){this.group.removeAll();return}if(t.noTarget()){this._clear();this.group.removeAll();return}if(!a||a.type!=="dataZoom"||a.from!==this.uid){this._buildView()}this._updateView()};t.prototype.dispose=function(){this._clear();r.prototype.dispose.apply(this,arguments)};t.prototype._clear=function(){wg(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush);r.off("mouseup",this._onBrushEnd)};t.prototype._buildView=function(){var r=this.group;r.removeAll();this._brushing=false;this._displayables.brushRect=null;this._resetLocation();this._resetInterval();var t=this._displayables.sliderGroup=new xe;this._renderBackground();this._renderHandle();this._renderDataShadow();r.add(t);this._positionGroup()};t.prototype._resetLocation=function(){var r=this.dataZoomModel;var t=this.api;var i=r.get("brushSelect");var n=i?Bq:0;var a=this._findCoordRect();var e={width:t.getWidth(),height:t.getHeight()};var u=this._orient===_q?{right:e.width-a.x-a.width,top:e.height-Fq-Dq-n,width:a.width,height:Fq}:{right:Dq,top:a.y,width:Fq,height:a.height};var o=Fd(r.option);V(["right","top","width","height"],(function(r){if(o[r]==="ph"){o[r]=u[r]}}));var v=zd(o,e);this._location={x:v.x,y:v.y};this._size=[v.width,v.height];this._orient===Eq&&this._size.reverse()};t.prototype._positionGroup=function(){var r=this.group;var t=this._location;var i=this._orient;var n=this.dataZoomModel.getFirstTargetAxisModel();var a=n&&n.get("inverse");var e=this._displayables.sliderGroup;var u=(this._dataShadowInfo||{}).otherAxisInverse;e.attr(i===_q&&!a?{scaleY:u?1:-1,scaleX:1}:i===_q&&a?{scaleY:u?1:-1,scaleX:-1}:i===Eq&&!a?{scaleY:u?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:u?-1:1,scaleX:-1,rotation:Math.PI/2});var o=r.getBoundingRect([e]);r.x=t.x-o.x;r.y=t.y-o.y;r.markRedraw()};t.prototype._getViewExtent=function(){return[0,this._size[0]]};t.prototype._renderBackground=function(){var r=this.dataZoomModel;var t=this._size;var i=this._displayables.sliderGroup;var n=r.get("brushSelect");i.add(new Oq({silent:true,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var a=new Oq({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:j(this._onClickPanel,this)});var e=this.api.getZr();if(n){a.on("mousedown",this._onBrushStart,this);a.cursor="crosshair";e.on("mousemove",this._onBrush);e.on("mouseup",this._onBrushEnd)}else{e.off("mousemove",this._onBrush);e.off("mouseup",this._onBrushEnd)}i.add(a)};t.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();this._displayables.dataShadowSegs=[];if(!r){return}var t=this._size;var i=this._shadowSize||[];var n=r.series;var a=n.getRawData();var e=n.getShadowDim&&n.getShadowDim();var u=e&&a.getDimensionInfo(e)?n.getShadowDim():r.otherDim;if(u==null){return}var o=this._shadowPolygonPts;var v=this._shadowPolylinePts;if(a!==this._shadowData||u!==this._shadowDim||t[0]!==i[0]||t[1]!==i[1]){var s=a.getDataExtent(u);var f=(s[1]-s[0])*.3;s=[s[0]-f,s[1]+f];var l=[0,t[1]];var h=[0,t[0]];var c=[[t[0],0],[0,0]];var d=[];var p=h[1]/(a.count()-1);var m=0;var y=Math.round(a.count()/t[0]);var g;a.each([u],(function(r,t){if(y>0&&t%y){m+=p;return}var i=r==null||isNaN(r)||r==="";var n=i?0:ze(r,s,l,true);if(i&&!g&&t){c.push([c[c.length-1][0],0]);d.push([d[d.length-1][0],0])}else if(!i&&g){c.push([m,0]);d.push([m,0])}c.push([m,n]);d.push([m,n]);m+=p;g=i}));o=this._shadowPolygonPts=c;v=this._shadowPolylinePts=d}this._shadowData=a;this._shadowDim=u;this._shadowSize=[t[0],t[1]];var b=this.dataZoomModel;function w(r){var t=b.getModel(r?"selectedDataBackground":"dataBackground");var i=new xe;var n=new Ll({shape:{points:o},segmentIgnoreThreshold:1,style:t.getModel("areaStyle").getAreaStyle(),silent:true,z2:-20});var a=new Dl({shape:{points:v},segmentIgnoreThreshold:1,style:t.getModel("lineStyle").getLineStyle(),silent:true,z2:-19});i.add(n);i.add(a);return i}for(var x=0;x<3;x++){var M=w(x===1);this._displayables.sliderGroup.add(M);this._displayables.dataShadowSegs.push(M)}};t.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel;var t=r.get("showDataShadow");if(t===false){return}var i;var n=this.ecModel;r.eachTargetAxis((function(a,e){var u=r.getAxisProxy(a,e).getTargetSeriesModels();V(u,(function(r){if(i){return}if(t!==true&&_(Wq,r.get("type"))<0){return}var u=n.getComponent(eG(a),e).axis;var o=Yq(a);var v;var s=r.coordinateSystem;if(o!=null&&s.getOtherAxis){v=s.getOtherAxis(u).inverse}o=r.getData().mapDimension(o);i={thisAxis:u,series:r,thisDim:a,otherDim:o,otherAxisInverse:v}}),this)}),this);return i};t.prototype._renderHandle=function(){var r=this.group;var t=this._displayables;var i=t.handles=[null,null];var n=t.handleLabels=[null,null];var a=this._displayables.sliderGroup;var e=this._size;var u=this.dataZoomModel;var o=this.api;var v=u.get("borderRadius")||0;var s=u.get("brushSelect");var f=t.filler=new Oq({silent:s,style:{fill:u.get("fillerColor")},textConfig:{position:"inside"}});a.add(f);a.add(new Oq({silent:true,subPixelOptimize:true,shape:{x:0,y:0,width:e[0],height:e[1],r:v},style:{stroke:u.get("dataBackgroundColor")||u.get("borderColor"),lineWidth:Rq,fill:"rgba(0,0,0,0)"}}));V([0,1],(function(t){var e=u.get("handleIcon");if(!xb[e]&&e.indexOf("path://")<0&&e.indexOf("image://")<0){e="path://"+e}var o=kb(e,-1,0,2,2,null,true);o.attr({cursor:Xq(this._orient),draggable:true,drift:j(this._onDragMove,this,t),ondragend:j(this._onDragEnd,this),onmouseover:j(this._showDataInfo,this,true),onmouseout:j(this._showDataInfo,this,false),z2:5});var v=o.getBoundingRect();var s=u.get("handleSize");this._handleHeight=Le(s,this._size[1]);this._handleWidth=v.width/v.height*this._handleHeight;o.setStyle(u.getModel("handleStyle").getItemStyle());o.style.strokeNoScale=true;o.rectHover=true;o.ensureState("emphasis").style=u.getModel(["emphasis","handleStyle"]).getItemStyle();Mf(o);var f=u.get("handleColor");if(f!=null){o.style.fill=f}a.add(i[t]=o);var l=u.getModel("textStyle");r.add(n[t]=new es({silent:true,invisible:true,style:qh(l,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:l.getTextColor(),font:l.getFont()}),z2:10}))}),this);var l=f;if(s){var h=Le(u.get("moveHandleSize"),e[1]);var c=t.moveHandle=new ts({style:u.getModel("moveHandleStyle").getItemStyle(),silent:true,shape:{r:[0,0,2,2],y:e[1]-.5,height:h}});var d=h*.8;var p=t.moveHandleIcon=kb(u.get("moveHandleIcon"),-d/2,-d/2,d,d,"#fff",true);p.silent=true;p.y=e[1]+h/2-.5;c.ensureState("emphasis").style=u.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(e[1]/2,Math.max(h,10));l=t.moveZone=new ts({invisible:true,shape:{y:e[1]-m,height:h+m}});l.on("mouseover",(function(){o.enterEmphasis(c)})).on("mouseout",(function(){o.leaveEmphasis(c)}));a.add(c);a.add(p);a.add(l)}l.attr({draggable:true,cursor:Xq(this._orient),drift:j(this._onDragMove,this,"all"),ondragstart:j(this._showDataInfo,this,true),ondragend:j(this._onDragEnd,this),onmouseover:j(this._showDataInfo,this,true),onmouseout:j(this._showDataInfo,this,false)})};t.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange();var t=this._getViewExtent();this._handleEnds=[ze(r[0],[0,100],t,true),ze(r[1],[0,100],t,true)]};t.prototype._updateInterval=function(r,t){var i=this.dataZoomModel;var n=this._handleEnds;var a=this._getViewExtent();var e=i.findRepresentativeAxisProxy().getMinMaxSpan();var u=[0,100];GB(t,n,a,i.get("zoomLock")?"all":r,e.minSpan!=null?ze(e.minSpan,u,a,true):null,e.maxSpan!=null?ze(e.maxSpan,u,a,true):null);var o=this._range;var v=this._range=De([ze(n[0],a,u,true),ze(n[1],a,u,true)]);return!o||o[0]!==v[0]||o[1]!==v[1]};t.prototype._updateView=function(r){var t=this._displayables;var i=this._handleEnds;var n=De(i.slice());var a=this._size;V([0,1],(function(r){var n=t.handles[r];var e=this._handleHeight;n.attr({scaleX:e/2,scaleY:e/2,x:i[r]+(r?-1:1),y:a[1]/2-e/2})}),this);t.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:a[1]});var e={x:n[0],width:n[1]-n[0]};if(t.moveHandle){t.moveHandle.setShape(e);t.moveZone.setShape(e);t.moveZone.getBoundingRect();t.moveHandleIcon&&t.moveHandleIcon.attr("x",e.x+e.width/2)}var u=t.dataShadowSegs;var o=[0,n[0],n[1],a[0]];for(var v=0;v<u.length;v++){var s=u[v];var f=s.getClipPath();if(!f){f=new ts;s.setClipPath(f)}f.setShape({x:o[v],y:0,width:o[v+1]-o[v],height:a[1]})}this._updateDataInfo(r)};t.prototype._updateDataInfo=function(r){var t=this.dataZoomModel;var i=this._displayables;var n=i.handleLabels;var a=this._orient;var e=["",""];if(t.get("showDetail")){var u=t.findRepresentativeAxisProxy();if(u){var o=u.getAxisModel().axis;var v=this._range;var s=r?u.calculateDataWindow({start:v[0],end:v[1]}).valueWindow:u.getDataValueWindow();e=[this._formatLabel(s[0],o),this._formatLabel(s[1],o)]}}var f=De(this._handleEnds.slice());l.call(this,0);l.call(this,1);function l(r){var t=Ih(i.handles[r].parent,this.group);var u=Th(r===0?"right":"left",t);var o=this._handleWidth/2+Pq;var v=Ch([f[r]+(r===0?-o:o),this._size[1]/2],t);n[r].setStyle({x:v[0],y:v[1],verticalAlign:a===_q?"middle":u,align:a===_q?u:"center",text:e[r]})}};t.prototype._formatLabel=function(r,t){var i=this.dataZoomModel;var n=i.get("labelFormatter");var a=i.get("labelPrecision");if(a==null||a==="auto"){a=t.getPixelPrecision()}var e=r==null||isNaN(r)?"":t.type==="category"||t.type==="time"?t.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(a,20));return J(n)?n(r,e):$(n)?n.replace("{value}",e):e};t.prototype._showDataInfo=function(r){r=this._dragging||r;var t=this._displayables;var i=t.handleLabels;i[0].attr("invisible",!r);i[1].attr("invisible",!r);t.moveHandle&&this.api[r?"enterEmphasis":"leaveEmphasis"](t.moveHandle,1)};t.prototype._onDragMove=function(r,t,i,n){this._dragging=true;St(n.event);var a=this._displayables.sliderGroup.getLocalTransform();var e=Ch([t,i],a,true);var u=this._updateInterval(r,e[0]);var o=this.dataZoomModel.get("realtime");this._updateView(!o);u&&o&&this._dispatchZoomAction(true)};t.prototype._onDragEnd=function(){this._dragging=false;this._showDataInfo(false);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(false)};t.prototype._onClickPanel=function(r){var t=this._size;var i=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(i[0]<0||i[0]>t[0]||i[1]<0||i[1]>t[1]){return}var n=this._handleEnds;var a=(n[0]+n[1])/2;var e=this._updateInterval("all",i[0]-a);this._updateView();e&&this._dispatchZoomAction(false)};t.prototype._onBrushStart=function(r){var t=r.offsetX;var i=r.offsetY;this._brushStart=new Et(t,i);this._brushing=true;this._brushStartTime=+new Date};t.prototype._onBrushEnd=function(r){if(!this._brushing){return}var t=this._displayables.brushRect;this._brushing=false;if(!t){return}t.attr("ignore",true);var i=t.shape;var n=+new Date;if(n-this._brushStartTime<200&&Math.abs(i.width)<5){return}var a=this._getViewExtent();var e=[0,100];this._range=De([ze(i.x,a,e,true),ze(i.x+i.width,a,e,true)]);this._handleEnds=[i.x,i.x+i.width];this._updateView();this._dispatchZoomAction(false)};t.prototype._onBrush=function(r){if(this._brushing){St(r.event);this._updateBrushRect(r.offsetX,r.offsetY)}};t.prototype._updateBrushRect=function(r,t){var i=this._displayables;var n=this.dataZoomModel;var a=i.brushRect;if(!a){a=i.brushRect=new Oq({silent:true,style:n.getModel("brushStyle").getItemStyle()});i.sliderGroup.add(a)}a.attr("ignore",false);var e=this._brushStart;var u=this._displayables.sliderGroup;var o=u.transformCoordToLocal(r,t);var v=u.transformCoordToLocal(e.x,e.y);var s=this._size;o[0]=Math.max(Math.min(s[0],o[0]),0);a.setShape({x:v[0],y:0,width:o[0]-v[0],height:s[1]})};t.prototype._dispatchZoomAction=function(r){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?Vq:null,start:t[0],end:t[1]})};t.prototype._findCoordRect=function(){var r;var t=oG(this.dataZoomModel).infoList;if(!r&&t.length){var i=t[0].model.coordinateSystem;r=i.getRect&&i.getRect()}if(!r){var n=this.api.getWidth();var a=this.api.getHeight();r={x:n*.2,y:a*.2,width:n*.6,height:a*.6}}return r};t.type="dataZoom.slider";return t}(hG);function Yq(r){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[r]}function Xq(r){return r==="vertical"?"ns-resize":"ew-resize"}function Gq(r){r.registerComponentModel(Lq);r.registerComponentView(Hq);xG(r)}function Uq(r){$x(zq);$x(Gq)}var Zq={get:function(r,t,i){var n=O((jq[r]||{})[t]);return i?K(n)?n[n.length-1]:n:n}};var jq={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};var qq=iR.mapVisual;var Kq=iR.eachVisual;var Jq=K;var $q=V;var Qq=De;var rK=ze;var tK=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.stateList=["inRange","outOfRange"];i.replacableOptionKeys=["inRange","outOfRange","target","controller","color"];i.layoutMode={type:"box",ignoreSize:true};i.dataBound=[-Infinity,Infinity];i.targetVisuals={};i.controllerVisuals={};return i}t.prototype.init=function(r,t,i){this.mergeDefaultAndTheme(r,i)};t.prototype.optionUpdated=function(r,t){var i=this.option;!t&&fZ(i,r,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()};t.prototype.resetVisual=function(r){var t=this.stateList;r=j(r,this);this.controllerVisuals=sZ(this.option.controller,t,r);this.targetVisuals=sZ(this.option.target,t,r)};t.prototype.getItemSymbol=function(){return null};t.prototype.getTargetSeriesIndices=function(){var r=this.option.seriesIndex;var t=[];if(r==null||r==="all"){this.ecModel.eachSeries((function(r,i){t.push(i)}))}else{t=su(r)}return t};t.prototype.eachTargetSeries=function(r,t){V(this.getTargetSeriesIndices(),(function(i){var n=this.ecModel.getSeriesByIndex(i);if(n){r.call(t,n)}}),this)};t.prototype.isTargetSeries=function(r){var t=false;this.eachTargetSeries((function(i){i===r&&(t=true)}));return t};t.prototype.formatValueText=function(r,t,i){var n=this.option;var a=n.precision;var e=this.dataBound;var u=n.formatter;var o;i=i||["<",">"];if(K(r)){r=r.slice();o=true}var v=t?r:o?[s(r[0]),s(r[1])]:s(r);if($(u)){return u.replace("{value}",o?v[0]:v).replace("{value2}",o?v[1]:v)}else if(J(u)){return o?u(r[0],r[1]):u(r)}if(o){if(r[0]===e[0]){return i[0]+" "+v[1]}else if(r[1]===e[1]){return i[1]+" "+v[0]}else{return v[0]+" - "+v[1]}}else{return v}function s(r){return r===e[0]?"min":r===e[1]?"max":(+r).toFixed(Math.min(a,20))}};t.prototype.resetExtent=function(){var r=this.option;var t=Qq([r.min,r.max]);this._dataExtent=t};t.prototype.getDataDimensionIndex=function(r){var t=this.option.dimension;if(t!=null){return r.getDimensionIndex(t)}var i=r.dimensions;for(var n=i.length-1;n>=0;n--){var a=i[n];var e=r.getDimensionInfo(a);if(!e.isCalculationCoord){return e.storeDimIndex}}};t.prototype.getExtent=function(){return this._dataExtent.slice()};t.prototype.completeVisualOption=function(){var r=this.ecModel;var t=this.option;var i={inRange:t.inRange,outOfRange:t.outOfRange};var n=t.target||(t.target={});var a=t.controller||(t.controller={});D(n,i);D(a,i);var e=this.isCategory();u.call(this,n);u.call(this,a);o.call(this,n,"inRange","outOfRange");v.call(this,a);function u(i){if(Jq(t.color)&&!i.inRange){i.inRange={color:t.color.slice().reverse()}}i.inRange=i.inRange||{color:r.get("gradientColor")}}function o(r,t,i){var n=r[t];var a=r[i];if(n&&!a){a=r[i]={};$q(n,(function(r,t){if(!iR.isValidType(t)){return}var i=Zq.get(t,"inactive",e);if(i!=null){a[t]=i;if(t==="color"&&!a.hasOwnProperty("opacity")&&!a.hasOwnProperty("colorAlpha")){a.opacity=[0,0]}}}))}}function v(r){var t=(r.inRange||{}).symbol||(r.outOfRange||{}).symbol;var i=(r.inRange||{}).symbolSize||(r.outOfRange||{}).symbolSize;var n=this.get("inactiveColor");var a=this.getItemSymbol();var u=a||"roundRect";$q(this.stateList,(function(a){var o=this.itemSize;var v=r[a];if(!v){v=r[a]={color:e?n:[n]}}if(v.symbol==null){v.symbol=t&&O(t)||(e?u:[u])}if(v.symbolSize==null){v.symbolSize=i&&O(i)||(e?o[0]:[o[0],o[0]])}v.symbol=qq(v.symbol,(function(r){return r==="none"?u:r}));var s=v.symbolSize;if(s!=null){var f=-Infinity;Kq(s,(function(r){r>f&&(f=r)}));v.symbolSize=qq(s,(function(r){return rK(r,[0,f],[0,o[0]],true)}))}}),this)}};t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]};t.prototype.isCategory=function(){return!!this.option.categories};t.prototype.setSelected=function(r){};t.prototype.getSelected=function(){return null};t.prototype.getValueState=function(r){return null};t.prototype.getVisualMeta=function(r){return null};t.type="visualMap";t.dependencies=["series"];t.defaultOption={show:true,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:false,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}};return t}(Ed);var iK=[20,140];var nK=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.optionUpdated=function(t,i){r.prototype.optionUpdated.apply(this,arguments);this.resetExtent();this.resetVisual((function(r){r.mappingMethod="linear";r.dataExtent=this.getExtent()}));this._resetRange()};t.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=iK[0]);(t[1]==null||isNaN(t[1]))&&(t[1]=iK[1])};t.prototype._resetRange=function(){var r=this.getExtent();var t=this.option.range;if(!t||t.auto){r.auto=1;this.option.range=r}else if(K(t)){if(t[0]>t[1]){t.reverse()}t[0]=Math.max(t[0],r[0]);t[1]=Math.min(t[1],r[1])}};t.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments);V(this.stateList,(function(r){var t=this.option.controller[r].symbolSize;if(t&&t[0]!==t[1]){t[0]=t[1]/3}}),this)};t.prototype.setSelected=function(r){this.option.range=r.slice();this._resetRange()};t.prototype.getSelected=function(){var r=this.getExtent();var t=De((this.get("range")||[]).slice());t[0]>r[1]&&(t[0]=r[1]);t[1]>r[1]&&(t[1]=r[1]);t[0]<r[0]&&(t[0]=r[0]);t[1]<r[0]&&(t[1]=r[0]);return t};t.prototype.getValueState=function(r){var t=this.option.range;var i=this.getExtent();return(t[0]<=i[0]||t[0]<=r)&&(t[1]>=i[1]||r<=t[1])?"inRange":"outOfRange"};t.prototype.findTargetDataIndices=function(r){var t=[];this.eachTargetSeries((function(i){var n=[];var a=i.getData();a.each(this.getDataDimensionIndex(a),(function(t,i){r[0]<=t&&t<=r[1]&&n.push(i)}),this);t.push({seriesId:i.id,dataIndex:n})}),this);return t};t.prototype.getVisualMeta=function(r){var t=aK(this,"outOfRange",this.getExtent());var i=aK(this,"inRange",this.option.range.slice());var n=[];function a(t,i){n.push({value:t,color:r(t,i)})}var e=0;var u=0;var o=i.length;var v=t.length;for(;u<v&&(!i.length||t[u]<=i[0]);u++){if(t[u]<i[e]){a(t[u],"outOfRange")}}for(var s=1;e<o;e++,s=0){s&&n.length&&a(i[e],"outOfRange");a(i[e],"inRange")}for(var s=1;u<v;u++){if(!i.length||i[i.length-1]<t[u]){if(s){n.length&&a(n[n.length-1].value,"outOfRange");s=0}a(t[u],"outOfRange")}}var f=n.length;return{stops:n,outerColors:[f?n[0].color:"transparent",f?n[f-1].color:"transparent"]}};t.type="visualMap.continuous";t.defaultOption=Mc(tK.defaultOption,{align:"auto",calculable:false,hoverLink:true,realtime:true,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}});return t}(tK);function aK(r,t,i){if(i[0]===i[1]){return i.slice()}var n=200;var a=(i[1]-i[0])/n;var e=i[0];var u=[];for(var o=0;o<=n&&e<i[1];o++){u.push(e);e+=a}u.push(i[1]);return u}var eK=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i.autoPositionValues={left:1,right:1,top:1,bottom:1};return i}t.prototype.init=function(r,t){this.ecModel=r;this.api=t};t.prototype.render=function(r,t,i,n){this.visualMapModel=r;if(r.get("show")===false){this.group.removeAll();return}this.doRender(r,t,i,n)};t.prototype.renderBackground=function(r){var t=this.visualMapModel;var i=pd(t.get("padding")||0);var n=r.getBoundingRect();r.add(new ts({z2:-1,silent:true,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))};t.prototype.getControllerVisual=function(r,t,i){i=i||{};var n=i.forceState;var a=this.visualMapModel;var e={};if(t==="color"){var u=a.get("contentColor");e.color=u}function o(r){return e[r]}function v(r,t){e[r]=t}var s=a.controllerVisuals[n||a.getValueState(r)];var f=iR.prepareVisualTypes(s);V(f,(function(n){var a=s[n];if(i.convertOpacityToAlpha&&n==="opacity"){n="colorAlpha";a=s.__alphaForOpacity}if(iR.dependsOn(n,t)){a&&a.applyVisual(r,o,v)}}));return e[t]};t.prototype.positionGroup=function(r){var t=this.visualMapModel;var i=this.api;Ld(r,t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})};t.prototype.doRender=function(r,t,i,n){};t.type="visualMap";return t}(eg);var uK=[["left","right","width"],["top","bottom","height"]];function oK(r,t,i){var n=r.option;var a=n.align;if(a!=null&&a!=="auto"){return a}var e={width:t.getWidth(),height:t.getHeight()};var u=n.orient==="horizontal"?1:0;var o=uK[u];var v=[0,null,10];var s={};for(var f=0;f<3;f++){s[uK[1-u][f]]=v[f];s[o[f]]=f===2?i[0]:n[o[f]]}var l=[["x","width",3],["y","height",0]][u];var h=zd(s,e,n.padding);return o[(h.margin[l[2]]||0)+h[l[0]]+h[l[1]]*.5<e[l[1]]*.5?0:1]}function vK(r,t){V(r||[],(function(r){if(r.dataIndex!=null){r.dataIndexInside=r.dataIndex;r.dataIndex=null}r.highlightKey="visualMap"+(t?t.componentIndex:"")}));return r}var sK=ze;var fK=V;var lK=Math.min;var hK=Math.max;var cK=12;var dK=6;var pK=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i._shapes={};i._dataInterval=[];i._handleEnds=[];i._hoverLinkDataIndices=[];return i}t.prototype.doRender=function(r,t,i,n){this._api=i;if(!n||n.type!=="selectDataRange"||n.from!==this.uid){this._buildView()}};t.prototype._buildView=function(){this.group.removeAll();var r=this.visualMapModel;var t=this.group;this._orient=r.get("orient");this._useHandle=r.get("calculable");this._resetInterval();this._renderBar(t);var i=r.get("text");this._renderEndsText(t,i,0);this._renderEndsText(t,i,1);this._updateView(true);this.renderBackground(t);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(t)};t.prototype._renderEndsText=function(r,t,i){if(!t){return}var n=t[1-i];n=n!=null?n+"":"";var a=this.visualMapModel;var e=a.get("textGap");var u=a.itemSize;var o=this._shapes.mainGroup;var v=this._applyTransform([u[0]/2,i===0?-e:u[1]+e],o);var s=this._applyTransform(i===0?"bottom":"top",o);var f=this._orient;var l=this.visualMapModel.textStyleModel;this.group.add(new es({style:qh(l,{x:v[0],y:v[1],verticalAlign:f==="horizontal"?"middle":s,align:f==="horizontal"?s:"center",text:n})}))};t.prototype._renderBar=function(r){var t=this.visualMapModel;var i=this._shapes;var n=t.itemSize;var a=this._orient;var e=this._useHandle;var u=oK(t,this.api,n);var o=i.mainGroup=this._createBarGroup(u);var v=new xe;o.add(v);v.add(i.outOfRange=mK());v.add(i.inRange=mK(null,e?bK(this._orient):null,j(this._dragHandle,this,"all",false),j(this._dragHandle,this,"all",true)));v.setClipPath(new ts({shape:{x:0,y:0,width:n[0],height:n[1],r:3}}));var s=t.textStyleModel.getTextRect("");var f=hK(s.width,s.height);if(e){i.handleThumbs=[];i.handleLabels=[];i.handleLabelPoints=[];this._createHandle(t,o,0,n,f,a);this._createHandle(t,o,1,n,f,a)}this._createIndicator(t,o,n,f,a);r.add(o)};t.prototype._createHandle=function(r,t,i,n,a,e){var u=j(this._dragHandle,this,i,false);var o=j(this._dragHandle,this,i,true);var v=ue(r.get("handleSize"),n[0]);var s=kb(r.get("handleIcon"),-v/2,-v/2,v,v,null,true);var f=bK(this._orient);s.attr({cursor:f,draggable:true,drift:u,ondragend:o,onmousemove:function(r){St(r.event)}});s.x=n[0]/2;s.useStyle(r.getModel("handleStyle").getItemStyle());s.setStyle({strokeNoScale:true,strokeFirst:true});s.style.lineWidth*=2;s.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle();Tf(s,true);t.add(s);var l=this.visualMapModel.textStyleModel;var h=new es({cursor:f,draggable:true,drift:u,onmousemove:function(r){St(r.event)},ondragend:o,style:qh(l,{x:0,y:0,text:""})});h.ensureState("blur").style={opacity:.1};h.stateTransition={duration:200};this.group.add(h);var c=[v,0];var d=this._shapes;d.handleThumbs[i]=s;d.handleLabelPoints[i]=c;d.handleLabels[i]=h};t.prototype._createIndicator=function(r,t,i,n,a){var e=ue(r.get("indicatorSize"),i[0]);var u=kb(r.get("indicatorIcon"),-e/2,-e/2,e,e,null,true);u.attr({cursor:"move",invisible:true,silent:true,x:i[0]/2});var o=r.getModel("indicatorStyle").getItemStyle();if(u instanceof Zv){var v=u.style;u.useStyle(F({image:v.image,x:v.x,y:v.y,width:v.width,height:v.height},o))}else{u.useStyle(o)}t.add(u);var s=this.visualMapModel.textStyleModel;var f=new es({silent:true,invisible:true,style:qh(s,{x:0,y:0,text:""})});this.group.add(f);var l=[(a==="horizontal"?n/2:dK)+i[0]/2,0];var h=this._shapes;h.indicator=u;h.indicatorLabel=f;h.indicatorLabelPoint=l;this._firstShowIndicator=true};t.prototype._dragHandle=function(r,t,i,n){if(!this._useHandle){return}this._dragging=!t;if(!t){var a=this._applyTransform([i,n],this._shapes.mainGroup,true);this._updateInterval(r,a[1]);this._hideIndicator();this._updateView()}if(t===!this.visualMapModel.get("realtime")){this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}if(t){!this._hovering&&this._clearHoverLinkToSeries()}else if(gK(this.visualMapModel)){this._doHoverLinkToSeries(this._handleEnds[r],false)}};t.prototype._resetInterval=function(){var r=this.visualMapModel;var t=this._dataInterval=r.getSelected();var i=r.getExtent();var n=[0,r.itemSize[1]];this._handleEnds=[sK(t[0],i,n,true),sK(t[1],i,n,true)]};t.prototype._updateInterval=function(r,t){t=t||0;var i=this.visualMapModel;var n=this._handleEnds;var a=[0,i.itemSize[1]];GB(t,n,a,r,0);var e=i.getExtent();this._dataInterval=[sK(n[0],a,e,true),sK(n[1],a,e,true)]};t.prototype._updateView=function(r){var t=this.visualMapModel;var i=t.getExtent();var n=this._shapes;var a=[0,t.itemSize[1]];var e=r?a:this._handleEnds;var u=this._createBarVisual(this._dataInterval,i,e,"inRange");var o=this._createBarVisual(i,i,a,"outOfRange");n.inRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints);n.outOfRange.setStyle({fill:o.barColor}).setShape("points",o.barPoints);this._updateHandle(e,u)};t.prototype._createBarVisual=function(r,t,i,n){var a={forceState:n,convertOpacityToAlpha:true};var e=this._makeColorGradient(r,a);var u=[this.getControllerVisual(r[0],"symbolSize",a),this.getControllerVisual(r[1],"symbolSize",a)];var o=this._createBarPoints(i,u);return{barColor:new Gl(0,0,0,1,e),barPoints:o,handlesColor:[e[0].color,e[e.length-1].color]}};t.prototype._makeColorGradient=function(r,t){var i=100;var n=[];var a=(r[1]-r[0])/i;n.push({color:this.getControllerVisual(r[0],"color",t),offset:0});for(var e=1;e<i;e++){var u=r[0]+a*e;if(u>r[1]){break}n.push({color:this.getControllerVisual(u,"color",t),offset:e/i})}n.push({color:this.getControllerVisual(r[1],"color",t),offset:1});return n};t.prototype._createBarPoints=function(r,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],r[0]],[i[0],r[0]],[i[0],r[1]],[i[0]-t[1],r[1]]]};t.prototype._createBarGroup=function(r){var t=this._orient;var i=this.visualMapModel.get("inverse");return new xe(t==="horizontal"&&!i?{scaleX:r==="bottom"?1:-1,rotation:Math.PI/2}:t==="horizontal"&&i?{scaleX:r==="bottom"?-1:1,rotation:-Math.PI/2}:t==="vertical"&&!i?{scaleX:r==="left"?1:-1,scaleY:-1}:{scaleX:r==="left"?1:-1})};t.prototype._updateHandle=function(r,t){if(!this._useHandle){return}var i=this._shapes;var n=this.visualMapModel;var a=i.handleThumbs;var e=i.handleLabels;var u=n.itemSize;var o=n.getExtent();fK([0,1],(function(v){var s=a[v];s.setStyle("fill",t.handlesColor[v]);s.y=r[v];var f=sK(r[v],[0,u[1]],o,true);var l=this.getControllerVisual(f,"symbolSize");s.scaleX=s.scaleY=l/u[0];s.x=u[0]-l/2;var h=Ch(i.handleLabelPoints[v],Ih(s,this.group));e[v].setStyle({x:h[0],y:h[1],text:n.formatValueText(this._dataInterval[v]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})}),this)};t.prototype._showIndicator=function(r,t,i,n){var a=this.visualMapModel;var e=a.getExtent();var u=a.itemSize;var o=[0,u[1]];var v=this._shapes;var s=v.indicator;if(!s){return}s.attr("invisible",false);var f={convertOpacityToAlpha:true};var l=this.getControllerVisual(r,"color",f);var h=this.getControllerVisual(r,"symbolSize");var c=sK(r,e,o,true);var d=u[0]-h/2;var p={x:s.x,y:s.y};s.y=c;s.x=d;var m=Ch(v.indicatorLabelPoint,Ih(s,this.group));var y=v.indicatorLabel;y.attr("invisible",false);var g=this._applyTransform("left",v.mainGroup);var b=this._orient;var w=b==="horizontal";y.setStyle({text:(i?i:"")+a.formatValueText(t),verticalAlign:w?g:"middle",align:w?"center":g});var x={x:d,y:c,style:{fill:l}};var M={style:{x:m[0],y:m[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var S={duration:100,easing:"cubicInOut",additive:true};s.x=p.x;s.y=p.y;s.animateTo(x,S);y.animateTo(M,S)}else{s.attr(x);y.attr(M)}this._firstShowIndicator=false;var k=this._shapes.handleLabels;if(k){for(var N=0;N<k.length;N++){this._api.enterBlur(k[N])}}};t.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",(function(t){r._hovering=true;if(!r._dragging){var i=r.visualMapModel.itemSize;var n=r._applyTransform([t.offsetX,t.offsetY],r._shapes.mainGroup,true,true);n[1]=lK(hK(0,n[1]),i[1]);r._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}})).on("mouseout",(function(){r._hovering=false;!r._dragging&&r._clearHoverLinkToSeries()}))};t.prototype._enableHoverLinkFromSeries=function(){var r=this.api.getZr();if(this.visualMapModel.option.hoverLink){r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this);r.on("mouseout",this._hideIndicator,this)}else{this._clearHoverLinkFromSeries()}};t.prototype._doHoverLinkToSeries=function(r,t){var i=this.visualMapModel;var n=i.itemSize;if(!i.option.hoverLink){return}var a=[0,n[1]];var e=i.getExtent();r=lK(hK(a[0],r),a[1]);var u=yK(i,e,a);var o=[r-u,r+u];var v=sK(r,a,e,true);var s=[sK(o[0],a,e,true),sK(o[1],a,e,true)];o[0]<a[0]&&(s[0]=-Infinity);o[1]>a[1]&&(s[1]=Infinity);if(t){if(s[0]===-Infinity){this._showIndicator(v,s[1],"< ",u)}else if(s[1]===Infinity){this._showIndicator(v,s[0],"> ",u)}else{this._showIndicator(v,v," ",u)}}var f=this._hoverLinkDataIndices;var l=[];if(t||gK(i)){l=this._hoverLinkDataIndices=i.findTargetDataIndices(s)}var h=Tu(f,l);this._dispatchHighDown("downplay",vK(h[0],i));this._dispatchHighDown("highlight",vK(h[1],i))};t.prototype._hoverLinkFromSeriesMouseOver=function(r){var t;lb(r.target,(function(r){var i=bs(r);if(i.dataIndex!=null){t=i;return true}}),true);if(!t){return}var i=this.ecModel.getSeriesByIndex(t.seriesIndex);var n=this.visualMapModel;if(!n.isTargetSeries(i)){return}var a=i.getData(t.dataType);var e=a.getStore().get(n.getDataDimensionIndex(a),t.dataIndex);if(!isNaN(e)){this._showIndicator(e,e)}};t.prototype._hideIndicator=function(){var r=this._shapes;r.indicator&&r.indicator.attr("invisible",true);r.indicatorLabel&&r.indicatorLabel.attr("invisible",true);var t=this._shapes.handleLabels;if(t){for(var i=0;i<t.length;i++){this._api.leaveBlur(t[i])}}};t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",vK(r,this.visualMapModel));r.length=0};t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var r=this.api.getZr();r.off("mouseover",this._hoverLinkFromSeriesMouseOver);r.off("mouseout",this._hideIndicator)};t.prototype._applyTransform=function(r,t,i,n){var a=Ih(t,n?null:this.group);return K(r)?Ch(r,a,i):Th(r,a,i)};t.prototype._dispatchHighDown=function(r,t){t&&t.length&&this.api.dispatchAction({type:r,batch:t})};t.prototype.dispose=function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()};t.prototype.remove=function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()};t.type="visualMap.continuous";return t}(eK);function mK(r,t,i,n){return new Ll({shape:{points:r},draggable:!!i,cursor:t,drift:i,onmousemove:function(r){St(r.event)},ondragend:n})}function yK(r,t,i){var n=cK/2;var a=r.get("hoverLinkDataSize");if(a){n=sK(a,t,i,true)/2}return n}function gK(r){var t=r.get("hoverLinkOnHandle");return!!(t==null?r.get("realtime"):t)}function bK(r){return r==="vertical"?"ns-resize":"ew-resize"}var wK={type:"selectDataRange",event:"dataRangeSelected",update:"update"};var xK=function(r,t){t.eachComponent({mainType:"visualMap",query:r},(function(t){t.setSelected(r.selected)}))};var MK=[{createOnAllSeries:true,reset:function(r,t){var i=[];t.eachComponent("visualMap",(function(t){var n=r.pipelineContext;if(!t.isTargetSeries(r)||n&&n.large){return}i.push(hZ(t.stateList,t.targetVisuals,j(t.getValueState,t),t.getDataDimensionIndex(r.getData())))}));return i}},{createOnAllSeries:true,reset:function(r,t){var i=r.getData();var n=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(r)){var a=t.getVisualMeta(j(SK,null,r,t))||{stops:[],outerColors:[]};var e=t.getDataDimensionIndex(i);if(e>=0){a.dimension=e;n.push(a)}}}));r.getData().setVisual("visualMeta",n)}}];function SK(r,t,i,n){var a=t.targetVisuals[n];var e=iR.prepareVisualTypes(a);var u={color:ub(r.getData(),"color")};for(var o=0,v=e.length;o<v;o++){var s=e[o];var f=a[s==="opacity"?"__alphaForOpacity":s];f&&f.applyVisual(i,l,h)}return u.color;function l(r){return u[r]}function h(r,t){u[r]=t}}var kK=V;function NK(r){var t=r&&r.visualMap;if(!K(t)){t=t?[t]:[]}kK(t,(function(r){if(!r){return}if(AK(r,"splitList")&&!AK(r,"pieces")){r.pieces=r.splitList;delete r.splitList}var t=r.pieces;if(t&&K(t)){kK(t,(function(r){if(tr(r)){if(AK(r,"start")&&!AK(r,"min")){r.min=r.start}if(AK(r,"end")&&!AK(r,"max")){r.max=r.end}}}))}}))}function AK(r,t){return r&&r.hasOwnProperty&&r.hasOwnProperty(t)}var IK=false;function CK(r){if(IK){return}IK=true;r.registerSubTypeDefaulter("visualMap",(function(r){return!r.categories&&(!(r.pieces?r.pieces.length>0:r.splitNumber>0)||r.calculable)?"continuous":"piecewise"}));r.registerAction(wK,xK);V(MK,(function(t){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,t)}));r.registerPreprocessor(NK)}function TK(r){r.registerComponentModel(nK);r.registerComponentView(pK);CK(r)}var zK=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;i._pieceList=[];return i}t.prototype.optionUpdated=function(t,i){r.prototype.optionUpdated.apply(this,arguments);this.resetExtent();var n=this._mode=this._determineMode();this._pieceList=[];LK[this._mode].call(this,this._pieceList);this._resetSelected(t,i);var a=this.option.categories;this.resetVisual((function(r,t){if(n==="categories"){r.mappingMethod="category";r.categories=O(a)}else{r.dataExtent=this.getExtent();r.mappingMethod="piecewise";r.pieceList=H(this._pieceList,(function(r){r=O(r);if(t!=="inRange"){r.visual=null}return r}))}}))};t.prototype.completeVisualOption=function(){var t=this.option;var i={};var n=iR.listVisualTypes();var a=this.isCategory();V(t.pieces,(function(r){V(n,(function(t){if(r.hasOwnProperty(t)){i[t]=1}}))}));V(i,(function(r,i){var n=false;V(this.stateList,(function(r){n=n||e(t,r,i)||e(t.target,r,i)}),this);!n&&V(this.stateList,(function(r){(t[r]||(t[r]={}))[i]=Zq.get(i,r==="inRange"?"active":"inactive",a)}))}),this);function e(r,t,i){return r&&r[t]&&r[t].hasOwnProperty(i)}r.prototype.completeVisualOption.apply(this,arguments)};t.prototype._resetSelected=function(r,t){var i=this.option;var n=this._pieceList;var a=(t?i:r).selected||{};i.selected=a;V(n,(function(r,t){var i=this.getSelectedMapKey(r);if(!a.hasOwnProperty(i)){a[i]=true}}),this);if(i.selectedMode==="single"){var e=false;V(n,(function(r,t){var i=this.getSelectedMapKey(r);if(a[i]){e?a[i]=false:e=true}}),this)}};t.prototype.getItemSymbol=function(){return this.get("itemSymbol")};t.prototype.getSelectedMapKey=function(r){return this._mode==="categories"?r.value+"":r.index+""};t.prototype.getPieceList=function(){return this._pieceList};t.prototype._determineMode=function(){var r=this.option;return r.pieces&&r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"};t.prototype.setSelected=function(r){this.option.selected=O(r)};t.prototype.getValueState=function(r){var t=iR.findPieceIndex(r,this._pieceList);return t!=null?this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange":"outOfRange"};t.prototype.findTargetDataIndices=function(r){var t=[];var i=this._pieceList;this.eachTargetSeries((function(n){var a=[];var e=n.getData();e.each(this.getDataDimensionIndex(e),(function(t,n){var e=iR.findPieceIndex(t,i);e===r&&a.push(n)}),this);t.push({seriesId:n.id,dataIndex:a})}),this);return t};t.prototype.getRepresentValue=function(r){var t;if(this.isCategory()){t=r.value}else{if(r.value!=null){t=r.value}else{var i=r.interval||[];t=i[0]===-Infinity&&i[1]===Infinity?0:(i[0]+i[1])/2}}return t};t.prototype.getVisualMeta=function(r){if(this.isCategory()){return}var t=[];var i=["",""];var n=this;function a(a,e){var u=n.getRepresentValue({interval:a});if(!e){e=n.getValueState(u)}var o=r(u,e);if(a[0]===-Infinity){i[0]=o}else if(a[1]===Infinity){i[1]=o}else{t.push({value:a[0],color:o},{value:a[1],color:o})}}var e=this._pieceList.slice();if(!e.length){e.push({interval:[-Infinity,Infinity]})}else{var u=e[0].interval[0];u!==-Infinity&&e.unshift({interval:[-Infinity,u]});u=e[e.length-1].interval[1];u!==Infinity&&e.push({interval:[u,Infinity]})}var o=-Infinity;V(e,(function(r){var t=r.interval;if(t){t[0]>o&&a([o,t[0]],"outOfRange");a(t.slice());o=t[1]}}),this);return{stops:t,outerColors:i}};t.type="visualMap.piecewise";t.defaultOption=Mc(tK.defaultOption,{selected:null,minOpen:false,maxOpen:false,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:true});return t}(tK);var LK={splitNumber:function(r){var t=this.option;var i=Math.min(t.precision,20);var n=this.getExtent();var a=t.splitNumber;a=Math.max(parseInt(a,10),1);t.splitNumber=a;var e=(n[1]-n[0])/a;while(+e.toFixed(i)!==e&&i<5){i++}t.precision=i;e=+e.toFixed(i);if(t.minOpen){r.push({interval:[-Infinity,n[0]],close:[0,0]})}for(var u=0,o=n[0];u<a;o+=e,u++){var v=u===a-1?n[1]:o+e;r.push({interval:[o,v],close:[1,1]})}if(t.maxOpen){r.push({interval:[n[1],Infinity],close:[0,0]})}je(r);V(r,(function(r,t){r.index=t;r.text=this.formatValueText(r.interval)}),this)},categories:function(r){var t=this.option;V(t.categories,(function(t){r.push({text:this.formatValueText(t,true),value:t})}),this);OK(t,r)},pieces:function(r){var t=this.option;V(t.pieces,(function(t,i){if(!tr(t)){t={value:t}}var n={text:"",index:i};if(t.label!=null){n.text=t.label}if(t.hasOwnProperty("value")){var a=n.value=t.value;n.interval=[a,a];n.close=[1,1]}else{var e=n.interval=[];var u=n.close=[0,0];var o=[1,0,1];var v=[-Infinity,Infinity];var s=[];for(var f=0;f<2;f++){var l=[["gte","gt","min"],["lte","lt","max"]][f];for(var h=0;h<3&&e[f]==null;h++){e[f]=t[l[h]];u[f]=o[h];s[f]=h===2}e[f]==null&&(e[f]=v[f])}s[0]&&e[1]===Infinity&&(u[0]=0);s[1]&&e[0]===-Infinity&&(u[1]=0);if(e[0]===e[1]&&u[0]&&u[1]){n.value=e[0]}}n.visual=iR.retrieveVisuals(t);r.push(n)}),this);OK(t,r);je(r);V(r,(function(r){var t=r.close;var i=[["<",""][t[1]],[">",""][t[0]]];r.text=r.text||this.formatValueText(r.value!=null?r.value:r.interval,false,i)}),this)}};function OK(r,t){var i=r.inverse;if(r.orient==="vertical"?!i:i){t.reverse()}}var DK=function(r){a(t,r);function t(){var i=r!==null&&r.apply(this,arguments)||this;i.type=t.type;return i}t.prototype.doRender=function(){var r=this.group;r.removeAll();var t=this.visualMapModel;var i=t.get("textGap");var n=t.textStyleModel;var a=n.getFont();var e=n.getTextColor();var u=this._getItemAlign();var o=t.itemSize;var v=this._getViewData();var s=v.endsText;var f=sr(t.get("showLabel",true),!s);s&&this._renderEndsText(r,s[0],o,f,u);V(v.viewPieceList,(function(n){var v=n.piece;var s=new xe;s.onclick=j(this._onItemClick,this,v);this._enableHoverLink(s,n.indexInModelPieceList);var l=t.getRepresentValue(v);this._createItemSymbol(s,l,[0,0,o[0],o[1]]);if(f){var h=this.visualMapModel.getValueState(l);s.add(new es({style:{x:u==="right"?-i:o[0]+i,y:o[1]/2,text:v.text,verticalAlign:"middle",align:u,font:a,fill:e,opacity:h==="outOfRange"?.5:1}}))}r.add(s)}),this);s&&this._renderEndsText(r,s[1],o,f,u);Cd(t.get("orient"),r,t.get("itemGap"));this.renderBackground(r);this.positionGroup(r)};t.prototype._enableHoverLink=function(r,t){var i=this;r.on("mouseover",(function(){return n("highlight")})).on("mouseout",(function(){return n("downplay")}));var n=function(r){var n=i.visualMapModel;n.option.hoverLink&&i.api.dispatchAction({type:r,batch:vK(n.findTargetDataIndices(t),n)})}};t.prototype._getItemAlign=function(){var r=this.visualMapModel;var t=r.option;if(t.orient==="vertical"){return oK(r,this.api,r.itemSize)}else{var i=t.align;if(!i||i==="auto"){i="left"}return i}};t.prototype._renderEndsText=function(r,t,i,n,a){if(!t){return}var e=new xe;var u=this.visualMapModel.textStyleModel;e.add(new es({style:qh(u,{x:n?a==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:n?a:"center",text:t})}));r.add(e)};t.prototype._getViewData=function(){var r=this.visualMapModel;var t=H(r.getPieceList(),(function(r,t){return{piece:r,indexInModelPieceList:t}}));var i=r.get("text");var n=r.get("orient");var a=r.get("inverse");if(n==="horizontal"?a:!a){t.reverse()}else if(i){i=i.slice().reverse()}return{viewPieceList:t,endsText:i}};t.prototype._createItemSymbol=function(r,t,i){r.add(kb(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color")))};t.prototype._onItemClick=function(r){var t=this.visualMapModel;var i=t.option;var n=i.selectedMode;if(!n){return}var a=O(i.selected);var e=t.getSelectedMapKey(r);if(n==="single"||n===true){a[e]=true;V(a,(function(r,t){a[t]=t===e}))}else{a[e]=!a[e]}this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})};t.type="visualMap.piecewise";return t}(eK);function RK(r){r.registerComponentModel(zK);r.registerComponentView(DK);CK(r)}function FK(r){$x(TK);$x(RK)}var BK={label:{enabled:true},decal:{show:false}};var _K=Lu();var EK={};function PK(r,t){var i=r.getModel("aria");if(!i.get("enabled")){return}var n=O(BK);D(n.label,r.getLocaleModel().get("aria"),false);D(i.option,n,false);a();e();function a(){var t=i.getModel("decal");var n=t.get("show");if(n){var a=Sr();r.eachSeries((function(r){if(r.isColorBySeries()){return}var t=a.get(r.type);if(!t){t={};a.set(r.type,t)}_K(r).scope=t}));r.eachRawSeries((function(t){if(r.isSeriesFiltered(t)){return}if(J(t.enableAriaDecal)){t.enableAriaDecal();return}var i=t.getData();if(!t.isColorBySeries()){var n=t.getRawData();var a={};var e=_K(t).scope;i.each((function(r){var t=i.getRawIndex(r);a[t]=r}));var u=n.count();n.each((function(r){var o=a[r];var v=n.getName(r)||r+"";var f=cp(t.ecModel,v,e,u);var l=i.getItemVisual(o,"decal");i.setItemVisual(o,"decal",s(l,f))}))}else{var o=cp(t.ecModel,t.name,EK,r.getSeriesCount());var v=i.getVisual("decal");i.setVisual("decal",s(v,o))}function s(r,t){var i=r?F(F({},t),r):t;i.dirty=true;return i}}))}}function e(){var n=r.getLocaleModel().get("aria");var a=i.getModel("label");a.option=B(a.option,n);if(!a.get("enabled")){return}var e=t.getZr().dom;if(a.get("description")){e.setAttribute("aria-label",a.get("description"));return}var s=r.getSeriesCount();var f=a.get(["data","maxCount"])||10;var l=a.get(["series","maxCount"])||10;var h=Math.min(s,l);var c;if(s<1){return}else{var d=o();if(d){var p=a.get(["general","withTitle"]);c=u(p,{title:d})}else{c=a.get(["general","withoutTitle"])}var m=[];var y=s>1?a.get(["series","multiple","prefix"]):a.get(["series","single","prefix"]);c+=u(y,{seriesCount:s});r.eachSeries((function(r,t){if(t<h){var i=void 0;var n=r.get("name");var e=n?"withName":"withoutName";i=s>1?a.get(["series","multiple",e]):a.get(["series","single",e]);i=u(i,{seriesId:r.seriesIndex,seriesName:r.get("name"),seriesType:v(r.subType)});var o=r.getData();if(o.count()>f){var l=a.get(["data","partialData"]);i+=u(l,{displayCnt:f})}else{i+=a.get(["data","allData"])}var c=a.get(["data","separator","middle"]);var d=a.get(["data","separator","end"]);var p=[];for(var y=0;y<o.count();y++){if(y<f){var g=o.getName(y);var b=o.getValues(y);var w=a.get(["data",g?"withName":"withoutName"]);p.push(u(w,{name:g,value:b.join(c)}))}}i+=p.join(c)+d;m.push(i)}}));var g=a.getModel(["series","multiple","separator"]);var b=g.get("middle");var w=g.get("end");c+=m.join(b)+w;e.setAttribute("aria-label",c)}}function u(r,t){if(!$(r)){return r}var i=r;V(t,(function(r,t){i=i.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),r)}));return i}function o(){var t=r.get("title");if(t&&t.length){t=t[0]}return t&&t.text}function v(t){return r.getLocaleModel().get(["series","typeNames"])[t]||""}}function WK(r){if(!r||!r.aria){return}var t=r.aria;if(t.show!=null){t.enabled=t.show}t.label=t.label||{};V(["description","general","series","data"],(function(r){if(t[r]!=null){t.label[r]=t[r]}}))}function VK(r){r.registerPreprocessor(WK);r.registerVisual(r.PRIORITY.VISUAL.ARIA,PK)}var HK={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"};var YK=function(){function r(r){var t=this._condVal=$(r)?new RegExp(r):or(r)?r:null;if(t==null){var i="";eu(i)}}r.prototype.evaluate=function(r){var t=typeof r;return $(t)?this._condVal.test(r):rr(t)?this._condVal.test(r+""):false};return r}();var XK=function(){function r(){}r.prototype.evaluate=function(){return this.value};return r}();var GK=function(){function r(){}r.prototype.evaluate=function(){var r=this.children;for(var t=0;t<r.length;t++){if(!r[t].evaluate()){return false}}return true};return r}();var UK=function(){function r(){}r.prototype.evaluate=function(){var r=this.children;for(var t=0;t<r.length;t++){if(r[t].evaluate()){return true}}return false};return r}();var ZK=function(){function r(){}r.prototype.evaluate=function(){return!this.child.evaluate()};return r}();var jK=function(){function r(){}r.prototype.evaluate=function(){var r=!!this.valueParser;var t=this.getValue;var i=t(this.valueGetterParam);var n=r?this.valueParser(i):null;for(var a=0;a<this.subCondList.length;a++){if(!this.subCondList[a].evaluate(r?n:i)){return false}}return true};return r}();function qK(r,t){if(r===true||r===false){var i=new XK;i.value=r;return i}var n="";if(!QK(r)){eu(n)}if(r.and){return KK("and",r,t)}else if(r.or){return KK("or",r,t)}else if(r.not){return JK(r,t)}return $K(r,t)}function KK(r,t,i){var n=t[r];var a="";if(!K(n)){eu(a)}if(!n.length){eu(a)}var e=r==="and"?new GK:new UK;e.children=H(n,(function(r){return qK(r,i)}));if(!e.children.length){eu(a)}return e}function JK(r,t){var i=r.not;var n="";if(!QK(i)){eu(n)}var a=new ZK;a.child=qK(i,t);if(!a.child){eu(n)}return a}function $K(r,t){var i="";var n=t.prepareGetValue(r);var a=[];var e=U(r);var u=r.parser;var o=u?Um(u):null;for(var v=0;v<e.length;v++){var s=e[v];if(s==="parser"||t.valueGetterAttrMap.get(s)){continue}var f=Ir(HK,s)?HK[s]:s;var l=r[s];var h=o?o(l):l;var c=Jm(f,h)||f==="reg"&&new YK(h);if(!c){eu(i)}a.push(c)}if(!a.length){eu(i)}var d=new jK;d.valueGetterParam=n;d.valueParser=o;d.getValue=t.getValue;d.subCondList=a;return d}function QK(r){return tr(r)&&!W(r)}var rJ=function(){function r(r,t){this._cond=qK(r,t)}r.prototype.evaluate=function(){return this._cond.evaluate()};return r}();function tJ(r,t){return new rJ(r,t)}var iJ={type:"echarts:filter",transform:function(r){var t=r.upstream;var i;var n=tJ(r.config,{valueGetterAttrMap:Sr({dimension:true}),prepareGetValue:function(r){var i="";var n=r.dimension;if(!Ir(r,"dimension")){eu(i)}var a=t.getDimensionInfo(n);if(!a){eu(i)}return{dimIdx:a.index}},getValue:function(r){return t.retrieveValueFromItem(i,r.dimIdx)}});var a=[];for(var e=0,u=t.count();e<u;e++){i=t.getRawDataItem(e);if(n.evaluate()){a.push(i)}}return{data:a}}};var nJ={type:"echarts:sort",transform:function(r){var t=r.upstream;var i=r.config;var n="";var a=su(i);if(!a.length){eu(n)}var e=[];V(a,(function(r){var i=r.dimension;var a=r.order;var u=r.parser;var o=r.incomparable;if(i==null){eu(n)}if(a!=="asc"&&a!=="desc"){eu(n)}if(o&&o!=="min"&&o!=="max"){var v="";eu(v)}if(a!=="asc"&&a!=="desc"){var s="";eu(s)}var f=t.getDimensionInfo(i);if(!f){eu(n)}var l=u?Um(u):null;if(u&&!l){eu(n)}e.push({dimIdx:f.index,parser:l,comparator:new qm(a,o)})}));var u=t.sourceFormat;if(u!==Gd&&u!==Ud){eu(n)}var o=[];for(var v=0,s=t.count();v<s;v++){o.push(t.getRawDataItem(v))}o.sort((function(r,i){for(var n=0;n<e.length;n++){var a=e[n];var u=t.retrieveValueFromItem(r,a.dimIdx);var o=t.retrieveValueFromItem(i,a.dimIdx);if(a.parser){u=a.parser(u);o=a.parser(o)}var v=a.comparator.evaluate(u,o);if(v!==0){return v}}return 0}));return{data:o}}};function aJ(r){r.registerTransform(iJ);r.registerTransform(nJ)}var eJ=function(r){a(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t.type="dataset";return t}t.prototype.init=function(t,i,n){r.prototype.init.call(this,t,i,n);this._sourceManager=new xy(this);My(this)};t.prototype.mergeOption=function(t,i){r.prototype.mergeOption.call(this,t,i);My(this)};t.prototype.optionUpdated=function(){this._sourceManager.dirty()};t.prototype.getSourceManager=function(){return this._sourceManager};t.type="dataset";t.defaultOption={seriesLayoutBy:Kd};return t}(Ed);var uJ=function(r){a(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t.type="dataset";return t}t.type="dataset";return t}(eg);function oJ(r){r.registerComponentModel(eJ);r.registerComponentView(uJ)}var vJ=mv.CMD;function sJ(r,t){return Math.abs(r-t)<1e-5}function fJ(r){var t=r.data;var i=r.len();var n=[];var a;var e=0;var u=0;var o=0;var v=0;function s(r,t){if(a&&a.length>2){n.push(a)}a=[r,t]}function f(r,t,i,n){if(!(sJ(r,i)&&sJ(t,n))){a.push(r,t,i,n,i,n)}}function l(r,t,i,n,e,u){var o=Math.abs(t-r);var v=Math.tan(o/4)*4/3;var s=t<r?-1:1;var f=Math.cos(r);var l=Math.sin(r);var h=Math.cos(t);var c=Math.sin(t);var d=f*e+i;var p=l*u+n;var m=h*e+i;var y=c*u+n;var g=e*v*s;var b=u*v*s;a.push(d-g*l,p+b*f,m+g*c,y-b*h,m,y)}var h;var c;var d;var p;for(var m=0;m<i;){var y=t[m++];var g=m===1;if(g){e=t[m];u=t[m+1];o=e;v=u;if(y===vJ.L||y===vJ.C||y===vJ.Q){a=[o,v]}}switch(y){case vJ.M:e=o=t[m++];u=v=t[m++];s(o,v);break;case vJ.L:h=t[m++];c=t[m++];f(e,u,h,c);e=h;u=c;break;case vJ.C:a.push(t[m++],t[m++],t[m++],t[m++],e=t[m++],u=t[m++]);break;case vJ.Q:h=t[m++];c=t[m++];d=t[m++];p=t[m++];a.push(e+2/3*(h-e),u+2/3*(c-u),d+2/3*(h-d),p+2/3*(c-p),d,p);e=d;u=p;break;case vJ.A:var b=t[m++];var w=t[m++];var x=t[m++];var M=t[m++];var S=t[m++];var k=t[m++]+S;m+=1;var N=!t[m++];h=Math.cos(S)*x+b;c=Math.sin(S)*M+w;if(g){o=h;v=c;s(o,v)}else{f(e,u,h,c)}e=Math.cos(k)*x+b;u=Math.sin(k)*M+w;var A=(N?-1:1)*Math.PI/2;for(var I=S;N?I>k:I<k;I+=A){var C=N?Math.max(I+A,k):Math.min(I+A,k);l(I,C,b,w,x,M)}break;case vJ.R:o=e=t[m++];v=u=t[m++];h=o+t[m++];c=v+t[m++];s(h,v);f(h,v,h,c);f(h,c,o,c);f(o,c,o,v);f(o,v,h,v);break;case vJ.Z:a&&f(e,u,o,v);e=o;u=v;break}}if(a&&a.length>2){n.push(a)}return n}function lJ(r,t,i,n,a,e,u,o,v,s){if(sJ(r,i)&&sJ(t,n)&&sJ(a,u)&&sJ(e,o)){v.push(u,o);return}var f=2/s;var l=f*f;var h=u-r;var c=o-t;var d=Math.sqrt(h*h+c*c);h/=d;c/=d;var p=i-r;var m=n-t;var y=a-u;var g=e-o;var b=p*p+m*m;var w=y*y+g*g;if(b<l&&w<l){v.push(u,o);return}var x=h*p+c*m;var M=-h*y-c*g;var S=b-x*x;var k=w-M*M;if(S<l&&x>=0&&k<l&&M>=0){v.push(u,o);return}var N=[];var A=[];Wi(r,i,a,u,.5,N);Wi(t,n,e,o,.5,A);lJ(N[0],A[0],N[1],A[1],N[2],A[2],N[3],A[3],v,s);lJ(N[4],A[4],N[5],A[5],N[6],A[6],N[7],A[7],v,s)}function hJ(r,t){var i=fJ(r);var n=[];t=t||1;for(var a=0;a<i.length;a++){var e=i[a];var u=[];var o=e[0];var v=e[1];u.push(o,v);for(var s=2;s<e.length;){var f=e[s++];var l=e[s++];var h=e[s++];var c=e[s++];var d=e[s++];var p=e[s++];lJ(o,v,f,l,h,c,d,p,u,t);o=d;v=p}n.push(u)}return n}function cJ(r,t,i){var n=r[t];var a=r[1-t];var e=Math.abs(n/a);var u=Math.ceil(Math.sqrt(e*i));var o=Math.floor(i/u);if(o===0){o=1;u=i}var v=[];for(var s=0;s<u;s++){v.push(o)}var f=u*o;var l=i-f;if(l>0){for(var s=0;s<l;s++){v[s%u]+=1}}return v}function dJ(r,t,i){var n=r.r0;var a=r.r;var e=r.startAngle;var u=r.endAngle;var o=Math.abs(u-e);var v=o*a;var s=a-n;var f=v>Math.abs(s);var l=cJ([v,s],f?0:1,t);var h=(f?o:s)/l.length;for(var c=0;c<l.length;c++){var d=(f?s:o)/l[c];for(var p=0;p<l[c];p++){var m={};if(f){m.startAngle=e+h*c;m.endAngle=e+h*(c+1);m.r0=n+d*p;m.r=n+d*(p+1)}else{m.startAngle=e+d*p;m.endAngle=e+d*(p+1);m.r0=n+h*c;m.r=n+h*(c+1)}m.clockwise=r.clockwise;m.cx=r.cx;m.cy=r.cy;i.push(m)}}}function pJ(r,t,i){var n=r.width;var a=r.height;var e=n>a;var u=cJ([n,a],e?0:1,t);var o=e?"width":"height";var v=e?"height":"width";var s=e?"x":"y";var f=e?"y":"x";var l=r[o]/u.length;for(var h=0;h<u.length;h++){var c=r[v]/u[h];for(var d=0;d<u[h];d++){var p={};p[s]=h*l;p[f]=d*c;p[o]=l;p[v]=c;p.x+=r.x;p.y+=r.y;i.push(p)}}}function mJ(r,t,i,n){return r*n-i*t}function yJ(r,t,i,n,a,e,u,o){var v=i-r;var s=n-t;var f=u-a;var l=o-e;var h=mJ(f,l,v,s);if(Math.abs(h)<1e-6){return null}var c=r-a;var d=t-e;var p=mJ(c,d,f,l)/h;if(p<0||p>1){return null}return new Et(p*v+r,p*s+t)}function gJ(r,t,i){var n=new Et;Et.sub(n,i,t);n.normalize();var a=new Et;Et.sub(a,r,t);var e=a.dot(n);return e}function bJ(r,t){var i=r[r.length-1];if(i&&i[0]===t[0]&&i[1]===t[1]){return}r.push(t)}function wJ(r,t,i){var n=r.length;var a=[];for(var e=0;e<n;e++){var u=r[e];var o=r[(e+1)%n];var v=yJ(u[0],u[1],o[0],o[1],t.x,t.y,i.x,i.y);if(v){a.push({projPt:gJ(v,t,i),pt:v,idx:e})}}if(a.length<2){return[{points:r},{points:r}]}a.sort((function(r,t){return r.projPt-t.projPt}));var s=a[0];var f=a[a.length-1];if(f.idx<s.idx){var l=s;s=f;f=l}var h=[s.pt.x,s.pt.y];var c=[f.pt.x,f.pt.y];var d=[h];var p=[c];for(var e=s.idx+1;e<=f.idx;e++){bJ(d,r[e].slice())}bJ(d,c);bJ(d,h);for(var e=f.idx+1;e<=s.idx+n;e++){bJ(p,r[e%n].slice())}bJ(p,h);bJ(p,c);return[{points:d},{points:p}]}function xJ(r){var t=r.points;var i=[];var n=[];Go(t,i,n);var a=new Zt(i[0],i[1],n[0]-i[0],n[1]-i[1]);var e=a.width;var u=a.height;var o=a.x;var v=a.y;var s=new Et;var f=new Et;if(e>u){s.x=f.x=o+e/2;s.y=v;f.y=v+u}else{s.y=f.y=v+u/2;s.x=o;f.x=o+e}return wJ(t,s,f)}function MJ(r,t,i,n){if(i===1){n.push(t)}else{var a=Math.floor(i/2);var e=r(t);MJ(r,e[0],a,n);MJ(r,e[1],i-a,n)}return n}function SJ(r,t){var i=[];for(var n=0;n<t;n++){i.push(al(r))}return i}function kJ(r,t){t.setStyle(r.style);t.z=r.z;t.z2=r.z2;t.zlevel=r.zlevel}function NJ(r){var t=[];for(var i=0;i<r.length;){t.push([r[i++],r[i++]])}return t}function AJ(r,t){var i=[];var n=r.shape;var a;switch(r.type){case"rect":pJ(n,t,i);a=ts;break;case"sector":dJ(n,t,i);a=Nl;break;case"circle":dJ({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},t,i);a=Nl;break;default:var e=r.getComputedTransform();var u=e?Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1],e[2]*e[2]+e[3]*e[3])):1;var o=H(hJ(r.getUpdatedPathProxy(),u),(function(r){return NJ(r)}));var v=o.length;if(v===0){MJ(xJ,{points:o[0]},t,i)}else if(v===t){for(var s=0;s<v;s++){i.push({points:o[s]})}}else{var f=0;var l=H(o,(function(r){var t=[];var i=[];Go(r,t,i);var n=(i[1]-t[1])*(i[0]-t[0]);f+=n;return{poly:r,area:n}}));l.sort((function(r,t){return t.area-r.area}));var h=t;for(var s=0;s<v;s++){var c=l[s];if(h<=0){break}var d=s===v-1?h:Math.ceil(c.area/f*t);if(d<0){continue}MJ(xJ,{points:c.poly},d,i);h-=d}}a=Ll;break}if(!a){return SJ(r,t)}var p=[];for(var s=0;s<i.length;s++){var m=new a;m.setShape(i[s]);kJ(r,m);p.push(m)}return p}function IJ(r,t){var i=r.length;var n=t.length;if(i===n){return[r,t]}var a=[];var e=[];var u=i<n?r:t;var o=Math.min(i,n);var v=Math.abs(n-i)/6;var s=(o-2)/6;var f=Math.ceil(v/s)+1;var l=[u[0],u[1]];var h=v;for(var c=2;c<o;){var d=u[c-2];var p=u[c-1];var m=u[c++];var y=u[c++];var g=u[c++];var b=u[c++];var w=u[c++];var x=u[c++];if(h<=0){l.push(m,y,g,b,w,x);continue}var M=Math.min(h,f-1)+1;for(var S=1;S<=M;S++){var k=S/M;Wi(d,m,g,w,k,a);Wi(p,y,b,x,k,e);d=a[3];p=e[3];l.push(a[1],e[1],a[2],e[2],d,p);m=a[5];y=e[5];g=a[6];b=e[6]}h-=M-1}return u===r?[l,t]:[r,l]}function CJ(r,t){var i=r.length;var n=r[i-2];var a=r[i-1];var e=[];for(var u=0;u<t.length;){e[u++]=n;e[u++]=a}return e}function TJ(r,t){var i;var n;var a;var e=[];var u=[];for(var o=0;o<Math.max(r.length,t.length);o++){var v=r[o];var s=t[o];var f=void 0;var l=void 0;if(!v){f=CJ(n||s,s);l=s}else if(!s){l=CJ(a||v,v);f=v}else{i=IJ(v,s),f=i[0],l=i[1];n=f;a=l}e.push(f);u.push(l)}return[e,u]}function zJ(r){var t=0;var i=0;var n=0;var a=r.length;for(var e=0,u=a-2;e<a;u=e,e+=2){var o=r[u];var v=r[u+1];var s=r[e];var f=r[e+1];var l=o*f-s*v;t+=l;i+=(o+s)*l;n+=(v+f)*l}if(t===0){return[r[0]||0,r[1]||0]}return[i/t/3,n/t/3,t]}function LJ(r,t,i,n){var a=(r.length-2)/6;var e=Infinity;var u=0;var o=r.length;var v=o-2;for(var s=0;s<a;s++){var f=s*6;var l=0;for(var h=0;h<o;h+=2){var c=h===0?f:(f+h-2)%v+2;var d=r[c]-i[0];var p=r[c+1]-i[1];var m=t[h]-n[0];var y=t[h+1]-n[1];var g=m-d;var b=y-p;l+=g*g+b*b}if(l<e){e=l;u=s}}return u}function OJ(r){var t=[];var i=r.length;for(var n=0;n<i;n+=2){t[n]=r[i-n-2];t[n+1]=r[i-n-1]}return t}function DJ(r,t,i,n){var a=[];var e;for(var u=0;u<r.length;u++){var o=r[u];var v=t[u];var s=zJ(o);var f=zJ(v);if(e==null){e=s[2]<0!==f[2]<0}var l=[];var h=[];var c=0;var d=Infinity;var p=[];var m=o.length;if(e){o=OJ(o)}var y=LJ(o,v,s,f)*6;var g=m-2;for(var b=0;b<g;b+=2){var w=(y+b)%g+2;l[b+2]=o[w]-s[0];l[b+3]=o[w+1]-s[1]}l[0]=o[y]-s[0];l[1]=o[y+1]-s[1];if(i>0){var x=n/i;for(var M=-n/2;M<=n/2;M+=x){var S=Math.sin(M);var k=Math.cos(M);var N=0;for(var b=0;b<o.length;b+=2){var A=l[b];var I=l[b+1];var C=v[b]-f[0];var T=v[b+1]-f[1];var z=C*k-T*S;var L=C*S+T*k;p[b]=z;p[b+1]=L;var O=z-A;var D=L-I;N+=O*O+D*D}if(N<d){d=N;c=M;for(var R=0;R<p.length;R++){h[R]=p[R]}}}}else{for(var F=0;F<m;F+=2){h[F]=v[F]-f[0];h[F+1]=v[F+1]-f[1]}}a.push({from:l,to:h,fromCp:s,toCp:f,rotation:-c})}return a}function RJ(r){return r.__isCombineMorphing}var FJ="__mOriginal_";function BJ(r,t,i){var n=FJ+t;var a=r[n]||r[t];if(!r[n]){r[n]=r[t]}var e=i.replace;var u=i.after;var o=i.before;r[t]=function(){var r=arguments;var t;o&&o.apply(this,r);if(e){t=e.apply(this,r)}else{t=a.apply(this,r)}u&&u.apply(this,r);return t}}function _J(r,t){var i=FJ+t;if(r[i]){r[t]=r[i];r[i]=null}}function EJ(r,t){for(var i=0;i<r.length;i++){var n=r[i];for(var a=0;a<n.length;){var e=n[a];var u=n[a+1];n[a++]=t[0]*e+t[2]*u+t[4];n[a++]=t[1]*e+t[3]*u+t[5]}}}function PJ(r,t){var i=r.getUpdatedPathProxy();var n=t.getUpdatedPathProxy();var a=TJ(fJ(i),fJ(n)),e=a[0],u=a[1];var o=r.getComputedTransform();var v=t.getComputedTransform();function s(){this.transform=null}o&&EJ(e,o);v&&EJ(u,v);BJ(t,"updateTransform",{replace:s});t.transform=null;var f=DJ(e,u,10,Math.PI);var l=[];BJ(t,"buildPath",{replace:function(r){var i=t.__morphT;var n=1-i;var a=[];for(var e=0;e<f.length;e++){var u=f[e];var o=u.from;var v=u.to;var s=u.rotation*i;var h=u.fromCp;var c=u.toCp;var d=Math.sin(s);var p=Math.cos(s);Zr(a,h,c,i);for(var m=0;m<o.length;m+=2){var y=o[m];var g=o[m+1];var b=v[m];var w=v[m+1];var x=y*n+b*i;var M=g*n+w*i;l[m]=x*p-M*d+a[0];l[m+1]=x*d+M*p+a[1]}var S=l[0];var k=l[1];r.moveTo(S,k);for(var m=2;m<o.length;){var b=l[m++];var w=l[m++];var N=l[m++];var A=l[m++];var I=l[m++];var C=l[m++];if(S===b&&k===w&&N===I&&A===C){r.lineTo(I,C)}else{r.bezierCurveTo(b,w,N,A,I,C)}S=I;k=C}}}})}function WJ(r,t,i){if(!r||!t){return t}var n=i.done;var a=i.during;PJ(r,t);t.__morphT=0;function e(){_J(t,"buildPath");_J(t,"updateTransform");t.__morphT=-1;t.createPathProxy();t.dirtyShape()}t.animateTo({__morphT:1},B({during:function(r){t.dirtyShape();a&&a(r)},done:function(){e();n&&n()}},i));return t}function VJ(r,t,i,n,a,e){var u=16;r=a===i?0:Math.round(32767*(r-i)/(a-i));t=e===n?0:Math.round(32767*(t-n)/(e-n));var o=0;var v;for(var s=(1<<u)/2;s>0;s/=2){var f=0;var l=0;if((r&s)>0){f=1}if((t&s)>0){l=1}o+=s*s*(3*f^l);if(l===0){if(f===1){r=s-1-r;t=s-1-t}v=r;r=t;t=v}}return o}function HJ(r){var t=Infinity;var i=Infinity;var n=-Infinity;var a=-Infinity;var e=H(r,(function(r){var e=r.getBoundingRect();var u=r.getComputedTransform();var o=e.x+e.width/2+(u?u[4]:0);var v=e.y+e.height/2+(u?u[5]:0);t=Math.min(o,t);i=Math.min(v,i);n=Math.max(o,n);a=Math.max(v,a);return[o,v]}));var u=H(e,(function(e,u){return{cp:e,z:VJ(e[0],e[1],t,i,n,a),path:r[u]}}));return u.sort((function(r,t){return r.z-t.z})).map((function(r){return r.path}))}function YJ(r){return AJ(r.path,r.count)}function XJ(){return{fromIndividuals:[],toIndividuals:[],count:0}}function GJ(r,t,i){var n=[];function a(r){for(var t=0;t<r.length;t++){var i=r[t];if(RJ(i)){a(i.childrenRef())}else if(i instanceof Vv){n.push(i)}}}a(r);var e=n.length;if(!e){return XJ()}var u=i.dividePath||YJ;var o=u({path:t,count:e});if(o.length!==e){console.error("Invalid morphing: unmatched splitted path");return XJ()}n=HJ(n);o=HJ(o);var v=i.done;var s=i.during;var f=i.individualDelay;var l=new Ka;for(var h=0;h<e;h++){var c=n[h];var d=o[h];d.parent=t;d.copyTransform(l);if(!f){PJ(c,d)}}t.__isCombineMorphing=true;t.childrenRef=function(){return o};function p(r){for(var t=0;t<o.length;t++){o[t].addSelfToZr(r)}}BJ(t,"addSelfToZr",{after:function(r){p(r)}});BJ(t,"removeSelfFromZr",{after:function(r){for(var t=0;t<o.length;t++){o[t].removeSelfFromZr(r)}}});function m(){t.__isCombineMorphing=false;t.__morphT=-1;t.childrenRef=null;_J(t,"addSelfToZr");_J(t,"removeSelfFromZr")}var y=o.length;if(f){var g=y;var b=function(){g--;if(g===0){m();v&&v()}};for(var h=0;h<y;h++){var w=f?B({delay:(i.delay||0)+f(h,y,n[h],o[h]),done:b},i):i;WJ(n[h],o[h],w)}}else{t.__morphT=0;t.animateTo({__morphT:1},B({during:function(r){for(var i=0;i<y;i++){var n=o[i];n.__morphT=t.__morphT;n.dirtyShape()}s&&s(r)},done:function(){m();for(var t=0;t<r.length;t++){_J(r[t],"updateTransform")}v&&v()}},i))}if(t.__zr){p(t.__zr)}return{fromIndividuals:n,toIndividuals:o,count:y}}function UJ(r,t,i){var n=t.length;var a=[];var e=i.dividePath||YJ;function u(r){for(var t=0;t<r.length;t++){var i=r[t];if(RJ(i)){u(i.childrenRef())}else if(i instanceof Vv){a.push(i)}}}if(RJ(r)){u(r.childrenRef());var o=a.length;if(o<n){var v=0;for(var s=o;s<n;s++){a.push(al(a[v++%o]))}}a.length=n}else{a=e({path:r,count:n});var f=r.getComputedTransform();for(var s=0;s<a.length;s++){a[s].setLocalTransform(f)}if(a.length!==n){console.error("Invalid morphing: unmatched splitted path");return XJ()}}a=HJ(a);t=HJ(t);var l=i.individualDelay;for(var s=0;s<n;s++){var h=l?B({delay:(i.delay||0)+l(s,n,a[s],t[s])},i):i;WJ(a[s],t[s],h)}return{fromIndividuals:a,toIndividuals:t,count:t.length}}function ZJ(r){return K(r[0])}function jJ(r,t){var i=[];var n=r.length;for(var a=0;a<n;a++){i.push({one:r[a],many:[]})}for(var a=0;a<t.length;a++){var e=t[a].length;var u=void 0;for(u=0;u<e;u++){i[u%n].many.push(t[a][u])}}var o=0;for(var a=n-1;a>=0;a--){if(!i[a].many.length){var v=i[o].many;if(v.length<=1){if(o){o=0}else{return i}}var e=v.length;var s=Math.ceil(e/2);i[a].many=v.slice(s,e);i[o].many=v.slice(0,s);o++}}return i}var qJ={clone:function(r){var t=[];var i=1-Math.pow(1-r.path.style.opacity,1/r.count);for(var n=0;n<r.count;n++){var a=al(r.path);a.setStyle("opacity",i);t.push(a)}return t},split:null};function KJ(r,t,i,n,a,e){if(!r.length||!t.length){return}var u=th("update",n,a);if(!(u&&u.duration>0)){return}var o=n.getModel("universalTransition").get("delay");var v=Object.assign({setToFinal:true},u);var s;var f;if(ZJ(r)){s=r;f=t}if(ZJ(t)){s=t;f=r}function l(r,t,n,a,u){var s=r.many;var f=r.one;if(s.length===1&&!u){var h=t?s[0]:f;var c=t?f:s[0];if(RJ(h)){l({many:[h],one:c},true,n,a,true)}else{var d=o?B({delay:o(n,a)},v):v;WJ(h,c,d);e(h,c,h,c,d)}}else{var p=B({dividePath:qJ[i],individualDelay:o&&function(r,t,i,e){return o(r+n,a)}},v);var m=t?GJ(s,f,p):UJ(f,s,p),y=m.fromIndividuals,g=m.toIndividuals;var b=y.length;for(var w=0;w<b;w++){var d=o?B({delay:o(w,b)},v):v;e(y[w],g[w],t?s[w]:r.one,t?r.one:s[w],d)}}}var h=s?s===r:r.length>t.length;var c=s?jJ(f,s):jJ(h?t:r,[h?r:t]);var d=0;for(var p=0;p<c.length;p++){d+=c[p].many.length}var m=0;for(var p=0;p<c.length;p++){l(c[p],h,m,d);m+=c[p].many.length}}function JJ(r){if(!r){return[]}if(K(r)){var t=[];for(var i=0;i<r.length;i++){t.push(JJ(r[i]))}return t}var n=[];r.traverse((function(r){if(r instanceof Vv&&!r.disableMorphing&&!r.invisible&&!r.ignore){n.push(r)}}));return n}var $J=1e4;var QJ=Lu();function r$(r){var t=r.dimensions;for(var i=0;i<t.length;i++){var n=r.getDimensionInfo(t[i]);if(n&&n.otherDims.itemGroupId===0){return t[i]}}}function t$(r){var t=[];V(r,(function(r){var i=r.data;if(i.count()>$J){return}var n=i.getIndices();var a=r$(i);for(var e=0;e<n.length;e++){t.push({dataGroupId:r.dataGroupId,data:i,dim:r.dim||a,divide:r.divide,dataIndex:e})}}));return t}function i$(r,t,i){r.traverse((function(r){if(r instanceof Vv){ah(r,{style:{opacity:0}},t,{dataIndex:i,isFrom:true})}}))}function n$(r){if(r.parent){var t=r.getComputedTransform();r.setLocalTransform(t);r.parent.remove(r)}}function a$(r){r.stopAnimation();if(r.isGroup){r.traverse((function(r){r.stopAnimation()}))}}function e$(r,t,i){var n=th("update",i,t);n&&r.traverse((function(r){if(r instanceof Do){var t=fh(r);if(t){r.animateFrom({style:t},n)}}}))}function u$(r,t){var i=r.length;if(i!==t.length){return false}for(var n=0;n<i;n++){var a=r[n];var e=t[n];if(a.data.getId(a.dataIndex)!==e.data.getId(e.dataIndex)){return false}}return true}function o$(r,t,i){var n=t$(r);var a=t$(t);function e(r,t,i,n,a){if(i||r){t.animateFrom({style:i&&i!==r?F(F({},i.style),r.style):r.style},a)}}function u(r){for(var t=0;t<r.length;t++){if(r[t].dim){return r[t].dim}}}var o=u(n);var v=u(a);var s=false;function f(r,t){return function(i){var n=i.data;var a=i.dataIndex;if(t){return n.getId(a)}var e=i.dataGroupId;var u=r?o||v:v||o;var s=u&&n.getDimensionInfo(u);var f=s&&s.ordinalMeta;if(s){var l=n.get(s.name,a);if(f){return f.categories[l]||l+""}return l+""}var h=n.getRawDataItem(a);if(h&&h.groupId){return h.groupId+""}return e||n.getId(a)}}var l=u$(n,a);var h={};if(!l){for(var c=0;c<a.length;c++){var d=a[c];var p=d.data.getItemGraphicEl(d.dataIndex);if(p){h[p.id]=true}}}function m(r,t){var i=n[t];var u=a[r];var o=u.data.hostModel;var v=i.data.getItemGraphicEl(i.dataIndex);var f=u.data.getItemGraphicEl(u.dataIndex);if(v===f){f&&e$(f,u.dataIndex,o);return}if(v&&h[v.id]){return}if(f){a$(f);if(v){a$(v);n$(v);s=true;KJ(JJ(v),JJ(f),u.divide,o,r,e)}else{i$(f,o,r)}}}new tM(n,a,f(true,l),f(false,l),null,"multiple").update(m).updateManyToOne((function(r,t){var i=a[r];var u=i.data;var o=u.hostModel;var v=u.getItemGraphicEl(i.dataIndex);var f=X(H(t,(function(r){return n[r].data.getItemGraphicEl(n[r].dataIndex)})),(function(r){return r&&r!==v&&!h[r.id]}));if(v){a$(v);if(f.length){V(f,(function(r){a$(r);n$(r)}));s=true;KJ(JJ(f),JJ(v),i.divide,o,r,e)}else{i$(v,o,i.dataIndex)}}})).updateOneToMany((function(r,t){var i=n[t];var u=i.data.getItemGraphicEl(i.dataIndex);if(u&&h[u.id]){return}var o=X(H(r,(function(r){return a[r].data.getItemGraphicEl(a[r].dataIndex)})),(function(r){return r&&r!==u}));var v=a[r[0]].data.hostModel;if(o.length){V(o,(function(r){return a$(r)}));if(u){a$(u);n$(u);s=true;KJ(JJ(u),JJ(o),i.divide,v,r[0],e)}else{V(o,(function(t){return i$(t,v,r[0])}))}}})).updateManyToMany((function(r,t){new tM(t,r,(function(r){return n[r].data.getId(n[r].dataIndex)}),(function(r){return a[r].data.getId(a[r].dataIndex)})).update((function(i,n){m(r[i],t[n])})).execute()})).execute();if(s){V(t,(function(r){var t=r.data;var n=t.hostModel;var a=n&&i.getViewOfSeriesModel(n);var e=th("update",n,0);if(a&&n.isAnimationEnabled()&&e&&e.duration>0){a.group.traverse((function(r){if(r instanceof Vv&&!r.animators.length){r.animateFrom({style:{opacity:0}},e)}}))}}))}}function v$(r){var t=r.getModel("universalTransition").get("seriesKey");if(!t){return r.id}return t}function s$(r){if(K(r)){return r.sort().join(",")}return r}function f$(r){if(r.hostModel){return r.hostModel.getModel("universalTransition").get("divideShape")}}function l$(r,t){var i=Sr();var n=Sr();var a=Sr();V(r.oldSeries,(function(t,i){var e=r.oldDataGroupIds[i];var u=r.oldData[i];var o=v$(t);var v=s$(o);n.set(v,{dataGroupId:e,data:u});if(K(o)){V(o,(function(r){a.set(r,{key:v,dataGroupId:e,data:u})}))}}));V(t.updatedSeries,(function(r){if(r.isUniversalTransitionEnabled()&&r.isAnimationEnabled()){var t=r.get("dataGroupId");var e=r.getData();var u=v$(r);var o=s$(u);var v=n.get(o);if(v){i.set(o,{oldSeries:[{dataGroupId:v.dataGroupId,divide:f$(v.data),data:v.data}],newSeries:[{dataGroupId:t,divide:f$(e),data:e}]})}else{if(K(u)){var s=[];V(u,(function(r){var t=n.get(r);if(t.data){s.push({dataGroupId:t.dataGroupId,divide:f$(t.data),data:t.data})}}));if(s.length){i.set(o,{oldSeries:s,newSeries:[{dataGroupId:t,data:e,divide:f$(e)}]})}}else{var f=a.get(u);if(f){var l=i.get(f.key);if(!l){l={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:f$(f.data)}],newSeries:[]};i.set(f.key,l)}l.newSeries.push({dataGroupId:t,data:e,divide:f$(e)})}}}}}));return i}function h$(r,t){for(var i=0;i<r.length;i++){var n=t.seriesIndex!=null&&t.seriesIndex===r[i].seriesIndex||t.seriesId!=null&&t.seriesId===r[i].id;if(n){return i}}}function c$(r,t,i,n){var a=[];var e=[];V(su(r.from),(function(r){var i=h$(t.oldSeries,r);if(i>=0){a.push({dataGroupId:t.oldDataGroupIds[i],data:t.oldData[i],divide:f$(t.oldData[i]),dim:r.dimension})}}));V(su(r.to),(function(r){var n=h$(i.updatedSeries,r);if(n>=0){var a=i.updatedSeries[n].getData();e.push({dataGroupId:t.oldDataGroupIds[n],data:a,divide:f$(a),dim:r.dimension})}}));if(a.length>0&&e.length>0){o$(a,e,n)}}function d$(r){r.registerUpdateLifecycle("series:beforeupdate",(function(r,t,i){V(su(i.seriesTransition),(function(r){V(su(r.to),(function(r){var t=i.updatedSeries;for(var n=0;n<t.length;n++){if(r.seriesIndex!=null&&r.seriesIndex===t[n].seriesIndex||r.seriesId!=null&&r.seriesId===t[n].id){t[n][qy]=true}}}))}))}));r.registerUpdateLifecycle("series:transition",(function(r,t,i){var n=QJ(t);if(n.oldSeries&&i.updatedSeries&&i.optionChanged){var a=i.seriesTransition;if(a){V(su(a),(function(r){c$(r,n,i,t)}))}else{var e=l$(n,i);V(e.keys(),(function(r){var i=e.get(r);o$(i.oldSeries,i.newSeries,t)}))}V(i.updatedSeries,(function(r){if(r[qy]){r[qy]=false}}))}var u=r.getSeries();var o=n.oldSeries=[];var v=n.oldDataGroupIds=[];var s=n.oldData=[];for(var f=0;f<u.length;f++){var l=u[f].getData();if(l.count()<$J){o.push(u[f]);v.push(u[f].get("dataGroupId"));s.push(l)}}}))}$x([dI]);$x([aI]);$x([sC,YC,sT,Nz,Wz,TO,SD,ZR,uB,cB,MB,mE,ZE,sP,DP,EP,QP,oW,FW,YW,eV,DH]);$x(IY);$x(fX);$x(CO);$x(zX);$x(pE);$x(_X);$x(tG);$x(NU);$x(nZ);$x(AY);$x(RZ);$x(_Z);$x(tj);$x(Sj);$x(Dj);$x(Xj);$x(pq);$x(Uq);$x(zq);$x(Gq);$x(FK);$x(TK);$x(RK);$x(VK);$x(aJ);$x(oJ);$x(d$);$x(ON);const p$=":host{display:block;width:500px;height:300px}.box{width:100%;height:100%}.header{height:56px;display:flex;align-items:center;padding-left:20px;flex-direction:column}.header b{font-size:20px;font-weight:normal;color:#5c5c5c}.header span{margin-left:10px;color:#ccc}.chart{width:100%;height:calc(100% - 56px)}.tbl-data{width:100%;border-spacing:0px}.tbl-data thead tr{background-color:rgb(226, 226, 226)}.tbl-data th,.tbl-data td{border-left:1px solid #dbdbdb;border-top:1px solid #dbdbdb;padding:5px 8px}.tbl-data th:last-child,.tbl-data td:last-child{border-right:1px solid #dbdbdb}.tbl-data tr:last-child td{border-bottom:1px solid #bdbdbd}";const m$={timeseries_panel:"line",bar_chart:"bar",gauge:"SCORE",pie_chart:"pie"};const y$=class{constructor(t){r(this,t);this.config=undefined;this.configOBJ=undefined;this.attr={}}onConfigChange(){var r;this.configOBJ=JSON.parse(this.config||"{}");this.attr.style={background:((r=this.configOBJ.PanelOptions)===null||r===void 0?void 0:r.transparentBackground)?"transparent":"rgb(246 246 246)"};if(this.chart)this.chart.dispose();setTimeout((()=>{this.setEchart()}),60)}setEchart(){var r;if(["timeseries_panel","bar_chart","gauge","pie_chart"].includes(this.configOBJ.ChartOptions.type)){const t={xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[820,932,901,934,1290,1330,1320],type:m$[(r=this.configOBJ.ChartOptions)===null||r===void 0?void 0:r.type]||"line",smooth:true}]};if(!this.chartElement)return;this.chart=Dx(this.chartElement);this.chart.setOption(t)}}connectedCallback(){var r;this.configOBJ=JSON.parse(this.config||"{}");this.configOBJ.PanelOptions=this.configOBJ.PanelOptions||{};this.configOBJ.ChartOptions=this.configOBJ.ChartOptions||{};this.attr.style={background:((r=this.configOBJ.PanelOptions)===null||r===void 0?void 0:r.transparentBackground)?"transparent":"rgb(246 246 246)"}}componentDidLoad(){this.setEchart()}getBar(){if(this.configOBJ.ChartOptions.type==="text_panel"){return t("div",null)}else if(this.configOBJ.ChartOptions.type==="table_panel"){return t("div",null,t("table",{class:"tbl-data"},t("thead",null,t("tr",null,t("th",null,"Mon"),t("th",null,"Tue"),t("th",null,"Wed"),t("th",null,"Thu"),t("th",null,"Fri"),t("th",null,"Sat"),t("th",null,"Sun"))),t("tbody",null,t("tr",null,t("td",null,"820"),t("td",null,"932"),t("td",null,"901"),t("td",null,"934"),t("td",null,"1290"),t("td",null,"1330"),t("td",null,"1320")),t("tr",null,t("td",null,"820"),t("td",null,"932"),t("td",null,"901"),t("td",null,"934"),t("td",null,"1290"),t("td",null,"1330"),t("td",null,"1320")),t("tr",null,t("td",null,"820"),t("td",null,"932"),t("td",null,"901"),t("td",null,"934"),t("td",null,"1290"),t("td",null,"1330"),t("td",null,"1320")))))}return t("div",{class:"chart",ref:r=>this.chartElement=r})}render(){var r,i;return t("div",Object.assign({class:"box"},this.attr),t("div",{class:"header"},t("b",null,(r=this.configOBJ.PanelOptions)===null||r===void 0?void 0:r.title),t("span",null,(i=this.configOBJ.PanelOptions)===null||i===void 0?void 0:i.description)),this.getBar())}get el(){return i(this)}static get watchers(){return{config:["onConfigChange"]}}};y$.style=p$;export{y$ as chart_config};
//# sourceMappingURL=p-46efa9d3.entry.js.map